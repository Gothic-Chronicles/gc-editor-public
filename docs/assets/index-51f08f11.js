function O4(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var Tt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function io(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var PC={exports:{}},af={},_C={exports:{}},Dt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yu=Symbol.for("react.element"),D4=Symbol.for("react.portal"),I4=Symbol.for("react.fragment"),N4=Symbol.for("react.strict_mode"),L4=Symbol.for("react.profiler"),j4=Symbol.for("react.provider"),B4=Symbol.for("react.context"),H4=Symbol.for("react.forward_ref"),G4=Symbol.for("react.suspense"),V4=Symbol.for("react.memo"),z4=Symbol.for("react.lazy"),jy=Symbol.iterator;function W4(e){return e===null||typeof e!="object"?null:(e=jy&&e[jy]||e["@@iterator"],typeof e=="function"?e:null)}var MC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},kC=Object.assign,FC={};function Sl(e,t,r){this.props=e,this.context=t,this.refs=FC,this.updater=r||MC}Sl.prototype.isReactComponent={};Sl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Sl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function AC(){}AC.prototype=Sl.prototype;function yv(e,t,r){this.props=e,this.context=t,this.refs=FC,this.updater=r||MC}var bv=yv.prototype=new AC;bv.constructor=yv;kC(bv,Sl.prototype);bv.isPureReactComponent=!0;var By=Array.isArray,OC=Object.prototype.hasOwnProperty,wv={current:null},DC={key:!0,ref:!0,__self:!0,__source:!0};function IC(e,t,r){var n,i={},s=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)OC.call(t,n)&&!DC.hasOwnProperty(n)&&(i[n]=t[n]);var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(n in a=e.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:yu,type:e,key:s,ref:o,props:i,_owner:wv.current}}function $4(e,t){return{$$typeof:yu,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Cv(e){return typeof e=="object"&&e!==null&&e.$$typeof===yu}function U4(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Hy=/\/+/g;function Gf(e,t){return typeof e=="object"&&e!==null&&e.key!=null?U4(""+e.key):t.toString(36)}function Id(e,t,r,n,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case yu:case D4:o=!0}}if(o)return o=e,i=i(o),e=n===""?"."+Gf(o,0):n,By(i)?(r="",e!=null&&(r=e.replace(Hy,"$&/")+"/"),Id(i,t,r,"",function(c){return c})):i!=null&&(Cv(i)&&(i=$4(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Hy,"$&/")+"/")+e)),t.push(i)),1;if(o=0,n=n===""?".":n+":",By(e))for(var a=0;a<e.length;a++){s=e[a];var l=n+Gf(s,a);o+=Id(s,t,r,l,i)}else if(l=W4(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=n+Gf(s,a++),o+=Id(s,t,r,l,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Uu(e,t,r){if(e==null)return e;var n=[],i=0;return Id(e,n,"","",function(s){return t.call(r,s,i++)}),n}function K4(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var un={current:null},Nd={transition:null},q4={ReactCurrentDispatcher:un,ReactCurrentBatchConfig:Nd,ReactCurrentOwner:wv};Dt.Children={map:Uu,forEach:function(e,t,r){Uu(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Uu(e,function(){t++}),t},toArray:function(e){return Uu(e,function(t){return t})||[]},only:function(e){if(!Cv(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Dt.Component=Sl;Dt.Fragment=I4;Dt.Profiler=L4;Dt.PureComponent=yv;Dt.StrictMode=N4;Dt.Suspense=G4;Dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=q4;Dt.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=kC({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=wv.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)OC.call(t,l)&&!DC.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];n.children=a}return{$$typeof:yu,type:e.type,key:i,ref:s,props:n,_owner:o}};Dt.createContext=function(e){return e={$$typeof:B4,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:j4,_context:e},e.Consumer=e};Dt.createElement=IC;Dt.createFactory=function(e){var t=IC.bind(null,e);return t.type=e,t};Dt.createRef=function(){return{current:null}};Dt.forwardRef=function(e){return{$$typeof:H4,render:e}};Dt.isValidElement=Cv;Dt.lazy=function(e){return{$$typeof:z4,_payload:{_status:-1,_result:e},_init:K4}};Dt.memo=function(e,t){return{$$typeof:V4,type:e,compare:t===void 0?null:t}};Dt.startTransition=function(e){var t=Nd.transition;Nd.transition={};try{e()}finally{Nd.transition=t}};Dt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Dt.useCallback=function(e,t){return un.current.useCallback(e,t)};Dt.useContext=function(e){return un.current.useContext(e)};Dt.useDebugValue=function(){};Dt.useDeferredValue=function(e){return un.current.useDeferredValue(e)};Dt.useEffect=function(e,t){return un.current.useEffect(e,t)};Dt.useId=function(){return un.current.useId()};Dt.useImperativeHandle=function(e,t,r){return un.current.useImperativeHandle(e,t,r)};Dt.useInsertionEffect=function(e,t){return un.current.useInsertionEffect(e,t)};Dt.useLayoutEffect=function(e,t){return un.current.useLayoutEffect(e,t)};Dt.useMemo=function(e,t){return un.current.useMemo(e,t)};Dt.useReducer=function(e,t,r){return un.current.useReducer(e,t,r)};Dt.useRef=function(e){return un.current.useRef(e)};Dt.useState=function(e){return un.current.useState(e)};Dt.useSyncExternalStore=function(e,t,r){return un.current.useSyncExternalStore(e,t,r)};Dt.useTransition=function(){return un.current.useTransition()};Dt.version="18.2.0";_C.exports=Dt;var U=_C.exports;const pe=io(U),Y4=O4({__proto__:null,default:pe},[U]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X4=U,Q4=Symbol.for("react.element"),Z4=Symbol.for("react.fragment"),J4=Object.prototype.hasOwnProperty,eE=X4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,tE={key:!0,ref:!0,__self:!0,__source:!0};function NC(e,t,r){var n,i={},s=null,o=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)J4.call(t,n)&&!tE.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:Q4,type:e,key:s,ref:o,props:i,_owner:eE.current}}af.Fragment=Z4;af.jsx=NC;af.jsxs=NC;PC.exports=af;var T=PC.exports,Wp={},LC={exports:{}},In={},jC={exports:{}},BC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(S,R){var _=S.length;S.push(R);e:for(;0<_;){var N=_-1>>>1,B=S[N];if(0<i(B,R))S[N]=R,S[_]=B,_=N;else break e}}function r(S){return S.length===0?null:S[0]}function n(S){if(S.length===0)return null;var R=S[0],_=S.pop();if(_!==R){S[0]=_;e:for(var N=0,B=S.length,V=B>>>1;N<V;){var $=2*(N+1)-1,Y=S[$],L=$+1,K=S[L];if(0>i(Y,_))L<B&&0>i(K,Y)?(S[N]=K,S[L]=_,N=L):(S[N]=Y,S[$]=_,N=$);else if(L<B&&0>i(K,_))S[N]=K,S[L]=_,N=L;else break e}}return R}function i(S,R){var _=S.sortIndex-R.sortIndex;return _!==0?_:S.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,f=null,d=3,h=!1,g=!1,v=!1,p=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(S){for(var R=r(c);R!==null;){if(R.callback===null)n(c);else if(R.startTime<=S)n(c),R.sortIndex=R.expirationTime,t(l,R);else break;R=r(c)}}function x(S){if(v=!1,b(S),!g)if(r(l)!==null)g=!0,w(P);else{var R=r(c);R!==null&&C(x,R.startTime-S)}}function P(S,R){g=!1,v&&(v=!1,y(O),O=-1),h=!0;var _=d;try{for(b(R),f=r(l);f!==null&&(!(f.expirationTime>R)||S&&!W());){var N=f.callback;if(typeof N=="function"){f.callback=null,d=f.priorityLevel;var B=N(f.expirationTime<=R);R=e.unstable_now(),typeof B=="function"?f.callback=B:f===r(l)&&n(l),b(R)}else n(l);f=r(l)}if(f!==null)var V=!0;else{var $=r(c);$!==null&&C(x,$.startTime-R),V=!1}return V}finally{f=null,d=_,h=!1}}var F=!1,D=null,O=-1,j=5,H=-1;function W(){return!(e.unstable_now()-H<j)}function G(){if(D!==null){var S=e.unstable_now();H=S;var R=!0;try{R=D(!0,S)}finally{R?M():(F=!1,D=null)}}else F=!1}var M;if(typeof m=="function")M=function(){m(G)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,E=k.port2;k.port1.onmessage=G,M=function(){E.postMessage(null)}}else M=function(){p(G,0)};function w(S){D=S,F||(F=!0,M())}function C(S,R){O=p(function(){S(e.unstable_now())},R)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(S){S.callback=null},e.unstable_continueExecution=function(){g||h||(g=!0,w(P))},e.unstable_forceFrameRate=function(S){0>S||125<S?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<S?Math.floor(1e3/S):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(S){switch(d){case 1:case 2:case 3:var R=3;break;default:R=d}var _=d;d=R;try{return S()}finally{d=_}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(S,R){switch(S){case 1:case 2:case 3:case 4:case 5:break;default:S=3}var _=d;d=S;try{return R()}finally{d=_}},e.unstable_scheduleCallback=function(S,R,_){var N=e.unstable_now();switch(typeof _=="object"&&_!==null?(_=_.delay,_=typeof _=="number"&&0<_?N+_:N):_=N,S){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=_+B,S={id:u++,callback:R,priorityLevel:S,startTime:_,expirationTime:B,sortIndex:-1},_>N?(S.sortIndex=_,t(c,S),r(l)===null&&S===r(c)&&(v?(y(O),O=-1):v=!0,C(x,_-N))):(S.sortIndex=B,t(l,S),g||h||(g=!0,w(P))),S},e.unstable_shouldYield=W,e.unstable_wrapCallback=function(S){var R=d;return function(){var _=d;d=R;try{return S.apply(this,arguments)}finally{d=_}}}})(BC);jC.exports=BC;var rE=jC.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HC=U,An=rE;function We(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var GC=new Set,Lc={};function Qo(e,t){rl(e,t),rl(e+"Capture",t)}function rl(e,t){for(Lc[e]=t,e=0;e<t.length;e++)GC.add(t[e])}var os=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$p=Object.prototype.hasOwnProperty,nE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Gy={},Vy={};function iE(e){return $p.call(Vy,e)?!0:$p.call(Gy,e)?!1:nE.test(e)?Vy[e]=!0:(Gy[e]=!0,!1)}function sE(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function oE(e,t,r,n){if(t===null||typeof t>"u"||sE(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function dn(e,t,r,n,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Wr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Wr[e]=new dn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Wr[t]=new dn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Wr[e]=new dn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Wr[e]=new dn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Wr[e]=new dn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Wr[e]=new dn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Wr[e]=new dn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Wr[e]=new dn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Wr[e]=new dn(e,5,!1,e.toLowerCase(),null,!1,!1)});var Sv=/[\-:]([a-z])/g;function xv(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Sv,xv);Wr[t]=new dn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Sv,xv);Wr[t]=new dn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Sv,xv);Wr[t]=new dn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Wr[e]=new dn(e,1,!1,e.toLowerCase(),null,!1,!1)});Wr.xlinkHref=new dn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Wr[e]=new dn(e,1,!1,e.toLowerCase(),null,!0,!0)});function Rv(e,t,r,n){var i=Wr.hasOwnProperty(t)?Wr[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(oE(t,r,i,n)&&(r=null),n||i===null?iE(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var gs=HC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ku=Symbol.for("react.element"),Ea=Symbol.for("react.portal"),Ta=Symbol.for("react.fragment"),Ev=Symbol.for("react.strict_mode"),Up=Symbol.for("react.profiler"),VC=Symbol.for("react.provider"),zC=Symbol.for("react.context"),Tv=Symbol.for("react.forward_ref"),Kp=Symbol.for("react.suspense"),qp=Symbol.for("react.suspense_list"),Pv=Symbol.for("react.memo"),Fs=Symbol.for("react.lazy"),WC=Symbol.for("react.offscreen"),zy=Symbol.iterator;function zl(e){return e===null||typeof e!="object"?null:(e=zy&&e[zy]||e["@@iterator"],typeof e=="function"?e:null)}var gr=Object.assign,Vf;function ac(e){if(Vf===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Vf=t&&t[1]||""}return`
`+Vf+e}var zf=!1;function Wf(e,t){if(!e||zf)return"";zf=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=n.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{zf=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?ac(e):""}function aE(e){switch(e.tag){case 5:return ac(e.type);case 16:return ac("Lazy");case 13:return ac("Suspense");case 19:return ac("SuspenseList");case 0:case 2:case 15:return e=Wf(e.type,!1),e;case 11:return e=Wf(e.type.render,!1),e;case 1:return e=Wf(e.type,!0),e;default:return""}}function Yp(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ta:return"Fragment";case Ea:return"Portal";case Up:return"Profiler";case Ev:return"StrictMode";case Kp:return"Suspense";case qp:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case zC:return(e.displayName||"Context")+".Consumer";case VC:return(e._context.displayName||"Context")+".Provider";case Tv:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Pv:return t=e.displayName||null,t!==null?t:Yp(e.type)||"Memo";case Fs:t=e._payload,e=e._init;try{return Yp(e(t))}catch{}}return null}function lE(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Yp(t);case 8:return t===Ev?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Qs(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function $C(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function cE(e){var t=$C(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function qu(e){e._valueTracker||(e._valueTracker=cE(e))}function UC(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=$C(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function sh(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Xp(e,t){var r=t.checked;return gr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Wy(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Qs(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function KC(e,t){t=t.checked,t!=null&&Rv(e,"checked",t,!1)}function Qp(e,t){KC(e,t);var r=Qs(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Zp(e,t.type,r):t.hasOwnProperty("defaultValue")&&Zp(e,t.type,Qs(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function $y(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Zp(e,t,r){(t!=="number"||sh(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var lc=Array.isArray;function Ka(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Qs(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Jp(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(We(91));return gr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Uy(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(We(92));if(lc(r)){if(1<r.length)throw Error(We(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Qs(r)}}function qC(e,t){var r=Qs(t.value),n=Qs(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Ky(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function YC(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function eg(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?YC(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Yu,XC=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Yu=Yu||document.createElement("div"),Yu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Yu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function jc(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var gc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},uE=["Webkit","ms","Moz","O"];Object.keys(gc).forEach(function(e){uE.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),gc[t]=gc[e]})});function QC(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||gc.hasOwnProperty(e)&&gc[e]?(""+t).trim():t+"px"}function ZC(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=QC(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var dE=gr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function tg(e,t){if(t){if(dE[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(We(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(We(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(We(61))}if(t.style!=null&&typeof t.style!="object")throw Error(We(62))}}function rg(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ng=null;function _v(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ig=null,qa=null,Ya=null;function qy(e){if(e=Cu(e)){if(typeof ig!="function")throw Error(We(280));var t=e.stateNode;t&&(t=hf(t),ig(e.stateNode,e.type,t))}}function JC(e){qa?Ya?Ya.push(e):Ya=[e]:qa=e}function eS(){if(qa){var e=qa,t=Ya;if(Ya=qa=null,qy(e),t)for(e=0;e<t.length;e++)qy(t[e])}}function tS(e,t){return e(t)}function rS(){}var $f=!1;function nS(e,t,r){if($f)return e(t,r);$f=!0;try{return tS(e,t,r)}finally{$f=!1,(qa!==null||Ya!==null)&&(rS(),eS())}}function Bc(e,t){var r=e.stateNode;if(r===null)return null;var n=hf(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(We(231,t,typeof r));return r}var sg=!1;if(os)try{var Wl={};Object.defineProperty(Wl,"passive",{get:function(){sg=!0}}),window.addEventListener("test",Wl,Wl),window.removeEventListener("test",Wl,Wl)}catch{sg=!1}function hE(e,t,r,n,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(u){this.onError(u)}}var mc=!1,oh=null,ah=!1,og=null,fE={onError:function(e){mc=!0,oh=e}};function pE(e,t,r,n,i,s,o,a,l){mc=!1,oh=null,hE.apply(fE,arguments)}function gE(e,t,r,n,i,s,o,a,l){if(pE.apply(this,arguments),mc){if(mc){var c=oh;mc=!1,oh=null}else throw Error(We(198));ah||(ah=!0,og=c)}}function Zo(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function iS(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Yy(e){if(Zo(e)!==e)throw Error(We(188))}function mE(e){var t=e.alternate;if(!t){if(t=Zo(e),t===null)throw Error(We(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return Yy(i),e;if(s===n)return Yy(i),t;s=s.sibling}throw Error(We(188))}if(r.return!==n.return)r=i,n=s;else{for(var o=!1,a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o)throw Error(We(189))}}if(r.alternate!==n)throw Error(We(190))}if(r.tag!==3)throw Error(We(188));return r.stateNode.current===r?e:t}function sS(e){return e=mE(e),e!==null?oS(e):null}function oS(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=oS(e);if(t!==null)return t;e=e.sibling}return null}var aS=An.unstable_scheduleCallback,Xy=An.unstable_cancelCallback,vE=An.unstable_shouldYield,yE=An.unstable_requestPaint,xr=An.unstable_now,bE=An.unstable_getCurrentPriorityLevel,Mv=An.unstable_ImmediatePriority,lS=An.unstable_UserBlockingPriority,lh=An.unstable_NormalPriority,wE=An.unstable_LowPriority,cS=An.unstable_IdlePriority,lf=null,Ni=null;function CE(e){if(Ni&&typeof Ni.onCommitFiberRoot=="function")try{Ni.onCommitFiberRoot(lf,e,void 0,(e.current.flags&128)===128)}catch{}}var xi=Math.clz32?Math.clz32:RE,SE=Math.log,xE=Math.LN2;function RE(e){return e>>>=0,e===0?32:31-(SE(e)/xE|0)|0}var Xu=64,Qu=4194304;function cc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ch(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,s=e.pingedLanes,o=r&268435455;if(o!==0){var a=o&~i;a!==0?n=cc(a):(s&=o,s!==0&&(n=cc(s)))}else o=r&~i,o!==0?n=cc(o):s!==0&&(n=cc(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-xi(t),i=1<<r,n|=e[r],t&=~i;return n}function EE(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function TE(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-xi(s),a=1<<o,l=i[o];l===-1?(!(a&r)||a&n)&&(i[o]=EE(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function ag(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function uS(){var e=Xu;return Xu<<=1,!(Xu&4194240)&&(Xu=64),e}function Uf(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function bu(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-xi(t),e[t]=r}function PE(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-xi(r),s=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~s}}function kv(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-xi(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var qt=0;function dS(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var hS,Fv,fS,pS,gS,lg=!1,Zu=[],Vs=null,zs=null,Ws=null,Hc=new Map,Gc=new Map,Ds=[],_E="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Qy(e,t){switch(e){case"focusin":case"focusout":Vs=null;break;case"dragenter":case"dragleave":zs=null;break;case"mouseover":case"mouseout":Ws=null;break;case"pointerover":case"pointerout":Hc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gc.delete(t.pointerId)}}function $l(e,t,r,n,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Cu(t),t!==null&&Fv(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function ME(e,t,r,n,i){switch(t){case"focusin":return Vs=$l(Vs,e,t,r,n,i),!0;case"dragenter":return zs=$l(zs,e,t,r,n,i),!0;case"mouseover":return Ws=$l(Ws,e,t,r,n,i),!0;case"pointerover":var s=i.pointerId;return Hc.set(s,$l(Hc.get(s)||null,e,t,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,Gc.set(s,$l(Gc.get(s)||null,e,t,r,n,i)),!0}return!1}function mS(e){var t=Eo(e.target);if(t!==null){var r=Zo(t);if(r!==null){if(t=r.tag,t===13){if(t=iS(r),t!==null){e.blockedOn=t,gS(e.priority,function(){fS(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ld(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=cg(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);ng=n,r.target.dispatchEvent(n),ng=null}else return t=Cu(r),t!==null&&Fv(t),e.blockedOn=r,!1;t.shift()}return!0}function Zy(e,t,r){Ld(e)&&r.delete(t)}function kE(){lg=!1,Vs!==null&&Ld(Vs)&&(Vs=null),zs!==null&&Ld(zs)&&(zs=null),Ws!==null&&Ld(Ws)&&(Ws=null),Hc.forEach(Zy),Gc.forEach(Zy)}function Ul(e,t){e.blockedOn===t&&(e.blockedOn=null,lg||(lg=!0,An.unstable_scheduleCallback(An.unstable_NormalPriority,kE)))}function Vc(e){function t(i){return Ul(i,e)}if(0<Zu.length){Ul(Zu[0],e);for(var r=1;r<Zu.length;r++){var n=Zu[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Vs!==null&&Ul(Vs,e),zs!==null&&Ul(zs,e),Ws!==null&&Ul(Ws,e),Hc.forEach(t),Gc.forEach(t),r=0;r<Ds.length;r++)n=Ds[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Ds.length&&(r=Ds[0],r.blockedOn===null);)mS(r),r.blockedOn===null&&Ds.shift()}var Xa=gs.ReactCurrentBatchConfig,uh=!0;function FE(e,t,r,n){var i=qt,s=Xa.transition;Xa.transition=null;try{qt=1,Av(e,t,r,n)}finally{qt=i,Xa.transition=s}}function AE(e,t,r,n){var i=qt,s=Xa.transition;Xa.transition=null;try{qt=4,Av(e,t,r,n)}finally{qt=i,Xa.transition=s}}function Av(e,t,r,n){if(uh){var i=cg(e,t,r,n);if(i===null)rp(e,t,n,dh,r),Qy(e,n);else if(ME(i,e,t,r,n))n.stopPropagation();else if(Qy(e,n),t&4&&-1<_E.indexOf(e)){for(;i!==null;){var s=Cu(i);if(s!==null&&hS(s),s=cg(e,t,r,n),s===null&&rp(e,t,n,dh,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else rp(e,t,n,null,r)}}var dh=null;function cg(e,t,r,n){if(dh=null,e=_v(n),e=Eo(e),e!==null)if(t=Zo(e),t===null)e=null;else if(r=t.tag,r===13){if(e=iS(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return dh=e,null}function vS(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bE()){case Mv:return 1;case lS:return 4;case lh:case wE:return 16;case cS:return 536870912;default:return 16}default:return 16}}var Ns=null,Ov=null,jd=null;function yS(){if(jd)return jd;var e,t=Ov,r=t.length,n,i="value"in Ns?Ns.value:Ns.textContent,s=i.length;for(e=0;e<r&&t[e]===i[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===i[s-n];n++);return jd=i.slice(e,1<n?1-n:void 0)}function Bd(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ju(){return!0}function Jy(){return!1}function Nn(e){function t(r,n,i,s,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(r=e[a],this[a]=r?r(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ju:Jy,this.isPropagationStopped=Jy,this}return gr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ju)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ju)},persist:function(){},isPersistent:Ju}),t}var xl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dv=Nn(xl),wu=gr({},xl,{view:0,detail:0}),OE=Nn(wu),Kf,qf,Kl,cf=gr({},wu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Iv,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Kl&&(Kl&&e.type==="mousemove"?(Kf=e.screenX-Kl.screenX,qf=e.screenY-Kl.screenY):qf=Kf=0,Kl=e),Kf)},movementY:function(e){return"movementY"in e?e.movementY:qf}}),eb=Nn(cf),DE=gr({},cf,{dataTransfer:0}),IE=Nn(DE),NE=gr({},wu,{relatedTarget:0}),Yf=Nn(NE),LE=gr({},xl,{animationName:0,elapsedTime:0,pseudoElement:0}),jE=Nn(LE),BE=gr({},xl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),HE=Nn(BE),GE=gr({},xl,{data:0}),tb=Nn(GE),VE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},WE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $E(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=WE[e])?!!t[e]:!1}function Iv(){return $E}var UE=gr({},wu,{key:function(e){if(e.key){var t=VE[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Bd(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?zE[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Iv,charCode:function(e){return e.type==="keypress"?Bd(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Bd(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),KE=Nn(UE),qE=gr({},cf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rb=Nn(qE),YE=gr({},wu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Iv}),XE=Nn(YE),QE=gr({},xl,{propertyName:0,elapsedTime:0,pseudoElement:0}),ZE=Nn(QE),JE=gr({},cf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),e6=Nn(JE),t6=[9,13,27,32],Nv=os&&"CompositionEvent"in window,vc=null;os&&"documentMode"in document&&(vc=document.documentMode);var r6=os&&"TextEvent"in window&&!vc,bS=os&&(!Nv||vc&&8<vc&&11>=vc),nb=String.fromCharCode(32),ib=!1;function wS(e,t){switch(e){case"keyup":return t6.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function CS(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Pa=!1;function n6(e,t){switch(e){case"compositionend":return CS(t);case"keypress":return t.which!==32?null:(ib=!0,nb);case"textInput":return e=t.data,e===nb&&ib?null:e;default:return null}}function i6(e,t){if(Pa)return e==="compositionend"||!Nv&&wS(e,t)?(e=yS(),jd=Ov=Ns=null,Pa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return bS&&t.locale!=="ko"?null:t.data;default:return null}}var s6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sb(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!s6[e.type]:t==="textarea"}function SS(e,t,r,n){JC(n),t=hh(t,"onChange"),0<t.length&&(r=new Dv("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var yc=null,zc=null;function o6(e){OS(e,0)}function uf(e){var t=ka(e);if(UC(t))return e}function a6(e,t){if(e==="change")return t}var xS=!1;if(os){var Xf;if(os){var Qf="oninput"in document;if(!Qf){var ob=document.createElement("div");ob.setAttribute("oninput","return;"),Qf=typeof ob.oninput=="function"}Xf=Qf}else Xf=!1;xS=Xf&&(!document.documentMode||9<document.documentMode)}function ab(){yc&&(yc.detachEvent("onpropertychange",RS),zc=yc=null)}function RS(e){if(e.propertyName==="value"&&uf(zc)){var t=[];SS(t,zc,e,_v(e)),nS(o6,t)}}function l6(e,t,r){e==="focusin"?(ab(),yc=t,zc=r,yc.attachEvent("onpropertychange",RS)):e==="focusout"&&ab()}function c6(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return uf(zc)}function u6(e,t){if(e==="click")return uf(t)}function d6(e,t){if(e==="input"||e==="change")return uf(t)}function h6(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ti=typeof Object.is=="function"?Object.is:h6;function Wc(e,t){if(Ti(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!$p.call(t,i)||!Ti(e[i],t[i]))return!1}return!0}function lb(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cb(e,t){var r=lb(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lb(r)}}function ES(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ES(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function TS(){for(var e=window,t=sh();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=sh(e.document)}return t}function Lv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function f6(e){var t=TS(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&ES(r.ownerDocument.documentElement,r)){if(n!==null&&Lv(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!e.extend&&s>n&&(i=n,n=s,s=i),i=cb(r,s);var o=cb(r,n);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var p6=os&&"documentMode"in document&&11>=document.documentMode,_a=null,ug=null,bc=null,dg=!1;function ub(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;dg||_a==null||_a!==sh(n)||(n=_a,"selectionStart"in n&&Lv(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),bc&&Wc(bc,n)||(bc=n,n=hh(ug,"onSelect"),0<n.length&&(t=new Dv("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=_a)))}function ed(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Ma={animationend:ed("Animation","AnimationEnd"),animationiteration:ed("Animation","AnimationIteration"),animationstart:ed("Animation","AnimationStart"),transitionend:ed("Transition","TransitionEnd")},Zf={},PS={};os&&(PS=document.createElement("div").style,"AnimationEvent"in window||(delete Ma.animationend.animation,delete Ma.animationiteration.animation,delete Ma.animationstart.animation),"TransitionEvent"in window||delete Ma.transitionend.transition);function df(e){if(Zf[e])return Zf[e];if(!Ma[e])return e;var t=Ma[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in PS)return Zf[e]=t[r];return e}var _S=df("animationend"),MS=df("animationiteration"),kS=df("animationstart"),FS=df("transitionend"),AS=new Map,db="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function so(e,t){AS.set(e,t),Qo(t,[e])}for(var Jf=0;Jf<db.length;Jf++){var ep=db[Jf],g6=ep.toLowerCase(),m6=ep[0].toUpperCase()+ep.slice(1);so(g6,"on"+m6)}so(_S,"onAnimationEnd");so(MS,"onAnimationIteration");so(kS,"onAnimationStart");so("dblclick","onDoubleClick");so("focusin","onFocus");so("focusout","onBlur");so(FS,"onTransitionEnd");rl("onMouseEnter",["mouseout","mouseover"]);rl("onMouseLeave",["mouseout","mouseover"]);rl("onPointerEnter",["pointerout","pointerover"]);rl("onPointerLeave",["pointerout","pointerover"]);Qo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Qo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Qo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Qo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Qo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Qo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var uc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),v6=new Set("cancel close invalid load scroll toggle".split(" ").concat(uc));function hb(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,gE(n,t,void 0,e),e.currentTarget=null}function OS(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;hb(i,a,c),s=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;hb(i,a,c),s=l}}}if(ah)throw e=og,ah=!1,og=null,e}function nr(e,t){var r=t[mg];r===void 0&&(r=t[mg]=new Set);var n=e+"__bubble";r.has(n)||(DS(t,e,2,!1),r.add(n))}function tp(e,t,r){var n=0;t&&(n|=4),DS(r,e,n,t)}var td="_reactListening"+Math.random().toString(36).slice(2);function $c(e){if(!e[td]){e[td]=!0,GC.forEach(function(r){r!=="selectionchange"&&(v6.has(r)||tp(r,!1,e),tp(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[td]||(t[td]=!0,tp("selectionchange",!1,t))}}function DS(e,t,r,n){switch(vS(t)){case 1:var i=FE;break;case 4:i=AE;break;default:i=Av}r=i.bind(null,t,r,e),i=void 0,!sg||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function rp(e,t,r,n,i){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Eo(a),o===null)return;if(l=o.tag,l===5||l===6){n=s=o;continue e}a=a.parentNode}}n=n.return}nS(function(){var c=s,u=_v(r),f=[];e:{var d=AS.get(e);if(d!==void 0){var h=Dv,g=e;switch(e){case"keypress":if(Bd(r)===0)break e;case"keydown":case"keyup":h=KE;break;case"focusin":g="focus",h=Yf;break;case"focusout":g="blur",h=Yf;break;case"beforeblur":case"afterblur":h=Yf;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=eb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=IE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=XE;break;case _S:case MS:case kS:h=jE;break;case FS:h=ZE;break;case"scroll":h=OE;break;case"wheel":h=e6;break;case"copy":case"cut":case"paste":h=HE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=rb}var v=(t&4)!==0,p=!v&&e==="scroll",y=v?d!==null?d+"Capture":null:d;v=[];for(var m=c,b;m!==null;){b=m;var x=b.stateNode;if(b.tag===5&&x!==null&&(b=x,y!==null&&(x=Bc(m,y),x!=null&&v.push(Uc(m,x,b)))),p)break;m=m.return}0<v.length&&(d=new h(d,g,null,r,u),f.push({event:d,listeners:v}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",d&&r!==ng&&(g=r.relatedTarget||r.fromElement)&&(Eo(g)||g[as]))break e;if((h||d)&&(d=u.window===u?u:(d=u.ownerDocument)?d.defaultView||d.parentWindow:window,h?(g=r.relatedTarget||r.toElement,h=c,g=g?Eo(g):null,g!==null&&(p=Zo(g),g!==p||g.tag!==5&&g.tag!==6)&&(g=null)):(h=null,g=c),h!==g)){if(v=eb,x="onMouseLeave",y="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(v=rb,x="onPointerLeave",y="onPointerEnter",m="pointer"),p=h==null?d:ka(h),b=g==null?d:ka(g),d=new v(x,m+"leave",h,r,u),d.target=p,d.relatedTarget=b,x=null,Eo(u)===c&&(v=new v(y,m+"enter",g,r,u),v.target=b,v.relatedTarget=p,x=v),p=x,h&&g)t:{for(v=h,y=g,m=0,b=v;b;b=ga(b))m++;for(b=0,x=y;x;x=ga(x))b++;for(;0<m-b;)v=ga(v),m--;for(;0<b-m;)y=ga(y),b--;for(;m--;){if(v===y||y!==null&&v===y.alternate)break t;v=ga(v),y=ga(y)}v=null}else v=null;h!==null&&fb(f,d,h,v,!1),g!==null&&p!==null&&fb(f,p,g,v,!0)}}e:{if(d=c?ka(c):window,h=d.nodeName&&d.nodeName.toLowerCase(),h==="select"||h==="input"&&d.type==="file")var P=a6;else if(sb(d))if(xS)P=d6;else{P=c6;var F=l6}else(h=d.nodeName)&&h.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(P=u6);if(P&&(P=P(e,c))){SS(f,P,r,u);break e}F&&F(e,d,c),e==="focusout"&&(F=d._wrapperState)&&F.controlled&&d.type==="number"&&Zp(d,"number",d.value)}switch(F=c?ka(c):window,e){case"focusin":(sb(F)||F.contentEditable==="true")&&(_a=F,ug=c,bc=null);break;case"focusout":bc=ug=_a=null;break;case"mousedown":dg=!0;break;case"contextmenu":case"mouseup":case"dragend":dg=!1,ub(f,r,u);break;case"selectionchange":if(p6)break;case"keydown":case"keyup":ub(f,r,u)}var D;if(Nv)e:{switch(e){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else Pa?wS(e,r)&&(O="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(O="onCompositionStart");O&&(bS&&r.locale!=="ko"&&(Pa||O!=="onCompositionStart"?O==="onCompositionEnd"&&Pa&&(D=yS()):(Ns=u,Ov="value"in Ns?Ns.value:Ns.textContent,Pa=!0)),F=hh(c,O),0<F.length&&(O=new tb(O,e,null,r,u),f.push({event:O,listeners:F}),D?O.data=D:(D=CS(r),D!==null&&(O.data=D)))),(D=r6?n6(e,r):i6(e,r))&&(c=hh(c,"onBeforeInput"),0<c.length&&(u=new tb("onBeforeInput","beforeinput",null,r,u),f.push({event:u,listeners:c}),u.data=D))}OS(f,t)})}function Uc(e,t,r){return{instance:e,listener:t,currentTarget:r}}function hh(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Bc(e,r),s!=null&&n.unshift(Uc(e,s,i)),s=Bc(e,t),s!=null&&n.push(Uc(e,s,i))),e=e.return}return n}function ga(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function fb(e,t,r,n,i){for(var s=t._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,c=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&c!==null&&(a=c,i?(l=Bc(r,s),l!=null&&o.unshift(Uc(r,l,a))):i||(l=Bc(r,s),l!=null&&o.push(Uc(r,l,a)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var y6=/\r\n?/g,b6=/\u0000|\uFFFD/g;function pb(e){return(typeof e=="string"?e:""+e).replace(y6,`
`).replace(b6,"")}function rd(e,t,r){if(t=pb(t),pb(e)!==t&&r)throw Error(We(425))}function fh(){}var hg=null,fg=null;function pg(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var gg=typeof setTimeout=="function"?setTimeout:void 0,w6=typeof clearTimeout=="function"?clearTimeout:void 0,gb=typeof Promise=="function"?Promise:void 0,C6=typeof queueMicrotask=="function"?queueMicrotask:typeof gb<"u"?function(e){return gb.resolve(null).then(e).catch(S6)}:gg;function S6(e){setTimeout(function(){throw e})}function np(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),Vc(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Vc(t)}function $s(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function mb(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Rl=Math.random().toString(36).slice(2),Oi="__reactFiber$"+Rl,Kc="__reactProps$"+Rl,as="__reactContainer$"+Rl,mg="__reactEvents$"+Rl,x6="__reactListeners$"+Rl,R6="__reactHandles$"+Rl;function Eo(e){var t=e[Oi];if(t)return t;for(var r=e.parentNode;r;){if(t=r[as]||r[Oi]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=mb(e);e!==null;){if(r=e[Oi])return r;e=mb(e)}return t}e=r,r=e.parentNode}return null}function Cu(e){return e=e[Oi]||e[as],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ka(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(We(33))}function hf(e){return e[Kc]||null}var vg=[],Fa=-1;function oo(e){return{current:e}}function or(e){0>Fa||(e.current=vg[Fa],vg[Fa]=null,Fa--)}function Qt(e,t){Fa++,vg[Fa]=e.current,e.current=t}var Zs={},Jr=oo(Zs),yn=oo(!1),Ho=Zs;function nl(e,t){var r=e.type.contextTypes;if(!r)return Zs;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function bn(e){return e=e.childContextTypes,e!=null}function ph(){or(yn),or(Jr)}function vb(e,t,r){if(Jr.current!==Zs)throw Error(We(168));Qt(Jr,t),Qt(yn,r)}function IS(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(We(108,lE(e)||"Unknown",i));return gr({},r,n)}function gh(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Zs,Ho=Jr.current,Qt(Jr,e),Qt(yn,yn.current),!0}function yb(e,t,r){var n=e.stateNode;if(!n)throw Error(We(169));r?(e=IS(e,t,Ho),n.__reactInternalMemoizedMergedChildContext=e,or(yn),or(Jr),Qt(Jr,e)):or(yn),Qt(yn,r)}var Yi=null,ff=!1,ip=!1;function NS(e){Yi===null?Yi=[e]:Yi.push(e)}function E6(e){ff=!0,NS(e)}function ao(){if(!ip&&Yi!==null){ip=!0;var e=0,t=qt;try{var r=Yi;for(qt=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Yi=null,ff=!1}catch(i){throw Yi!==null&&(Yi=Yi.slice(e+1)),aS(Mv,ao),i}finally{qt=t,ip=!1}}return null}var Aa=[],Oa=0,mh=null,vh=0,Vn=[],zn=0,Go=null,Zi=1,Ji="";function mo(e,t){Aa[Oa++]=vh,Aa[Oa++]=mh,mh=e,vh=t}function LS(e,t,r){Vn[zn++]=Zi,Vn[zn++]=Ji,Vn[zn++]=Go,Go=e;var n=Zi;e=Ji;var i=32-xi(n)-1;n&=~(1<<i),r+=1;var s=32-xi(t)+i;if(30<s){var o=i-i%5;s=(n&(1<<o)-1).toString(32),n>>=o,i-=o,Zi=1<<32-xi(t)+i|r<<i|n,Ji=s+e}else Zi=1<<s|r<<i|n,Ji=e}function jv(e){e.return!==null&&(mo(e,1),LS(e,1,0))}function Bv(e){for(;e===mh;)mh=Aa[--Oa],Aa[Oa]=null,vh=Aa[--Oa],Aa[Oa]=null;for(;e===Go;)Go=Vn[--zn],Vn[zn]=null,Ji=Vn[--zn],Vn[zn]=null,Zi=Vn[--zn],Vn[zn]=null}var Fn=null,_n=null,cr=!1,pi=null;function jS(e,t){var r=Un(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function bb(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Fn=e,_n=$s(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Fn=e,_n=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Go!==null?{id:Zi,overflow:Ji}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Un(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Fn=e,_n=null,!0):!1;default:return!1}}function yg(e){return(e.mode&1)!==0&&(e.flags&128)===0}function bg(e){if(cr){var t=_n;if(t){var r=t;if(!bb(e,t)){if(yg(e))throw Error(We(418));t=$s(r.nextSibling);var n=Fn;t&&bb(e,t)?jS(n,r):(e.flags=e.flags&-4097|2,cr=!1,Fn=e)}}else{if(yg(e))throw Error(We(418));e.flags=e.flags&-4097|2,cr=!1,Fn=e}}}function wb(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Fn=e}function nd(e){if(e!==Fn)return!1;if(!cr)return wb(e),cr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!pg(e.type,e.memoizedProps)),t&&(t=_n)){if(yg(e))throw BS(),Error(We(418));for(;t;)jS(e,t),t=$s(t.nextSibling)}if(wb(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(We(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){_n=$s(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}_n=null}}else _n=Fn?$s(e.stateNode.nextSibling):null;return!0}function BS(){for(var e=_n;e;)e=$s(e.nextSibling)}function il(){_n=Fn=null,cr=!1}function Hv(e){pi===null?pi=[e]:pi.push(e)}var T6=gs.ReactCurrentBatchConfig;function ui(e,t){if(e&&e.defaultProps){t=gr({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}var yh=oo(null),bh=null,Da=null,Gv=null;function Vv(){Gv=Da=bh=null}function zv(e){var t=yh.current;or(yh),e._currentValue=t}function wg(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Qa(e,t){bh=e,Gv=Da=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(gn=!0),e.firstContext=null)}function ei(e){var t=e._currentValue;if(Gv!==e)if(e={context:e,memoizedValue:t,next:null},Da===null){if(bh===null)throw Error(We(308));Da=e,bh.dependencies={lanes:0,firstContext:e}}else Da=Da.next=e;return t}var To=null;function Wv(e){To===null?To=[e]:To.push(e)}function HS(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,Wv(t)):(r.next=i.next,i.next=r),t.interleaved=r,ls(e,n)}function ls(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var As=!1;function $v(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function GS(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ts(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Us(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Bt&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,ls(e,r)}return i=n.interleaved,i===null?(t.next=t,Wv(n)):(t.next=i.next,i.next=t),n.interleaved=t,ls(e,r)}function Hd(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,kv(e,r)}}function Cb(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?i=s=t:s=s.next=t}else i=s=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function wh(e,t,r,n){var i=e.updateQueue;As=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=e.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,u=c=l=null,a=s;do{var d=a.lane,h=a.eventTime;if((n&d)===d){u!==null&&(u=u.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=e,v=a;switch(d=t,h=r,v.tag){case 1:if(g=v.payload,typeof g=="function"){f=g.call(h,f,d);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,d=typeof g=="function"?g.call(h,f,d):g,d==null)break e;f=gr({},f,d);break e;case 2:As=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else h={eventTime:h,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=h,l=f):u=u.next=h,o|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(1);if(u===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);zo|=o,e.lanes=o,e.memoizedState=f}}function Sb(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(We(191,i));i.call(n)}}}var VS=new HC.Component().refs;function Cg(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:gr({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var pf={isMounted:function(e){return(e=e._reactInternals)?Zo(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=cn(),i=qs(e),s=ts(n,i);s.payload=t,r!=null&&(s.callback=r),t=Us(e,s,i),t!==null&&(Ri(t,e,i,n),Hd(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=cn(),i=qs(e),s=ts(n,i);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=Us(e,s,i),t!==null&&(Ri(t,e,i,n),Hd(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=cn(),n=qs(e),i=ts(r,n);i.tag=2,t!=null&&(i.callback=t),t=Us(e,i,n),t!==null&&(Ri(t,e,n,r),Hd(t,e,n))}};function xb(e,t,r,n,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,o):t.prototype&&t.prototype.isPureReactComponent?!Wc(r,n)||!Wc(i,s):!0}function zS(e,t,r){var n=!1,i=Zs,s=t.contextType;return typeof s=="object"&&s!==null?s=ei(s):(i=bn(t)?Ho:Jr.current,n=t.contextTypes,s=(n=n!=null)?nl(e,i):Zs),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=pf,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Rb(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&pf.enqueueReplaceState(t,t.state,null)}function Sg(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs=VS,$v(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=ei(s):(s=bn(t)?Ho:Jr.current,i.context=nl(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Cg(e,t,s,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&pf.enqueueReplaceState(i,i.state,null),wh(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function ql(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(We(309));var n=r.stateNode}if(!n)throw Error(We(147,e));var i=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;a===VS&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(We(284));if(!r._owner)throw Error(We(290,e))}return e}function id(e,t){throw e=Object.prototype.toString.call(t),Error(We(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Eb(e){var t=e._init;return t(e._payload)}function WS(e){function t(y,m){if(e){var b=y.deletions;b===null?(y.deletions=[m],y.flags|=16):b.push(m)}}function r(y,m){if(!e)return null;for(;m!==null;)t(y,m),m=m.sibling;return null}function n(y,m){for(y=new Map;m!==null;)m.key!==null?y.set(m.key,m):y.set(m.index,m),m=m.sibling;return y}function i(y,m){return y=Ys(y,m),y.index=0,y.sibling=null,y}function s(y,m,b){return y.index=b,e?(b=y.alternate,b!==null?(b=b.index,b<m?(y.flags|=2,m):b):(y.flags|=2,m)):(y.flags|=1048576,m)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function a(y,m,b,x){return m===null||m.tag!==6?(m=dp(b,y.mode,x),m.return=y,m):(m=i(m,b),m.return=y,m)}function l(y,m,b,x){var P=b.type;return P===Ta?u(y,m,b.props.children,x,b.key):m!==null&&(m.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Fs&&Eb(P)===m.type)?(x=i(m,b.props),x.ref=ql(y,m,b),x.return=y,x):(x=Ud(b.type,b.key,b.props,null,y.mode,x),x.ref=ql(y,m,b),x.return=y,x)}function c(y,m,b,x){return m===null||m.tag!==4||m.stateNode.containerInfo!==b.containerInfo||m.stateNode.implementation!==b.implementation?(m=hp(b,y.mode,x),m.return=y,m):(m=i(m,b.children||[]),m.return=y,m)}function u(y,m,b,x,P){return m===null||m.tag!==7?(m=Oo(b,y.mode,x,P),m.return=y,m):(m=i(m,b),m.return=y,m)}function f(y,m,b){if(typeof m=="string"&&m!==""||typeof m=="number")return m=dp(""+m,y.mode,b),m.return=y,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Ku:return b=Ud(m.type,m.key,m.props,null,y.mode,b),b.ref=ql(y,null,m),b.return=y,b;case Ea:return m=hp(m,y.mode,b),m.return=y,m;case Fs:var x=m._init;return f(y,x(m._payload),b)}if(lc(m)||zl(m))return m=Oo(m,y.mode,b,null),m.return=y,m;id(y,m)}return null}function d(y,m,b,x){var P=m!==null?m.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return P!==null?null:a(y,m,""+b,x);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Ku:return b.key===P?l(y,m,b,x):null;case Ea:return b.key===P?c(y,m,b,x):null;case Fs:return P=b._init,d(y,m,P(b._payload),x)}if(lc(b)||zl(b))return P!==null?null:u(y,m,b,x,null);id(y,b)}return null}function h(y,m,b,x,P){if(typeof x=="string"&&x!==""||typeof x=="number")return y=y.get(b)||null,a(m,y,""+x,P);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Ku:return y=y.get(x.key===null?b:x.key)||null,l(m,y,x,P);case Ea:return y=y.get(x.key===null?b:x.key)||null,c(m,y,x,P);case Fs:var F=x._init;return h(y,m,b,F(x._payload),P)}if(lc(x)||zl(x))return y=y.get(b)||null,u(m,y,x,P,null);id(m,x)}return null}function g(y,m,b,x){for(var P=null,F=null,D=m,O=m=0,j=null;D!==null&&O<b.length;O++){D.index>O?(j=D,D=null):j=D.sibling;var H=d(y,D,b[O],x);if(H===null){D===null&&(D=j);break}e&&D&&H.alternate===null&&t(y,D),m=s(H,m,O),F===null?P=H:F.sibling=H,F=H,D=j}if(O===b.length)return r(y,D),cr&&mo(y,O),P;if(D===null){for(;O<b.length;O++)D=f(y,b[O],x),D!==null&&(m=s(D,m,O),F===null?P=D:F.sibling=D,F=D);return cr&&mo(y,O),P}for(D=n(y,D);O<b.length;O++)j=h(D,y,O,b[O],x),j!==null&&(e&&j.alternate!==null&&D.delete(j.key===null?O:j.key),m=s(j,m,O),F===null?P=j:F.sibling=j,F=j);return e&&D.forEach(function(W){return t(y,W)}),cr&&mo(y,O),P}function v(y,m,b,x){var P=zl(b);if(typeof P!="function")throw Error(We(150));if(b=P.call(b),b==null)throw Error(We(151));for(var F=P=null,D=m,O=m=0,j=null,H=b.next();D!==null&&!H.done;O++,H=b.next()){D.index>O?(j=D,D=null):j=D.sibling;var W=d(y,D,H.value,x);if(W===null){D===null&&(D=j);break}e&&D&&W.alternate===null&&t(y,D),m=s(W,m,O),F===null?P=W:F.sibling=W,F=W,D=j}if(H.done)return r(y,D),cr&&mo(y,O),P;if(D===null){for(;!H.done;O++,H=b.next())H=f(y,H.value,x),H!==null&&(m=s(H,m,O),F===null?P=H:F.sibling=H,F=H);return cr&&mo(y,O),P}for(D=n(y,D);!H.done;O++,H=b.next())H=h(D,y,O,H.value,x),H!==null&&(e&&H.alternate!==null&&D.delete(H.key===null?O:H.key),m=s(H,m,O),F===null?P=H:F.sibling=H,F=H);return e&&D.forEach(function(G){return t(y,G)}),cr&&mo(y,O),P}function p(y,m,b,x){if(typeof b=="object"&&b!==null&&b.type===Ta&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Ku:e:{for(var P=b.key,F=m;F!==null;){if(F.key===P){if(P=b.type,P===Ta){if(F.tag===7){r(y,F.sibling),m=i(F,b.props.children),m.return=y,y=m;break e}}else if(F.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Fs&&Eb(P)===F.type){r(y,F.sibling),m=i(F,b.props),m.ref=ql(y,F,b),m.return=y,y=m;break e}r(y,F);break}else t(y,F);F=F.sibling}b.type===Ta?(m=Oo(b.props.children,y.mode,x,b.key),m.return=y,y=m):(x=Ud(b.type,b.key,b.props,null,y.mode,x),x.ref=ql(y,m,b),x.return=y,y=x)}return o(y);case Ea:e:{for(F=b.key;m!==null;){if(m.key===F)if(m.tag===4&&m.stateNode.containerInfo===b.containerInfo&&m.stateNode.implementation===b.implementation){r(y,m.sibling),m=i(m,b.children||[]),m.return=y,y=m;break e}else{r(y,m);break}else t(y,m);m=m.sibling}m=hp(b,y.mode,x),m.return=y,y=m}return o(y);case Fs:return F=b._init,p(y,m,F(b._payload),x)}if(lc(b))return g(y,m,b,x);if(zl(b))return v(y,m,b,x);id(y,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,m!==null&&m.tag===6?(r(y,m.sibling),m=i(m,b),m.return=y,y=m):(r(y,m),m=dp(b,y.mode,x),m.return=y,y=m),o(y)):r(y,m)}return p}var sl=WS(!0),$S=WS(!1),Su={},Li=oo(Su),qc=oo(Su),Yc=oo(Su);function Po(e){if(e===Su)throw Error(We(174));return e}function Uv(e,t){switch(Qt(Yc,t),Qt(qc,e),Qt(Li,Su),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:eg(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=eg(t,e)}or(Li),Qt(Li,t)}function ol(){or(Li),or(qc),or(Yc)}function US(e){Po(Yc.current);var t=Po(Li.current),r=eg(t,e.type);t!==r&&(Qt(qc,e),Qt(Li,r))}function Kv(e){qc.current===e&&(or(Li),or(qc))}var dr=oo(0);function Ch(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var sp=[];function qv(){for(var e=0;e<sp.length;e++)sp[e]._workInProgressVersionPrimary=null;sp.length=0}var Gd=gs.ReactCurrentDispatcher,op=gs.ReactCurrentBatchConfig,Vo=0,pr=null,Ar=null,Lr=null,Sh=!1,wc=!1,Xc=0,P6=0;function qr(){throw Error(We(321))}function Yv(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Ti(e[r],t[r]))return!1;return!0}function Xv(e,t,r,n,i,s){if(Vo=s,pr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Gd.current=e===null||e.memoizedState===null?F6:A6,e=r(n,i),wc){s=0;do{if(wc=!1,Xc=0,25<=s)throw Error(We(301));s+=1,Lr=Ar=null,t.updateQueue=null,Gd.current=O6,e=r(n,i)}while(wc)}if(Gd.current=xh,t=Ar!==null&&Ar.next!==null,Vo=0,Lr=Ar=pr=null,Sh=!1,t)throw Error(We(300));return e}function Qv(){var e=Xc!==0;return Xc=0,e}function Ai(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lr===null?pr.memoizedState=Lr=e:Lr=Lr.next=e,Lr}function ti(){if(Ar===null){var e=pr.alternate;e=e!==null?e.memoizedState:null}else e=Ar.next;var t=Lr===null?pr.memoizedState:Lr.next;if(t!==null)Lr=t,Ar=e;else{if(e===null)throw Error(We(310));Ar=e,e={memoizedState:Ar.memoizedState,baseState:Ar.baseState,baseQueue:Ar.baseQueue,queue:Ar.queue,next:null},Lr===null?pr.memoizedState=Lr=e:Lr=Lr.next=e}return Lr}function Qc(e,t){return typeof t=="function"?t(e):t}function ap(e){var t=ti(),r=t.queue;if(r===null)throw Error(We(311));r.lastRenderedReducer=e;var n=Ar,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((Vo&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=n):l=l.next=f,pr.lanes|=u,zo|=u}c=c.next}while(c!==null&&c!==s);l===null?o=n:l.next=a,Ti(n,t.memoizedState)||(gn=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do s=i.lane,pr.lanes|=s,zo|=s,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function lp(e){var t=ti(),r=t.queue;if(r===null)throw Error(We(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,s=t.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);Ti(s,t.memoizedState)||(gn=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function KS(){}function qS(e,t){var r=pr,n=ti(),i=t(),s=!Ti(n.memoizedState,i);if(s&&(n.memoizedState=i,gn=!0),n=n.queue,Zv(QS.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||Lr!==null&&Lr.memoizedState.tag&1){if(r.flags|=2048,Zc(9,XS.bind(null,r,n,i,t),void 0,null),jr===null)throw Error(We(349));Vo&30||YS(r,t,i)}return i}function YS(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=pr.updateQueue,t===null?(t={lastEffect:null,stores:null},pr.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function XS(e,t,r,n){t.value=r,t.getSnapshot=n,ZS(t)&&JS(e)}function QS(e,t,r){return r(function(){ZS(t)&&JS(e)})}function ZS(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Ti(e,r)}catch{return!0}}function JS(e){var t=ls(e,1);t!==null&&Ri(t,e,1,-1)}function Tb(e){var t=Ai();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qc,lastRenderedState:e},t.queue=e,e=e.dispatch=k6.bind(null,pr,e),[t.memoizedState,e]}function Zc(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=pr.updateQueue,t===null?(t={lastEffect:null,stores:null},pr.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function e2(){return ti().memoizedState}function Vd(e,t,r,n){var i=Ai();pr.flags|=e,i.memoizedState=Zc(1|t,r,void 0,n===void 0?null:n)}function gf(e,t,r,n){var i=ti();n=n===void 0?null:n;var s=void 0;if(Ar!==null){var o=Ar.memoizedState;if(s=o.destroy,n!==null&&Yv(n,o.deps)){i.memoizedState=Zc(t,r,s,n);return}}pr.flags|=e,i.memoizedState=Zc(1|t,r,s,n)}function Pb(e,t){return Vd(8390656,8,e,t)}function Zv(e,t){return gf(2048,8,e,t)}function t2(e,t){return gf(4,2,e,t)}function r2(e,t){return gf(4,4,e,t)}function n2(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function i2(e,t,r){return r=r!=null?r.concat([e]):null,gf(4,4,n2.bind(null,t,e),r)}function Jv(){}function s2(e,t){var r=ti();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Yv(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function o2(e,t){var r=ti();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Yv(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function a2(e,t,r){return Vo&21?(Ti(r,t)||(r=uS(),pr.lanes|=r,zo|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,gn=!0),e.memoizedState=r)}function _6(e,t){var r=qt;qt=r!==0&&4>r?r:4,e(!0);var n=op.transition;op.transition={};try{e(!1),t()}finally{qt=r,op.transition=n}}function l2(){return ti().memoizedState}function M6(e,t,r){var n=qs(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},c2(e))u2(t,r);else if(r=HS(e,t,r,n),r!==null){var i=cn();Ri(r,e,n,i),d2(r,t,n)}}function k6(e,t,r){var n=qs(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(c2(e))u2(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,r);if(i.hasEagerState=!0,i.eagerState=a,Ti(a,o)){var l=t.interleaved;l===null?(i.next=i,Wv(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}r=HS(e,t,i,n),r!==null&&(i=cn(),Ri(r,e,n,i),d2(r,t,n))}}function c2(e){var t=e.alternate;return e===pr||t!==null&&t===pr}function u2(e,t){wc=Sh=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function d2(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,kv(e,r)}}var xh={readContext:ei,useCallback:qr,useContext:qr,useEffect:qr,useImperativeHandle:qr,useInsertionEffect:qr,useLayoutEffect:qr,useMemo:qr,useReducer:qr,useRef:qr,useState:qr,useDebugValue:qr,useDeferredValue:qr,useTransition:qr,useMutableSource:qr,useSyncExternalStore:qr,useId:qr,unstable_isNewReconciler:!1},F6={readContext:ei,useCallback:function(e,t){return Ai().memoizedState=[e,t===void 0?null:t],e},useContext:ei,useEffect:Pb,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Vd(4194308,4,n2.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Vd(4194308,4,e,t)},useInsertionEffect:function(e,t){return Vd(4,2,e,t)},useMemo:function(e,t){var r=Ai();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Ai();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=M6.bind(null,pr,e),[n.memoizedState,e]},useRef:function(e){var t=Ai();return e={current:e},t.memoizedState=e},useState:Tb,useDebugValue:Jv,useDeferredValue:function(e){return Ai().memoizedState=e},useTransition:function(){var e=Tb(!1),t=e[0];return e=_6.bind(null,e[1]),Ai().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=pr,i=Ai();if(cr){if(r===void 0)throw Error(We(407));r=r()}else{if(r=t(),jr===null)throw Error(We(349));Vo&30||YS(n,t,r)}i.memoizedState=r;var s={value:r,getSnapshot:t};return i.queue=s,Pb(QS.bind(null,n,s,e),[e]),n.flags|=2048,Zc(9,XS.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=Ai(),t=jr.identifierPrefix;if(cr){var r=Ji,n=Zi;r=(n&~(1<<32-xi(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Xc++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=P6++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},A6={readContext:ei,useCallback:s2,useContext:ei,useEffect:Zv,useImperativeHandle:i2,useInsertionEffect:t2,useLayoutEffect:r2,useMemo:o2,useReducer:ap,useRef:e2,useState:function(){return ap(Qc)},useDebugValue:Jv,useDeferredValue:function(e){var t=ti();return a2(t,Ar.memoizedState,e)},useTransition:function(){var e=ap(Qc)[0],t=ti().memoizedState;return[e,t]},useMutableSource:KS,useSyncExternalStore:qS,useId:l2,unstable_isNewReconciler:!1},O6={readContext:ei,useCallback:s2,useContext:ei,useEffect:Zv,useImperativeHandle:i2,useInsertionEffect:t2,useLayoutEffect:r2,useMemo:o2,useReducer:lp,useRef:e2,useState:function(){return lp(Qc)},useDebugValue:Jv,useDeferredValue:function(e){var t=ti();return Ar===null?t.memoizedState=e:a2(t,Ar.memoizedState,e)},useTransition:function(){var e=lp(Qc)[0],t=ti().memoizedState;return[e,t]},useMutableSource:KS,useSyncExternalStore:qS,useId:l2,unstable_isNewReconciler:!1};function al(e,t){try{var r="",n=t;do r+=aE(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function cp(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function xg(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var D6=typeof WeakMap=="function"?WeakMap:Map;function h2(e,t,r){r=ts(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Eh||(Eh=!0,Og=n),xg(e,t)},r}function f2(e,t,r){r=ts(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){xg(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){xg(e,t),typeof n!="function"&&(Ks===null?Ks=new Set([this]):Ks.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function _b(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new D6;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=q6.bind(null,e,t,r),t.then(e,e))}function Mb(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function kb(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=ts(-1,1),t.tag=2,Us(r,t,1))),r.lanes|=1),e)}var I6=gs.ReactCurrentOwner,gn=!1;function nn(e,t,r,n){t.child=e===null?$S(t,null,r,n):sl(t,e.child,r,n)}function Fb(e,t,r,n,i){r=r.render;var s=t.ref;return Qa(t,i),n=Xv(e,t,r,n,s,i),r=Qv(),e!==null&&!gn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,cs(e,t,i)):(cr&&r&&jv(t),t.flags|=1,nn(e,t,n,i),t.child)}function Ab(e,t,r,n,i){if(e===null){var s=r.type;return typeof s=="function"&&!a0(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,p2(e,t,s,n,i)):(e=Ud(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:Wc,r(o,n)&&e.ref===t.ref)return cs(e,t,i)}return t.flags|=1,e=Ys(s,n),e.ref=t.ref,e.return=t,t.child=e}function p2(e,t,r,n,i){if(e!==null){var s=e.memoizedProps;if(Wc(s,n)&&e.ref===t.ref)if(gn=!1,t.pendingProps=n=s,(e.lanes&i)!==0)e.flags&131072&&(gn=!0);else return t.lanes=e.lanes,cs(e,t,i)}return Rg(e,t,r,n,i)}function g2(e,t,r){var n=t.pendingProps,i=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qt(Na,Pn),Pn|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Qt(Na,Pn),Pn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,Qt(Na,Pn),Pn|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,Qt(Na,Pn),Pn|=n;return nn(e,t,i,r),t.child}function m2(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Rg(e,t,r,n,i){var s=bn(r)?Ho:Jr.current;return s=nl(t,s),Qa(t,i),r=Xv(e,t,r,n,s,i),n=Qv(),e!==null&&!gn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,cs(e,t,i)):(cr&&n&&jv(t),t.flags|=1,nn(e,t,r,i),t.child)}function Ob(e,t,r,n,i){if(bn(r)){var s=!0;gh(t)}else s=!1;if(Qa(t,i),t.stateNode===null)zd(e,t),zS(t,r,n),Sg(t,r,n,i),n=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=r.contextType;typeof c=="object"&&c!==null?c=ei(c):(c=bn(r)?Ho:Jr.current,c=nl(t,c));var u=r.getDerivedStateFromProps,f=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==c)&&Rb(t,o,n,c),As=!1;var d=t.memoizedState;o.state=d,wh(t,n,o,i),l=t.memoizedState,a!==n||d!==l||yn.current||As?(typeof u=="function"&&(Cg(t,r,u,n),l=t.memoizedState),(a=As||xb(t,r,a,n,d,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),o.props=n,o.state=l,o.context=c,n=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,GS(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:ui(t.type,a),o.props=c,f=t.pendingProps,d=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=ei(l):(l=bn(r)?Ho:Jr.current,l=nl(t,l));var h=r.getDerivedStateFromProps;(u=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||d!==l)&&Rb(t,o,n,l),As=!1,d=t.memoizedState,o.state=d,wh(t,n,o,i);var g=t.memoizedState;a!==f||d!==g||yn.current||As?(typeof h=="function"&&(Cg(t,r,h,n),g=t.memoizedState),(c=As||xb(t,r,c,n,d,g,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,g,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),o.props=n,o.state=g,o.context=l,n=c):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),n=!1)}return Eg(e,t,r,n,s,i)}function Eg(e,t,r,n,i,s){m2(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return i&&yb(t,r,!1),cs(e,t,s);n=t.stateNode,I6.current=t;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=sl(t,e.child,null,s),t.child=sl(t,null,a,s)):nn(e,t,a,s),t.memoizedState=n.state,i&&yb(t,r,!0),t.child}function v2(e){var t=e.stateNode;t.pendingContext?vb(e,t.pendingContext,t.pendingContext!==t.context):t.context&&vb(e,t.context,!1),Uv(e,t.containerInfo)}function Db(e,t,r,n,i){return il(),Hv(i),t.flags|=256,nn(e,t,r,n),t.child}var Tg={dehydrated:null,treeContext:null,retryLane:0};function Pg(e){return{baseLanes:e,cachePool:null,transitions:null}}function y2(e,t,r){var n=t.pendingProps,i=dr.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Qt(dr,i&1),e===null)return bg(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,s?(n=t.mode,s=t.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=yf(o,n,0,null),e=Oo(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Pg(r),t.memoizedState=Tg,e):e0(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return N6(e,t,o,n,a,i,r);if(s){s=n.fallback,o=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=Ys(i,l),n.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Ys(a,s):(s=Oo(s,o,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,o=e.child.memoizedState,o=o===null?Pg(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~r,t.memoizedState=Tg,n}return s=e.child,e=s.sibling,n=Ys(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function e0(e,t){return t=yf({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function sd(e,t,r,n){return n!==null&&Hv(n),sl(t,e.child,null,r),e=e0(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function N6(e,t,r,n,i,s,o){if(r)return t.flags&256?(t.flags&=-257,n=cp(Error(We(422))),sd(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,i=t.mode,n=yf({mode:"visible",children:n.children},i,0,null),s=Oo(s,i,o,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&sl(t,e.child,null,o),t.child.memoizedState=Pg(o),t.memoizedState=Tg,s);if(!(t.mode&1))return sd(e,t,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var a=n.dgst;return n=a,s=Error(We(419)),n=cp(s,n,void 0),sd(e,t,o,n)}if(a=(o&e.childLanes)!==0,gn||a){if(n=jr,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ls(e,i),Ri(n,e,i,-1))}return o0(),n=cp(Error(We(421))),sd(e,t,o,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Y6.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,_n=$s(i.nextSibling),Fn=t,cr=!0,pi=null,e!==null&&(Vn[zn++]=Zi,Vn[zn++]=Ji,Vn[zn++]=Go,Zi=e.id,Ji=e.overflow,Go=t),t=e0(t,n.children),t.flags|=4096,t)}function Ib(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),wg(e.return,t,r)}function up(e,t,r,n,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function b2(e,t,r){var n=t.pendingProps,i=n.revealOrder,s=n.tail;if(nn(e,t,n.children,r),n=dr.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ib(e,r,t);else if(e.tag===19)Ib(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Qt(dr,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&Ch(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),up(t,!1,i,r,s);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Ch(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}up(t,!0,r,null,s);break;case"together":up(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function zd(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function cs(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),zo|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(We(153));if(t.child!==null){for(e=t.child,r=Ys(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Ys(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function L6(e,t,r){switch(t.tag){case 3:v2(t),il();break;case 5:US(t);break;case 1:bn(t.type)&&gh(t);break;case 4:Uv(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;Qt(yh,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Qt(dr,dr.current&1),t.flags|=128,null):r&t.child.childLanes?y2(e,t,r):(Qt(dr,dr.current&1),e=cs(e,t,r),e!==null?e.sibling:null);Qt(dr,dr.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return b2(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Qt(dr,dr.current),n)break;return null;case 22:case 23:return t.lanes=0,g2(e,t,r)}return cs(e,t,r)}var w2,_g,C2,S2;w2=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};_g=function(){};C2=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,Po(Li.current);var s=null;switch(r){case"input":i=Xp(e,i),n=Xp(e,n),s=[];break;case"select":i=gr({},i,{value:void 0}),n=gr({},n,{value:void 0}),s=[];break;case"textarea":i=Jp(e,i),n=Jp(e,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=fh)}tg(r,n);var o;r=null;for(c in i)if(!n.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Lc.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in n){var l=n[c];if(a=i!=null?i[c]:void 0,n.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(s||(s=[]),s.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Lc.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&nr("scroll",e),s||a===l||(s=[])):(s=s||[]).push(c,l))}r&&(s=s||[]).push("style",r);var c=s;(t.updateQueue=c)&&(t.flags|=4)}};S2=function(e,t,r,n){r!==n&&(t.flags|=4)};function Yl(e,t){if(!cr)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Yr(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function j6(e,t,r){var n=t.pendingProps;switch(Bv(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yr(t),null;case 1:return bn(t.type)&&ph(),Yr(t),null;case 3:return n=t.stateNode,ol(),or(yn),or(Jr),qv(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(nd(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,pi!==null&&(Ng(pi),pi=null))),_g(e,t),Yr(t),null;case 5:Kv(t);var i=Po(Yc.current);if(r=t.type,e!==null&&t.stateNode!=null)C2(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(We(166));return Yr(t),null}if(e=Po(Li.current),nd(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[Oi]=t,n[Kc]=s,e=(t.mode&1)!==0,r){case"dialog":nr("cancel",n),nr("close",n);break;case"iframe":case"object":case"embed":nr("load",n);break;case"video":case"audio":for(i=0;i<uc.length;i++)nr(uc[i],n);break;case"source":nr("error",n);break;case"img":case"image":case"link":nr("error",n),nr("load",n);break;case"details":nr("toggle",n);break;case"input":Wy(n,s),nr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},nr("invalid",n);break;case"textarea":Uy(n,s),nr("invalid",n)}tg(r,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?n.textContent!==a&&(s.suppressHydrationWarning!==!0&&rd(n.textContent,a,e),i=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&rd(n.textContent,a,e),i=["children",""+a]):Lc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&nr("scroll",n)}switch(r){case"input":qu(n),$y(n,s,!0);break;case"textarea":qu(n),Ky(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=fh)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=YC(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Oi]=t,e[Kc]=n,w2(e,t,!1,!1),t.stateNode=e;e:{switch(o=rg(r,n),r){case"dialog":nr("cancel",e),nr("close",e),i=n;break;case"iframe":case"object":case"embed":nr("load",e),i=n;break;case"video":case"audio":for(i=0;i<uc.length;i++)nr(uc[i],e);i=n;break;case"source":nr("error",e),i=n;break;case"img":case"image":case"link":nr("error",e),nr("load",e),i=n;break;case"details":nr("toggle",e),i=n;break;case"input":Wy(e,n),i=Xp(e,n),nr("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=gr({},n,{value:void 0}),nr("invalid",e);break;case"textarea":Uy(e,n),i=Jp(e,n),nr("invalid",e);break;default:i=n}tg(r,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?ZC(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&XC(e,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&jc(e,l):typeof l=="number"&&jc(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Lc.hasOwnProperty(s)?l!=null&&s==="onScroll"&&nr("scroll",e):l!=null&&Rv(e,s,l,o))}switch(r){case"input":qu(e),$y(e,n,!1);break;case"textarea":qu(e),Ky(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Qs(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?Ka(e,!!n.multiple,s,!1):n.defaultValue!=null&&Ka(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=fh)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Yr(t),null;case 6:if(e&&t.stateNode!=null)S2(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(We(166));if(r=Po(Yc.current),Po(Li.current),nd(t)){if(n=t.stateNode,r=t.memoizedProps,n[Oi]=t,(s=n.nodeValue!==r)&&(e=Fn,e!==null))switch(e.tag){case 3:rd(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&rd(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Oi]=t,t.stateNode=n}return Yr(t),null;case 13:if(or(dr),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(cr&&_n!==null&&t.mode&1&&!(t.flags&128))BS(),il(),t.flags|=98560,s=!1;else if(s=nd(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(We(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(We(317));s[Oi]=t}else il(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Yr(t),s=!1}else pi!==null&&(Ng(pi),pi=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||dr.current&1?Or===0&&(Or=3):o0())),t.updateQueue!==null&&(t.flags|=4),Yr(t),null);case 4:return ol(),_g(e,t),e===null&&$c(t.stateNode.containerInfo),Yr(t),null;case 10:return zv(t.type._context),Yr(t),null;case 17:return bn(t.type)&&ph(),Yr(t),null;case 19:if(or(dr),s=t.memoizedState,s===null)return Yr(t),null;if(n=(t.flags&128)!==0,o=s.rendering,o===null)if(n)Yl(s,!1);else{if(Or!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Ch(e),o!==null){for(t.flags|=128,Yl(s,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Qt(dr,dr.current&1|2),t.child}e=e.sibling}s.tail!==null&&xr()>ll&&(t.flags|=128,n=!0,Yl(s,!1),t.lanes=4194304)}else{if(!n)if(e=Ch(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Yl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!cr)return Yr(t),null}else 2*xr()-s.renderingStartTime>ll&&r!==1073741824&&(t.flags|=128,n=!0,Yl(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(r=s.last,r!==null?r.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=xr(),t.sibling=null,r=dr.current,Qt(dr,n?r&1|2:r&1),t):(Yr(t),null);case 22:case 23:return s0(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Pn&1073741824&&(Yr(t),t.subtreeFlags&6&&(t.flags|=8192)):Yr(t),null;case 24:return null;case 25:return null}throw Error(We(156,t.tag))}function B6(e,t){switch(Bv(t),t.tag){case 1:return bn(t.type)&&ph(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ol(),or(yn),or(Jr),qv(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Kv(t),null;case 13:if(or(dr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(We(340));il()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return or(dr),null;case 4:return ol(),null;case 10:return zv(t.type._context),null;case 22:case 23:return s0(),null;case 24:return null;default:return null}}var od=!1,Qr=!1,H6=typeof WeakSet=="function"?WeakSet:Set,nt=null;function Ia(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){vr(e,t,n)}else r.current=null}function Mg(e,t,r){try{r()}catch(n){vr(e,t,n)}}var Nb=!1;function G6(e,t){if(hg=uh,e=TS(),Lv(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,a=-1,l=-1,c=0,u=0,f=e,d=null;t:for(;;){for(var h;f!==r||i!==0&&f.nodeType!==3||(a=o+i),f!==s||n!==0&&f.nodeType!==3||(l=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(h=f.firstChild)!==null;)d=f,f=h;for(;;){if(f===e)break t;if(d===r&&++c===i&&(a=o),d===s&&++u===n&&(l=o),(h=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=h}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(fg={focusedElem:e,selectionRange:r},uh=!1,nt=t;nt!==null;)if(t=nt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,nt=e;else for(;nt!==null;){t=nt;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,p=g.memoizedState,y=t.stateNode,m=y.getSnapshotBeforeUpdate(t.elementType===t.type?v:ui(t.type,v),p);y.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(We(163))}}catch(x){vr(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,nt=e;break}nt=t.return}return g=Nb,Nb=!1,g}function Cc(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&Mg(t,r,s)}i=i.next}while(i!==n)}}function mf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function kg(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function x2(e){var t=e.alternate;t!==null&&(e.alternate=null,x2(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Oi],delete t[Kc],delete t[mg],delete t[x6],delete t[R6])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function R2(e){return e.tag===5||e.tag===3||e.tag===4}function Lb(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||R2(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Fg(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=fh));else if(n!==4&&(e=e.child,e!==null))for(Fg(e,t,r),e=e.sibling;e!==null;)Fg(e,t,r),e=e.sibling}function Ag(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Ag(e,t,r),e=e.sibling;e!==null;)Ag(e,t,r),e=e.sibling}var Vr=null,di=!1;function Rs(e,t,r){for(r=r.child;r!==null;)E2(e,t,r),r=r.sibling}function E2(e,t,r){if(Ni&&typeof Ni.onCommitFiberUnmount=="function")try{Ni.onCommitFiberUnmount(lf,r)}catch{}switch(r.tag){case 5:Qr||Ia(r,t);case 6:var n=Vr,i=di;Vr=null,Rs(e,t,r),Vr=n,di=i,Vr!==null&&(di?(e=Vr,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Vr.removeChild(r.stateNode));break;case 18:Vr!==null&&(di?(e=Vr,r=r.stateNode,e.nodeType===8?np(e.parentNode,r):e.nodeType===1&&np(e,r),Vc(e)):np(Vr,r.stateNode));break;case 4:n=Vr,i=di,Vr=r.stateNode.containerInfo,di=!0,Rs(e,t,r),Vr=n,di=i;break;case 0:case 11:case 14:case 15:if(!Qr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Mg(r,t,o),i=i.next}while(i!==n)}Rs(e,t,r);break;case 1:if(!Qr&&(Ia(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){vr(r,t,a)}Rs(e,t,r);break;case 21:Rs(e,t,r);break;case 22:r.mode&1?(Qr=(n=Qr)||r.memoizedState!==null,Rs(e,t,r),Qr=n):Rs(e,t,r);break;default:Rs(e,t,r)}}function jb(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new H6),t.forEach(function(n){var i=X6.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function oi(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Vr=a.stateNode,di=!1;break e;case 3:Vr=a.stateNode.containerInfo,di=!0;break e;case 4:Vr=a.stateNode.containerInfo,di=!0;break e}a=a.return}if(Vr===null)throw Error(We(160));E2(s,o,i),Vr=null,di=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){vr(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)T2(t,e),t=t.sibling}function T2(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(oi(t,e),Mi(e),n&4){try{Cc(3,e,e.return),mf(3,e)}catch(v){vr(e,e.return,v)}try{Cc(5,e,e.return)}catch(v){vr(e,e.return,v)}}break;case 1:oi(t,e),Mi(e),n&512&&r!==null&&Ia(r,r.return);break;case 5:if(oi(t,e),Mi(e),n&512&&r!==null&&Ia(r,r.return),e.flags&32){var i=e.stateNode;try{jc(i,"")}catch(v){vr(e,e.return,v)}}if(n&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=r!==null?r.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&KC(i,s),rg(a,o);var c=rg(a,s);for(o=0;o<l.length;o+=2){var u=l[o],f=l[o+1];u==="style"?ZC(i,f):u==="dangerouslySetInnerHTML"?XC(i,f):u==="children"?jc(i,f):Rv(i,u,f,c)}switch(a){case"input":Qp(i,s);break;case"textarea":qC(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var h=s.value;h!=null?Ka(i,!!s.multiple,h,!1):d!==!!s.multiple&&(s.defaultValue!=null?Ka(i,!!s.multiple,s.defaultValue,!0):Ka(i,!!s.multiple,s.multiple?[]:"",!1))}i[Kc]=s}catch(v){vr(e,e.return,v)}}break;case 6:if(oi(t,e),Mi(e),n&4){if(e.stateNode===null)throw Error(We(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(v){vr(e,e.return,v)}}break;case 3:if(oi(t,e),Mi(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Vc(t.containerInfo)}catch(v){vr(e,e.return,v)}break;case 4:oi(t,e),Mi(e);break;case 13:oi(t,e),Mi(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(n0=xr())),n&4&&jb(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(Qr=(c=Qr)||u,oi(t,e),Qr=c):oi(t,e),Mi(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(nt=e,u=e.child;u!==null;){for(f=nt=u;nt!==null;){switch(d=nt,h=d.child,d.tag){case 0:case 11:case 14:case 15:Cc(4,d,d.return);break;case 1:Ia(d,d.return);var g=d.stateNode;if(typeof g.componentWillUnmount=="function"){n=d,r=d.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(v){vr(n,r,v)}}break;case 5:Ia(d,d.return);break;case 22:if(d.memoizedState!==null){Hb(f);continue}}h!==null?(h.return=d,nt=h):Hb(f)}u=u.sibling}e:for(u=null,f=e;;){if(f.tag===5){if(u===null){u=f;try{i=f.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=QC("display",o))}catch(v){vr(e,e.return,v)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(v){vr(e,e.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:oi(t,e),Mi(e),n&4&&jb(e);break;case 21:break;default:oi(t,e),Mi(e)}}function Mi(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(R2(r)){var n=r;break e}r=r.return}throw Error(We(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(jc(i,""),n.flags&=-33);var s=Lb(e);Ag(e,s,i);break;case 3:case 4:var o=n.stateNode.containerInfo,a=Lb(e);Fg(e,a,o);break;default:throw Error(We(161))}}catch(l){vr(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function V6(e,t,r){nt=e,P2(e)}function P2(e,t,r){for(var n=(e.mode&1)!==0;nt!==null;){var i=nt,s=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||od;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Qr;a=od;var c=Qr;if(od=o,(Qr=l)&&!c)for(nt=i;nt!==null;)o=nt,l=o.child,o.tag===22&&o.memoizedState!==null?Gb(i):l!==null?(l.return=o,nt=l):Gb(i);for(;s!==null;)nt=s,P2(s),s=s.sibling;nt=i,od=a,Qr=c}Bb(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,nt=s):Bb(e)}}function Bb(e){for(;nt!==null;){var t=nt;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Qr||mf(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Qr)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:ui(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Sb(t,s,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Sb(t,o,r)}break;case 5:var a=t.stateNode;if(r===null&&t.flags&4){r=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&Vc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(We(163))}Qr||t.flags&512&&kg(t)}catch(d){vr(t,t.return,d)}}if(t===e){nt=null;break}if(r=t.sibling,r!==null){r.return=t.return,nt=r;break}nt=t.return}}function Hb(e){for(;nt!==null;){var t=nt;if(t===e){nt=null;break}var r=t.sibling;if(r!==null){r.return=t.return,nt=r;break}nt=t.return}}function Gb(e){for(;nt!==null;){var t=nt;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{mf(4,t)}catch(l){vr(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(l){vr(t,i,l)}}var s=t.return;try{kg(t)}catch(l){vr(t,s,l)}break;case 5:var o=t.return;try{kg(t)}catch(l){vr(t,o,l)}}}catch(l){vr(t,t.return,l)}if(t===e){nt=null;break}var a=t.sibling;if(a!==null){a.return=t.return,nt=a;break}nt=t.return}}var z6=Math.ceil,Rh=gs.ReactCurrentDispatcher,t0=gs.ReactCurrentOwner,Yn=gs.ReactCurrentBatchConfig,Bt=0,jr=null,kr=null,zr=0,Pn=0,Na=oo(0),Or=0,Jc=null,zo=0,vf=0,r0=0,Sc=null,pn=null,n0=0,ll=1/0,qi=null,Eh=!1,Og=null,Ks=null,ad=!1,Ls=null,Th=0,xc=0,Dg=null,Wd=-1,$d=0;function cn(){return Bt&6?xr():Wd!==-1?Wd:Wd=xr()}function qs(e){return e.mode&1?Bt&2&&zr!==0?zr&-zr:T6.transition!==null?($d===0&&($d=uS()),$d):(e=qt,e!==0||(e=window.event,e=e===void 0?16:vS(e.type)),e):1}function Ri(e,t,r,n){if(50<xc)throw xc=0,Dg=null,Error(We(185));bu(e,r,n),(!(Bt&2)||e!==jr)&&(e===jr&&(!(Bt&2)&&(vf|=r),Or===4&&Is(e,zr)),wn(e,n),r===1&&Bt===0&&!(t.mode&1)&&(ll=xr()+500,ff&&ao()))}function wn(e,t){var r=e.callbackNode;TE(e,t);var n=ch(e,e===jr?zr:0);if(n===0)r!==null&&Xy(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Xy(r),t===1)e.tag===0?E6(Vb.bind(null,e)):NS(Vb.bind(null,e)),C6(function(){!(Bt&6)&&ao()}),r=null;else{switch(dS(n)){case 1:r=Mv;break;case 4:r=lS;break;case 16:r=lh;break;case 536870912:r=cS;break;default:r=lh}r=I2(r,_2.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function _2(e,t){if(Wd=-1,$d=0,Bt&6)throw Error(We(327));var r=e.callbackNode;if(Za()&&e.callbackNode!==r)return null;var n=ch(e,e===jr?zr:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Ph(e,n);else{t=n;var i=Bt;Bt|=2;var s=k2();(jr!==e||zr!==t)&&(qi=null,ll=xr()+500,Ao(e,t));do try{U6();break}catch(a){M2(e,a)}while(1);Vv(),Rh.current=s,Bt=i,kr!==null?t=0:(jr=null,zr=0,t=Or)}if(t!==0){if(t===2&&(i=ag(e),i!==0&&(n=i,t=Ig(e,i))),t===1)throw r=Jc,Ao(e,0),Is(e,n),wn(e,xr()),r;if(t===6)Is(e,n);else{if(i=e.current.alternate,!(n&30)&&!W6(i)&&(t=Ph(e,n),t===2&&(s=ag(e),s!==0&&(n=s,t=Ig(e,s))),t===1))throw r=Jc,Ao(e,0),Is(e,n),wn(e,xr()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(We(345));case 2:vo(e,pn,qi);break;case 3:if(Is(e,n),(n&130023424)===n&&(t=n0+500-xr(),10<t)){if(ch(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){cn(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=gg(vo.bind(null,e,pn,qi),t);break}vo(e,pn,qi);break;case 4:if(Is(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var o=31-xi(n);s=1<<o,o=t[o],o>i&&(i=o),n&=~s}if(n=i,n=xr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*z6(n/1960))-n,10<n){e.timeoutHandle=gg(vo.bind(null,e,pn,qi),n);break}vo(e,pn,qi);break;case 5:vo(e,pn,qi);break;default:throw Error(We(329))}}}return wn(e,xr()),e.callbackNode===r?_2.bind(null,e):null}function Ig(e,t){var r=Sc;return e.current.memoizedState.isDehydrated&&(Ao(e,t).flags|=256),e=Ph(e,t),e!==2&&(t=pn,pn=r,t!==null&&Ng(t)),e}function Ng(e){pn===null?pn=e:pn.push.apply(pn,e)}function W6(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!Ti(s(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Is(e,t){for(t&=~r0,t&=~vf,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-xi(t),n=1<<r;e[r]=-1,t&=~n}}function Vb(e){if(Bt&6)throw Error(We(327));Za();var t=ch(e,0);if(!(t&1))return wn(e,xr()),null;var r=Ph(e,t);if(e.tag!==0&&r===2){var n=ag(e);n!==0&&(t=n,r=Ig(e,n))}if(r===1)throw r=Jc,Ao(e,0),Is(e,t),wn(e,xr()),r;if(r===6)throw Error(We(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,vo(e,pn,qi),wn(e,xr()),null}function i0(e,t){var r=Bt;Bt|=1;try{return e(t)}finally{Bt=r,Bt===0&&(ll=xr()+500,ff&&ao())}}function Wo(e){Ls!==null&&Ls.tag===0&&!(Bt&6)&&Za();var t=Bt;Bt|=1;var r=Yn.transition,n=qt;try{if(Yn.transition=null,qt=1,e)return e()}finally{qt=n,Yn.transition=r,Bt=t,!(Bt&6)&&ao()}}function s0(){Pn=Na.current,or(Na)}function Ao(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,w6(r)),kr!==null)for(r=kr.return;r!==null;){var n=r;switch(Bv(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&ph();break;case 3:ol(),or(yn),or(Jr),qv();break;case 5:Kv(n);break;case 4:ol();break;case 13:or(dr);break;case 19:or(dr);break;case 10:zv(n.type._context);break;case 22:case 23:s0()}r=r.return}if(jr=e,kr=e=Ys(e.current,null),zr=Pn=t,Or=0,Jc=null,r0=vf=zo=0,pn=Sc=null,To!==null){for(t=0;t<To.length;t++)if(r=To[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=i,n.next=o}r.pending=n}To=null}return e}function M2(e,t){do{var r=kr;try{if(Vv(),Gd.current=xh,Sh){for(var n=pr.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Sh=!1}if(Vo=0,Lr=Ar=pr=null,wc=!1,Xc=0,t0.current=null,r===null||r.return===null){Or=1,Jc=t,kr=null;break}e:{var s=e,o=r.return,a=r,l=t;if(t=zr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var d=u.alternate;d?(u.updateQueue=d.updateQueue,u.memoizedState=d.memoizedState,u.lanes=d.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=Mb(o);if(h!==null){h.flags&=-257,kb(h,o,a,s,t),h.mode&1&&_b(s,c,t),t=h,l=c;var g=t.updateQueue;if(g===null){var v=new Set;v.add(l),t.updateQueue=v}else g.add(l);break e}else{if(!(t&1)){_b(s,c,t),o0();break e}l=Error(We(426))}}else if(cr&&a.mode&1){var p=Mb(o);if(p!==null){!(p.flags&65536)&&(p.flags|=256),kb(p,o,a,s,t),Hv(al(l,a));break e}}s=l=al(l,a),Or!==4&&(Or=2),Sc===null?Sc=[s]:Sc.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var y=h2(s,l,t);Cb(s,y);break e;case 1:a=l;var m=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof m.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Ks===null||!Ks.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t;var x=f2(s,a,t);Cb(s,x);break e}}s=s.return}while(s!==null)}A2(r)}catch(P){t=P,kr===r&&r!==null&&(kr=r=r.return);continue}break}while(1)}function k2(){var e=Rh.current;return Rh.current=xh,e===null?xh:e}function o0(){(Or===0||Or===3||Or===2)&&(Or=4),jr===null||!(zo&268435455)&&!(vf&268435455)||Is(jr,zr)}function Ph(e,t){var r=Bt;Bt|=2;var n=k2();(jr!==e||zr!==t)&&(qi=null,Ao(e,t));do try{$6();break}catch(i){M2(e,i)}while(1);if(Vv(),Bt=r,Rh.current=n,kr!==null)throw Error(We(261));return jr=null,zr=0,Or}function $6(){for(;kr!==null;)F2(kr)}function U6(){for(;kr!==null&&!vE();)F2(kr)}function F2(e){var t=D2(e.alternate,e,Pn);e.memoizedProps=e.pendingProps,t===null?A2(e):kr=t,t0.current=null}function A2(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=B6(r,t),r!==null){r.flags&=32767,kr=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Or=6,kr=null;return}}else if(r=j6(r,t,Pn),r!==null){kr=r;return}if(t=t.sibling,t!==null){kr=t;return}kr=t=e}while(t!==null);Or===0&&(Or=5)}function vo(e,t,r){var n=qt,i=Yn.transition;try{Yn.transition=null,qt=1,K6(e,t,r,n)}finally{Yn.transition=i,qt=n}return null}function K6(e,t,r,n){do Za();while(Ls!==null);if(Bt&6)throw Error(We(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(We(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(PE(e,s),e===jr&&(kr=jr=null,zr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ad||(ad=!0,I2(lh,function(){return Za(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Yn.transition,Yn.transition=null;var o=qt;qt=1;var a=Bt;Bt|=4,t0.current=null,G6(e,r),T2(r,e),f6(fg),uh=!!hg,fg=hg=null,e.current=r,V6(r),yE(),Bt=a,qt=o,Yn.transition=s}else e.current=r;if(ad&&(ad=!1,Ls=e,Th=i),s=e.pendingLanes,s===0&&(Ks=null),CE(r.stateNode),wn(e,xr()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Eh)throw Eh=!1,e=Og,Og=null,e;return Th&1&&e.tag!==0&&Za(),s=e.pendingLanes,s&1?e===Dg?xc++:(xc=0,Dg=e):xc=0,ao(),null}function Za(){if(Ls!==null){var e=dS(Th),t=Yn.transition,r=qt;try{if(Yn.transition=null,qt=16>e?16:e,Ls===null)var n=!1;else{if(e=Ls,Ls=null,Th=0,Bt&6)throw Error(We(331));var i=Bt;for(Bt|=4,nt=e.current;nt!==null;){var s=nt,o=s.child;if(nt.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(nt=c;nt!==null;){var u=nt;switch(u.tag){case 0:case 11:case 15:Cc(8,u,s)}var f=u.child;if(f!==null)f.return=u,nt=f;else for(;nt!==null;){u=nt;var d=u.sibling,h=u.return;if(x2(u),u===c){nt=null;break}if(d!==null){d.return=h,nt=d;break}nt=h}}}var g=s.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var p=v.sibling;v.sibling=null,v=p}while(v!==null)}}nt=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,nt=o;else e:for(;nt!==null;){if(s=nt,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Cc(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,nt=y;break e}nt=s.return}}var m=e.current;for(nt=m;nt!==null;){o=nt;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,nt=b;else e:for(o=m;nt!==null;){if(a=nt,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:mf(9,a)}}catch(P){vr(a,a.return,P)}if(a===o){nt=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,nt=x;break e}nt=a.return}}if(Bt=i,ao(),Ni&&typeof Ni.onPostCommitFiberRoot=="function")try{Ni.onPostCommitFiberRoot(lf,e)}catch{}n=!0}return n}finally{qt=r,Yn.transition=t}}return!1}function zb(e,t,r){t=al(r,t),t=h2(e,t,1),e=Us(e,t,1),t=cn(),e!==null&&(bu(e,1,t),wn(e,t))}function vr(e,t,r){if(e.tag===3)zb(e,e,r);else for(;t!==null;){if(t.tag===3){zb(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ks===null||!Ks.has(n))){e=al(r,e),e=f2(t,e,1),t=Us(t,e,1),e=cn(),t!==null&&(bu(t,1,e),wn(t,e));break}}t=t.return}}function q6(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=cn(),e.pingedLanes|=e.suspendedLanes&r,jr===e&&(zr&r)===r&&(Or===4||Or===3&&(zr&130023424)===zr&&500>xr()-n0?Ao(e,0):r0|=r),wn(e,t)}function O2(e,t){t===0&&(e.mode&1?(t=Qu,Qu<<=1,!(Qu&130023424)&&(Qu=4194304)):t=1);var r=cn();e=ls(e,t),e!==null&&(bu(e,t,r),wn(e,r))}function Y6(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),O2(e,r)}function X6(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(We(314))}n!==null&&n.delete(t),O2(e,r)}var D2;D2=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||yn.current)gn=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return gn=!1,L6(e,t,r);gn=!!(e.flags&131072)}else gn=!1,cr&&t.flags&1048576&&LS(t,vh,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;zd(e,t),e=t.pendingProps;var i=nl(t,Jr.current);Qa(t,r),i=Xv(null,t,n,e,i,r);var s=Qv();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,bn(n)?(s=!0,gh(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,$v(t),i.updater=pf,t.stateNode=i,i._reactInternals=t,Sg(t,n,e,r),t=Eg(null,t,n,!0,s,r)):(t.tag=0,cr&&s&&jv(t),nn(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(zd(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=Z6(n),e=ui(n,e),i){case 0:t=Rg(null,t,n,e,r);break e;case 1:t=Ob(null,t,n,e,r);break e;case 11:t=Fb(null,t,n,e,r);break e;case 14:t=Ab(null,t,n,ui(n.type,e),r);break e}throw Error(We(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:ui(n,i),Rg(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:ui(n,i),Ob(e,t,n,i,r);case 3:e:{if(v2(t),e===null)throw Error(We(387));n=t.pendingProps,s=t.memoizedState,i=s.element,GS(e,t),wh(t,n,null,r);var o=t.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=al(Error(We(423)),t),t=Db(e,t,n,r,i);break e}else if(n!==i){i=al(Error(We(424)),t),t=Db(e,t,n,r,i);break e}else for(_n=$s(t.stateNode.containerInfo.firstChild),Fn=t,cr=!0,pi=null,r=$S(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(il(),n===i){t=cs(e,t,r);break e}nn(e,t,n,r)}t=t.child}return t;case 5:return US(t),e===null&&bg(t),n=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,pg(n,i)?o=null:s!==null&&pg(n,s)&&(t.flags|=32),m2(e,t),nn(e,t,o,r),t.child;case 6:return e===null&&bg(t),null;case 13:return y2(e,t,r);case 4:return Uv(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=sl(t,null,n,r):nn(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:ui(n,i),Fb(e,t,n,i,r);case 7:return nn(e,t,t.pendingProps,r),t.child;case 8:return nn(e,t,t.pendingProps.children,r),t.child;case 12:return nn(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,Qt(yh,n._currentValue),n._currentValue=o,s!==null)if(Ti(s.value,o)){if(s.children===i.children&&!yn.current){t=cs(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=ts(-1,r&-r),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),wg(s.return,r,t),a.lanes|=r;break}l=l.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(We(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),wg(o,r,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}nn(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,Qa(t,r),i=ei(i),n=n(i),t.flags|=1,nn(e,t,n,r),t.child;case 14:return n=t.type,i=ui(n,t.pendingProps),i=ui(n.type,i),Ab(e,t,n,i,r);case 15:return p2(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:ui(n,i),zd(e,t),t.tag=1,bn(n)?(e=!0,gh(t)):e=!1,Qa(t,r),zS(t,n,i),Sg(t,n,i,r),Eg(null,t,n,!0,e,r);case 19:return b2(e,t,r);case 22:return g2(e,t,r)}throw Error(We(156,t.tag))};function I2(e,t){return aS(e,t)}function Q6(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Un(e,t,r,n){return new Q6(e,t,r,n)}function a0(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Z6(e){if(typeof e=="function")return a0(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Tv)return 11;if(e===Pv)return 14}return 2}function Ys(e,t){var r=e.alternate;return r===null?(r=Un(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ud(e,t,r,n,i,s){var o=2;if(n=e,typeof e=="function")a0(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Ta:return Oo(r.children,i,s,t);case Ev:o=8,i|=8;break;case Up:return e=Un(12,r,t,i|2),e.elementType=Up,e.lanes=s,e;case Kp:return e=Un(13,r,t,i),e.elementType=Kp,e.lanes=s,e;case qp:return e=Un(19,r,t,i),e.elementType=qp,e.lanes=s,e;case WC:return yf(r,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case VC:o=10;break e;case zC:o=9;break e;case Tv:o=11;break e;case Pv:o=14;break e;case Fs:o=16,n=null;break e}throw Error(We(130,e==null?e:typeof e,""))}return t=Un(o,r,t,i),t.elementType=e,t.type=n,t.lanes=s,t}function Oo(e,t,r,n){return e=Un(7,e,n,t),e.lanes=r,e}function yf(e,t,r,n){return e=Un(22,e,n,t),e.elementType=WC,e.lanes=r,e.stateNode={isHidden:!1},e}function dp(e,t,r){return e=Un(6,e,null,t),e.lanes=r,e}function hp(e,t,r){return t=Un(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function J6(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Uf(0),this.expirationTimes=Uf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Uf(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function l0(e,t,r,n,i,s,o,a,l){return e=new J6(e,t,r,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Un(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},$v(s),e}function e5(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ea,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function N2(e){if(!e)return Zs;e=e._reactInternals;e:{if(Zo(e)!==e||e.tag!==1)throw Error(We(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(bn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(We(171))}if(e.tag===1){var r=e.type;if(bn(r))return IS(e,r,t)}return t}function L2(e,t,r,n,i,s,o,a,l){return e=l0(r,n,!0,e,i,s,o,a,l),e.context=N2(null),r=e.current,n=cn(),i=qs(r),s=ts(n,i),s.callback=t??null,Us(r,s,i),e.current.lanes=i,bu(e,i,n),wn(e,n),e}function bf(e,t,r,n){var i=t.current,s=cn(),o=qs(i);return r=N2(r),t.context===null?t.context=r:t.pendingContext=r,t=ts(s,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Us(i,t,o),e!==null&&(Ri(e,i,o,s),Hd(e,i,o)),o}function _h(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Wb(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function c0(e,t){Wb(e,t),(e=e.alternate)&&Wb(e,t)}function t5(){return null}var j2=typeof reportError=="function"?reportError:function(e){console.error(e)};function u0(e){this._internalRoot=e}wf.prototype.render=u0.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(We(409));bf(e,t,null,null)};wf.prototype.unmount=u0.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Wo(function(){bf(null,e,null,null)}),t[as]=null}};function wf(e){this._internalRoot=e}wf.prototype.unstable_scheduleHydration=function(e){if(e){var t=pS();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Ds.length&&t!==0&&t<Ds[r].priority;r++);Ds.splice(r,0,e),r===0&&mS(e)}};function d0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Cf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function $b(){}function r5(e,t,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var c=_h(o);s.call(c)}}var o=L2(t,n,e,0,null,!1,!1,"",$b);return e._reactRootContainer=o,e[as]=o.current,$c(e.nodeType===8?e.parentNode:e),Wo(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var a=n;n=function(){var c=_h(l);a.call(c)}}var l=l0(e,0,!1,null,null,!1,!1,"",$b);return e._reactRootContainer=l,e[as]=l.current,$c(e.nodeType===8?e.parentNode:e),Wo(function(){bf(t,l,r,n)}),l}function Sf(e,t,r,n,i){var s=r._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=_h(o);a.call(l)}}bf(t,o,e,i)}else o=r5(r,t,e,i,n);return _h(o)}hS=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=cc(t.pendingLanes);r!==0&&(kv(t,r|1),wn(t,xr()),!(Bt&6)&&(ll=xr()+500,ao()))}break;case 13:Wo(function(){var n=ls(e,1);if(n!==null){var i=cn();Ri(n,e,1,i)}}),c0(e,1)}};Fv=function(e){if(e.tag===13){var t=ls(e,134217728);if(t!==null){var r=cn();Ri(t,e,134217728,r)}c0(e,134217728)}};fS=function(e){if(e.tag===13){var t=qs(e),r=ls(e,t);if(r!==null){var n=cn();Ri(r,e,t,n)}c0(e,t)}};pS=function(){return qt};gS=function(e,t){var r=qt;try{return qt=e,t()}finally{qt=r}};ig=function(e,t,r){switch(t){case"input":if(Qp(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=hf(n);if(!i)throw Error(We(90));UC(n),Qp(n,i)}}}break;case"textarea":qC(e,r);break;case"select":t=r.value,t!=null&&Ka(e,!!r.multiple,t,!1)}};tS=i0;rS=Wo;var n5={usingClientEntryPoint:!1,Events:[Cu,ka,hf,JC,eS,i0]},Xl={findFiberByHostInstance:Eo,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},i5={bundleType:Xl.bundleType,version:Xl.version,rendererPackageName:Xl.rendererPackageName,rendererConfig:Xl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:gs.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=sS(e),e===null?null:e.stateNode},findFiberByHostInstance:Xl.findFiberByHostInstance||t5,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ld=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ld.isDisabled&&ld.supportsFiber)try{lf=ld.inject(i5),Ni=ld}catch{}}In.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=n5;In.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d0(t))throw Error(We(200));return e5(e,t,null,r)};In.createRoot=function(e,t){if(!d0(e))throw Error(We(299));var r=!1,n="",i=j2;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=l0(e,1,!1,null,null,r,!1,n,i),e[as]=t.current,$c(e.nodeType===8?e.parentNode:e),new u0(t)};In.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(We(188)):(e=Object.keys(e).join(","),Error(We(268,e)));return e=sS(t),e=e===null?null:e.stateNode,e};In.flushSync=function(e){return Wo(e)};In.hydrate=function(e,t,r){if(!Cf(t))throw Error(We(200));return Sf(null,e,t,!0,r)};In.hydrateRoot=function(e,t,r){if(!d0(e))throw Error(We(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",o=j2;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=L2(t,null,e,1,r??null,i,!1,s,o),e[as]=t.current,$c(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new wf(t)};In.render=function(e,t,r){if(!Cf(t))throw Error(We(200));return Sf(null,e,t,!1,r)};In.unmountComponentAtNode=function(e){if(!Cf(e))throw Error(We(40));return e._reactRootContainer?(Wo(function(){Sf(null,null,e,!1,function(){e._reactRootContainer=null,e[as]=null})}),!0):!1};In.unstable_batchedUpdates=i0;In.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Cf(r))throw Error(We(200));if(e==null||e._reactInternals===void 0)throw Error(We(38));return Sf(e,t,r,!1,n)};In.version="18.2.0-next-9e3b772b8-20220608";function B2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(B2)}catch(e){console.error(e)}}B2(),LC.exports=In;var xu=LC.exports;const es=io(xu);var Ub=xu;Wp.createRoot=Ub.createRoot,Wp.hydrateRoot=Ub.hydrateRoot;/**
 * @remix-run/router v1.9.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ur(){return ur=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ur.apply(this,arguments)}var Tr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Tr||(Tr={}));const Kb="popstate";function s5(e){e===void 0&&(e={});function t(i,s){let{pathname:o="/",search:a="",hash:l=""}=zi(i.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),eu("",{pathname:o,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(i,s){let o=i.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=i.location.href,c=l.indexOf("#");a=c===-1?l:l.slice(0,c)}return a+"#"+(typeof s=="string"?s:Uo(s))}function n(i,s){$o(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return a5(t,r,n,e)}function At(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function $o(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function o5(){return Math.random().toString(36).substr(2,8)}function qb(e,t){return{usr:e.state,key:e.key,idx:t}}function eu(e,t,r,n){return r===void 0&&(r=null),ur({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?zi(t):t,{state:r,key:t&&t.key||n||o5()})}function Uo(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function zi(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function a5(e,t,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,o=i.history,a=Tr.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(ur({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function f(){a=Tr.Pop;let p=u(),y=p==null?null:p-c;c=p,l&&l({action:a,location:v.location,delta:y})}function d(p,y){a=Tr.Push;let m=eu(v.location,p,y);r&&r(m,p),c=u()+1;let b=qb(m,c),x=v.createHref(m);try{o.pushState(b,"",x)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;i.location.assign(x)}s&&l&&l({action:a,location:v.location,delta:1})}function h(p,y){a=Tr.Replace;let m=eu(v.location,p,y);r&&r(m,p),c=u();let b=qb(m,c),x=v.createHref(m);o.replaceState(b,"",x),s&&l&&l({action:a,location:v.location,delta:0})}function g(p){let y=i.location.origin!=="null"?i.location.origin:i.location.href,m=typeof p=="string"?p:Uo(p);return At(y,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,y)}let v={get action(){return a},get location(){return e(i,o)},listen(p){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Kb,f),l=p,()=>{i.removeEventListener(Kb,f),l=null}},createHref(p){return t(i,p)},createURL:g,encodeLocation(p){let y=g(p);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:d,replace:h,go(p){return o.go(p)}};return v}var wr;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(wr||(wr={}));const l5=new Set(["lazy","caseSensitive","path","id","index","children"]);function c5(e){return e.index===!0}function Lg(e,t,r,n){return r===void 0&&(r=[]),n===void 0&&(n={}),e.map((i,s)=>{let o=[...r,s],a=typeof i.id=="string"?i.id:o.join("-");if(At(i.index!==!0||!i.children,"Cannot specify children on an index route"),At(!n[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),c5(i)){let l=ur({},i,t(i),{id:a});return n[a]=l,l}else{let l=ur({},i,t(i),{id:a,children:void 0});return n[a]=l,i.children&&(l.children=Lg(i.children,t,o,n)),l}})}function La(e,t,r){r===void 0&&(r="/");let n=typeof t=="string"?zi(t):t,i=El(n.pathname||"/",r);if(i==null)return null;let s=H2(e);d5(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=w5(s[a],x5(i));return o}function u5(e,t){let{route:r,pathname:n,params:i}=e;return{id:r.id,pathname:n,params:i,data:t[r.id],handle:r.handle}}function H2(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(At(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let c=rs([n,l.relativePath]),u=r.concat(l);s.children&&s.children.length>0&&(At(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),H2(s.children,t,u,c)),!(s.path==null&&!s.index)&&t.push({path:c,score:y5(c,s.index),routesMeta:u})};return e.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of G2(s.path))i(s,o,l)}),t}function G2(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let o=G2(n.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function d5(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:b5(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const h5=/^:\w+$/,f5=3,p5=2,g5=1,m5=10,v5=-2,Yb=e=>e==="*";function y5(e,t){let r=e.split("/"),n=r.length;return r.some(Yb)&&(n+=v5),t&&(n+=p5),r.filter(i=>!Yb(i)).reduce((i,s)=>i+(h5.test(s)?f5:s===""?g5:m5),n)}function b5(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function w5(e,t){let{routesMeta:r}=e,n={},i="/",s=[];for(let o=0;o<r.length;++o){let a=r[o],l=o===r.length-1,c=i==="/"?t:t.slice(i.length)||"/",u=C5({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!u)return null;Object.assign(n,u.params);let f=a.route;s.push({params:n,pathname:rs([i,u.pathname]),pathnameBase:P5(rs([i,u.pathnameBase])),route:f}),u.pathnameBase!=="/"&&(i=rs([i,u.pathnameBase]))}return s}function C5(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=S5(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:n.reduce((c,u,f)=>{if(u==="*"){let d=a[f]||"";o=s.slice(0,s.length-d.length).replace(/(.)\/+$/,"$1")}return c[u]=R5(a[f]||"",u),c},{}),pathname:s,pathnameBase:o,pattern:e}}function S5(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),$o(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(n.push(a),"/([^\\/]+)"));return e.endsWith("*")?(n.push("*"),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function x5(e){try{return decodeURI(e)}catch(t){return $o(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function R5(e,t){try{return decodeURIComponent(e)}catch(r){return $o(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+r+").")),e}}function El(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function E5(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?zi(e):e;return{pathname:r?r.startsWith("/")?r:T5(r,t):t,search:_5(n),hash:M5(i)}}function T5(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function fp(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function xf(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function h0(e,t,r,n){n===void 0&&(n=!1);let i;typeof e=="string"?i=zi(e):(i=ur({},e),At(!i.pathname||!i.pathname.includes("?"),fp("?","pathname","search",i)),At(!i.pathname||!i.pathname.includes("#"),fp("#","pathname","hash",i)),At(!i.search||!i.search.includes("#"),fp("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,a;if(n||o==null)a=r;else{let f=t.length-1;if(o.startsWith("..")){let d=o.split("/");for(;d[0]==="..";)d.shift(),f-=1;i.pathname=d.join("/")}a=f>=0?t[f]:"/"}let l=E5(i,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const rs=e=>e.join("/").replace(/\/\/+/g,"/"),P5=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),_5=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,M5=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class f0{constructor(t,r,n,i){i===void 0&&(i=!1),this.status=t,this.statusText=r||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}}function V2(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const z2=["post","put","patch","delete"],k5=new Set(z2),F5=["get",...z2],A5=new Set(F5),O5=new Set([301,302,303,307,308]),D5=new Set([307,308]),pp={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},I5={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ql={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},W2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,N5=e=>({hasErrorBoundary:!!e.hasErrorBoundary});function L5(e){const t=e.window?e.window:typeof window<"u"?window:void 0,r=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u",n=!r;At(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(e.mapRouteProperties)i=e.mapRouteProperties;else if(e.detectErrorBoundary){let ae=e.detectErrorBoundary;i=ce=>({hasErrorBoundary:ae(ce)})}else i=N5;let s={},o=Lg(e.routes,i,void 0,s),a,l=e.basename||"/",c=ur({v7_normalizeFormMethod:!1,v7_prependBasename:!1},e.future),u=null,f=new Set,d=null,h=null,g=null,v=e.hydrationData!=null,p=La(o,e.history.location,l),y=null;if(p==null){let ae=Gn(404,{pathname:e.history.location.pathname}),{matches:ce,route:be}=n1(o);p=ce,y={[be.id]:ae}}let m=!p.some(ae=>ae.route.lazy)&&(!p.some(ae=>ae.route.loader)||e.hydrationData!=null),b,x={historyAction:e.history.action,location:e.history.location,matches:p,initialized:m,navigation:pp,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||y,fetchers:new Map,blockers:new Map},P=Tr.Pop,F=!1,D,O=!1,j=!1,H=[],W=[],G=new Map,M=0,k=-1,E=new Map,w=new Set,C=new Map,S=new Map,R=new Map,_=!1;function N(){return u=e.history.listen(ae=>{let{action:ce,location:be,delta:ve}=ae;if(_){_=!1;return}$o(R.size===0||ve!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let qe=Le({currentLocation:x.location,nextLocation:be,historyAction:ce});if(qe&&ve!=null){_=!0,e.history.go(ve*-1),De(qe,{state:"blocked",location:be,proceed(){De(qe,{state:"proceeding",proceed:void 0,reset:void 0,location:be}),e.history.go(ve)},reset(){let Ce=new Map(x.blockers);Ce.set(qe,Ql),$({blockers:Ce})}});return}return I(ce,be)}),x.initialized||I(Tr.Pop,x.location),b}function B(){u&&u(),f.clear(),D&&D.abort(),x.fetchers.forEach((ae,ce)=>ne(ce)),x.blockers.forEach((ae,ce)=>Fe(ce))}function V(ae){return f.add(ae),()=>f.delete(ae)}function $(ae){x=ur({},x,ae),f.forEach(ce=>ce(x))}function Y(ae,ce){var be,ve;let qe=x.actionData!=null&&x.navigation.formMethod!=null&&hi(x.navigation.formMethod)&&x.navigation.state==="loading"&&((be=ae.state)==null?void 0:be._isRedirect)!==!0,Ce;ce.actionData?Object.keys(ce.actionData).length>0?Ce=ce.actionData:Ce=null:qe?Ce=x.actionData:Ce=null;let Ne=ce.loaderData?r1(x.loaderData,ce.loaderData,ce.matches||[],ce.errors):x.loaderData,Ue=x.blockers;Ue.size>0&&(Ue=new Map(Ue),Ue.forEach((Ee,yt)=>Ue.set(yt,Ql)));let Ge=F===!0||x.navigation.formMethod!=null&&hi(x.navigation.formMethod)&&((ve=ae.state)==null?void 0:ve._isRedirect)!==!0;a&&(o=a,a=void 0),O||P===Tr.Pop||(P===Tr.Push?e.history.push(ae,ae.state):P===Tr.Replace&&e.history.replace(ae,ae.state)),$(ur({},ce,{actionData:Ce,loaderData:Ne,historyAction:P,location:ae,initialized:!0,navigation:pp,revalidation:"idle",restoreScrollPosition:Pe(ae,ce.matches||x.matches),preventScrollReset:Ge,blockers:Ue})),P=Tr.Pop,F=!1,O=!1,j=!1,H=[],W=[]}async function L(ae,ce){if(typeof ae=="number"){e.history.go(ae);return}let be=jg(x.location,x.matches,l,c.v7_prependBasename,ae,ce==null?void 0:ce.fromRouteId,ce==null?void 0:ce.relative),{path:ve,submission:qe,error:Ce}=Xb(c.v7_normalizeFormMethod,!1,be,ce),Ne=x.location,Ue=eu(x.location,ve,ce&&ce.state);Ue=ur({},Ue,e.history.encodeLocation(Ue));let Ge=ce&&ce.replace!=null?ce.replace:void 0,Ee=Tr.Push;Ge===!0?Ee=Tr.Replace:Ge===!1||qe!=null&&hi(qe.formMethod)&&qe.formAction===x.location.pathname+x.location.search&&(Ee=Tr.Replace);let yt=ce&&"preventScrollReset"in ce?ce.preventScrollReset===!0:void 0,oe=Le({currentLocation:Ne,nextLocation:Ue,historyAction:Ee});if(oe){De(oe,{state:"blocked",location:Ue,proceed(){De(oe,{state:"proceeding",proceed:void 0,reset:void 0,location:Ue}),L(ae,ce)},reset(){let _e=new Map(x.blockers);_e.set(oe,Ql),$({blockers:_e})}});return}return await I(Ee,Ue,{submission:qe,pendingError:Ce,preventScrollReset:yt,replace:ce&&ce.replace})}function K(){if(Q(),$({revalidation:"loading"}),x.navigation.state!=="submitting"){if(x.navigation.state==="idle"){I(x.historyAction,x.location,{startUninterruptedRevalidation:!0});return}I(P||x.historyAction,x.navigation.location,{overrideNavigation:x.navigation})}}async function I(ae,ce,be){D&&D.abort(),D=null,P=ae,O=(be&&be.startUninterruptedRevalidation)===!0,rt(x.location,x.matches),F=(be&&be.preventScrollReset)===!0;let ve=a||o,qe=be&&be.overrideNavigation,Ce=La(ve,ce,l);if(!Ce){let _e=Gn(404,{pathname:ce.pathname}),{matches:Ve,route:ft}=n1(ve);He(),Y(ce,{matches:Ve,loaderData:{},errors:{[ft.id]:_e}});return}if(x.initialized&&!j&&V5(x.location,ce)&&!(be&&be.submission&&hi(be.submission.formMethod))){Y(ce,{matches:Ce});return}D=new AbortController;let Ne=Jl(e.history,ce,D.signal,be&&be.submission),Ue,Ge;if(be&&be.pendingError)Ge={[ja(Ce).route.id]:be.pendingError};else if(be&&be.submission&&hi(be.submission.formMethod)){let _e=await A(Ne,ce,be.submission,Ce,{replace:be.replace});if(_e.shortCircuited)return;Ue=_e.pendingActionData,Ge=_e.pendingActionError,qe=gp(ce,be.submission),Ne=new Request(Ne.url,{signal:Ne.signal})}let{shortCircuited:Ee,loaderData:yt,errors:oe}=await z(Ne,ce,Ce,qe,be&&be.submission,be&&be.fetcherSubmission,be&&be.replace,Ue,Ge);Ee||(D=null,Y(ce,ur({matches:Ce},Ue?{actionData:Ue}:{},{loaderData:yt,errors:oe})))}async function A(ae,ce,be,ve,qe){qe===void 0&&(qe={}),Q();let Ce=U5(ce,be);$({navigation:Ce});let Ne,Ue=Hg(ve,ce);if(!Ue.route.action&&!Ue.route.lazy)Ne={type:wr.error,error:Gn(405,{method:ae.method,pathname:ce.pathname,routeId:Ue.route.id})};else if(Ne=await Zl("action",ae,Ue,ve,s,i,l),ae.signal.aborted)return{shortCircuited:!0};if(Ja(Ne)){let Ge;return qe&&qe.replace!=null?Ge=qe.replace:Ge=Ne.location===x.location.pathname+x.location.search,await ie(x,Ne,{submission:be,replace:Ge}),{shortCircuited:!0}}if(Rc(Ne)){let Ge=ja(ve,Ue.route.id);return(qe&&qe.replace)!==!0&&(P=Tr.Push),{pendingActionData:{},pendingActionError:{[Ge.route.id]:Ne.error}}}if(_o(Ne))throw Gn(400,{type:"defer-action"});return{pendingActionData:{[Ue.route.id]:Ne.data}}}async function z(ae,ce,be,ve,qe,Ce,Ne,Ue,Ge){let Ee=ve||gp(ce,qe),yt=qe||Ce||o1(Ee),oe=a||o,[_e,Ve]=Qb(e.history,x,be,yt,ce,j,H,W,C,w,oe,l,Ue,Ge);if(He(Oe=>!(be&&be.some(Ze=>Ze.route.id===Oe))||_e&&_e.some(Ze=>Ze.route.id===Oe)),k=++M,_e.length===0&&Ve.length===0){let Oe=ge();return Y(ce,ur({matches:be,loaderData:{},errors:Ge||null},Ue?{actionData:Ue}:{},Oe?{fetchers:new Map(x.fetchers)}:{})),{shortCircuited:!0}}if(!O){Ve.forEach(Ze=>{let Xe=x.fetchers.get(Ze.key),Je=ec(void 0,Xe?Xe.data:void 0);x.fetchers.set(Ze.key,Je)});let Oe=Ue||x.actionData;$(ur({navigation:Ee},Oe?Object.keys(Oe).length===0?{actionData:null}:{actionData:Oe}:{},Ve.length>0?{fetchers:new Map(x.fetchers)}:{}))}Ve.forEach(Oe=>{G.has(Oe.key)&&ue(Oe.key),Oe.controller&&G.set(Oe.key,Oe.controller)});let ft=()=>Ve.forEach(Oe=>ue(Oe.key));D&&D.signal.addEventListener("abort",ft);let{results:ot,loaderResults:St,fetcherResults:Pt}=await se(x.matches,be,_e,Ve,ae);if(ae.signal.aborted)return{shortCircuited:!0};D&&D.signal.removeEventListener("abort",ft),Ve.forEach(Oe=>G.delete(Oe.key));let lt=i1(ot);if(lt){if(lt.idx>=_e.length){let Oe=Ve[lt.idx-_e.length].key;w.add(Oe)}return await ie(x,lt.result,{replace:Ne}),{shortCircuited:!0}}let{loaderData:le,errors:me}=t1(x,be,_e,St,Ge,Ve,Pt,S);S.forEach((Oe,Ze)=>{Oe.subscribe(Xe=>{(Xe||Oe.done)&&S.delete(Ze)})});let Te=ge(),ze=we(k),at=Te||ze||Ve.length>0;return ur({loaderData:le,errors:me},at?{fetchers:new Map(x.fetchers)}:{})}function q(ae){return x.fetchers.get(ae)||I5}function J(ae,ce,be,ve){if(n)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");G.has(ae)&&ue(ae);let qe=a||o,Ce=jg(x.location,x.matches,l,c.v7_prependBasename,be,ce,ve==null?void 0:ve.relative),Ne=La(qe,Ce,l);if(!Ne){re(ae,ce,Gn(404,{pathname:Ce}));return}let{path:Ue,submission:Ge,error:Ee}=Xb(c.v7_normalizeFormMethod,!0,Ce,ve);if(Ee){re(ae,ce,Ee);return}let yt=Hg(Ne,Ue);if(F=(ve&&ve.preventScrollReset)===!0,Ge&&hi(Ge.formMethod)){X(ae,ce,Ue,yt,Ne,Ge);return}C.set(ae,{routeId:ce,path:Ue}),Z(ae,ce,Ue,yt,Ne,Ge)}async function X(ae,ce,be,ve,qe,Ce){if(Q(),C.delete(ae),!ve.route.action&&!ve.route.lazy){let Ye=Gn(405,{method:Ce.formMethod,pathname:be,routeId:ce});re(ae,ce,Ye);return}let Ne=x.fetchers.get(ae),Ue=K5(Ce,Ne);x.fetchers.set(ae,Ue),$({fetchers:new Map(x.fetchers)});let Ge=new AbortController,Ee=Jl(e.history,be,Ge.signal,Ce);G.set(ae,Ge);let yt=M,oe=await Zl("action",Ee,ve,qe,s,i,l);if(Ee.signal.aborted){G.get(ae)===Ge&&G.delete(ae);return}if(Ja(oe))if(G.delete(ae),k>yt){let Ye=Ca(void 0);x.fetchers.set(ae,Ye),$({fetchers:new Map(x.fetchers)});return}else{w.add(ae);let Ye=ec(Ce);return x.fetchers.set(ae,Ye),$({fetchers:new Map(x.fetchers)}),ie(x,oe,{fetcherSubmission:Ce})}if(Rc(oe)){re(ae,ce,oe.error);return}if(_o(oe))throw Gn(400,{type:"defer-action"});let _e=x.navigation.location||x.location,Ve=Jl(e.history,_e,Ge.signal),ft=a||o,ot=x.navigation.state!=="idle"?La(ft,x.navigation.location,l):x.matches;At(ot,"Didn't find any matches after fetcher action");let St=++M;E.set(ae,St);let Pt=ec(Ce,oe.data);x.fetchers.set(ae,Pt);let[lt,le]=Qb(e.history,x,ot,Ce,_e,j,H,W,C,w,ft,l,{[ve.route.id]:oe.data},void 0);le.filter(Ye=>Ye.key!==ae).forEach(Ye=>{let ut=Ye.key,bt=x.fetchers.get(ut),Wt=ec(void 0,bt?bt.data:void 0);x.fetchers.set(ut,Wt),G.has(ut)&&ue(ut),Ye.controller&&G.set(ut,Ye.controller)}),$({fetchers:new Map(x.fetchers)});let me=()=>le.forEach(Ye=>ue(Ye.key));Ge.signal.addEventListener("abort",me);let{results:Te,loaderResults:ze,fetcherResults:at}=await se(x.matches,ot,lt,le,Ve);if(Ge.signal.aborted)return;Ge.signal.removeEventListener("abort",me),E.delete(ae),G.delete(ae),le.forEach(Ye=>G.delete(Ye.key));let Oe=i1(Te);if(Oe){if(Oe.idx>=lt.length){let Ye=le[Oe.idx-lt.length].key;w.add(Ye)}return ie(x,Oe.result)}let{loaderData:Ze,errors:Xe}=t1(x,x.matches,lt,ze,void 0,le,at,S);if(x.fetchers.has(ae)){let Ye=Ca(oe.data);x.fetchers.set(ae,Ye)}let Je=we(St);x.navigation.state==="loading"&&St>k?(At(P,"Expected pending action"),D&&D.abort(),Y(x.navigation.location,{matches:ot,loaderData:Ze,errors:Xe,fetchers:new Map(x.fetchers)})):($(ur({errors:Xe,loaderData:r1(x.loaderData,Ze,ot,Xe)},Je||le.length>0?{fetchers:new Map(x.fetchers)}:{})),j=!1)}async function Z(ae,ce,be,ve,qe,Ce){let Ne=x.fetchers.get(ae),Ue=ec(Ce,Ne?Ne.data:void 0);x.fetchers.set(ae,Ue),$({fetchers:new Map(x.fetchers)});let Ge=new AbortController,Ee=Jl(e.history,be,Ge.signal);G.set(ae,Ge);let yt=M,oe=await Zl("loader",Ee,ve,qe,s,i,l);if(_o(oe)&&(oe=await K2(oe,Ee.signal,!0)||oe),G.get(ae)===Ge&&G.delete(ae),Ee.signal.aborted)return;if(Ja(oe))if(k>yt){let Ve=Ca(void 0);x.fetchers.set(ae,Ve),$({fetchers:new Map(x.fetchers)});return}else{w.add(ae),await ie(x,oe);return}if(Rc(oe)){let Ve=ja(x.matches,ce);x.fetchers.delete(ae),$({fetchers:new Map(x.fetchers),errors:{[Ve.route.id]:oe.error}});return}At(!_o(oe),"Unhandled fetcher deferred data");let _e=Ca(oe.data);x.fetchers.set(ae,_e),$({fetchers:new Map(x.fetchers)})}async function ie(ae,ce,be){let{submission:ve,fetcherSubmission:qe,replace:Ce}=be===void 0?{}:be;ce.revalidate&&(j=!0);let Ne=eu(ae.location,ce.location,{_isRedirect:!0});if(At(Ne,"Expected a location on the redirect navigation"),r){let _e=!1;if(ce.reloadDocument)_e=!0;else if(W2.test(ce.location)){const Ve=e.history.createURL(ce.location);_e=Ve.origin!==t.location.origin||El(Ve.pathname,l)==null}if(_e){Ce?t.location.replace(ce.location):t.location.assign(ce.location);return}}D=null;let Ue=Ce===!0?Tr.Replace:Tr.Push,{formMethod:Ge,formAction:Ee,formEncType:yt}=ae.navigation;!ve&&!qe&&Ge&&Ee&&yt&&(ve=o1(ae.navigation));let oe=ve||qe;if(D5.has(ce.status)&&oe&&hi(oe.formMethod))await I(Ue,Ne,{submission:ur({},oe,{formAction:ce.location}),preventScrollReset:F});else{let _e=gp(Ne,ve);await I(Ue,Ne,{overrideNavigation:_e,fetcherSubmission:qe,preventScrollReset:F})}}async function se(ae,ce,be,ve,qe){let Ce=await Promise.all([...be.map(Ge=>Zl("loader",qe,Ge,ce,s,i,l)),...ve.map(Ge=>Ge.matches&&Ge.match&&Ge.controller?Zl("loader",Jl(e.history,Ge.path,Ge.controller.signal),Ge.match,Ge.matches,s,i,l):{type:wr.error,error:Gn(404,{pathname:Ge.path})})]),Ne=Ce.slice(0,be.length),Ue=Ce.slice(be.length);return await Promise.all([s1(ae,be,Ne,Ne.map(()=>qe.signal),!1,x.loaderData),s1(ae,ve.map(Ge=>Ge.match),Ue,ve.map(Ge=>Ge.controller?Ge.controller.signal:null),!0)]),{results:Ce,loaderResults:Ne,fetcherResults:Ue}}function Q(){j=!0,H.push(...He()),C.forEach((ae,ce)=>{G.has(ce)&&(W.push(ce),ue(ce))})}function re(ae,ce,be){let ve=ja(x.matches,ce);ne(ae),$({errors:{[ve.route.id]:be},fetchers:new Map(x.fetchers)})}function ne(ae){let ce=x.fetchers.get(ae);G.has(ae)&&!(ce&&ce.state==="loading"&&E.has(ae))&&ue(ae),C.delete(ae),E.delete(ae),w.delete(ae),x.fetchers.delete(ae)}function ue(ae){let ce=G.get(ae);At(ce,"Expected fetch controller: "+ae),ce.abort(),G.delete(ae)}function de(ae){for(let ce of ae){let be=q(ce),ve=Ca(be.data);x.fetchers.set(ce,ve)}}function ge(){let ae=[],ce=!1;for(let be of w){let ve=x.fetchers.get(be);At(ve,"Expected fetcher: "+be),ve.state==="loading"&&(w.delete(be),ae.push(be),ce=!0)}return de(ae),ce}function we(ae){let ce=[];for(let[be,ve]of E)if(ve<ae){let qe=x.fetchers.get(be);At(qe,"Expected fetcher: "+be),qe.state==="loading"&&(ue(be),E.delete(be),ce.push(be))}return de(ce),ce.length>0}function xe(ae,ce){let be=x.blockers.get(ae)||Ql;return R.get(ae)!==ce&&R.set(ae,ce),be}function Fe(ae){x.blockers.delete(ae),R.delete(ae)}function De(ae,ce){let be=x.blockers.get(ae)||Ql;At(be.state==="unblocked"&&ce.state==="blocked"||be.state==="blocked"&&ce.state==="blocked"||be.state==="blocked"&&ce.state==="proceeding"||be.state==="blocked"&&ce.state==="unblocked"||be.state==="proceeding"&&ce.state==="unblocked","Invalid blocker state transition: "+be.state+" -> "+ce.state);let ve=new Map(x.blockers);ve.set(ae,ce),$({blockers:ve})}function Le(ae){let{currentLocation:ce,nextLocation:be,historyAction:ve}=ae;if(R.size===0)return;R.size>1&&$o(!1,"A router only supports one blocker at a time");let qe=Array.from(R.entries()),[Ce,Ne]=qe[qe.length-1],Ue=x.blockers.get(Ce);if(!(Ue&&Ue.state==="proceeding")&&Ne({currentLocation:ce,nextLocation:be,historyAction:ve}))return Ce}function He(ae){let ce=[];return S.forEach((be,ve)=>{(!ae||ae(ve))&&(be.cancel(),ce.push(ve),S.delete(ve))}),ce}function it(ae,ce,be){if(d=ae,g=ce,h=be||null,!v&&x.navigation===pp){v=!0;let ve=Pe(x.location,x.matches);ve!=null&&$({restoreScrollPosition:ve})}return()=>{d=null,g=null,h=null}}function Qe(ae,ce){return h&&h(ae,ce.map(ve=>u5(ve,x.loaderData)))||ae.key}function rt(ae,ce){if(d&&g){let be=Qe(ae,ce);d[be]=g()}}function Pe(ae,ce){if(d){let be=Qe(ae,ce),ve=d[be];if(typeof ve=="number")return ve}return null}function Ie(ae){s={},a=Lg(ae,i,void 0,s)}return b={get basename(){return l},get state(){return x},get routes(){return o},initialize:N,subscribe:V,enableScrollRestoration:it,navigate:L,fetch:J,revalidate:K,createHref:ae=>e.history.createHref(ae),encodeLocation:ae=>e.history.encodeLocation(ae),getFetcher:q,deleteFetcher:ne,dispose:B,getBlocker:xe,deleteBlocker:Fe,_internalFetchControllers:G,_internalActiveDeferreds:S,_internalSetRoutes:Ie},b}function j5(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function jg(e,t,r,n,i,s,o){let a,l;if(s!=null&&o!=="path"){a=[];for(let u of t)if(a.push(u),u.route.id===s){l=u;break}}else a=t,l=t[t.length-1];let c=h0(i||".",xf(a).map(u=>u.pathnameBase),El(e.pathname,r)||e.pathname,o==="path");return i==null&&(c.search=e.search,c.hash=e.hash),(i==null||i===""||i===".")&&l&&l.route.index&&!p0(c.search)&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n&&r!=="/"&&(c.pathname=c.pathname==="/"?r:rs([r,c.pathname])),Uo(c)}function Xb(e,t,r,n){if(!n||!j5(n))return{path:r};if(n.formMethod&&!$5(n.formMethod))return{path:r,error:Gn(405,{method:n.formMethod})};let i=()=>({path:r,error:Gn(400,{type:"invalid-body"})}),s=n.formMethod||"get",o=e?s.toUpperCase():s.toLowerCase(),a=U2(r);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!hi(o))return i();let d=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((h,g)=>{let[v,p]=g;return""+h+v+"="+p+`
`},""):String(n.body);return{path:r,submission:{formMethod:o,formAction:a,formEncType:n.formEncType,formData:void 0,json:void 0,text:d}}}else if(n.formEncType==="application/json"){if(!hi(o))return i();try{let d=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:r,submission:{formMethod:o,formAction:a,formEncType:n.formEncType,formData:void 0,json:d,text:void 0}}}catch{return i()}}}At(typeof FormData=="function","FormData is not available in this environment");let l,c;if(n.formData)l=Bg(n.formData),c=n.formData;else if(n.body instanceof FormData)l=Bg(n.body),c=n.body;else if(n.body instanceof URLSearchParams)l=n.body,c=e1(l);else if(n.body==null)l=new URLSearchParams,c=new FormData;else try{l=new URLSearchParams(n.body),c=e1(l)}catch{return i()}let u={formMethod:o,formAction:a,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(hi(u.formMethod))return{path:r,submission:u};let f=zi(r);return t&&f.search&&p0(f.search)&&l.append("index",""),f.search="?"+l,{path:Uo(f),submission:u}}function B5(e,t){let r=e;if(t){let n=e.findIndex(i=>i.route.id===t);n>=0&&(r=e.slice(0,n))}return r}function Qb(e,t,r,n,i,s,o,a,l,c,u,f,d,h){let g=h?Object.values(h)[0]:d?Object.values(d)[0]:void 0,v=e.createURL(t.location),p=e.createURL(i),y=h?Object.keys(h)[0]:void 0,b=B5(r,y).filter((P,F)=>{if(P.route.lazy)return!0;if(P.route.loader==null)return!1;if(H5(t.loaderData,t.matches[F],P)||o.some(j=>j===P.route.id))return!0;let D=t.matches[F],O=P;return Zb(P,ur({currentUrl:v,currentParams:D.params,nextUrl:p,nextParams:O.params},n,{actionResult:g,defaultShouldRevalidate:s||v.pathname+v.search===p.pathname+p.search||v.search!==p.search||$2(D,O)}))}),x=[];return l.forEach((P,F)=>{if(!r.some(W=>W.route.id===P.routeId))return;let D=La(u,P.path,f);if(!D){x.push({key:F,routeId:P.routeId,path:P.path,matches:null,match:null,controller:null});return}let O=t.fetchers.get(F),j=Hg(D,P.path),H=!1;c.has(F)?H=!1:a.includes(F)?H=!0:O&&O.state!=="idle"&&O.data===void 0?H=s:H=Zb(j,ur({currentUrl:v,currentParams:t.matches[t.matches.length-1].params,nextUrl:p,nextParams:r[r.length-1].params},n,{actionResult:g,defaultShouldRevalidate:s})),H&&x.push({key:F,routeId:P.routeId,path:P.path,matches:D,match:j,controller:new AbortController})}),[b,x]}function H5(e,t,r){let n=!t||r.route.id!==t.route.id,i=e[r.route.id]===void 0;return n||i}function $2(e,t){let r=e.route.path;return e.pathname!==t.pathname||r!=null&&r.endsWith("*")&&e.params["*"]!==t.params["*"]}function Zb(e,t){if(e.route.shouldRevalidate){let r=e.route.shouldRevalidate(t);if(typeof r=="boolean")return r}return t.defaultShouldRevalidate}async function Jb(e,t,r){if(!e.lazy)return;let n=await e.lazy();if(!e.lazy)return;let i=r[e.id];At(i,"No route found in manifest");let s={};for(let o in n){let l=i[o]!==void 0&&o!=="hasErrorBoundary";$o(!l,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!l5.has(o)&&(s[o]=n[o])}Object.assign(i,s),Object.assign(i,ur({},t(i),{lazy:void 0}))}async function Zl(e,t,r,n,i,s,o,a){a===void 0&&(a={});let l,c,u,f=g=>{let v,p=new Promise((y,m)=>v=m);return u=()=>v(),t.signal.addEventListener("abort",u),Promise.race([g({request:t,params:r.params,context:a.requestContext}),p])};try{let g=r.route[e];if(r.route.lazy)if(g){let v,p=await Promise.all([f(g).catch(y=>{v=y}),Jb(r.route,s,i)]);if(v)throw v;c=p[0]}else if(await Jb(r.route,s,i),g=r.route[e],g)c=await f(g);else if(e==="action"){let v=new URL(t.url),p=v.pathname+v.search;throw Gn(405,{method:t.method,pathname:p,routeId:r.route.id})}else return{type:wr.data,data:void 0};else if(g)c=await f(g);else{let v=new URL(t.url),p=v.pathname+v.search;throw Gn(404,{pathname:p})}At(c!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+r.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(g){l=wr.error,c=g}finally{u&&t.signal.removeEventListener("abort",u)}if(W5(c)){let g=c.status;if(O5.has(g)){let y=c.headers.get("Location");if(At(y,"Redirects returned/thrown from loaders/actions must have a Location header"),!W2.test(y))y=jg(new URL(t.url),n.slice(0,n.indexOf(r)+1),o,!0,y);else if(!a.isStaticRequest){let m=new URL(t.url),b=y.startsWith("//")?new URL(m.protocol+y):new URL(y),x=El(b.pathname,o)!=null;b.origin===m.origin&&x&&(y=b.pathname+b.search+b.hash)}if(a.isStaticRequest)throw c.headers.set("Location",y),c;return{type:wr.redirect,status:g,location:y,revalidate:c.headers.get("X-Remix-Revalidate")!==null,reloadDocument:c.headers.get("X-Remix-Reload-Document")!==null}}if(a.isRouteRequest)throw{type:l===wr.error?wr.error:wr.data,response:c};let v,p=c.headers.get("Content-Type");return p&&/\bapplication\/json\b/.test(p)?v=await c.json():v=await c.text(),l===wr.error?{type:l,error:new f0(g,c.statusText,v),headers:c.headers}:{type:wr.data,data:v,statusCode:c.status,headers:c.headers}}if(l===wr.error)return{type:l,error:c};if(z5(c)){var d,h;return{type:wr.deferred,deferredData:c,statusCode:(d=c.init)==null?void 0:d.status,headers:((h=c.init)==null?void 0:h.headers)&&new Headers(c.init.headers)}}return{type:wr.data,data:c}}function Jl(e,t,r,n){let i=e.createURL(U2(t)).toString(),s={signal:r};if(n&&hi(n.formMethod)){let{formMethod:o,formEncType:a}=n;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(n.json)):a==="text/plain"?s.body=n.text:a==="application/x-www-form-urlencoded"&&n.formData?s.body=Bg(n.formData):s.body=n.formData}return new Request(i,s)}function Bg(e){let t=new URLSearchParams;for(let[r,n]of e.entries())t.append(r,typeof n=="string"?n:n.name);return t}function e1(e){let t=new FormData;for(let[r,n]of e.entries())t.append(r,n);return t}function G5(e,t,r,n,i){let s={},o=null,a,l=!1,c={};return r.forEach((u,f)=>{let d=t[f].route.id;if(At(!Ja(u),"Cannot handle redirect results in processLoaderData"),Rc(u)){let h=ja(e,d),g=u.error;n&&(g=Object.values(n)[0],n=void 0),o=o||{},o[h.route.id]==null&&(o[h.route.id]=g),s[d]=void 0,l||(l=!0,a=V2(u.error)?u.error.status:500),u.headers&&(c[d]=u.headers)}else _o(u)?(i.set(d,u.deferredData),s[d]=u.deferredData.data):s[d]=u.data,u.statusCode!=null&&u.statusCode!==200&&!l&&(a=u.statusCode),u.headers&&(c[d]=u.headers)}),n&&(o=n,s[Object.keys(n)[0]]=void 0),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:c}}function t1(e,t,r,n,i,s,o,a){let{loaderData:l,errors:c}=G5(t,r,n,i,a);for(let u=0;u<s.length;u++){let{key:f,match:d,controller:h}=s[u];At(o!==void 0&&o[u]!==void 0,"Did not find corresponding fetcher result");let g=o[u];if(!(h&&h.signal.aborted))if(Rc(g)){let v=ja(e.matches,d==null?void 0:d.route.id);c&&c[v.route.id]||(c=ur({},c,{[v.route.id]:g.error})),e.fetchers.delete(f)}else if(Ja(g))At(!1,"Unhandled fetcher revalidation redirect");else if(_o(g))At(!1,"Unhandled fetcher deferred data");else{let v=Ca(g.data);e.fetchers.set(f,v)}}return{loaderData:l,errors:c}}function r1(e,t,r,n){let i=ur({},t);for(let s of r){let o=s.route.id;if(t.hasOwnProperty(o)?t[o]!==void 0&&(i[o]=t[o]):e[o]!==void 0&&s.route.loader&&(i[o]=e[o]),n&&n.hasOwnProperty(o))break}return i}function ja(e,t){return(t?e.slice(0,e.findIndex(n=>n.route.id===t)+1):[...e]).reverse().find(n=>n.route.hasErrorBoundary===!0)||e[0]}function n1(e){let t=e.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Gn(e,t){let{pathname:r,routeId:n,method:i,type:s}=t===void 0?{}:t,o="Unknown Server Error",a="Unknown @remix-run/router error";return e===400?(o="Bad Request",i&&r&&n?a="You made a "+i+' request to "'+r+'" but '+('did not provide a `loader` for route "'+n+'", ')+"so there is no way to handle the request.":s==="defer-action"?a="defer() is not supported in actions":s==="invalid-body"&&(a="Unable to encode submission body")):e===403?(o="Forbidden",a='Route "'+n+'" does not match URL "'+r+'"'):e===404?(o="Not Found",a='No route matches URL "'+r+'"'):e===405&&(o="Method Not Allowed",i&&r&&n?a="You made a "+i.toUpperCase()+' request to "'+r+'" but '+('did not provide an `action` for route "'+n+'", ')+"so there is no way to handle the request.":i&&(a='Invalid request method "'+i.toUpperCase()+'"')),new f0(e||500,o,new Error(a),!0)}function i1(e){for(let t=e.length-1;t>=0;t--){let r=e[t];if(Ja(r))return{result:r,idx:t}}}function U2(e){let t=typeof e=="string"?zi(e):e;return Uo(ur({},t,{hash:""}))}function V5(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function _o(e){return e.type===wr.deferred}function Rc(e){return e.type===wr.error}function Ja(e){return(e&&e.type)===wr.redirect}function z5(e){let t=e;return t&&typeof t=="object"&&typeof t.data=="object"&&typeof t.subscribe=="function"&&typeof t.cancel=="function"&&typeof t.resolveData=="function"}function W5(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function $5(e){return A5.has(e.toLowerCase())}function hi(e){return k5.has(e.toLowerCase())}async function s1(e,t,r,n,i,s){for(let o=0;o<r.length;o++){let a=r[o],l=t[o];if(!l)continue;let c=e.find(f=>f.route.id===l.route.id),u=c!=null&&!$2(c,l)&&(s&&s[l.route.id])!==void 0;if(_o(a)&&(i||u)){let f=n[o];At(f,"Expected an AbortSignal for revalidating fetcher deferred result"),await K2(a,f,i).then(d=>{d&&(r[o]=d||r[o])})}}}async function K2(e,t,r){if(r===void 0&&(r=!1),!await e.deferredData.resolveData(t)){if(r)try{return{type:wr.data,data:e.deferredData.unwrappedData}}catch(i){return{type:wr.error,error:i}}return{type:wr.data,data:e.deferredData.data}}}function p0(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function Hg(e,t){let r=typeof t=="string"?zi(t).search:t.search;if(e[e.length-1].route.index&&p0(r||""))return e[e.length-1];let n=xf(e);return n[n.length-1]}function o1(e){let{formMethod:t,formAction:r,formEncType:n,text:i,formData:s,json:o}=e;if(!(!t||!r||!n)){if(i!=null)return{formMethod:t,formAction:r,formEncType:n,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:t,formAction:r,formEncType:n,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:t,formAction:r,formEncType:n,formData:void 0,json:o,text:void 0}}}function gp(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function U5(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function ec(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function K5(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function Ca(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}/**
 * React Router v6.16.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mh(){return Mh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mh.apply(this,arguments)}const Rf=U.createContext(null),g0=U.createContext(null),Jo=U.createContext(null),Ef=U.createContext(null),ea=U.createContext({outlet:null,matches:[],isDataRoute:!1}),q2=U.createContext(null);function q5(e,t){let{relative:r}=t===void 0?{}:t;Ru()||At(!1);let{basename:n,navigator:i}=U.useContext(Jo),{hash:s,pathname:o,search:a}=m0(e,{relative:r}),l=o;return n!=="/"&&(l=o==="/"?n:rs([n,o])),i.createHref({pathname:l,search:a,hash:s})}function Ru(){return U.useContext(Ef)!=null}function Tl(){return Ru()||At(!1),U.useContext(Ef).location}function Y2(e){U.useContext(Jo).static||U.useLayoutEffect(e)}function X2(){let{isDataRoute:e}=U.useContext(ea);return e?oT():Y5()}function Y5(){Ru()||At(!1);let e=U.useContext(Rf),{basename:t,navigator:r}=U.useContext(Jo),{matches:n}=U.useContext(ea),{pathname:i}=Tl(),s=JSON.stringify(xf(n).map(l=>l.pathnameBase)),o=U.useRef(!1);return Y2(()=>{o.current=!0}),U.useCallback(function(l,c){if(c===void 0&&(c={}),!o.current)return;if(typeof l=="number"){r.go(l);return}let u=h0(l,JSON.parse(s),i,c.relative==="path");e==null&&t!=="/"&&(u.pathname=u.pathname==="/"?t:rs([t,u.pathname])),(c.replace?r.replace:r.push)(u,c.state,c)},[t,r,s,i,e])}function m0(e,t){let{relative:r}=t===void 0?{}:t,{matches:n}=U.useContext(ea),{pathname:i}=Tl(),s=JSON.stringify(xf(n).map(o=>o.pathnameBase));return U.useMemo(()=>h0(e,JSON.parse(s),i,r==="path"),[e,s,i,r])}function X5(e,t,r){Ru()||At(!1);let{navigator:n}=U.useContext(Jo),{matches:i}=U.useContext(ea),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=Tl(),c;if(t){var u;let v=typeof t=="string"?zi(t):t;a==="/"||(u=v.pathname)!=null&&u.startsWith(a)||At(!1),c=v}else c=l;let f=c.pathname||"/",d=a==="/"?f:f.slice(a.length)||"/",h=La(e,{pathname:d}),g=tT(h&&h.map(v=>Object.assign({},v,{params:Object.assign({},o,v.params),pathname:rs([a,n.encodeLocation?n.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?a:rs([a,n.encodeLocation?n.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,r);return t&&g?U.createElement(Ef.Provider,{value:{location:Mh({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Tr.Pop}},g):g}function Q5(){let e=sT(),t=V2(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},t),r?U.createElement("pre",{style:i},r):null,s)}const Z5=U.createElement(Q5,null);class J5 extends U.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error||r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error?U.createElement(ea.Provider,{value:this.props.routeContext},U.createElement(q2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function eT(e){let{routeContext:t,match:r,children:n}=e,i=U.useContext(Rf);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),U.createElement(ea.Provider,{value:t},n)}function tT(e,t,r){var n;if(t===void 0&&(t=[]),r===void 0&&(r=null),e==null){var i;if((i=r)!=null&&i.errors)e=r.matches;else return null}let s=e,o=(n=r)==null?void 0:n.errors;if(o!=null){let a=s.findIndex(l=>l.route.id&&(o==null?void 0:o[l.route.id]));a>=0||At(!1),s=s.slice(0,Math.min(s.length,a+1))}return s.reduceRight((a,l,c)=>{let u=l.route.id?o==null?void 0:o[l.route.id]:null,f=null;r&&(f=l.route.errorElement||Z5);let d=t.concat(s.slice(0,c+1)),h=()=>{let g;return u?g=f:l.route.Component?g=U.createElement(l.route.Component,null):l.route.element?g=l.route.element:g=a,U.createElement(eT,{match:l,routeContext:{outlet:a,matches:d,isDataRoute:r!=null},children:g})};return r&&(l.route.ErrorBoundary||l.route.errorElement||c===0)?U.createElement(J5,{location:r.location,revalidation:r.revalidation,component:f,error:u,children:h(),routeContext:{outlet:null,matches:d,isDataRoute:!0}}):h()},null)}var Q2=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Q2||{}),kh=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(kh||{});function rT(e){let t=U.useContext(Rf);return t||At(!1),t}function nT(e){let t=U.useContext(g0);return t||At(!1),t}function iT(e){let t=U.useContext(ea);return t||At(!1),t}function Z2(e){let t=iT(),r=t.matches[t.matches.length-1];return r.route.id||At(!1),r.route.id}function sT(){var e;let t=U.useContext(q2),r=nT(kh.UseRouteError),n=Z2(kh.UseRouteError);return t||((e=r.errors)==null?void 0:e[n])}function oT(){let{router:e}=rT(Q2.UseNavigateStable),t=Z2(kh.UseNavigateStable),r=U.useRef(!1);return Y2(()=>{r.current=!0}),U.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Mh({fromRouteId:t},s)))},[e,t])}const aT="startTransition",a1=Y4[aT];function lT(e){let{fallbackElement:t,router:r,future:n}=e,[i,s]=U.useState(r.state),{v7_startTransition:o}=n||{},a=U.useCallback(f=>{o&&a1?a1(()=>s(f)):s(f)},[s,o]);U.useLayoutEffect(()=>r.subscribe(a),[r,a]);let l=U.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:f=>r.navigate(f),push:(f,d,h)=>r.navigate(f,{state:d,preventScrollReset:h==null?void 0:h.preventScrollReset}),replace:(f,d,h)=>r.navigate(f,{replace:!0,state:d,preventScrollReset:h==null?void 0:h.preventScrollReset})}),[r]),c=r.basename||"/",u=U.useMemo(()=>({router:r,navigator:l,static:!1,basename:c}),[r,l,c]);return U.createElement(U.Fragment,null,U.createElement(Rf.Provider,{value:u},U.createElement(g0.Provider,{value:i},U.createElement(uT,{basename:c,location:i.location,navigationType:i.historyAction,navigator:l},i.initialized?U.createElement(cT,{routes:r.routes,state:i}):t))),null)}function cT(e){let{routes:t,state:r}=e;return X5(t,void 0,r)}function uT(e){let{basename:t="/",children:r=null,location:n,navigationType:i=Tr.Pop,navigator:s,static:o=!1}=e;Ru()&&At(!1);let a=t.replace(/^\/*/,"/"),l=U.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof n=="string"&&(n=zi(n));let{pathname:c="/",search:u="",hash:f="",state:d=null,key:h="default"}=n,g=U.useMemo(()=>{let v=El(c,a);return v==null?null:{location:{pathname:v,search:u,hash:f,state:d,key:h},navigationType:i}},[a,c,u,f,d,h,i]);return g==null?null:U.createElement(Jo.Provider,{value:l},U.createElement(Ef.Provider,{children:r,value:g}))}new Promise(()=>{});function dT(e){let t={hasErrorBoundary:e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&Object.assign(t,{element:U.createElement(e.Component),Component:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:U.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}/**
 * React Router DOM v6.16.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cl(){return cl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cl.apply(this,arguments)}function J2(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,s;for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function hT(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function fT(e,t){return e.button===0&&(!t||t==="_self")&&!hT(e)}function Gg(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function pT(e,t){let r=Gg(e);return t&&t.forEach((n,i)=>{r.has(i)||t.getAll(i).forEach(s=>{r.append(i,s)})}),r}const gT=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],mT=["aria-current","caseSensitive","className","end","style","to","children"];function vT(e,t){return L5({basename:t==null?void 0:t.basename,future:cl({},t==null?void 0:t.future,{v7_prependBasename:!0}),history:s5({window:t==null?void 0:t.window}),hydrationData:(t==null?void 0:t.hydrationData)||yT(),routes:e,mapRouteProperties:dT}).initialize()}function yT(){var e;let t=(e=window)==null?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=cl({},t,{errors:bT(t.errors)})),t}function bT(e){if(!e)return null;let t=Object.entries(e),r={};for(let[n,i]of t)if(i&&i.__type==="RouteErrorResponse")r[n]=new f0(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",r[n]=o}catch{}}if(r[n]==null){let s=new Error(i.message);s.stack="",r[n]=s}}else r[n]=i;return r}const wT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",CT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ST=U.forwardRef(function(t,r){let{onClick:n,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:u}=t,f=J2(t,gT),{basename:d}=U.useContext(Jo),h,g=!1;if(typeof c=="string"&&CT.test(c)&&(h=c,wT))try{let m=new URL(window.location.href),b=c.startsWith("//")?new URL(m.protocol+c):new URL(c),x=El(b.pathname,d);b.origin===m.origin&&x!=null?c=x+b.search+b.hash:g=!0}catch{}let v=q5(c,{relative:i}),p=xT(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:i});function y(m){n&&n(m),m.defaultPrevented||p(m)}return U.createElement("a",cl({},f,{href:h||v,onClick:g||s?n:y,ref:r,target:l}))}),fo=U.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:l,children:c}=t,u=J2(t,mT),f=m0(l,{relative:u.relative}),d=Tl(),h=U.useContext(g0),{navigator:g}=U.useContext(Jo),v=g.encodeLocation?g.encodeLocation(f).pathname:f.pathname,p=d.pathname,y=h&&h.navigation&&h.navigation.location?h.navigation.location.pathname:null;i||(p=p.toLowerCase(),y=y?y.toLowerCase():null,v=v.toLowerCase());let m=p===v||!o&&p.startsWith(v)&&p.charAt(v.length)==="/",b=y!=null&&(y===v||!o&&y.startsWith(v)&&y.charAt(v.length)==="/"),x=m?n:void 0,P;typeof s=="function"?P=s({isActive:m,isPending:b}):P=[s,m?"active":null,b?"pending":null].filter(Boolean).join(" ");let F=typeof a=="function"?a({isActive:m,isPending:b}):a;return U.createElement(ST,cl({},u,{"aria-current":x,className:P,ref:r,style:F,to:l}),typeof c=="function"?c({isActive:m,isPending:b}):c)});var l1;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher"})(l1||(l1={}));var c1;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(c1||(c1={}));function xT(e,t){let{target:r,replace:n,state:i,preventScrollReset:s,relative:o}=t===void 0?{}:t,a=X2(),l=Tl(),c=m0(e,{relative:o});return U.useCallback(u=>{if(fT(u,r)){u.preventDefault();let f=n!==void 0?n:Uo(l)===Uo(c);a(e,{replace:f,state:i,preventScrollReset:s,relative:o})}},[l,a,c,n,i,r,e,s,o])}function ex(e){let t=U.useRef(Gg(e)),r=U.useRef(!1),n=Tl(),i=U.useMemo(()=>pT(n.search,r.current?null:t.current),[n.search]),s=X2(),o=U.useCallback((a,l)=>{const c=Gg(typeof a=="function"?a(i):a);r.current=!0,s("?"+c,l)},[s,i]);return[i,o]}const v0=U.createContext(null),RT=({children:e})=>{const t=U.useState(""),r=U.useState({}),n=U.useMemo(()=>[t,r],[t,r]);return T.jsx(v0.Provider,{value:n,children:e})},lo=()=>{const[[,e],[,t]]=U.useContext(v0),r=U.useCallback((i,s)=>{t(s),e(i)},[t,e]);return U.useMemo(()=>({openModal:r}),[r])},ET=()=>{var e;return(e=document.querySelector("div.modal"))==null?void 0:e.scrollTo({top:0,left:0,behavior:"smooth"})},$r=e=>{const[[t,r],[n]]=U.useContext(v0);return U.useMemo(()=>({isOpen:t===e,params:n,toggle:()=>r(""),scrollTop:ET}),[n,t,e,r])};var u1={prefix:"fas",iconName:"bars",icon:[448,512,["navicon"],"f0c9","M0 96C0 78.3 14.3 64 32 64H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z"]},TT={prefix:"fas",iconName:"pen-to-square",icon:[512,512,["edit"],"f044","M471.6 21.7c-21.9-21.9-57.3-21.9-79.2 0L362.3 51.7l97.9 97.9 30.1-30.1c21.9-21.9 21.9-57.3 0-79.2L471.6 21.7zm-299.2 220c-6.1 6.1-10.8 13.6-13.5 21.9l-29.6 88.8c-2.9 8.6-.6 18.1 5.8 24.6s15.9 8.7 24.6 5.8l88.8-29.6c8.2-2.7 15.7-7.4 21.9-13.5L437.7 172.3 339.7 74.3 172.4 241.7zM96 64C43 64 0 107 0 160V416c0 53 43 96 96 96H352c53 0 96-43 96-96V320c0-17.7-14.3-32-32-32s-32 14.3-32 32v96c0 17.7-14.3 32-32 32H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h96c17.7 0 32-14.3 32-32s-14.3-32-32-32H96z"]},PT=TT,_T={prefix:"fas",iconName:"key",icon:[512,512,[128273],"f084","M336 352c97.2 0 176-78.8 176-176S433.2 0 336 0S160 78.8 160 176c0 18.7 2.9 36.8 8.3 53.7L7 391c-4.5 4.5-7 10.6-7 17v80c0 13.3 10.7 24 24 24h80c13.3 0 24-10.7 24-24V448h40c13.3 0 24-10.7 24-24V384h40c6.4 0 12.5-2.5 17-7l33.3-33.3c16.9 5.4 35 8.3 53.7 8.3zM376 96a40 40 0 1 1 0 80 40 40 0 1 1 0-80z"]},MT={prefix:"fas",iconName:"fire",icon:[448,512,[128293],"f06d","M159.3 5.4c7.8-7.3 19.9-7.2 27.7 .1c27.6 25.9 53.5 53.8 77.7 84c11-14.4 23.5-30.1 37-42.9c7.9-7.4 20.1-7.4 28 .1c34.6 33 63.9 76.6 84.5 118c20.3 40.8 33.8 82.5 33.8 111.9C448 404.2 348.2 512 224 512C98.4 512 0 404.1 0 276.5c0-38.4 17.8-85.3 45.4-131.7C73.3 97.7 112.7 48.6 159.3 5.4zM225.7 416c25.3 0 47.7-7 68.8-21c42.1-29.4 53.4-88.2 28.1-134.4c-4.5-9-16-9.6-22.5-2l-25.2 29.3c-6.6 7.6-18.5 7.4-24.7-.5c-16.5-21-46-58.5-62.8-79.8c-6.3-8-18.3-8.1-24.7-.1c-33.8 42.5-50.8 69.3-50.8 99.4C112 375.4 162.6 416 225.7 416z"]},kT={prefix:"fas",iconName:"code-fork",icon:[448,512,[],"e13b","M80 104a24 24 0 1 0 0-48 24 24 0 1 0 0 48zm80-24c0 32.8-19.7 61-48 73.3V192c0 17.7 14.3 32 32 32H304c17.7 0 32-14.3 32-32V153.3C307.7 141 288 112.8 288 80c0-44.2 35.8-80 80-80s80 35.8 80 80c0 32.8-19.7 61-48 73.3V192c0 53-43 96-96 96H256v70.7c28.3 12.3 48 40.5 48 73.3c0 44.2-35.8 80-80 80s-80-35.8-80-80c0-32.8 19.7-61 48-73.3V288H144c-53 0-96-43-96-96V153.3C19.7 141 0 112.8 0 80C0 35.8 35.8 0 80 0s80 35.8 80 80zm208 24a24 24 0 1 0 0-48 24 24 0 1 0 0 48zM248 432a24 24 0 1 0 -48 0 24 24 0 1 0 48 0z"]},ta={prefix:"fas",iconName:"file-import",icon:[512,512,["arrow-right-to-file"],"f56f","M128 64c0-35.3 28.7-64 64-64H352V128c0 17.7 14.3 32 32 32H512V448c0 35.3-28.7 64-64 64H192c-35.3 0-64-28.7-64-64V336H302.1l-39 39c-9.4 9.4-9.4 24.6 0 33.9s24.6 9.4 33.9 0l80-80c9.4-9.4 9.4-24.6 0-33.9l-80-80c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l39 39H128V64zm0 224v48H24c-13.3 0-24-10.7-24-24s10.7-24 24-24H128zM512 128H384V0L512 128z"]},d1={prefix:"fas",iconName:"scroll",icon:[576,512,[128220],"f70e","M0 80v48c0 17.7 14.3 32 32 32H48 96V80c0-26.5-21.5-48-48-48S0 53.5 0 80zM112 32c10 13.4 16 30 16 48V384c0 35.3 28.7 64 64 64s64-28.7 64-64v-5.3c0-32.4 26.3-58.7 58.7-58.7H480V128c0-53-43-96-96-96H112zM464 480c61.9 0 112-50.1 112-112c0-8.8-7.2-16-16-16H314.7c-14.7 0-26.7 11.9-26.7 26.7V384c0 53-43 96-96 96H368h96z"]},FT={prefix:"fas",iconName:"arrow-down-wide-short",icon:[576,512,["sort-amount-asc","sort-amount-down"],"f160","M151.6 469.6C145.5 476.2 137 480 128 480s-17.5-3.8-23.6-10.4l-88-96c-11.9-13-11.1-33.3 2-45.2s33.3-11.1 45.2 2L96 365.7V64c0-17.7 14.3-32 32-32s32 14.3 32 32V365.7l32.4-35.4c11.9-13 32.2-13.9 45.2-2s13.9 32.2 2 45.2l-88 96zM320 480c-17.7 0-32-14.3-32-32s14.3-32 32-32h32c17.7 0 32 14.3 32 32s-14.3 32-32 32H320zm0-128c-17.7 0-32-14.3-32-32s14.3-32 32-32h96c17.7 0 32 14.3 32 32s-14.3 32-32 32H320zm0-128c-17.7 0-32-14.3-32-32s14.3-32 32-32H480c17.7 0 32 14.3 32 32s-14.3 32-32 32H320zm0-128c-17.7 0-32-14.3-32-32s14.3-32 32-32H544c17.7 0 32 14.3 32 32s-14.3 32-32 32H320z"]},AT={prefix:"fas",iconName:"question",icon:[320,512,[10067,10068,61736],"3f","M80 160c0-35.3 28.7-64 64-64h32c35.3 0 64 28.7 64 64v3.6c0 21.8-11.1 42.1-29.4 53.8l-42.2 27.1c-25.2 16.2-40.4 44.1-40.4 74V320c0 17.7 14.3 32 32 32s32-14.3 32-32v-1.4c0-8.2 4.2-15.8 11-20.2l42.2-27.1c36.6-23.6 58.8-64.1 58.8-107.7V160c0-70.7-57.3-128-128-128H144C73.3 32 16 89.3 16 160c0 17.7 14.3 32 32 32s32-14.3 32-32zm80 320a40 40 0 1 0 0-80 40 40 0 1 0 0 80z"]},ra={prefix:"fas",iconName:"code",icon:[640,512,[],"f121","M392.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6zm80.6 120.1c-12.5 12.5-12.5 32.8 0 45.3L562.7 256l-89.4 89.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l112-112c12.5-12.5 12.5-32.8 0-45.3l-112-112c-12.5-12.5-32.8-12.5-45.3 0zm-306.7 0c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3l112 112c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l89.4-89.4c12.5-12.5 12.5-32.8 0-45.3z"]},OT={prefix:"fas",iconName:"file-excel",icon:[384,512,[],"f1c3","M64 0C28.7 0 0 28.7 0 64V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V160H256c-17.7 0-32-14.3-32-32V0H64zM256 0V128H384L256 0zM155.7 250.2L192 302.1l36.3-51.9c7.6-10.9 22.6-13.5 33.4-5.9s13.5 22.6 5.9 33.4L221.3 344l46.4 66.2c7.6 10.9 5 25.8-5.9 33.4s-25.8 5-33.4-5.9L192 385.8l-36.3 51.9c-7.6 10.9-22.6 13.5-33.4 5.9s-13.5-22.6-5.9-33.4L162.7 344l-46.4-66.2c-7.6-10.9-5-25.8 5.9-33.4s25.8-5 33.4 5.9z"]},DT={prefix:"fas",iconName:"circle",icon:[512,512,[128308,128309,128992,128993,128994,128995,128996,9679,9898,9899,11044,61708,61915],"f111","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512z"]},IT={prefix:"fas",iconName:"eye",icon:[576,512,[128065],"f06e","M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM144 256a144 144 0 1 1 288 0 144 144 0 1 1 -288 0zm144-64c0 35.3-28.7 64-64 64c-7.1 0-13.9-1.2-20.3-3.3c-5.5-1.8-11.9 1.6-11.7 7.4c.3 6.9 1.3 13.8 3.2 20.7c13.7 51.2 66.4 81.6 117.6 67.9s81.6-66.4 67.9-117.6c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3z"]},NT={prefix:"fas",iconName:"plant-wilt",icon:[512,512,[],"e5aa","M288 120c0-30.9 25.1-56 56-56s56 25.1 56 56v13c-29.3 10-48 34.5-48 70.1c0 27.9 25.3 74.8 66 111.6c3.8 3.5 8.9 5.3 14 5.3s10.2-1.8 14-5.3c40.7-36.8 66-83.7 66-111.6c0-35.6-18.7-60.2-48-70.1V120C464 53.7 410.3 0 344 0S224 53.7 224 120v21.8C207.3 133 188.2 128 168 128c-66.3 0-120 53.7-120 120v13c-29.3 10-48 34.5-48 70.1C0 359 25.3 405.9 66 442.7c3.8 3.5 8.9 5.3 14 5.3s10.2-1.8 14-5.3c40.7-36.8 66-83.7 66-111.6c0-35.6-18.7-60.2-48-70.1V248c0-30.9 25.1-56 56-56s56 25.1 56 56v32V480c0 17.7 14.3 32 32 32s32-14.3 32-32V280 248 120z"]},Wi={prefix:"fas",iconName:"trash",icon:[448,512,[],"f1f8","M135.2 17.7L128 32H32C14.3 32 0 46.3 0 64S14.3 96 32 96H416c17.7 0 32-14.3 32-32s-14.3-32-32-32H320l-7.2-14.3C307.4 6.8 296.3 0 284.2 0H163.8c-12.1 0-23.2 6.8-28.6 17.7zM416 128H32L53.2 467c1.6 25.3 22.6 45 47.9 45H346.9c25.3 0 46.3-19.7 47.9-45L416 128z"]},LT={prefix:"fas",iconName:"shirt",icon:[640,512,[128085,"t-shirt","tshirt"],"f553","M211.8 0c7.8 0 14.3 5.7 16.7 13.2C240.8 51.9 277.1 80 320 80s79.2-28.1 91.5-66.8C413.9 5.7 420.4 0 428.2 0h12.6c22.5 0 44.2 7.9 61.5 22.3L628.5 127.4c6.6 5.5 10.7 13.5 11.4 22.1s-2.1 17.1-7.8 23.6l-56 64c-11.4 13.1-31.2 14.6-44.6 3.5L480 197.7V448c0 35.3-28.7 64-64 64H224c-35.3 0-64-28.7-64-64V197.7l-51.5 42.9c-13.3 11.1-33.1 9.6-44.6-3.5l-56-64c-5.7-6.5-8.5-15-7.8-23.6s4.8-16.6 11.4-22.1L137.7 22.3C155 7.9 176.7 0 199.2 0h12.6z"]},jT={prefix:"fas",iconName:"circle-info",icon:[512,512,["info-circle"],"f05a","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM216 336h24V272H216c-13.3 0-24-10.7-24-24s10.7-24 24-24h48c13.3 0 24 10.7 24 24v88h8c13.3 0 24 10.7 24 24s-10.7 24-24 24H216c-13.3 0-24-10.7-24-24s10.7-24 24-24zm40-208a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"]},BT=jT,HT={prefix:"fas",iconName:"gear",icon:[512,512,[9881,"cog"],"f013","M495.9 166.6c3.2 8.7 .5 18.4-6.4 24.6l-43.3 39.4c1.1 8.3 1.7 16.8 1.7 25.4s-.6 17.1-1.7 25.4l43.3 39.4c6.9 6.2 9.6 15.9 6.4 24.6c-4.4 11.9-9.7 23.3-15.8 34.3l-4.7 8.1c-6.6 11-14 21.4-22.1 31.2c-5.9 7.2-15.7 9.6-24.5 6.8l-55.7-17.7c-13.4 10.3-28.2 18.9-44 25.4l-12.5 57.1c-2 9.1-9 16.3-18.2 17.8c-13.8 2.3-28 3.5-42.5 3.5s-28.7-1.2-42.5-3.5c-9.2-1.5-16.2-8.7-18.2-17.8l-12.5-57.1c-15.8-6.5-30.6-15.1-44-25.4L83.1 425.9c-8.8 2.8-18.6 .3-24.5-6.8c-8.1-9.8-15.5-20.2-22.1-31.2l-4.7-8.1c-6.1-11-11.4-22.4-15.8-34.3c-3.2-8.7-.5-18.4 6.4-24.6l43.3-39.4C64.6 273.1 64 264.6 64 256s.6-17.1 1.7-25.4L22.4 191.2c-6.9-6.2-9.6-15.9-6.4-24.6c4.4-11.9 9.7-23.3 15.8-34.3l4.7-8.1c6.6-11 14-21.4 22.1-31.2c5.9-7.2 15.7-9.6 24.5-6.8l55.7 17.7c13.4-10.3 28.2-18.9 44-25.4l12.5-57.1c2-9.1 9-16.3 18.2-17.8C227.3 1.2 241.5 0 256 0s28.7 1.2 42.5 3.5c9.2 1.5 16.2 8.7 18.2 17.8l12.5 57.1c15.8 6.5 30.6 15.1 44 25.4l55.7-17.7c8.8-2.8 18.6-.3 24.5 6.8c8.1 9.8 15.5 20.2 22.1 31.2l4.7 8.1c6.1 11 11.4 22.4 15.8 34.3zM256 336a80 80 0 1 0 0-160 80 80 0 1 0 0 160z"]},GT=HT,VT={prefix:"fas",iconName:"flask",icon:[448,512,[],"f0c3","M288 0H160 128C110.3 0 96 14.3 96 32s14.3 32 32 32V196.8c0 11.8-3.3 23.5-9.5 33.5L10.3 406.2C3.6 417.2 0 429.7 0 442.6C0 480.9 31.1 512 69.4 512H378.6c38.3 0 69.4-31.1 69.4-69.4c0-12.8-3.6-25.4-10.3-36.4L329.5 230.4c-6.2-10.1-9.5-21.7-9.5-33.5V64c17.7 0 32-14.3 32-32s-14.3-32-32-32H288zM192 196.8V64h64V196.8c0 23.7 6.6 46.9 19 67.1L309.5 320h-171L173 263.9c12.4-20.2 19-43.4 19-67.1z"]},zT={prefix:"fas",iconName:"sun",icon:[512,512,[9728],"f185","M361.5 1.2c5 2.1 8.6 6.6 9.6 11.9L391 121l107.9 19.8c5.3 1 9.8 4.6 11.9 9.6s1.5 10.7-1.6 15.2L446.9 256l62.3 90.3c3.1 4.5 3.7 10.2 1.6 15.2s-6.6 8.6-11.9 9.6L391 391 371.1 498.9c-1 5.3-4.6 9.8-9.6 11.9s-10.7 1.5-15.2-1.6L256 446.9l-90.3 62.3c-4.5 3.1-10.2 3.7-15.2 1.6s-8.6-6.6-9.6-11.9L121 391 13.1 371.1c-5.3-1-9.8-4.6-11.9-9.6s-1.5-10.7 1.6-15.2L65.1 256 2.8 165.7c-3.1-4.5-3.7-10.2-1.6-15.2s6.6-8.6 11.9-9.6L121 121 140.9 13.1c1-5.3 4.6-9.8 9.6-11.9s10.7-1.5 15.2 1.6L256 65.1 346.3 2.8c4.5-3.1 10.2-3.7 15.2-1.6zM160 256a96 96 0 1 1 192 0 96 96 0 1 1 -192 0zm224 0a128 128 0 1 0 -256 0 128 128 0 1 0 256 0z"]},WT={prefix:"fas",iconName:"medal",icon:[512,512,[127941],"f5a2","M4.1 38.2C1.4 34.2 0 29.4 0 24.6C0 11 11 0 24.6 0H133.9c11.2 0 21.7 5.9 27.4 15.5l68.5 114.1c-48.2 6.1-91.3 28.6-123.4 61.9L4.1 38.2zm503.7 0L405.6 191.5c-32.1-33.3-75.2-55.8-123.4-61.9L350.7 15.5C356.5 5.9 366.9 0 378.1 0H487.4C501 0 512 11 512 24.6c0 4.8-1.4 9.6-4.1 13.6zM80 336a176 176 0 1 1 352 0A176 176 0 1 1 80 336zm184.4-94.9c-3.4-7-13.3-7-16.8 0l-22.4 45.4c-1.4 2.8-4 4.7-7 5.1L168 298.9c-7.7 1.1-10.7 10.5-5.2 16l36.3 35.4c2.2 2.2 3.2 5.2 2.7 8.3l-8.6 49.9c-1.3 7.6 6.7 13.5 13.6 9.9l44.8-23.6c2.7-1.4 6-1.4 8.7 0l44.8 23.6c6.9 3.6 14.9-2.2 13.6-9.9l-8.6-49.9c-.5-3 .5-6.1 2.7-8.3l36.3-35.4c5.6-5.4 2.5-14.8-5.2-16l-50.1-7.3c-3-.4-5.7-2.4-7-5.1l-22.4-45.4z"]},y0={prefix:"fas",iconName:"arrow-down",icon:[384,512,[8595],"f063","M169.4 470.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 370.8 224 64c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 306.7L54.6 265.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z"]},$T={prefix:"fas",iconName:"chevron-down",icon:[512,512,[],"f078","M233.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 338.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z"]},b0={prefix:"fas",iconName:"arrow-up",icon:[384,512,[8593],"f062","M214.6 41.4c-12.5-12.5-32.8-12.5-45.3 0l-160 160c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 141.2V448c0 17.7 14.3 32 32 32s32-14.3 32-32V141.2L329.4 246.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3l-160-160z"]},mr={prefix:"fas",iconName:"copy",icon:[448,512,[],"f0c5","M208 0H332.1c12.7 0 24.9 5.1 33.9 14.1l67.9 67.9c9 9 14.1 21.2 14.1 33.9V336c0 26.5-21.5 48-48 48H208c-26.5 0-48-21.5-48-48V48c0-26.5 21.5-48 48-48zM48 128h80v64H64V448H256V416h64v48c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V176c0-26.5 21.5-48 48-48z"]},ms={prefix:"fas",iconName:"plus",icon:[448,512,[10133,61543,"add"],"2b","M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32V224H48c-17.7 0-32 14.3-32 32s14.3 32 32 32H192V432c0 17.7 14.3 32 32 32s32-14.3 32-32V288H400c17.7 0 32-14.3 32-32s-14.3-32-32-32H256V80z"]},UT={prefix:"fas",iconName:"xmark",icon:[384,512,[128473,10005,10006,10060,215,"close","multiply","remove","times"],"f00d","M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"]},KT=UT,qT={prefix:"fas",iconName:"drumstick-bite",icon:[512,512,[],"f6d7","M160 265.2c0 8.5-3.4 16.6-9.4 22.6l-26.8 26.8c-12.3 12.3-32.5 11.4-49.4 7.2C69.8 320.6 65 320 60 320c-33.1 0-60 26.9-60 60s26.9 60 60 60c6.3 0 12 5.7 12 12c0 33.1 26.9 60 60 60s60-26.9 60-60c0-5-.6-9.8-1.8-14.5c-4.2-16.9-5.2-37.1 7.2-49.4l26.8-26.8c6-6 14.1-9.4 22.6-9.4H336c6.3 0 12.4-.3 18.5-1c11.9-1.2 16.4-15.5 10.8-26c-8.5-15.8-13.3-33.8-13.3-53c0-61.9 50.1-112 112-112c8 0 15.7 .8 23.2 2.4c11.7 2.5 24.1-5.9 22-17.6C494.5 62.5 422.5 0 336 0C238.8 0 160 78.8 160 176v89.2z"]},YT={prefix:"fas",iconName:"trophy",icon:[576,512,[127942],"f091","M400 0H176c-26.5 0-48.1 21.8-47.1 48.2c.2 5.3 .4 10.6 .7 15.8H24C10.7 64 0 74.7 0 88c0 92.6 33.5 157 78.5 200.7c44.3 43.1 98.3 64.8 138.1 75.8c23.4 6.5 39.4 26 39.4 45.6c0 20.9-17 37.9-37.9 37.9H192c-17.7 0-32 14.3-32 32s14.3 32 32 32H384c17.7 0 32-14.3 32-32s-14.3-32-32-32H357.9C337 448 320 431 320 410.1c0-19.6 15.9-39.2 39.4-45.6c39.9-11 93.9-32.7 138.2-75.8C542.5 245 576 180.6 576 88c0-13.3-10.7-24-24-24H446.4c.3-5.2 .5-10.4 .7-15.8C448.1 21.8 426.5 0 400 0zM48.9 112h84.4c9.1 90.1 29.2 150.3 51.9 190.6c-24.9-11-50.8-26.5-73.2-48.3c-32-31.1-58-76-63-142.3zM464.1 254.3c-22.4 21.8-48.3 37.3-73.2 48.3c22.7-40.3 42.8-100.5 51.9-190.6h84.4c-5.1 66.3-31.1 111.2-63 142.3z"]},Pl={prefix:"fas",iconName:"file-export",icon:[576,512,["arrow-right-from-file"],"f56e","M0 64C0 28.7 28.7 0 64 0H224V128c0 17.7 14.3 32 32 32H384V288H216c-13.3 0-24 10.7-24 24s10.7 24 24 24H384V448c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V64zM384 336V288H494.1l-39-39c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l80 80c9.4 9.4 9.4 24.6 0 33.9l-80 80c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l39-39H384zm0-208H256V0L384 128z"]},XT={prefix:"fas",iconName:"shield",icon:[512,512,[128737,"shield-blank"],"f132","M256 0c4.6 0 9.2 1 13.4 2.9L457.7 82.8c22 9.3 38.4 31 38.3 57.2c-.5 99.2-41.3 280.7-213.6 363.2c-16.7 8-36.1 8-52.8 0C57.3 420.7 16.5 239.2 16 140c-.1-26.2 16.3-47.9 38.3-57.2L242.7 2.9C246.8 1 251.4 0 256 0z"]},QT={prefix:"fas",iconName:"moon",icon:[384,512,[127769,9214],"f186","M223.5 32C100 32 0 132.3 0 256S100 480 223.5 480c60.6 0 115.5-24.2 155.8-63.4c5-4.9 6.3-12.5 3.1-18.7s-10.1-9.7-17-8.5c-9.8 1.7-19.8 2.6-30.1 2.6c-96.9 0-175.5-78.8-175.5-176c0-65.8 36-123.1 89.3-153.3c6.1-3.5 9.2-10.5 7.7-17.3s-7.3-11.9-14.3-12.5c-6.3-.5-12.6-.8-19-.8z"]},ZT={prefix:"fas",iconName:"book",icon:[448,512,[128212],"f02d","M96 0C43 0 0 43 0 96V416c0 53 43 96 96 96H384h32c17.7 0 32-14.3 32-32s-14.3-32-32-32V384c17.7 0 32-14.3 32-32V32c0-17.7-14.3-32-32-32H384 96zm0 384H352v64H96c-17.7 0-32-14.3-32-32s14.3-32 32-32zm32-240c0-8.8 7.2-16 16-16H336c8.8 0 16 7.2 16 16s-7.2 16-16 16H144c-8.8 0-16-7.2-16-16zm16 48H336c8.8 0 16 7.2 16 16s-7.2 16-16 16H144c-8.8 0-16-7.2-16-16s7.2-16 16-16z"]},JT={prefix:"fas",iconName:"bandage",icon:[640,512,[129657,"band-aid"],"f462","M480 416h96c35.3 0 64-28.7 64-64V160c0-35.3-28.7-64-64-64H480V416zM448 96H192V416H448V96zM64 96C28.7 96 0 124.7 0 160V352c0 35.3 28.7 64 64 64h96V96H64zM248 208a24 24 0 1 1 48 0 24 24 0 1 1 -48 0zm120-24a24 24 0 1 1 0 48 24 24 0 1 1 0-48zM248 304a24 24 0 1 1 48 0 24 24 0 1 1 -48 0zm120-24a24 24 0 1 1 0 48 24 24 0 1 1 0-48z"]};function ir(e){return e!=null&&typeof e=="object"&&e["@@functional/placeholder"]===!0}function mn(e){return function t(r){return arguments.length===0||ir(r)?t:e.apply(this,arguments)}}function hr(e){return function t(r,n){switch(arguments.length){case 0:return t;case 1:return ir(r)?t:mn(function(i){return e(r,i)});default:return ir(r)&&ir(n)?t:ir(r)?mn(function(i){return e(i,n)}):ir(n)?mn(function(i){return e(r,i)}):e(r,n)}}}var eP=hr(function(t,r){return Number(t)+Number(r)});function w0(e,t){switch(e){case 0:return function(){return t.apply(this,arguments)};case 1:return function(r){return t.apply(this,arguments)};case 2:return function(r,n){return t.apply(this,arguments)};case 3:return function(r,n,i){return t.apply(this,arguments)};case 4:return function(r,n,i,s){return t.apply(this,arguments)};case 5:return function(r,n,i,s,o){return t.apply(this,arguments)};case 6:return function(r,n,i,s,o,a){return t.apply(this,arguments)};case 7:return function(r,n,i,s,o,a,l){return t.apply(this,arguments)};case 8:return function(r,n,i,s,o,a,l,c){return t.apply(this,arguments)};case 9:return function(r,n,i,s,o,a,l,c,u){return t.apply(this,arguments)};case 10:return function(r,n,i,s,o,a,l,c,u,f){return t.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}function C0(e,t,r){return function(){for(var n=[],i=0,s=e,o=0;o<t.length||i<arguments.length;){var a;o<t.length&&(!ir(t[o])||i>=arguments.length)?a=t[o]:(a=arguments[i],i+=1),n[o]=a,ir(a)||(s-=1),o+=1}return s<=0?r.apply(this,n):w0(s,C0(e,n,r))}}var tP=hr(function(t,r){return t===1?mn(r):w0(t,C0(t,[],r))});function Eu(e){return function t(r,n,i){switch(arguments.length){case 0:return t;case 1:return ir(r)?t:hr(function(s,o){return e(r,s,o)});case 2:return ir(r)&&ir(n)?t:ir(r)?hr(function(s,o){return e(s,n,o)}):ir(n)?hr(function(s,o){return e(r,s,o)}):mn(function(s){return e(r,n,s)});default:return ir(r)&&ir(n)&&ir(i)?t:ir(r)&&ir(n)?hr(function(s,o){return e(s,o,i)}):ir(r)&&ir(i)?hr(function(s,o){return e(s,n,o)}):ir(n)&&ir(i)?hr(function(s,o){return e(r,s,o)}):ir(r)?mn(function(s){return e(s,n,i)}):ir(n)?mn(function(s){return e(r,s,i)}):ir(i)?mn(function(s){return e(r,n,s)}):e(r,n,i)}}}const tx=Array.isArray||function(t){return t!=null&&t.length>=0&&Object.prototype.toString.call(t)==="[object Array]"};function rP(e){return e!=null&&typeof e["@@transducer/step"]=="function"}function S0(e,t,r){return function(){if(arguments.length===0)return r();var n=arguments[arguments.length-1];if(!tx(n)){for(var i=0;i<e.length;){if(typeof n[e[i]]=="function")return n[e[i]].apply(n,Array.prototype.slice.call(arguments,0,-1));i+=1}if(rP(n)){var s=t.apply(null,Array.prototype.slice.call(arguments,0,-1));return s(n)}}return r.apply(this,arguments)}}function rx(e){return e&&e["@@transducer/reduced"]?e:{"@@transducer/value":e,"@@transducer/reduced":!0}}const Fh={init:function(){return this.xf["@@transducer/init"]()},result:function(e){return this.xf["@@transducer/result"](e)}};var nP=function(){function e(t,r){this.xf=r,this.f=t,this.all=!0}return e.prototype["@@transducer/init"]=Fh.init,e.prototype["@@transducer/result"]=function(t){return this.all&&(t=this.xf["@@transducer/step"](t,!0)),this.xf["@@transducer/result"](t)},e.prototype["@@transducer/step"]=function(t,r){return this.f(r)||(this.all=!1,t=rx(this.xf["@@transducer/step"](t,!1))),t},e}();function iP(e){return function(t){return new nP(e,t)}}var sP=hr(S0(["all"],iP,function(t,r){for(var n=0;n<r.length;){if(!t(r[n]))return!1;n+=1}return!0}));const oP=sP;function h1(e){for(var t=[],r;!(r=e.next()).done;)t.push(r.value);return t}function f1(e,t,r){for(var n=0,i=r.length;n<i;){if(e(t,r[n]))return!0;n+=1}return!1}function aP(e){var t=String(e).match(/^function (\w*)/);return t==null?"":t[1]}function Di(e,t){return Object.prototype.hasOwnProperty.call(t,e)}function lP(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}const mp=typeof Object.is=="function"?Object.is:lP;var p1=Object.prototype.toString,cP=function(){return p1.call(arguments)==="[object Arguments]"?function(t){return p1.call(t)==="[object Arguments]"}:function(t){return Di("callee",t)}}(),uP=!{toString:null}.propertyIsEnumerable("toString"),g1=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],m1=function(){return arguments.propertyIsEnumerable("length")}(),dP=function(t,r){for(var n=0;n<t.length;){if(t[n]===r)return!0;n+=1}return!1},ul=mn(typeof Object.keys=="function"&&!m1?function(t){return Object(t)!==t?[]:Object.keys(t)}:function(t){if(Object(t)!==t)return[];var r,n,i=[],s=m1&&cP(t);for(r in t)Di(r,t)&&(!s||r!=="length")&&(i[i.length]=r);if(uP)for(n=g1.length-1;n>=0;)r=g1[n],Di(r,t)&&!dP(i,r)&&(i[i.length]=r),n-=1;return i}),Vg=mn(function(t){return t===null?"Null":t===void 0?"Undefined":Object.prototype.toString.call(t).slice(8,-1)});function v1(e,t,r,n){var i=h1(e),s=h1(t);function o(a,l){return x0(a,l,r.slice(),n.slice())}return!f1(function(a,l){return!f1(o,l,a)},s,i)}function x0(e,t,r,n){if(mp(e,t))return!0;var i=Vg(e);if(i!==Vg(t))return!1;if(typeof e["fantasy-land/equals"]=="function"||typeof t["fantasy-land/equals"]=="function")return typeof e["fantasy-land/equals"]=="function"&&e["fantasy-land/equals"](t)&&typeof t["fantasy-land/equals"]=="function"&&t["fantasy-land/equals"](e);if(typeof e.equals=="function"||typeof t.equals=="function")return typeof e.equals=="function"&&e.equals(t)&&typeof t.equals=="function"&&t.equals(e);switch(i){case"Arguments":case"Array":case"Object":if(typeof e.constructor=="function"&&aP(e.constructor)==="Promise")return e===t;break;case"Boolean":case"Number":case"String":if(!(typeof e==typeof t&&mp(e.valueOf(),t.valueOf())))return!1;break;case"Date":if(!mp(e.valueOf(),t.valueOf()))return!1;break;case"Error":return e.name===t.name&&e.message===t.message;case"RegExp":if(!(e.source===t.source&&e.global===t.global&&e.ignoreCase===t.ignoreCase&&e.multiline===t.multiline&&e.sticky===t.sticky&&e.unicode===t.unicode))return!1;break}for(var s=r.length-1;s>=0;){if(r[s]===e)return n[s]===t;s-=1}switch(i){case"Map":return e.size!==t.size?!1:v1(e.entries(),t.entries(),r.concat([e]),n.concat([t]));case"Set":return e.size!==t.size?!1:v1(e.values(),t.values(),r.concat([e]),n.concat([t]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var o=ul(e);if(o.length!==ul(t).length)return!1;var a=r.concat([e]),l=n.concat([t]);for(s=o.length-1;s>=0;){var c=o[s];if(!(Di(c,t)&&x0(t[c],e[c],a,l)))return!1;s-=1}return!0}var nx=hr(function(t,r){return x0(t,r,[],[])});function hP(e,t,r){var n,i;if(typeof e.indexOf=="function")switch(typeof t){case"number":if(t===0){for(n=1/t;r<e.length;){if(i=e[r],i===0&&1/i===n)return r;r+=1}return-1}else if(t!==t){for(;r<e.length;){if(i=e[r],typeof i=="number"&&i!==i)return r;r+=1}return-1}return e.indexOf(t,r);case"string":case"boolean":case"function":case"undefined":return e.indexOf(t,r);case"object":if(t===null)return e.indexOf(t,r)}for(;r<e.length;){if(nx(e[r],t))return r;r+=1}return-1}function ix(e,t){return hP(t,e,0)>=0}function vp(e,t){for(var r=0,n=t.length,i=Array(n);r<n;)i[r]=e(t[r]),r+=1;return i}function yp(e){var t=e.replace(/\\/g,"\\\\").replace(/[\b]/g,"\\b").replace(/\f/g,"\\f").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t").replace(/\v/g,"\\v").replace(/\0/g,"\\0");return'"'+t.replace(/"/g,'\\"')+'"'}var tc=function(t){return(t<10?"0":"")+t},fP=typeof Date.prototype.toISOString=="function"?function(t){return t.toISOString()}:function(t){return t.getUTCFullYear()+"-"+tc(t.getUTCMonth()+1)+"-"+tc(t.getUTCDate())+"T"+tc(t.getUTCHours())+":"+tc(t.getUTCMinutes())+":"+tc(t.getUTCSeconds())+"."+(t.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"};function pP(e){return function(){return!e.apply(this,arguments)}}function gP(e,t,r){for(var n=0,i=r.length;n<i;)t=e(t,r[n]),n+=1;return t}function mP(e,t){for(var r=0,n=t.length,i=[];r<n;)e(t[r])&&(i[i.length]=t[r]),r+=1;return i}function zg(e){return Object.prototype.toString.call(e)==="[object Object]"}var vP=function(){function e(t,r){this.xf=r,this.f=t}return e.prototype["@@transducer/init"]=Fh.init,e.prototype["@@transducer/result"]=Fh.result,e.prototype["@@transducer/step"]=function(t,r){return this.f(r)?this.xf["@@transducer/step"](t,r):t},e}();function yP(e){return function(t){return new vP(e,t)}}var bP=hr(S0(["fantasy-land/filter","filter"],yP,function(e,t){return zg(t)?gP(function(r,n){return e(t[n])&&(r[n]=t[n]),r},{},ul(t)):mP(e,t)})),wP=hr(function(t,r){return bP(pP(t),r)});function sx(e,t){var r=function(o){var a=t.concat([e]);return ix(o,a)?"<Circular>":sx(o,a)},n=function(s,o){return vp(function(a){return yp(a)+": "+r(s[a])},o.slice().sort())};switch(Object.prototype.toString.call(e)){case"[object Arguments]":return"(function() { return arguments; }("+vp(r,e).join(", ")+"))";case"[object Array]":return"["+vp(r,e).concat(n(e,wP(function(s){return/^\d+$/.test(s)},ul(e)))).join(", ")+"]";case"[object Boolean]":return typeof e=="object"?"new Boolean("+r(e.valueOf())+")":e.toString();case"[object Date]":return"new Date("+(isNaN(e.valueOf())?r(NaN):yp(fP(e)))+")";case"[object Map]":return"new Map("+r(Array.from(e))+")";case"[object Null]":return"null";case"[object Number]":return typeof e=="object"?"new Number("+r(e.valueOf())+")":1/e===-1/0?"-0":e.toString(10);case"[object Set]":return"new Set("+r(Array.from(e).sort())+")";case"[object String]":return typeof e=="object"?"new String("+r(e.valueOf())+")":yp(e);case"[object Undefined]":return"undefined";default:if(typeof e.toString=="function"){var i=e.toString();if(i!=="[object Object]")return i}return"{"+n(e,ul(e)).join(", ")+"}"}}var CP=mn(function(t){return sx(t,[])});const ox=Number.isInteger||function(t){return t<<0===t};function ax(e){return Object.prototype.toString.call(e)==="[object String]"}var lx=hr(function(t,r){var n=t<0?r.length+t:t;return ax(r)?r.charAt(n):r[n]}),SP=hr(function(t,r){if(r!=null)return ox(t)?lx(t,r):r[t]});const Xt=SP;var xP=mn(function(t){return tx(t)?!0:!t||typeof t!="object"||ax(t)?!1:t.length===0?!0:t.length>0?t.hasOwnProperty(0)&&t.hasOwnProperty(t.length-1):!1}),y1=typeof Symbol<"u"?Symbol.iterator:"@@iterator";function RP(e,t,r){return function(i,s,o){if(xP(o))return e(i,s,o);if(o==null)return s;if(typeof o["fantasy-land/reduce"]=="function")return t(i,s,o,"fantasy-land/reduce");if(o[y1]!=null)return r(i,s,o[y1]());if(typeof o.next=="function")return r(i,s,o);if(typeof o.reduce=="function")return t(i,s,o,"reduce");throw new TypeError("reduce: list must be array or iterable")}}function EP(e,t,r){for(var n=0,i=r.length;n<i;){if(t=e["@@transducer/step"](t,r[n]),t&&t["@@transducer/reduced"]){t=t["@@transducer/value"];break}n+=1}return e["@@transducer/result"](t)}var TP=hr(function(t,r){return w0(t.length,function(){return t.apply(r,arguments)})});function PP(e,t,r){for(var n=r.next();!n.done;){if(t=e["@@transducer/step"](t,n.value),t&&t["@@transducer/reduced"]){t=t["@@transducer/value"];break}n=r.next()}return e["@@transducer/result"](t)}function _P(e,t,r,n){return e["@@transducer/result"](r[n](TP(e["@@transducer/step"],e),t))}var cx=RP(EP,_P,PP),MP=function(){function e(t){this.f=t}return e.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},e.prototype["@@transducer/result"]=function(t){return t},e.prototype["@@transducer/step"]=function(t,r){return this.f(t,r)},e}();function ux(e){return new MP(e)}var kP=Eu(function(e,t,r){return cx(typeof e=="function"?ux(e):e,t,r)});const FP=kP;var AP=mn(function(t){for(var r=ul(t),n=r.length,i=[],s=0;s<n;)i[s]=t[r[s]],s+=1;return i});const _l=AP;var OP=Eu(function(t,r,n){var i=t(r),s=t(n);return i<s?-1:i>s?1:0});const en=OP;function DP(e){var t=Object.prototype.toString.call(e);return t==="[object Function]"||t==="[object AsyncFunction]"||t==="[object GeneratorFunction]"||t==="[object AsyncGeneratorFunction]"}function IP(e){return new RegExp(e.source,e.flags?e.flags:(e.global?"g":"")+(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.sticky?"y":"")+(e.unicode?"u":"")+(e.dotAll?"s":""))}function R0(e,t,r){if(r||(r=new LP),NP(e))return e;var n=function(s){var o=r.get(e);if(o)return o;r.set(e,s);for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(s[a]=t?R0(e[a],!0,r):e[a]);return s};switch(Vg(e)){case"Object":return n(Object.create(Object.getPrototypeOf(e)));case"Array":return n([]);case"Date":return new Date(e.valueOf());case"RegExp":return IP(e);case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":return e.slice();default:return e}}function NP(e){var t=typeof e;return e==null||t!="object"&&t!="function"}var LP=function(){function e(){this.map={},this.length=0}return e.prototype.set=function(t,r){const n=this.hash(t);let i=this.map[n];i||(this.map[n]=i=[]),i.push([t,r]),this.length+=1},e.prototype.hash=function(t){let r=[];for(var n in t)r.push(Object.prototype.toString.call(t[n]));return r.join()},e.prototype.get=function(t){if(this.length<=180){for(const i in this.map){const s=this.map[i];for(let o=0;o<s.length;o+=1){const a=s[o];if(a[0]===t)return a[1]}}return}const r=this.hash(t),n=this.map[r];if(n)for(let i=0;i<n.length;i+=1){const s=n[i];if(s[0]===t)return s[1]}},e}(),jP=function(){function e(t,r,n,i){this.valueFn=t,this.valueAcc=r,this.keyFn=n,this.xf=i,this.inputs={}}return e.prototype["@@transducer/init"]=Fh.init,e.prototype["@@transducer/result"]=function(t){var r;for(r in this.inputs)if(Di(r,this.inputs)&&(t=this.xf["@@transducer/step"](t,this.inputs[r]),t["@@transducer/reduced"])){t=t["@@transducer/value"];break}return this.inputs=null,this.xf["@@transducer/result"](t)},e.prototype["@@transducer/step"]=function(t,r){var n=this.keyFn(r);return this.inputs[n]=this.inputs[n]||[n,R0(this.valueAcc,!1)],this.inputs[n][1]=this.valueFn(this.inputs[n][1],r),t},e}();function BP(e,t,r){return function(n){return new jP(e,t,r,n)}}var HP=C0(4,[],S0([],BP,function(t,r,n,i){var s=ux(function(o,a){var l=n(a),c=t(Di(l,o)?o[l]:R0(r,!1),a);return c&&c["@@transducer/reduced"]?rx(o):(o[l]=c,o)});return cx(s,{},i)}));const GP=HP;var VP=hr(ix);const zP=VP;var WP=GP(function(e,t){return t},null);const ri=WP;var $P=hr(function(t,r){return tP(t+1,function(){var n=arguments[t];if(n!=null&&DP(n[r]))return n[r].apply(n,Array.prototype.slice.call(arguments,0,t));throw new TypeError(CP(n)+' does not have a method named "'+r+'"')})});const dx=$P;var UP=hr(function(t,r){return t.map(function(n){for(var i=r,s=0,o;s<n.length;){if(i==null)return;o=n[s],i=ox(o)?lx(o,i):i[o],s+=1}return i})}),KP=hr(function(t,r){return UP([t],r)[0]});const qP=KP;var YP=FP(eP,0);const b1=YP;var XP=Eu(function(t,r,n){var i={},s;r=r||{},n=n||{};for(s in r)Di(s,r)&&(i[s]=Di(s,n)?t(s,r[s],n[s]):r[s]);for(s in n)Di(s,n)&&!Di(s,i)&&(i[s]=n[s]);return i}),QP=Eu(function e(t,r,n){return XP(function(i,s,o){return zg(s)&&zg(o)?e(t,s,o):t(i,s,o)},r,n)}),ZP=hr(function(t,r){return QP(function(n,i,s){return s},t,r)});const JP=ZP;var e_=hr(function(t,r){for(var n={},i={},s=0,o=t.length;s<o;)i[t[s]]=1,s+=1;for(var a in r)i.hasOwnProperty(a)||(n[a]=r[a]);return n});const t_=e_;var r_=Eu(function(t,r,n){return n.replace(t,r)});const n_=r_;var i_=hr(function(t,r){return Array.prototype.slice.call(r,0).sort(t)});const s_=i_;var o_=hr(function(t,r){return Array.prototype.slice.call(r,0).sort(function(n,i){for(var s=0,o=0;s===0&&o<t.length;)s=t[o](n,i),o+=1;return s})});const ai=o_;var a_=dx(1,"split");const l_=a_;var c_=dx(0,"toLowerCase");const hx=c_;function cd(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var fx={exports:{}};/*! ExcelJS 19-10-2023 */(function(e,t){(function(r){e.exports=r()})(function(){return function r(n,i,s){function o(c,u){if(!i[c]){if(!n[c]){var f=typeof cd=="function"&&cd;if(!u&&f)return f(c,!0);if(a)return a(c,!0);var d=new Error("Cannot find module '"+c+"'");throw d.code="MODULE_NOT_FOUND",d}var h=i[c]={exports:{}};n[c][0].call(h.exports,function(g){return o(n[c][1][g]||g)},h,h.exports,r,n,i,s)}return i[c].exports}for(var a=typeof cd=="function"&&cd,l=0;l<s.length;l++)o(s[l]);return o}({1:[function(r,n,i){const s=r("fs"),o=r("fast-csv"),a=r("dayjs/plugin/customParseFormat"),l=r("dayjs/plugin/utc"),c=r("dayjs").extend(a).extend(l),u=r("../utils/stream-buf"),{fs:{exists:f}}=r("../utils/utils"),d={true:!0,false:!1,"#N/A":{error:"#N/A"},"#REF!":{error:"#REF!"},"#NAME?":{error:"#NAME?"},"#DIV/0!":{error:"#DIV/0!"},"#NULL!":{error:"#NULL!"},"#VALUE!":{error:"#VALUE!"},"#NUM!":{error:"#NUM!"}};n.exports=class{constructor(h){this.workbook=h,this.worksheet=null}async readFile(h,g){if(g=g||{},!await f(h))throw new Error("File not found: "+h);const v=s.createReadStream(h),p=await this.read(v,g);return v.close(),p}read(h,g){return g=g||{},new Promise((v,p)=>{const y=this.workbook.addWorksheet(g.sheetName),m=g.dateFormats||["YYYY-MM-DD[T]HH:mm:ssZ","YYYY-MM-DD[T]HH:mm:ss","MM-DD-YYYY","YYYY-MM-DD"],b=g.map||function(P){if(P==="")return null;const F=Number(P);if(!Number.isNaN(F)&&F!==1/0)return F;const D=m.reduce((j,H)=>{if(j)return j;const W=c(P,H,!0);return W.isValid()?W:null},null);if(D)return new Date(D.valueOf());const O=d[P];return O!==void 0?O:P},x=o.parse(g.parserOptions).on("data",P=>{y.addRow(P.map(b))}).on("end",()=>{x.emit("worksheet",y)});x.on("worksheet",v).on("error",p),h.pipe(x)})}createInputStream(){throw new Error("`CSV#createInputStream` is deprecated. You should use `CSV#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}write(h,g){return new Promise((v,p)=>{g=g||{};const y=this.workbook.getWorksheet(g.sheetName||g.sheetId),m=o.format(g.formatterOptions);h.on("finish",()=>{v()}),m.on("error",p),m.pipe(h);const{dateFormat:b,dateUTC:x}=g,P=g.map||(O=>{if(O){if(O.text||O.hyperlink)return O.hyperlink||O.text||"";if(O.formula||O.result)return O.result||"";if(O instanceof Date)return b?x?c.utc(O).format(b):c(O).format(b):x?c.utc(O).format():c(O).format();if(O.error)return O.error;if(typeof O=="object")return JSON.stringify(O)}return O}),F=g.includeEmptyRows===void 0||g.includeEmptyRows;let D=1;y&&y.eachRow((O,j)=>{if(F)for(;D++<j-1;)m.write([]);const{values:H}=O;H.shift(),m.write(H.map(P)),D=j}),m.end()})}writeFile(h,g){const v={encoding:(g=g||{}).encoding||"utf8"},p=s.createWriteStream(h,v);return this.write(p,g)}async writeBuffer(h){const g=new u;return await this.write(g,h),g.read()}}},{"../utils/stream-buf":24,"../utils/utils":27,dayjs:391,"dayjs/plugin/customParseFormat":392,"dayjs/plugin/utc":393,"fast-csv":424,fs:216}],2:[function(r,n,i){const s=r("../utils/col-cache");class o{constructor(l,c){let u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(this.worksheet=l,c)if(typeof c=="string"){const f=s.decodeAddress(c);this.nativeCol=f.col+u,this.nativeColOff=0,this.nativeRow=f.row+u,this.nativeRowOff=0}else c.nativeCol!==void 0?(this.nativeCol=c.nativeCol||0,this.nativeColOff=c.nativeColOff||0,this.nativeRow=c.nativeRow||0,this.nativeRowOff=c.nativeRowOff||0):c.col!==void 0?(this.col=c.col+u,this.row=c.row+u):(this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0);else this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0}static asInstance(l){return l instanceof o||l==null?l:new o(l)}get col(){return this.nativeCol+Math.min(this.colWidth-1,this.nativeColOff)/this.colWidth}set col(l){this.nativeCol=Math.floor(l),this.nativeColOff=Math.floor((l-this.nativeCol)*this.colWidth)}get row(){return this.nativeRow+Math.min(this.rowHeight-1,this.nativeRowOff)/this.rowHeight}set row(l){this.nativeRow=Math.floor(l),this.nativeRowOff=Math.floor((l-this.nativeRow)*this.rowHeight)}get colWidth(){return this.worksheet&&this.worksheet.getColumn(this.nativeCol+1)&&this.worksheet.getColumn(this.nativeCol+1).isCustomWidth?Math.floor(1e4*this.worksheet.getColumn(this.nativeCol+1).width):64e4}get rowHeight(){return this.worksheet&&this.worksheet.getRow(this.nativeRow+1)&&this.worksheet.getRow(this.nativeRow+1).height?Math.floor(1e4*this.worksheet.getRow(this.nativeRow+1).height):18e4}get model(){return{nativeCol:this.nativeCol,nativeColOff:this.nativeColOff,nativeRow:this.nativeRow,nativeRowOff:this.nativeRowOff}}set model(l){this.nativeCol=l.nativeCol,this.nativeColOff=l.nativeColOff,this.nativeRow=l.nativeRow,this.nativeRowOff=l.nativeRowOff}}n.exports=o},{"../utils/col-cache":19}],3:[function(r,n,i){const s=r("../utils/col-cache"),o=r("../utils/under-dash"),a=r("./enums"),{slideFormula:l}=r("../utils/shared-formula"),c=r("./note");class u{constructor(h,g,v){if(!h||!g)throw new Error("A Cell needs a Row");this._row=h,this._column=g,s.validateAddress(v),this._address=v,this._value=f.create(u.Types.Null,this),this.style=this._mergeStyle(h.style,g.style,{}),this._mergeCount=0}get worksheet(){return this._row.worksheet}get workbook(){return this._row.worksheet.workbook}destroy(){delete this.style,delete this._value,delete this._row,delete this._column,delete this._address}get numFmt(){return this.style.numFmt}set numFmt(h){this.style.numFmt=h}get font(){return this.style.font}set font(h){this.style.font=h}get alignment(){return this.style.alignment}set alignment(h){this.style.alignment=h}get border(){return this.style.border}set border(h){this.style.border=h}get fill(){return this.style.fill}set fill(h){this.style.fill=h}get protection(){return this.style.protection}set protection(h){this.style.protection=h}_mergeStyle(h,g,v){const p=h&&h.numFmt||g&&g.numFmt;p&&(v.numFmt=p);const y=h&&h.font||g&&g.font;y&&(v.font=y);const m=h&&h.alignment||g&&g.alignment;m&&(v.alignment=m);const b=h&&h.border||g&&g.border;b&&(v.border=b);const x=h&&h.fill||g&&g.fill;x&&(v.fill=x);const P=h&&h.protection||g&&g.protection;return P&&(v.protection=P),v}get address(){return this._address}get row(){return this._row.number}get col(){return this._column.number}get $col$row(){return`$${this._column.letter}$${this.row}`}get type(){return this._value.type}get effectiveType(){return this._value.effectiveType}toCsvString(){return this._value.toCsvString()}addMergeRef(){this._mergeCount++}releaseMergeRef(){this._mergeCount--}get isMerged(){return this._mergeCount>0||this.type===u.Types.Merge}merge(h,g){this._value.release(),this._value=f.create(u.Types.Merge,this,h),g||(this.style=h.style)}unmerge(){this.type===u.Types.Merge&&(this._value.release(),this._value=f.create(u.Types.Null,this),this.style=this._mergeStyle(this._row.style,this._column.style,{}))}isMergedTo(h){return this._value.type===u.Types.Merge&&this._value.isMergedTo(h)}get master(){return this.type===u.Types.Merge?this._value.master:this}get isHyperlink(){return this._value.type===u.Types.Hyperlink}get hyperlink(){return this._value.hyperlink}get value(){return this._value.value}set value(h){this.type!==u.Types.Merge?(this._value.release(),this._value=f.create(f.getType(h),this,h)):this._value.master.value=h}get note(){return this._comment&&this._comment.note}set note(h){this._comment=new c(h)}get text(){return this._value.toString()}get html(){return o.escapeHtml(this.text)}toString(){return this.text}_upgradeToHyperlink(h){this.type===u.Types.String&&(this._value=f.create(u.Types.Hyperlink,this,{text:this._value.value,hyperlink:h}))}get formula(){return this._value.formula}get result(){return this._value.result}get formulaType(){return this._value.formulaType}get fullAddress(){const{worksheet:h}=this._row;return{sheetName:h.name,address:this.address,row:this.row,col:this.col}}get name(){return this.names[0]}set name(h){this.names=[h]}get names(){return this.workbook.definedNames.getNamesEx(this.fullAddress)}set names(h){const{definedNames:g}=this.workbook;g.removeAllNames(this.fullAddress),h.forEach(v=>{g.addEx(this.fullAddress,v)})}addName(h){this.workbook.definedNames.addEx(this.fullAddress,h)}removeName(h){this.workbook.definedNames.removeEx(this.fullAddress,h)}removeAllNames(){this.workbook.definedNames.removeAllNames(this.fullAddress)}get _dataValidations(){return this.worksheet.dataValidations}get dataValidation(){return this._dataValidations.find(this.address)}set dataValidation(h){this._dataValidations.add(this.address,h)}get model(){const{model:h}=this._value;return h.style=this.style,this._comment&&(h.comment=this._comment.model),h}set model(h){if(this._value.release(),this._value=f.create(h.type,this),this._value.model=h,h.comment)switch(h.comment.type){case"note":this._comment=c.fromModel(h.comment)}h.style?this.style=h.style:this.style={}}}u.Types=a.ValueType;const f={getType:d=>d==null?u.Types.Null:d instanceof String||typeof d=="string"?u.Types.String:typeof d=="number"?u.Types.Number:typeof d=="boolean"?u.Types.Boolean:d instanceof Date?u.Types.Date:d.text&&d.hyperlink?u.Types.Hyperlink:d.formula||d.sharedFormula?u.Types.Formula:d.richText?u.Types.RichText:d.sharedString?u.Types.SharedString:d.error?u.Types.Error:u.Types.JSON,types:[{t:u.Types.Null,f:class{constructor(d){this.model={address:d.address,type:u.Types.Null}}get value(){return null}set value(d){}get type(){return u.Types.Null}get effectiveType(){return u.Types.Null}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return""}release(){}toString(){return""}}},{t:u.Types.Number,f:class{constructor(d,h){this.model={address:d.address,type:u.Types.Number,value:h}}get value(){return this.model.value}set value(d){this.model.value=d}get type(){return u.Types.Number}get effectiveType(){return u.Types.Number}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:u.Types.String,f:class{constructor(d,h){this.model={address:d.address,type:u.Types.String,value:h}}get value(){return this.model.value}set value(d){this.model.value=d}get type(){return u.Types.String}get effectiveType(){return u.Types.String}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return`"${this.model.value.replace(/"/g,'""')}"`}release(){}toString(){return this.model.value}}},{t:u.Types.Date,f:class{constructor(d,h){this.model={address:d.address,type:u.Types.Date,value:h}}get value(){return this.model.value}set value(d){this.model.value=d}get type(){return u.Types.Date}get effectiveType(){return u.Types.Date}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return this.model.value.toISOString()}release(){}toString(){return this.model.value.toString()}}},{t:u.Types.Hyperlink,f:class{constructor(d,h){this.model={address:d.address,type:u.Types.Hyperlink,text:h?h.text:void 0,hyperlink:h?h.hyperlink:void 0},h&&h.tooltip&&(this.model.tooltip=h.tooltip)}get value(){const d={text:this.model.text,hyperlink:this.model.hyperlink};return this.model.tooltip&&(d.tooltip=this.model.tooltip),d}set value(d){this.model={text:d.text,hyperlink:d.hyperlink},d.tooltip&&(this.model.tooltip=d.tooltip)}get text(){return this.model.text}set text(d){this.model.text=d}get hyperlink(){return this.model.hyperlink}set hyperlink(d){this.model.hyperlink=d}get type(){return u.Types.Hyperlink}get effectiveType(){return u.Types.Hyperlink}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return this.model.hyperlink}release(){}toString(){return this.model.text}}},{t:u.Types.Formula,f:class{constructor(d,h){this.cell=d,this.model={address:d.address,type:u.Types.Formula,shareType:h?h.shareType:void 0,ref:h?h.ref:void 0,formula:h?h.formula:void 0,sharedFormula:h?h.sharedFormula:void 0,result:h?h.result:void 0}}_copyModel(d){const h={},g=v=>{const p=d[v];p&&(h[v]=p)};return g("formula"),g("result"),g("ref"),g("shareType"),g("sharedFormula"),h}get value(){return this._copyModel(this.model)}set value(d){this.model=this._copyModel(d)}validate(d){switch(f.getType(d)){case u.Types.Null:case u.Types.String:case u.Types.Number:case u.Types.Date:break;case u.Types.Hyperlink:case u.Types.Formula:default:throw new Error("Cannot process that type of result value")}}get dependencies(){return{ranges:this.formula.match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g),cells:this.formula.replace(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g,"").match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}/g)}}get formula(){return this.model.formula||this._getTranslatedFormula()}set formula(d){this.model.formula=d}get formulaType(){return this.model.formula?a.FormulaType.Master:this.model.sharedFormula?a.FormulaType.Shared:a.FormulaType.None}get result(){return this.model.result}set result(d){this.model.result=d}get type(){return u.Types.Formula}get effectiveType(){const d=this.model.result;return d==null?a.ValueType.Null:d instanceof String||typeof d=="string"?a.ValueType.String:typeof d=="number"?a.ValueType.Number:d instanceof Date?a.ValueType.Date:d.text&&d.hyperlink?a.ValueType.Hyperlink:d.formula?a.ValueType.Formula:a.ValueType.Null}get address(){return this.model.address}set address(d){this.model.address=d}_getTranslatedFormula(){if(!this._translatedFormula&&this.model.sharedFormula){const{worksheet:d}=this.cell,h=d.findCell(this.model.sharedFormula);this._translatedFormula=h&&l(h.formula,h.address,this.model.address)}return this._translatedFormula}toCsvString(){return""+(this.model.result||"")}release(){}toString(){return this.model.result?this.model.result.toString():""}}},{t:u.Types.Merge,f:class{constructor(d,h){this.model={address:d.address,type:u.Types.Merge,master:h?h.address:void 0},this._master=h,h&&h.addMergeRef()}get value(){return this._master.value}set value(d){d instanceof u?(this._master&&this._master.releaseMergeRef(),d.addMergeRef(),this._master=d):this._master.value=d}isMergedTo(d){return d===this._master}get master(){return this._master}get type(){return u.Types.Merge}get effectiveType(){return this._master.effectiveType}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return""}release(){this._master.releaseMergeRef()}toString(){return this.value.toString()}}},{t:u.Types.JSON,f:class{constructor(d,h){this.model={address:d.address,type:u.Types.String,value:JSON.stringify(h),rawValue:h}}get value(){return this.model.rawValue}set value(d){this.model.rawValue=d,this.model.value=JSON.stringify(d)}get type(){return u.Types.String}get effectiveType(){return u.Types.String}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return this.model.value}release(){}toString(){return this.model.value}}},{t:u.Types.SharedString,f:class{constructor(d,h){this.model={address:d.address,type:u.Types.SharedString,value:h}}get value(){return this.model.value}set value(d){this.model.value=d}get type(){return u.Types.SharedString}get effectiveType(){return u.Types.SharedString}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:u.Types.RichText,f:class{constructor(d,h){this.model={address:d.address,type:u.Types.String,value:h}}get value(){return this.model.value}set value(d){this.model.value=d}toString(){return this.model.value.richText.map(d=>d.text).join("")}get type(){return u.Types.RichText}get effectiveType(){return u.Types.RichText}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return`"${this.text.replace(/"/g,'""')}"`}release(){}}},{t:u.Types.Boolean,f:class{constructor(d,h){this.model={address:d.address,type:u.Types.Boolean,value:h}}get value(){return this.model.value}set value(d){this.model.value=d}get type(){return u.Types.Boolean}get effectiveType(){return u.Types.Boolean}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return this.model.value?1:0}release(){}toString(){return this.model.value.toString()}}},{t:u.Types.Error,f:class{constructor(d,h){this.model={address:d.address,type:u.Types.Error,value:h}}get value(){return this.model.value}set value(d){this.model.value=d}get type(){return u.Types.Error}get effectiveType(){return u.Types.Error}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return this.toString()}release(){}toString(){return this.model.value.error.toString()}}}].reduce((d,h)=>(d[h.t]=h.f,d),[]),create(d,h,g){const v=this.types[d];if(!v)throw new Error("Could not create Value of type "+d);return new v(h,g)}};n.exports=u},{"../utils/col-cache":19,"../utils/shared-formula":23,"../utils/under-dash":26,"./enums":7,"./note":9}],4:[function(r,n,i){const s=r("../utils/under-dash"),o=r("./enums"),a=r("../utils/col-cache");class l{constructor(u,f,d){this._worksheet=u,this._number=f,d!==!1&&(this.defn=d)}get number(){return this._number}get worksheet(){return this._worksheet}get letter(){return a.n2l(this._number)}get isCustomWidth(){return this.width!==void 0&&this.width!==9}get defn(){return{header:this._header,key:this.key,width:this.width,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel}}set defn(u){u?(this.key=u.key,this.width=u.width!==void 0?u.width:9,this.outlineLevel=u.outlineLevel,u.style?this.style=u.style:this.style={},this.header=u.header,this._hidden=!!u.hidden):(delete this._header,delete this._key,delete this.width,this.style={},this.outlineLevel=0)}get headers(){return this._header&&this._header instanceof Array?this._header:[this._header]}get header(){return this._header}set header(u){u!==void 0?(this._header=u,this.headers.forEach((f,d)=>{this._worksheet.getCell(d+1,this.number).value=f})):this._header=void 0}get key(){return this._key}set key(u){(this._key&&this._worksheet.getColumnKey(this._key))===this&&this._worksheet.deleteColumnKey(this._key),this._key=u,u&&this._worksheet.setColumnKey(this._key,this)}get hidden(){return!!this._hidden}set hidden(u){this._hidden=u}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(u){this._outlineLevel=u}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelCol)}toString(){return JSON.stringify({key:this.key,width:this.width,headers:this.headers.length?this.headers:void 0})}equivalentTo(u){return this.width===u.width&&this.hidden===u.hidden&&this.outlineLevel===u.outlineLevel&&s.isEqual(this.style,u.style)}get isDefault(){if(this.isCustomWidth||this.hidden||this.outlineLevel)return!1;const u=this.style;return!u||!(u.font||u.numFmt||u.alignment||u.border||u.fill||u.protection)}get headerCount(){return this.headers.length}eachCell(u,f){const d=this.number;f||(f=u,u=null),this._worksheet.eachRow(u,(h,g)=>{f(h.getCell(d),g)})}get values(){const u=[];return this.eachCell((f,d)=>{f&&f.type!==o.ValueType.Null&&(u[d]=f.value)}),u}set values(u){if(!u)return;const f=this.number;let d=0;u.hasOwnProperty("0")&&(d=1),u.forEach((h,g)=>{this._worksheet.getCell(g+d,f).value=h})}_applyStyle(u,f){return this.style[u]=f,this.eachCell(d=>{d[u]=f}),f}get numFmt(){return this.style.numFmt}set numFmt(u){this._applyStyle("numFmt",u)}get font(){return this.style.font}set font(u){this._applyStyle("font",u)}get alignment(){return this.style.alignment}set alignment(u){this._applyStyle("alignment",u)}get protection(){return this.style.protection}set protection(u){this._applyStyle("protection",u)}get border(){return this.style.border}set border(u){this._applyStyle("border",u)}get fill(){return this.style.fill}set fill(u){this._applyStyle("fill",u)}static toModel(u){const f=[];let d=null;return u&&u.forEach((h,g)=>{h.isDefault?d&&(d=null):d&&h.equivalentTo(d)?d.max=g+1:(d={min:g+1,max:g+1,width:h.width!==void 0?h.width:9,style:h.style,isCustomWidth:h.isCustomWidth,hidden:h.hidden,outlineLevel:h.outlineLevel,collapsed:h.collapsed},f.push(d))}),f.length?f:void 0}static fromModel(u,f){const d=[];let h=1,g=0;for(f=(f=f||[]).sort(function(v,p){return v.min-p.min});g<f.length;){const v=f[g++];for(;h<v.min;)d.push(new l(u,h++));for(;h<=v.max;)d.push(new l(u,h++,v))}return d.length?d:null}}n.exports=l},{"../utils/col-cache":19,"../utils/under-dash":26,"./enums":7}],5:[function(r,n,i){n.exports=class{constructor(s){this.model=s||{}}add(s,o){return this.model[s]=o}find(s){return this.model[s]}remove(s){this.model[s]=void 0}}},{}],6:[function(r,n,i){const s=r("../utils/under-dash"),o=r("../utils/col-cache"),a=r("../utils/cell-matrix"),l=r("./range"),c=/[$](\w+)[$](\d+)(:[$](\w+)[$](\d+))?/;n.exports=class{constructor(){this.matrixMap={}}getMatrix(u){return this.matrixMap[u]||(this.matrixMap[u]=new a)}add(u,f){const d=o.decodeEx(u);this.addEx(d,f)}addEx(u,f){const d=this.getMatrix(f);if(u.top)for(let h=u.left;h<=u.right;h++)for(let g=u.top;g<=u.bottom;g++){const v={sheetName:u.sheetName,address:o.n2l(h)+g,row:g,col:h};d.addCellEx(v)}else d.addCellEx(u)}remove(u,f){const d=o.decodeEx(u);this.removeEx(d,f)}removeEx(u,f){this.getMatrix(f).removeCellEx(u)}removeAllNames(u){s.each(this.matrixMap,f=>{f.removeCellEx(u)})}forEach(u){s.each(this.matrixMap,(f,d)=>{f.forEach(h=>{u(d,h)})})}getNames(u){return this.getNamesEx(o.decodeEx(u))}getNamesEx(u){return s.map(this.matrixMap,(f,d)=>f.findCellEx(u)&&d).filter(Boolean)}_explore(u,f){f.mark=!1;const{sheetName:d}=f,h=new l(f.row,f.col,f.row,f.col,d);let g,v;function p(m,b){const x=u.findCellAt(d,m,f.col);return!(!x||!x.mark)&&(h[b]=m,x.mark=!1,!0)}for(v=f.row-1;p(v,"top");v--);for(v=f.row+1;p(v,"bottom");v++);function y(m,b){const x=[];for(v=h.top;v<=h.bottom;v++){const P=u.findCellAt(d,v,m);if(!P||!P.mark)return!1;x.push(P)}h[b]=m;for(let P=0;P<x.length;P++)x[P].mark=!1;return!0}for(g=f.col-1;y(g,"left");g--);for(g=f.col+1;y(g,"right");g++);return h}getRanges(u,f){return(f=f||this.matrixMap[u])?(f.forEach(d=>{d.mark=!0}),{name:u,ranges:f.map(d=>d.mark&&this._explore(f,d)).filter(Boolean).map(d=>d.$shortRange)}):{name:u,ranges:[]}}normaliseMatrix(u,f){u.forEachInSheet(f,(d,h,g)=>{d&&(d.row===h&&d.col===g||(d.row=h,d.col=g,d.address=o.n2l(g)+h))})}spliceRows(u,f,d,h){s.each(this.matrixMap,g=>{g.spliceRows(u,f,d,h),this.normaliseMatrix(g,u)})}spliceColumns(u,f,d,h){s.each(this.matrixMap,g=>{g.spliceColumns(u,f,d,h),this.normaliseMatrix(g,u)})}get model(){return s.map(this.matrixMap,(u,f)=>this.getRanges(f,u)).filter(u=>u.ranges.length)}set model(u){const f=this.matrixMap={};u.forEach(d=>{const h=f[d.name]=new a;d.ranges.forEach(g=>{c.test(g.split("!").pop()||"")&&h.addCell(g)})})}}},{"../utils/cell-matrix":18,"../utils/col-cache":19,"../utils/under-dash":26,"./range":10}],7:[function(r,n,i){n.exports={ValueType:{Null:0,Merge:1,Number:2,String:3,Date:4,Hyperlink:5,Formula:6,SharedString:7,RichText:8,Boolean:9,Error:10},FormulaType:{None:0,Master:1,Shared:2},RelationshipType:{None:0,OfficeDocument:1,Worksheet:2,CalcChain:3,SharedStrings:4,Styles:5,Theme:6,Hyperlink:7},DocumentType:{Xlsx:1},ReadingOrder:{LeftToRight:1,RightToLeft:2},ErrorValue:{NotApplicable:"#N/A",Ref:"#REF!",Name:"#NAME?",DivZero:"#DIV/0!",Null:"#NULL!",Value:"#VALUE!",Num:"#NUM!"}}},{}],8:[function(r,n,i){const s=r("../utils/col-cache"),o=r("./anchor");n.exports=class{constructor(a,l){this.worksheet=a,this.model=l}get model(){switch(this.type){case"background":return{type:this.type,imageId:this.imageId};case"image":return{type:this.type,imageId:this.imageId,hyperlinks:this.range.hyperlinks,range:{tl:this.range.tl.model,br:this.range.br&&this.range.br.model,ext:this.range.ext,editAs:this.range.editAs}};default:throw new Error("Invalid Image Type")}}set model(a){let{type:l,imageId:c,range:u,hyperlinks:f}=a;if(this.type=l,this.imageId=c,l==="image")if(typeof u=="string"){const d=s.decode(u);this.range={tl:new o(this.worksheet,{col:d.left,row:d.top},-1),br:new o(this.worksheet,{col:d.right,row:d.bottom},0),editAs:"oneCell"}}else this.range={tl:new o(this.worksheet,u.tl,0),br:u.br&&new o(this.worksheet,u.br,0),ext:u.ext,editAs:u.editAs,hyperlinks:f||u.hyperlinks}}}},{"../utils/col-cache":19,"./anchor":2}],9:[function(r,n,i){const s=r("../utils/under-dash");class o{constructor(l){this.note=l}get model(){let l=null;switch(typeof this.note){case"string":l={type:"note",note:{texts:[{text:this.note}]}};break;default:l={type:"note",note:this.note}}return s.deepMerge({},o.DEFAULT_CONFIGS,l)}set model(l){const{note:c}=l,{texts:u}=c;u.length===1&&Object.keys(u[0]).length===1?this.note=u[0].text:this.note=c}static fromModel(l){const c=new o;return c.model=l,c}}o.DEFAULT_CONFIGS={note:{margins:{insetmode:"auto",inset:[.13,.13,.25,.25]},protection:{locked:"True",lockText:"True"},editAs:"absolute"}},n.exports=o},{"../utils/under-dash":26}],10:[function(r,n,i){const s=r("../utils/col-cache");class o{constructor(){this.decode(arguments)}setTLBR(l,c,u,f,d){if(arguments.length<4){const h=s.decodeAddress(l),g=s.decodeAddress(c);this.model={top:Math.min(h.row,g.row),left:Math.min(h.col,g.col),bottom:Math.max(h.row,g.row),right:Math.max(h.col,g.col),sheetName:u},this.setTLBR(h.row,h.col,g.row,g.col,d)}else this.model={top:Math.min(l,u),left:Math.min(c,f),bottom:Math.max(l,u),right:Math.max(c,f),sheetName:d}}decode(l){switch(l.length){case 5:this.setTLBR(l[0],l[1],l[2],l[3],l[4]);break;case 4:this.setTLBR(l[0],l[1],l[2],l[3]);break;case 3:this.setTLBR(l[0],l[1],l[2]);break;case 2:this.setTLBR(l[0],l[1]);break;case 1:{const c=l[0];if(c instanceof o)this.model={top:c.model.top,left:c.model.left,bottom:c.model.bottom,right:c.model.right,sheetName:c.sheetName};else if(c instanceof Array)this.decode(c);else if(c.top&&c.left&&c.bottom&&c.right)this.model={top:c.top,left:c.left,bottom:c.bottom,right:c.right,sheetName:c.sheetName};else{const u=s.decodeEx(c);u.top?this.model={top:u.top,left:u.left,bottom:u.bottom,right:u.right,sheetName:u.sheetName}:this.model={top:u.row,left:u.col,bottom:u.row,right:u.col,sheetName:u.sheetName}}break}case 0:this.model={top:0,left:0,bottom:0,right:0};break;default:throw new Error("Invalid number of arguments to _getDimensions() - "+l.length)}}get top(){return this.model.top||1}set top(l){this.model.top=l}get left(){return this.model.left||1}set left(l){this.model.left=l}get bottom(){return this.model.bottom||1}set bottom(l){this.model.bottom=l}get right(){return this.model.right||1}set right(l){this.model.right=l}get sheetName(){return this.model.sheetName}set sheetName(l){this.model.sheetName=l}get _serialisedSheetName(){const{sheetName:l}=this.model;return l?/^[a-zA-Z0-9]*$/.test(l)?l+"!":`'${l}'!`:""}expand(l,c,u,f){(!this.model.top||l<this.top)&&(this.top=l),(!this.model.left||c<this.left)&&(this.left=c),(!this.model.bottom||u>this.bottom)&&(this.bottom=u),(!this.model.right||f>this.right)&&(this.right=f)}expandRow(l){if(l){const{dimensions:c,number:u}=l;c&&this.expand(u,c.min,u,c.max)}}expandToAddress(l){const c=s.decodeEx(l);this.expand(c.row,c.col,c.row,c.col)}get tl(){return s.n2l(this.left)+this.top}get $t$l(){return`$${s.n2l(this.left)}$${this.top}`}get br(){return s.n2l(this.right)+this.bottom}get $b$r(){return`$${s.n2l(this.right)}$${this.bottom}`}get range(){return`${this._serialisedSheetName+this.tl}:${this.br}`}get $range(){return`${this._serialisedSheetName+this.$t$l}:${this.$b$r}`}get shortRange(){return this.count>1?this.range:this._serialisedSheetName+this.tl}get $shortRange(){return this.count>1?this.$range:this._serialisedSheetName+this.$t$l}get count(){return(1+this.bottom-this.top)*(1+this.right-this.left)}toString(){return this.range}intersects(l){return(!l.sheetName||!this.sheetName||l.sheetName===this.sheetName)&&!(l.bottom<this.top)&&!(l.top>this.bottom)&&!(l.right<this.left)&&!(l.left>this.right)}contains(l){const c=s.decodeEx(l);return this.containsEx(c)}containsEx(l){return(!l.sheetName||!this.sheetName||l.sheetName===this.sheetName)&&l.row>=this.top&&l.row<=this.bottom&&l.col>=this.left&&l.col<=this.right}forEachAddress(l){for(let c=this.left;c<=this.right;c++)for(let u=this.top;u<=this.bottom;u++)l(s.encodeAddress(u,c),u,c)}}n.exports=o},{"../utils/col-cache":19}],11:[function(r,n,i){const s=r("../utils/under-dash"),o=r("./enums"),a=r("../utils/col-cache"),l=r("./cell");n.exports=class{constructor(c,u){this._worksheet=c,this._number=u,this._cells=[],this.style={},this.outlineLevel=0}get number(){return this._number}get worksheet(){return this._worksheet}commit(){this._worksheet._commitRow(this)}destroy(){delete this._worksheet,delete this._cells,delete this.style}findCell(c){return this._cells[c-1]}getCellEx(c){let u=this._cells[c.col-1];if(!u){const f=this._worksheet.getColumn(c.col);u=new l(this,f,c.address),this._cells[c.col-1]=u}return u}getCell(c){if(typeof c=="string"){const u=this._worksheet.getColumnKey(c);c=u?u.number:a.l2n(c)}return this._cells[c-1]||this.getCellEx({address:a.encodeAddress(this._number,c),row:this._number,col:c})}splice(c,u){const f=c+u;for(var d=arguments.length,h=new Array(d>2?d-2:0),g=2;g<d;g++)h[g-2]=arguments[g];const v=h.length-u,p=this._cells.length;let y,m,b;if(v<0)for(y=c+h.length;y<=p;y++)b=this._cells[y-1],m=this._cells[y-v-1],m?(b=this.getCell(y),b.value=m.value,b.style=m.style,b._comment=m._comment):b&&(b.value=null,b.style={},b._comment=void 0);else if(v>0)for(y=p;y>=f;y--)m=this._cells[y-1],m?(b=this.getCell(y+v),b.value=m.value,b.style=m.style,b._comment=m._comment):this._cells[y+v-1]=void 0;for(y=0;y<h.length;y++)b=this.getCell(c+y),b.value=h[y],b.style={},b._comment=void 0}eachCell(c,u){if(u||(u=c,c=null),c&&c.includeEmpty){const f=this._cells.length;for(let d=1;d<=f;d++)u(this.getCell(d),d)}else this._cells.forEach((f,d)=>{f&&f.type!==o.ValueType.Null&&u(f,d+1)})}addPageBreak(c,u){const f=this._worksheet,d=Math.max(0,c-1)||0,h=Math.max(0,u-1)||16838,g={id:this._number,max:h,man:1};d&&(g.min=d),f.rowBreaks.push(g)}get values(){const c=[];return this._cells.forEach(u=>{u&&u.type!==o.ValueType.Null&&(c[u.col]=u.value)}),c}set values(c){if(this._cells=[],c)if(c instanceof Array){let u=0;c.hasOwnProperty("0")&&(u=1),c.forEach((f,d)=>{f!==void 0&&(this.getCellEx({address:a.encodeAddress(this._number,d+u),row:this._number,col:d+u}).value=f)})}else this._worksheet.eachColumnKey((u,f)=>{c[f]!==void 0&&(this.getCellEx({address:a.encodeAddress(this._number,u.number),row:this._number,col:u.number}).value=c[f])})}get hasValues(){return s.some(this._cells,c=>c&&c.type!==o.ValueType.Null)}get cellCount(){return this._cells.length}get actualCellCount(){let c=0;return this.eachCell(()=>{c++}),c}get dimensions(){let c=0,u=0;return this._cells.forEach(f=>{f&&f.type!==o.ValueType.Null&&((!c||c>f.col)&&(c=f.col),u<f.col&&(u=f.col))}),c>0?{min:c,max:u}:null}_applyStyle(c,u){return this.style[c]=u,this._cells.forEach(f=>{f&&(f[c]=u)}),u}get numFmt(){return this.style.numFmt}set numFmt(c){this._applyStyle("numFmt",c)}get font(){return this.style.font}set font(c){this._applyStyle("font",c)}get alignment(){return this.style.alignment}set alignment(c){this._applyStyle("alignment",c)}get protection(){return this.style.protection}set protection(c){this._applyStyle("protection",c)}get border(){return this.style.border}set border(c){this._applyStyle("border",c)}get fill(){return this.style.fill}set fill(c){this._applyStyle("fill",c)}get hidden(){return!!this._hidden}set hidden(c){this._hidden=c}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(c){this._outlineLevel=c}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelRow)}get model(){const c=[];let u=0,f=0;return this._cells.forEach(d=>{if(d){const h=d.model;h&&((!u||u>d.col)&&(u=d.col),f<d.col&&(f=d.col),c.push(h))}}),this.height||c.length?{cells:c,number:this.number,min:u,max:f,height:this.height,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel,collapsed:this.collapsed}:null}set model(c){if(c.number!==this._number)throw new Error("Invalid row number in model");let u;this._cells=[],c.cells.forEach(f=>{switch(f.type){case l.Types.Merge:break;default:{let d;if(f.address)d=a.decodeAddress(f.address);else if(u){const{row:h}=u,g=u.col+1;d={row:h,col:g,address:a.encodeAddress(h,g),$col$row:`$${a.n2l(g)}$${h}`}}u=d,this.getCellEx(d).model=f;break}}}),c.height?this.height=c.height:delete this.height,this.hidden=c.hidden,this.outlineLevel=c.outlineLevel||0,this.style=c.style&&JSON.parse(JSON.stringify(c.style))||{}}}},{"../utils/col-cache":19,"../utils/under-dash":26,"./cell":3,"./enums":7}],12:[function(r,n,i){const s=r("../utils/col-cache");class o{constructor(l,c,u){this.table=l,this.column=c,this.index=u}_set(l,c){this.table.cacheState(),this.column[l]=c}get name(){return this.column.name}set name(l){this._set("name",l)}get filterButton(){return this.column.filterButton}set filterButton(l){this.column.filterButton=l}get style(){return this.column.style}set style(l){this.column.style=l}get totalsRowLabel(){return this.column.totalsRowLabel}set totalsRowLabel(l){this._set("totalsRowLabel",l)}get totalsRowFunction(){return this.column.totalsRowFunction}set totalsRowFunction(l){this._set("totalsRowFunction",l)}get totalsRowResult(){return this.column.totalsRowResult}set totalsRowResult(l){this._set("totalsRowResult",l)}get totalsRowFormula(){return this.column.totalsRowFormula}set totalsRowFormula(l){this._set("totalsRowFormula",l)}}n.exports=class{constructor(a,l){this.worksheet=a,l&&(this.table=l,this.validate(),this.store())}getFormula(a){switch(a.totalsRowFunction){case"none":return null;case"average":return`SUBTOTAL(101,${this.table.name}[${a.name}])`;case"countNums":return`SUBTOTAL(102,${this.table.name}[${a.name}])`;case"count":return`SUBTOTAL(103,${this.table.name}[${a.name}])`;case"max":return`SUBTOTAL(104,${this.table.name}[${a.name}])`;case"min":return`SUBTOTAL(105,${this.table.name}[${a.name}])`;case"stdDev":return`SUBTOTAL(106,${this.table.name}[${a.name}])`;case"var":return`SUBTOTAL(107,${this.table.name}[${a.name}])`;case"sum":return`SUBTOTAL(109,${this.table.name}[${a.name}])`;case"custom":return a.totalsRowFormula;default:throw new Error("Invalid Totals Row Function: "+a.totalsRowFunction)}}get width(){return this.table.columns.length}get height(){return this.table.rows.length}get filterHeight(){return this.height+(this.table.headerRow?1:0)}get tableHeight(){return this.filterHeight+(this.table.totalsRow?1:0)}validate(){const{table:a}=this,l=(v,p,y)=>{v[p]===void 0&&(v[p]=y)};l(a,"headerRow",!0),l(a,"totalsRow",!1),l(a,"style",{}),l(a.style,"theme","TableStyleMedium2"),l(a.style,"showFirstColumn",!1),l(a.style,"showLastColumn",!1),l(a.style,"showRowStripes",!1),l(a.style,"showColumnStripes",!1);const c=(v,p)=>{if(!v)throw new Error(p)};c(a.ref,"Table must have ref"),c(a.columns,"Table must have column definitions"),c(a.rows,"Table must have row definitions"),a.tl=s.decodeAddress(a.ref);const{row:u,col:f}=a.tl;c(u>0,"Table must be on valid row"),c(f>0,"Table must be on valid col");const{width:d,filterHeight:h,tableHeight:g}=this;a.autoFilterRef=s.encode(u,f,u+h-1,f+d-1),a.tableRef=s.encode(u,f,u+g-1,f+d-1),a.columns.forEach((v,p)=>{c(v.name,`Column ${p} must have a name`),p===0?l(v,"totalsRowLabel","Total"):(l(v,"totalsRowFunction","none"),v.totalsRowFormula=this.getFormula(v))})}store(){const a=(h,g)=>{g&&Object.keys(g).forEach(v=>{h[v]=g[v]})},{worksheet:l,table:c}=this,{row:u,col:f}=c.tl;let d=0;if(c.headerRow){const h=l.getRow(u+d++);c.columns.forEach((g,v)=>{const{style:p,name:y}=g,m=h.getCell(f+v);m.value=y,a(m,p)})}if(c.rows.forEach(h=>{const g=l.getRow(u+d++);h.forEach((v,p)=>{const y=g.getCell(f+p);y.value=v,a(y,c.columns[p].style)})}),c.totalsRow){const h=l.getRow(u+d++);c.columns.forEach((g,v)=>{const p=h.getCell(f+v);if(v===0)p.value=g.totalsRowLabel;else{const y=this.getFormula(g);p.value=y?{formula:g.totalsRowFormula,result:g.totalsRowResult}:null}a(p,g.style)})}}load(a){const{table:l}=this,{row:c,col:u}=l.tl;let f=0;if(l.headerRow){const d=a.getRow(c+f++);l.columns.forEach((h,g)=>{d.getCell(u+g).value=h.name})}if(l.rows.forEach(d=>{const h=a.getRow(c+f++);d.forEach((g,v)=>{h.getCell(u+v).value=g})}),l.totalsRow){const d=a.getRow(c+f++);l.columns.forEach((h,g)=>{const v=d.getCell(u+g);g===0?v.value=h.totalsRowLabel:this.getFormula(h)&&(v.value={formula:h.totalsRowFormula,result:h.totalsRowResult})})}}get model(){return this.table}set model(a){this.table=a}cacheState(){this._cache||(this._cache={ref:this.ref,width:this.width,tableHeight:this.tableHeight})}commit(){if(!this._cache)return;this.validate();const a=s.decodeAddress(this._cache.ref);if(this.ref!==this._cache.ref)for(let l=0;l<this._cache.tableHeight;l++){const c=this.worksheet.getRow(a.row+l);for(let u=0;u<this._cache.width;u++)c.getCell(a.col+u).value=null}else{for(let l=this.tableHeight;l<this._cache.tableHeight;l++){const c=this.worksheet.getRow(a.row+l);for(let u=0;u<this._cache.width;u++)c.getCell(a.col+u).value=null}for(let l=0;l<this.tableHeight;l++){const c=this.worksheet.getRow(a.row+l);for(let u=this.width;u<this._cache.width;u++)c.getCell(a.col+u).value=null}}this.store()}addRow(a,l){this.cacheState(),l===void 0?this.table.rows.push(a):this.table.rows.splice(l,0,a)}removeRows(a){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.rows.splice(a,l)}getColumn(a){const l=this.table.columns[a];return new o(this,l,a)}addColumn(a,l,c){this.cacheState(),c===void 0?(this.table.columns.push(a),this.table.rows.forEach((u,f)=>{u.push(l[f])})):(this.table.columns.splice(c,0,a),this.table.rows.forEach((u,f)=>{u.splice(c,0,l[f])}))}removeColumns(a){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.columns.splice(a,l),this.table.rows.forEach(c=>{c.splice(a,l)})}_assign(a,l,c){this.cacheState(),a[l]=c}get ref(){return this.table.ref}set ref(a){this._assign(this.table,"ref",a)}get name(){return this.table.name}set name(a){this.table.name=a}get displayName(){return this.table.displyName||this.table.name}set displayNamename(a){this.table.displayName=a}get headerRow(){return this.table.headerRow}set headerRow(a){this._assign(this.table,"headerRow",a)}get totalsRow(){return this.table.totalsRow}set totalsRow(a){this._assign(this.table,"totalsRow",a)}get theme(){return this.table.style.name}set theme(a){this.table.style.name=a}get showFirstColumn(){return this.table.style.showFirstColumn}set showFirstColumn(a){this.table.style.showFirstColumn=a}get showLastColumn(){return this.table.style.showLastColumn}set showLastColumn(a){this.table.style.showLastColumn=a}get showRowStripes(){return this.table.style.showRowStripes}set showRowStripes(a){this.table.style.showRowStripes=a}get showColumnStripes(){return this.table.style.showColumnStripes}set showColumnStripes(a){this.table.style.showColumnStripes=a}}},{"../utils/col-cache":19}],13:[function(r,n,i){const s=r("./worksheet"),o=r("./defined-names"),a=r("../xlsx/xlsx"),l=r("../csv/csv");n.exports=class{constructor(){this.category="",this.company="",this.created=new Date,this.description="",this.keywords="",this.manager="",this.modified=this.created,this.properties={},this.calcProperties={},this._worksheets=[],this.subject="",this.title="",this.views=[],this.media=[],this._definedNames=new o}get xlsx(){return this._xlsx||(this._xlsx=new a(this)),this._xlsx}get csv(){return this._csv||(this._csv=new l(this)),this._csv}get nextId(){for(let c=1;c<this._worksheets.length;c++)if(!this._worksheets[c])return c;return this._worksheets.length||1}addWorksheet(c,u){const f=this.nextId;u&&(typeof u=="string"?(console.trace('tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { argb: "rbg value" } }'),u={properties:{tabColor:{argb:u}}}):(u.argb||u.theme||u.indexed)&&(console.trace("tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { ... } }"),u={properties:{tabColor:u}}));const d=this._worksheets.reduce((v,p)=>(p&&p.orderNo)>v?p.orderNo:v,0),h=Object.assign({},u,{id:f,name:c,orderNo:d+1,workbook:this}),g=new s(h);return this._worksheets[f]=g,g}removeWorksheetEx(c){delete this._worksheets[c.id]}removeWorksheet(c){const u=this.getWorksheet(c);u&&u.destroy()}getWorksheet(c){return c===void 0?this._worksheets.find(Boolean):typeof c=="number"?this._worksheets[c]:typeof c=="string"?this._worksheets.find(u=>u&&u.name===c):void 0}get worksheets(){return this._worksheets.slice(1).sort((c,u)=>c.orderNo-u.orderNo).filter(Boolean)}eachSheet(c){this.worksheets.forEach(u=>{c(u,u.id)})}get definedNames(){return this._definedNames}clearThemes(){this._themes=void 0}addImage(c){const u=this.media.length;return this.media.push(Object.assign({},c,{type:"image"})),u}getImage(c){return this.media[c]}get model(){return{creator:this.creator||"Unknown",lastModifiedBy:this.lastModifiedBy||"Unknown",lastPrinted:this.lastPrinted,created:this.created,modified:this.modified,properties:this.properties,worksheets:this.worksheets.map(c=>c.model),sheets:this.worksheets.map(c=>c.model).filter(Boolean),definedNames:this._definedNames.model,views:this.views,company:this.company,manager:this.manager,title:this.title,subject:this.subject,keywords:this.keywords,category:this.category,description:this.description,language:this.language,revision:this.revision,contentStatus:this.contentStatus,themes:this._themes,media:this.media,calcProperties:this.calcProperties}}set model(c){this.creator=c.creator,this.lastModifiedBy=c.lastModifiedBy,this.lastPrinted=c.lastPrinted,this.created=c.created,this.modified=c.modified,this.company=c.company,this.manager=c.manager,this.title=c.title,this.subject=c.subject,this.keywords=c.keywords,this.category=c.category,this.description=c.description,this.language=c.language,this.revision=c.revision,this.contentStatus=c.contentStatus,this.properties=c.properties,this.calcProperties=c.calcProperties,this._worksheets=[],c.worksheets.forEach(u=>{const{id:f,name:d,state:h}=u,g=c.sheets&&c.sheets.findIndex(v=>v.id===f);(this._worksheets[f]=new s({id:f,name:d,orderNo:g,state:h,workbook:this})).model=u}),this._definedNames.model=c.definedNames,this.views=c.views,this._themes=c.themes,this.media=c.media||[]}}},{"../csv/csv":1,"../xlsx/xlsx":144,"./defined-names":6,"./worksheet":14}],14:[function(r,n,i){const s=r("../utils/under-dash"),o=r("../utils/col-cache"),a=r("./range"),l=r("./row"),c=r("./column"),u=r("./enums"),f=r("./image"),d=r("./table"),h=r("./data-validations"),g=r("../utils/encryptor"),{copyStyle:v}=r("../utils/copy-style");n.exports=class{constructor(p){p=p||{},this._workbook=p.workbook,this.id=p.id,this.orderNo=p.orderNo,this.name=p.name,this.state=p.state||"visible",this._rows=[],this._columns=null,this._keys={},this._merges={},this.rowBreaks=[],this.properties=Object.assign({},{defaultRowHeight:15,dyDescent:55,outlineLevelCol:0,outlineLevelRow:0},p.properties),this.pageSetup=Object.assign({},{margins:{left:.7,right:.7,top:.75,bottom:.75,header:.3,footer:.3},orientation:"portrait",horizontalDpi:4294967295,verticalDpi:4294967295,fitToPage:!(!p.pageSetup||!p.pageSetup.fitToWidth&&!p.pageSetup.fitToHeight||p.pageSetup.scale),pageOrder:"downThenOver",blackAndWhite:!1,draft:!1,cellComments:"None",errors:"displayed",scale:100,fitToWidth:1,fitToHeight:1,paperSize:void 0,showRowColHeaders:!1,showGridLines:!1,firstPageNumber:void 0,horizontalCentered:!1,verticalCentered:!1,rowBreaks:null,colBreaks:null},p.pageSetup),this.headerFooter=Object.assign({},{differentFirst:!1,differentOddEven:!1,oddHeader:null,oddFooter:null,evenHeader:null,evenFooter:null,firstHeader:null,firstFooter:null},p.headerFooter),this.dataValidations=new h,this.views=p.views||[],this.autoFilter=p.autoFilter||null,this._media=[],this.sheetProtection=null,this.tables={},this.conditionalFormattings=[]}get name(){return this._name}set name(p){if(p===void 0&&(p="sheet"+this.id),this._name!==p){if(typeof p!="string")throw new Error("The name has to be a string.");if(p==="")throw new Error("The name can't be empty.");if(p==="History")throw new Error('The name "History" is protected. Please use a different name.');if(/[*?:/\\[\]]/.test(p))throw new Error(`Worksheet name ${p} cannot include any of the following characters: * ? : \\ / [ ]`);if(/(^')|('$)/.test(p))throw new Error("The first or last character of worksheet name cannot be a single quotation mark: "+p);if(p&&p.length>31&&(console.warn(`Worksheet name ${p} exceeds 31 chars. This will be truncated`),p=p.substring(0,31)),this._workbook._worksheets.find(y=>y&&y.name.toLowerCase()===p.toLowerCase()))throw new Error("Worksheet name already exists: "+p);this._name=p}}get workbook(){return this._workbook}destroy(){this._workbook.removeWorksheetEx(this)}get dimensions(){const p=new a;return this._rows.forEach(y=>{if(y){const m=y.dimensions;m&&p.expand(y.number,m.min,y.number,m.max)}}),p}get columns(){return this._columns}set columns(p){this._headerRowCount=p.reduce((b,x)=>{const P=(x.header?1:x.headers&&x.headers.length)||0;return Math.max(b,P)},0);let y=1;const m=this._columns=[];p.forEach(b=>{const x=new c(this,y++,!1);m.push(x),x.defn=b})}getColumnKey(p){return this._keys[p]}setColumnKey(p,y){this._keys[p]=y}deleteColumnKey(p){delete this._keys[p]}eachColumnKey(p){s.each(this._keys,p)}getColumn(p){if(typeof p=="string"){const y=this._keys[p];if(y)return y;p=o.l2n(p)}if(this._columns||(this._columns=[]),p>this._columns.length){let y=this._columns.length+1;for(;y<=p;)this._columns.push(new c(this,y++))}return this._columns[p-1]}spliceColumns(p,y){const m=this._rows.length;for(var b=arguments.length,x=new Array(b>2?b-2:0),P=2;P<b;P++)x[P-2]=arguments[P];if(x.length>0)for(let j=0;j<m;j++){const H=[p,y];x.forEach(G=>{H.push(G[j]||null)});const W=this.getRow(j+1);W.splice.apply(W,H)}else this._rows.forEach(j=>{j&&j.splice(p,y)});const F=x.length-y,D=p+y,O=this._columns.length;if(F<0)for(let j=p+x.length;j<=O;j++)this.getColumn(j).defn=this.getColumn(j-F).defn;else if(F>0)for(let j=O;j>=D;j--)this.getColumn(j+F).defn=this.getColumn(j).defn;for(let j=p;j<p+x.length;j++)this.getColumn(j).defn=null;this.workbook.definedNames.spliceColumns(this.name,p,y,x.length)}get lastColumn(){return this.getColumn(this.columnCount)}get columnCount(){let p=0;return this.eachRow(y=>{p=Math.max(p,y.cellCount)}),p}get actualColumnCount(){const p=[];let y=0;return this.eachRow(m=>{m.eachCell(b=>{let{col:x}=b;p[x]||(p[x]=!0,y++)})}),y}_commitRow(){}get _lastRowNumber(){const p=this._rows;let y=p.length;for(;y>0&&p[y-1]===void 0;)y--;return y}get _nextRow(){return this._lastRowNumber+1}get lastRow(){if(this._rows.length)return this._rows[this._rows.length-1]}findRow(p){return this._rows[p-1]}findRows(p,y){return this._rows.slice(p-1,p-1+y)}get rowCount(){return this._lastRowNumber}get actualRowCount(){let p=0;return this.eachRow(()=>{p++}),p}getRow(p){let y=this._rows[p-1];return y||(y=this._rows[p-1]=new l(this,p)),y}getRows(p,y){if(y<1)return;const m=[];for(let b=p;b<p+y;b++)m.push(this.getRow(b));return m}addRow(p){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";const m=this._nextRow,b=this.getRow(m);return b.values=p,this._setStyleOption(m,y[0]==="i"?y:"n"),b}addRows(p){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";const m=[];return p.forEach(b=>{m.push(this.addRow(b,y))}),m}insertRow(p,y){let m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";return this.spliceRows(p,0,y),this._setStyleOption(p,m),this.getRow(p)}insertRows(p,y){let m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";if(this.spliceRows(p,0,...y),m!=="n")for(let b=0;b<y.length;b++)m[0]==="o"&&this.findRow(y.length+p+b)!==void 0?this._copyStyle(y.length+p+b,p+b,m[1]==="+"):m[0]==="i"&&this.findRow(p-1)!==void 0&&this._copyStyle(p-1,p+b,m[1]==="+");return this.getRows(p,y.length)}_setStyleOption(p){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";y[0]==="o"&&this.findRow(p+1)!==void 0?this._copyStyle(p+1,p,y[1]==="+"):y[0]==="i"&&this.findRow(p-1)!==void 0&&this._copyStyle(p-1,p,y[1]==="+")}_copyStyle(p,y){let m=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const b=this.getRow(p),x=this.getRow(y);x.style=v(b.style),b.eachCell({includeEmpty:m},(P,F)=>{x.getCell(F).style=v(P.style)}),x.height=b.height}duplicateRow(p,y){let m=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const b=this._rows[p-1],x=new Array(y).fill(b.values);this.spliceRows(p+1,m?0:y,...x);for(let P=0;P<y;P++){const F=this._rows[p+P];F.style=b.style,F.height=b.height,b.eachCell({includeEmpty:!0},(D,O)=>{F.getCell(O).style=D.style})}}spliceRows(p,y){const m=p+y;for(var b=arguments.length,x=new Array(b>2?b-2:0),P=2;P<b;P++)x[P-2]=arguments[P];const F=x.length,D=F-y,O=this._rows.length;let j,H;if(D<0)for(p===O&&(this._rows[O-1]=void 0),j=m;j<=O;j++)if(H=this._rows[j-1],H){const W=this.getRow(j+D);W.values=H.values,W.style=H.style,W.height=H.height,H.eachCell({includeEmpty:!0},(G,M)=>{W.getCell(M).style=G.style}),this._rows[j-1]=void 0}else this._rows[j+D-1]=void 0;else if(D>0)for(j=O;j>=m;j--)if(H=this._rows[j-1],H){const W=this.getRow(j+D);W.values=H.values,W.style=H.style,W.height=H.height,H.eachCell({includeEmpty:!0},(G,M)=>{if(W.getCell(M).style=G.style,G._value.constructor.name==="MergeValue"){const k=this.getRow(G._row._number+F).getCell(M),E=G._value._master,w=this.getRow(E._row._number+F).getCell(E._column._number);k.merge(w)}})}else this._rows[j+D-1]=void 0;for(j=0;j<F;j++){const W=this.getRow(p+j);W.style={},W.values=x[j]}this.workbook.definedNames.spliceRows(this.name,p,y,F)}eachRow(p,y){if(y||(y=p,p=void 0),p&&p.includeEmpty){const m=this._rows.length;for(let b=1;b<=m;b++)y(this.getRow(b),b)}else this._rows.forEach(m=>{m&&m.hasValues&&y(m,m.number)})}getSheetValues(){const p=[];return this._rows.forEach(y=>{y&&(p[y.number]=y.values)}),p}findCell(p,y){const m=o.getAddress(p,y),b=this._rows[m.row-1];return b?b.findCell(m.col):void 0}getCell(p,y){const m=o.getAddress(p,y);return this.getRow(m.row).getCellEx(m)}mergeCells(){for(var p=arguments.length,y=new Array(p),m=0;m<p;m++)y[m]=arguments[m];const b=new a(y);this._mergeCellsInternal(b)}mergeCellsWithoutStyle(){for(var p=arguments.length,y=new Array(p),m=0;m<p;m++)y[m]=arguments[m];const b=new a(y);this._mergeCellsInternal(b,!0)}_mergeCellsInternal(p,y){s.each(this._merges,b=>{if(b.intersects(p))throw new Error("Cannot merge already merged cells")});const m=this.getCell(p.top,p.left);for(let b=p.top;b<=p.bottom;b++)for(let x=p.left;x<=p.right;x++)(b>p.top||x>p.left)&&this.getCell(b,x).merge(m,y);this._merges[m.address]=p}_unMergeMaster(p){const y=this._merges[p.address];if(y){for(let m=y.top;m<=y.bottom;m++)for(let b=y.left;b<=y.right;b++)this.getCell(m,b).unmerge();delete this._merges[p.address]}}get hasMerges(){return s.some(this._merges,Boolean)}unMergeCells(){for(var p=arguments.length,y=new Array(p),m=0;m<p;m++)y[m]=arguments[m];const b=new a(y);for(let x=b.top;x<=b.bottom;x++)for(let P=b.left;P<=b.right;P++){const F=this.findCell(x,P);F&&(F.type===u.ValueType.Merge?this._unMergeMaster(F.master):this._merges[F.address]&&this._unMergeMaster(F))}}fillFormula(p,y,m){let b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"shared";const x=o.decode(p),{top:P,left:F,bottom:D,right:O}=x,j=O-F+1,H=o.encodeAddress(P,F),W=b==="shared";let G;G=typeof m=="function"?m:Array.isArray(m)?Array.isArray(m[0])?(k,E)=>m[k-P][E-F]:(k,E)=>m[(k-P)*j+(E-F)]:()=>{};let M=!0;for(let k=P;k<=D;k++)for(let E=F;E<=O;E++)M?(this.getCell(k,E).value={shareType:b,formula:y,ref:p,result:G(k,E)},M=!1):this.getCell(k,E).value=W?{sharedFormula:H,result:G(k,E)}:G(k,E)}addImage(p,y){const m={type:"image",imageId:p,range:y};this._media.push(new f(this,m))}getImages(){return this._media.filter(p=>p.type==="image")}addBackgroundImage(p){const y={type:"background",imageId:p};this._media.push(new f(this,y))}getBackgroundImageId(){const p=this._media.find(y=>y.type==="background");return p&&p.imageId}protect(p,y){return new Promise(m=>{this.sheetProtection={sheet:!0},y&&"spinCount"in y&&(y.spinCount=Number.isFinite(y.spinCount)?Math.round(Math.max(0,y.spinCount)):1e5),p&&(this.sheetProtection.algorithmName="SHA-512",this.sheetProtection.saltValue=g.randomBytes(16).toString("base64"),this.sheetProtection.spinCount=y&&"spinCount"in y?y.spinCount:1e5,this.sheetProtection.hashValue=g.convertPasswordToHash(p,"SHA512",this.sheetProtection.saltValue,this.sheetProtection.spinCount)),y&&(this.sheetProtection=Object.assign(this.sheetProtection,y),!p&&"spinCount"in y&&delete this.sheetProtection.spinCount),m()})}unprotect(){this.sheetProtection=null}addTable(p){const y=new d(this,p);return this.tables[p.name]=y,y}getTable(p){return this.tables[p]}removeTable(p){delete this.tables[p]}getTables(){return Object.values(this.tables)}addConditionalFormatting(p){this.conditionalFormattings.push(p)}removeConditionalFormatting(p){typeof p=="number"?this.conditionalFormattings.splice(p,1):this.conditionalFormattings=p instanceof Function?this.conditionalFormattings.filter(p):[]}get tabColor(){return console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor}set tabColor(p){console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor=p}get model(){const p={id:this.id,name:this.name,dataValidations:this.dataValidations.model,properties:this.properties,state:this.state,pageSetup:this.pageSetup,headerFooter:this.headerFooter,rowBreaks:this.rowBreaks,views:this.views,autoFilter:this.autoFilter,media:this._media.map(b=>b.model),sheetProtection:this.sheetProtection,tables:Object.values(this.tables).map(b=>b.model),conditionalFormattings:this.conditionalFormattings};p.cols=c.toModel(this.columns);const y=p.rows=[],m=p.dimensions=new a;return this._rows.forEach(b=>{const x=b&&b.model;x&&(m.expand(x.number,x.min,x.number,x.max),y.push(x))}),p.merges=[],s.each(this._merges,b=>{p.merges.push(b.range)}),p}_parseRows(p){this._rows=[],p.rows.forEach(y=>{const m=new l(this,y.number);this._rows[m.number-1]=m,m.model=y})}_parseMergeCells(p){s.each(p.mergeCells,y=>{this.mergeCellsWithoutStyle(y)})}set model(p){this.name=p.name,this._columns=c.fromModel(this,p.cols),this._parseRows(p),this._parseMergeCells(p),this.dataValidations=new h(p.dataValidations),this.properties=p.properties,this.pageSetup=p.pageSetup,this.headerFooter=p.headerFooter,this.views=p.views,this.autoFilter=p.autoFilter,this._media=p.media.map(y=>new f(this,y)),this.sheetProtection=p.sheetProtection,this.tables=p.tables.reduce((y,m)=>{const b=new d;return b.model=m,y[m.name]=b,y},{}),this.conditionalFormattings=p.conditionalFormattings}}},{"../utils/col-cache":19,"../utils/copy-style":20,"../utils/encryptor":21,"../utils/under-dash":26,"./column":4,"./data-validations":5,"./enums":7,"./image":8,"./range":10,"./row":11,"./table":12}],15:[function(r,n,i){r("core-js/modules/es.promise"),r("core-js/modules/es.promise.finally"),r("core-js/modules/es.object.assign"),r("core-js/modules/es.object.keys"),r("core-js/modules/es.object.values"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.async-iterator"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.includes"),r("core-js/modules/es.array.find-index"),r("core-js/modules/es.array.find"),r("core-js/modules/es.string.from-code-point"),r("core-js/modules/es.string.includes"),r("core-js/modules/es.number.is-nan"),r("regenerator-runtime/runtime");const s={Workbook:r("./doc/workbook")},o=r("./doc/enums");Object.keys(o).forEach(a=>{s[a]=o[a]}),n.exports=s},{"./doc/enums":7,"./doc/workbook":13,"core-js/modules/es.array.find":359,"core-js/modules/es.array.find-index":358,"core-js/modules/es.array.includes":360,"core-js/modules/es.array.iterator":361,"core-js/modules/es.number.is-nan":363,"core-js/modules/es.object.assign":364,"core-js/modules/es.object.keys":366,"core-js/modules/es.object.values":367,"core-js/modules/es.promise":372,"core-js/modules/es.promise.finally":371,"core-js/modules/es.string.from-code-point":376,"core-js/modules/es.string.includes":377,"core-js/modules/es.symbol":381,"core-js/modules/es.symbol.async-iterator":378,"regenerator-runtime/runtime":492}],16:[function(r,n,i){const s=typeof TextDecoder>"u"?null:new TextDecoder("utf-8");i.bufferToString=function(o){return typeof o=="string"?o:s?s.decode(o):o.toString()}},{}],17:[function(r,n,i){const s=typeof TextEncoder>"u"?null:new TextEncoder("utf-8"),{Buffer:o}=r("buffer");i.stringToBuffer=function(a){return typeof a!="string"?a:s?o.from(s.encode(a).buffer):o.from(a)}},{buffer:220}],18:[function(r,n,i){const s=r("./under-dash"),o=r("./col-cache");n.exports=class{constructor(a){this.template=a,this.sheets={}}addCell(a){this.addCellEx(o.decodeEx(a))}getCell(a){return this.findCellEx(o.decodeEx(a),!0)}findCell(a){return this.findCellEx(o.decodeEx(a),!1)}findCellAt(a,l,c){const u=this.sheets[a],f=u&&u[l];return f&&f[c]}addCellEx(a){if(a.top)for(let l=a.top;l<=a.bottom;l++)for(let c=a.left;c<=a.right;c++)this.getCellAt(a.sheetName,l,c);else this.findCellEx(a,!0)}getCellEx(a){return this.findCellEx(a,!0)}findCellEx(a,l){const c=this.findSheet(a,l),u=this.findSheetRow(c,a,l);return this.findRowCell(u,a,l)}getCellAt(a,l,c){const u=this.sheets[a]||(this.sheets[a]=[]),f=u[l]||(u[l]=[]);return f[c]||(f[c]={sheetName:a,address:o.n2l(c)+l,row:l,col:c})}removeCellEx(a){const l=this.findSheet(a);if(!l)return;const c=this.findSheetRow(l,a);c&&delete c[a.col]}forEachInSheet(a,l){const c=this.sheets[a];c&&c.forEach((u,f)=>{u&&u.forEach((d,h)=>{d&&l(d,f,h)})})}forEach(a){s.each(this.sheets,(l,c)=>{this.forEachInSheet(c,a)})}map(a){const l=[];return this.forEach(c=>{l.push(a(c))}),l}findSheet(a,l){const c=a.sheetName;return this.sheets[c]?this.sheets[c]:l?this.sheets[c]=[]:void 0}findSheetRow(a,l,c){const{row:u}=l;return a&&a[u]?a[u]:c?a[u]=[]:void 0}findRowCell(a,l,c){const{col:u}=l;return a&&a[u]?a[u]:c?a[u]=this.template?Object.assign(l,JSON.parse(JSON.stringify(this.template))):l:void 0}spliceRows(a,l,c,u){const f=this.sheets[a];if(f){const d=[];for(let h=0;h<u;h++)d.push([]);f.splice(l,c,...d)}}spliceColumns(a,l,c,u){const f=this.sheets[a];if(f){const d=[];for(let h=0;h<u;h++)d.push(null);s.each(f,h=>{h.splice(l,c,...d)})}}}},{"./col-cache":19,"./under-dash":26}],19:[function(r,n,i){const s=/^[A-Z]+\d+$/,o={_dictionary:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],_l2nFill:0,_l2n:{},_n2l:[],_level:a=>a<=26?1:a<=676?2:3,_fill(a){let l,c,u,f,d,h=1;if(a>=4)throw new Error("Out of bounds. Excel supports columns from 1 to 16384");if(this._l2nFill<1&&a>=1){for(;h<=26;)l=this._dictionary[h-1],this._n2l[h]=l,this._l2n[l]=h,h++;this._l2nFill=1}if(this._l2nFill<2&&a>=2){for(h=27;h<=702;)c=h-27,u=c%26,f=Math.floor(c/26),l=this._dictionary[f]+this._dictionary[u],this._n2l[h]=l,this._l2n[l]=h,h++;this._l2nFill=2}if(this._l2nFill<3&&a>=3){for(h=703;h<=16384;)c=h-703,u=c%26,f=Math.floor(c/26)%26,d=Math.floor(c/676),l=this._dictionary[d]+this._dictionary[f]+this._dictionary[u],this._n2l[h]=l,this._l2n[l]=h,h++;this._l2nFill=3}},l2n(a){if(this._l2n[a]||this._fill(a.length),!this._l2n[a])throw new Error("Out of bounds. Invalid column letter: "+a);return this._l2n[a]},n2l(a){if(a<1||a>16384)throw new Error(a+" is out of bounds. Excel supports columns from 1 to 16384");return this._n2l[a]||this._fill(this._level(a)),this._n2l[a]},_hash:{},validateAddress(a){if(!s.test(a))throw new Error("Invalid Address: "+a);return!0},decodeAddress(a){const l=a.length<5&&this._hash[a];if(l)return l;let c=!1,u="",f=0,d=!1,h="",g=0;for(let p,y=0;y<a.length;y++)if(p=a.charCodeAt(y),!d&&p>=65&&p<=90)c=!0,u+=a[y],f=26*f+p-64;else if(p>=48&&p<=57)d=!0,h+=a[y],g=10*g+p-48;else if(d&&c&&p!==36)break;if(c){if(f>16384)throw new Error("Out of bounds. Invalid column letter: "+u)}else f=void 0;d||(g=void 0);const v={address:a=u+h,col:f,row:g,$col$row:`$${u}$${h}`};return f<=100&&g<=100&&(this._hash[a]=v,this._hash[v.$col$row]=v),v},getAddress(a,l){if(l){const c=this.n2l(l)+a;return this.decodeAddress(c)}return this.decodeAddress(a)},decode(a){const l=a.split(":");if(l.length===2){const c=this.decodeAddress(l[0]),u=this.decodeAddress(l[1]),f={top:Math.min(c.row,u.row),left:Math.min(c.col,u.col),bottom:Math.max(c.row,u.row),right:Math.max(c.col,u.col)};return f.tl=this.n2l(f.left)+f.top,f.br=this.n2l(f.right)+f.bottom,f.dimensions=`${f.tl}:${f.br}`,f}return this.decodeAddress(a)},decodeEx(a){const l=a.match(/(?:(?:(?:'((?:[^']|'')*)')|([^'^ !]*))!)?(.*)/),c=l[1]||l[2],u=l[3],f=u.split(":");if(f.length>1){let h=this.decodeAddress(f[0]),g=this.decodeAddress(f[1]);const v=Math.min(h.row,g.row),p=Math.min(h.col,g.col),y=Math.max(h.row,g.row),m=Math.max(h.col,g.col);return h=this.n2l(p)+v,g=this.n2l(m)+y,{top:v,left:p,bottom:y,right:m,sheetName:c,tl:{address:h,col:p,row:v,$col$row:`$${this.n2l(p)}$${v}`,sheetName:c},br:{address:g,col:m,row:y,$col$row:`$${this.n2l(m)}$${y}`,sheetName:c},dimensions:`${h}:${g}`}}if(u.startsWith("#"))return c?{sheetName:c,error:u}:{error:u};const d=this.decodeAddress(u);return c?{sheetName:c,...d}:d},encodeAddress:(a,l)=>o.n2l(l)+a,encode(){switch(arguments.length){case 2:return o.encodeAddress(arguments[0],arguments[1]);case 4:return`${o.encodeAddress(arguments[0],arguments[1])}:${o.encodeAddress(arguments[2],arguments[3])}`;default:throw new Error("Can only encode with 2 or 4 arguments")}},inRange(a,l){const[c,u,,f,d]=a,[h,g]=l;return h>=c&&h<=f&&g>=u&&g<=d}};n.exports=o},{}],20:[function(r,n,i){const s=(a,l)=>({...a,...l.reduce((c,u)=>(a[u]&&(c[u]={...a[u]}),c),{})}),o=function(a,l,c){let u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[];a[c]&&(l[c]=s(a[c],u))};i.copyStyle=a=>{if(!a)return a;if(l=a,Object.keys(l).length===0)return{};var l;const c={...a};return o(a,c,"font",["color"]),o(a,c,"alignment"),o(a,c,"protection"),a.border&&(o(a,c,"border"),o(a.border,c.border,"top",["color"]),o(a.border,c.border,"left",["color"]),o(a.border,c.border,"bottom",["color"]),o(a.border,c.border,"right",["color"]),o(a.border,c.border,"diagonal",["color"])),a.fill&&(o(a,c,"fill",["fgColor","bgColor","center"]),a.fill.stops&&(c.fill.stops=a.fill.stops.map(u=>s(u,["color"])))),c}},{}],21:[function(r,n,i){(function(s){(function(){const o=r("crypto"),a={hash(l){const c=o.createHash(l);for(var u=arguments.length,f=new Array(u>1?u-1:0),d=1;d<u;d++)f[d-1]=arguments[d];return c.update(s.concat(f)),c.digest()},convertPasswordToHash(l,c,u,f){if(c=c.toLowerCase(),o.getHashes().indexOf(c)<0)throw new Error(`Hash algorithm '${c}' not supported!`);const d=s.from(l,"utf16le");let h=this.hash(c,s.from(u,"base64"),d);for(let g=0;g<f;g++){const v=s.alloc(4);v.writeUInt32LE(g,0),h=this.hash(c,h,v)}return h.toString("base64")},randomBytes:l=>o.randomBytes(l)};n.exports=a}).call(this)}).call(this,r("buffer").Buffer)},{buffer:220,crypto:390}],22:[function(r,n,i){const{SaxesParser:s}=r("saxes"),{PassThrough:o}=r("readable-stream"),{bufferToString:a}=r("./browser-buffer-decode");n.exports=async function*(l){l.pipe&&!l[Symbol.asyncIterator]&&(l=l.pipe(new o));const c=new s;let u;c.on("error",d=>{u=d});let f=[];c.on("opentag",d=>f.push({eventType:"opentag",value:d})),c.on("text",d=>f.push({eventType:"text",value:d})),c.on("closetag",d=>f.push({eventType:"closetag",value:d}));for await(const d of l){if(c.write(a(d)),u)throw u;yield f,f=[]}}},{"./browser-buffer-decode":16,"readable-stream":491,saxes:496}],23:[function(r,n,i){const s=r("./col-cache"),o=/(([a-z_\-0-9]*)!)?([a-z0-9_$]{2,})([(])?/gi,a=/^([$])?([a-z]+)([$])?([1-9][0-9]*)$/i;n.exports={slideFormula:function(l,c,u){const f=s.decode(c),d=s.decode(u);return l.replace(o,(h,g,v,p,y)=>{if(y)return h;const m=a.exec(p);if(m){const b=m[1],x=m[2].toUpperCase(),P=m[3],F=m[4];if(x.length>3||x.length===3&&x>"XFD")return h;let D=s.l2n(x),O=parseInt(F,10);return b||(D+=d.col-f.col),P||(O+=d.row-f.row),(g||"")+(b||"")+s.n2l(D)+(P||"")+O}return h})}}},{"./col-cache":19}],24:[function(r,n,i){(function(s,o){(function(){const a=r("readable-stream"),l=r("./utils"),c=r("./string-buf");class u{constructor(p,y){this._data=p,this._encoding=y}get length(){return this.toBuffer().length}copy(p,y,m,b){return this.toBuffer().copy(p,y,m,b)}toBuffer(){return this._buffer||(this._buffer=o.from(this._data,this._encoding)),this._buffer}}class f{constructor(p){this._data=p}get length(){return this._data.length}copy(p,y,m,b){return this._data._buf.copy(p,y,m,b)}toBuffer(){return this._data.toBuffer()}}class d{constructor(p){this._data=p}get length(){return this._data.length}copy(p,y,m,b){this._data.copy(p,y,m,b)}toBuffer(){return this._data}}class h{constructor(p){this.size=p,this.buffer=o.alloc(p),this.iRead=0,this.iWrite=0}toBuffer(){if(this.iRead===0&&this.iWrite===this.size)return this.buffer;const p=o.alloc(this.iWrite-this.iRead);return this.buffer.copy(p,0,this.iRead,this.iWrite),p}get length(){return this.iWrite-this.iRead}get eod(){return this.iRead===this.iWrite}get full(){return this.iWrite===this.size}read(p){let y;return p===0?null:p===void 0||p>=this.length?(y=this.toBuffer(),this.iRead=this.iWrite,y):(y=o.alloc(p),this.buffer.copy(y,0,this.iRead,p),this.iRead+=p,y)}write(p,y,m){const b=Math.min(m,this.size-this.iWrite);return p.copy(this.buffer,this.iWrite,y,y+b),this.iWrite+=b,b}}const g=function(v){v=v||{},this.bufSize=v.bufSize||1048576,this.buffers=[],this.batch=v.batch||!1,this.corked=!1,this.inPos=0,this.outPos=0,this.pipes=[],this.paused=!1,this.encoding=null};l.inherits(g,a.Duplex,{toBuffer(){switch(this.buffers.length){case 0:return null;case 1:return this.buffers[0].toBuffer();default:return o.concat(this.buffers.map(v=>v.toBuffer()))}},_getWritableBuffer(){if(this.buffers.length){const p=this.buffers[this.buffers.length-1];if(!p.full)return p}const v=new h(this.bufSize);return this.buffers.push(v),v},async _pipe(v){await Promise.all(this.pipes.map(function(p){return new Promise(y=>{p.write(v.toBuffer(),()=>{y()})})}))},_writeToBuffers(v){let p=0;const y=v.length;for(;p<y;)p+=this._getWritableBuffer().write(v,p,y-p)},async write(v,p,y){let m;if(p instanceof Function&&(y=p,p="utf8"),y=y||l.nop,v instanceof c)m=new f(v);else if(v instanceof o)m=new d(v);else{if(!(typeof v=="string"||v instanceof String||v instanceof ArrayBuffer))throw new Error("Chunk must be one of type String, Buffer or StringBuf.");m=new u(v,p)}if(this.pipes.length)if(this.batch)for(this._writeToBuffers(m);!this.corked&&this.buffers.length>1;)this._pipe(this.buffers.shift());else this.corked?(this._writeToBuffers(m),s.nextTick(y)):(await this._pipe(m),y());else this.paused||this.emit("data",m.toBuffer()),this._writeToBuffers(m),this.emit("readable");return!0},cork(){this.corked=!0},_flush(){if(this.pipes.length)for(;this.buffers.length;)this._pipe(this.buffers.shift())},uncork(){this.corked=!1,this._flush()},end(v,p,y){const m=b=>{b?y(b):(this._flush(),this.pipes.forEach(x=>{x.end()}),this.emit("finish"))};v?this.write(v,p,m):m()},read(v){let p;if(v){for(p=[];v&&this.buffers.length&&!this.buffers[0].eod;){const y=this.buffers[0],m=y.read(v);v-=m.length,p.push(m),y.eod&&y.full&&this.buffers.shift()}return o.concat(p)}return p=this.buffers.map(y=>y.toBuffer()).filter(Boolean),this.buffers=[],o.concat(p)},setEncoding(v){this.encoding=v},pause(){this.paused=!0},resume(){this.paused=!1},isPaused(){return!!this.paused},pipe(v){this.pipes.push(v),!this.paused&&this.buffers.length&&this.end()},unpipe(v){this.pipes=this.pipes.filter(p=>p!==v)},unshift(){throw new Error("Not Implemented")},wrap(){throw new Error("Not Implemented")}}),n.exports=g}).call(this)}).call(this,r("_process"),r("buffer").Buffer)},{"./string-buf":25,"./utils":27,_process:467,buffer:220,"readable-stream":491}],25:[function(r,n,i){(function(s){(function(){n.exports=class{constructor(o){this._buf=s.alloc(o&&o.size||16384),this._encoding=o&&o.encoding||"utf8",this._inPos=0,this._buffer=void 0}get length(){return this._inPos}get capacity(){return this._buf.length}get buffer(){return this._buf}toBuffer(){return this._buffer||(this._buffer=s.alloc(this.length),this._buf.copy(this._buffer,0,0,this.length)),this._buffer}reset(o){o=o||0,this._buffer=void 0,this._inPos=o}_grow(o){let a=2*this._buf.length;for(;a<o;)a*=2;const l=s.alloc(a);this._buf.copy(l,0),this._buf=l}addText(o){this._buffer=void 0;let a=this._inPos+this._buf.write(o,this._inPos,this._encoding);for(;a>=this._buf.length-4;)this._grow(this._inPos+o.length),a=this._inPos+this._buf.write(o,this._inPos,this._encoding);this._inPos=a}addStringBuf(o){o.length&&(this._buffer=void 0,this.length+o.length>this.capacity&&this._grow(this.length+o.length),o._buf.copy(this._buf,this._inPos,0,o.length),this._inPos+=o.length)}}}).call(this)}).call(this,r("buffer").Buffer)},{buffer:220}],26:[function(r,n,i){const{toString:s}=Object.prototype,o=/["&<>]/,a={each:function(l,c){l&&(Array.isArray(l)?l.forEach(c):Object.keys(l).forEach(u=>{c(l[u],u)}))},some:function(l,c){return!!l&&(Array.isArray(l)?l.some(c):Object.keys(l).some(u=>c(l[u],u)))},every:function(l,c){return!l||(Array.isArray(l)?l.every(c):Object.keys(l).every(u=>c(l[u],u)))},map:function(l,c){return l?Array.isArray(l)?l.map(c):Object.keys(l).map(u=>c(l[u],u)):[]},keyBy:(l,c)=>l.reduce((u,f)=>(u[f[c]]=f,u),{}),isEqual:function(l,c){const u=typeof l,f=typeof c,d=Array.isArray(l),h=Array.isArray(c);let g;if(u!==f)return!1;switch(typeof l){case"object":if(d||h)return!(!d||!h)&&l.length===c.length&&l.every((v,p)=>{const y=c[p];return a.isEqual(v,y)});if(l===null||c===null)return l===c;if(g=Object.keys(l),Object.keys(c).length!==g.length)return!1;for(const v of g)if(!c.hasOwnProperty(v))return!1;return a.every(l,(v,p)=>{const y=c[p];return a.isEqual(v,y)});default:return l===c}},escapeHtml(l){const c=o.exec(l);if(!c)return l;let u="",f="",d=0,h=c.index;for(;h<l.length;h++){switch(l.charAt(h)){case'"':f="&quot;";break;case"&":f="&amp;";break;case"'":f="&apos;";break;case"<":f="&lt;";break;case">":f="&gt;";break;default:continue}d!==h&&(u+=l.substring(d,h)),d=h+1,u+=f}return d!==h?u+l.substring(d,h):u},strcmp:(l,c)=>l<c?-1:l>c?1:0,isUndefined:l=>s.call(l)==="[object Undefined]",isObject:l=>s.call(l)==="[object Object]",deepMerge(){const l=arguments[0]||{},{length:c}=arguments;let u,f,d;function h(g,v){u=l[v],d=Array.isArray(g),a.isObject(g)||d?(d?(d=!1,f=u&&Array.isArray(u)?u:[]):f=u&&a.isObject(u)?u:{},l[v]=a.deepMerge(f,g)):a.isUndefined(g)||(l[v]=g)}for(let g=0;g<c;g++)a.each(arguments[g],h);return l}};n.exports=a},{}],27:[function(r,n,i){(function(s,o){(function(){const a=r("fs"),l=/[<>&'"\x7F\x00-\x08\x0B-\x0C\x0E-\x1F]/,c={nop(){},promiseImmediate:u=>new Promise(f=>{s.setImmediate?o(()=>{f(u)}):setTimeout(()=>{f(u)},1)}),inherits:function(u,f,d,h){u.super_=f,h||(h=d,d=null),d&&Object.keys(d).forEach(v=>{Object.defineProperty(u,v,Object.getOwnPropertyDescriptor(d,v))});const g={constructor:{value:u,enumerable:!1,writable:!1,configurable:!0}};h&&Object.keys(h).forEach(v=>{g[v]=Object.getOwnPropertyDescriptor(h,v)}),u.prototype=Object.create(f.prototype,g)},dateToExcel:(u,f)=>25569+u.getTime()/864e5-(f?1462:0),excelToDate(u,f){const d=Math.round(24*(u-25569+(f?1462:0))*3600*1e3);return new Date(d)},parsePath(u){const f=u.lastIndexOf("/");return{path:u.substring(0,f),name:u.substring(f+1)}},getRelsPath(u){const f=c.parsePath(u);return`${f.path}/_rels/${f.name}.rels`},xmlEncode(u){const f=l.exec(u);if(!f)return u;let d="",h="",g=0,v=f.index;for(;v<u.length;v++){const p=u.charCodeAt(v);switch(p){case 34:h="&quot;";break;case 38:h="&amp;";break;case 39:h="&apos;";break;case 60:h="&lt;";break;case 62:h="&gt;";break;case 127:h="";break;default:if(p<=31&&(p<=8||p>=11&&p!==13)){h="";break}continue}g!==v&&(d+=u.substring(g,v)),g=v+1,h&&(d+=h)}return g!==v?d+u.substring(g,v):d},xmlDecode:u=>u.replace(/&([a-z]*);/g,f=>{switch(f){case"&lt;":return"<";case"&gt;":return">";case"&amp;":return"&";case"&apos;":return"'";case"&quot;":return'"';default:return f}}),validInt(u){const f=parseInt(u,10);return Number.isNaN(f)?0:f},isDateFmt(u){return u?(u=(u=u.replace(/\[[^\]]*]/g,"")).replace(/"[^"]*"/g,"")).match(/[ymdhMsb]+/)!==null:!1},fs:{exists:u=>new Promise(f=>{a.access(u,a.constants.F_OK,d=>{f(!d)})})},toIsoDateString:u=>u.toIsoString().subsstr(0,10),parseBoolean:u=>u===!0||u==="true"||u===1||u==="1"};n.exports=c}).call(this)}).call(this,typeof Tt<"u"?Tt:typeof self<"u"?self:typeof window<"u"?window:{},r("timers").setImmediate)},{fs:216,timers:523}],28:[function(r,n,i){const s=r("./under-dash"),o=r("./utils");function a(u,f,d){u.push(` ${f}="${o.xmlEncode(d.toString())}"`)}function l(u,f){if(f){const d=[];s.each(f,(h,g)=>{h!==void 0&&a(d,g,h)}),u.push(d.join(""))}}class c{constructor(){this._xml=[],this._stack=[],this._rollbacks=[]}get tos(){return this._stack.length?this._stack[this._stack.length-1]:void 0}get cursor(){return this._xml.length}openXml(f){const d=this._xml;d.push("<?xml"),l(d,f),d.push(`?>
`)}openNode(f,d){const h=this.tos,g=this._xml;h&&this.open&&g.push(">"),this._stack.push(f),g.push("<"),g.push(f),l(g,d),this.leaf=!0,this.open=!0}addAttribute(f,d){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");d!==void 0&&a(this._xml,f,d)}addAttributes(f){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");l(this._xml,f)}writeText(f){const d=this._xml;this.open&&(d.push(">"),this.open=!1),this.leaf=!1,d.push(o.xmlEncode(f.toString()))}writeXml(f){this.open&&(this._xml.push(">"),this.open=!1),this.leaf=!1,this._xml.push(f)}closeNode(){const f=this._stack.pop(),d=this._xml;this.leaf?d.push("/>"):(d.push("</"),d.push(f),d.push(">")),this.open=!1,this.leaf=!1}leafNode(f,d,h){this.openNode(f,d),h!==void 0&&this.writeText(h),this.closeNode()}closeAll(){for(;this._stack.length;)this.closeNode()}addRollback(){return this._rollbacks.push({xml:this._xml.length,stack:this._stack.length,leaf:this.leaf,open:this.open}),this.cursor}commit(){this._rollbacks.pop()}rollback(){const f=this._rollbacks.pop();this._xml.length>f.xml&&this._xml.splice(f.xml,this._xml.length-f.xml),this._stack.length>f.stack&&this._stack.splice(f.stack,this._stack.length-f.stack),this.leaf=f.leaf,this.open=f.open}get xml(){return this.closeAll(),this._xml.join("")}}c.StdDocAttributes={version:"1.0",encoding:"UTF-8",standalone:"yes"},n.exports=c},{"./under-dash":26,"./utils":27}],29:[function(r,n,i){(function(s){(function(){const o=r("events"),a=r("jszip"),l=r("./stream-buf"),{stringToBuffer:c}=r("./browser-buffer-encode");class u extends o.EventEmitter{constructor(d){super(),this.options=Object.assign({type:"nodebuffer",compression:"DEFLATE"},d),this.zip=new a,this.stream=new l}append(d,h){h.hasOwnProperty("base64")&&h.base64?this.zip.file(h.name,d,{base64:!0}):(s.browser&&typeof d=="string"&&(d=c(d)),this.zip.file(h.name,d))}async finalize(){const d=await this.zip.generateAsync(this.options);this.stream.end(d),this.emit("finish")}read(d){return this.stream.read(d)}setEncoding(d){return this.stream.setEncoding(d)}pause(){return this.stream.pause()}resume(){return this.stream.resume()}isPaused(){return this.stream.isPaused()}pipe(d,h){return this.stream.pipe(d,h)}unpipe(d){return this.stream.unpipe(d)}unshift(d){return this.stream.unshift(d)}wrap(d){return this.stream.wrap(d)}}n.exports={ZipWriter:u}}).call(this)}).call(this,r("_process"))},{"./browser-buffer-encode":17,"./stream-buf":24,_process:467,events:422,jszip:441}],30:[function(r,n,i){n.exports={0:{f:"General"},1:{f:"0"},2:{f:"0.00"},3:{f:"#,##0"},4:{f:"#,##0.00"},9:{f:"0%"},10:{f:"0.00%"},11:{f:"0.00E+00"},12:{f:"# ?/?"},13:{f:"# ??/??"},14:{f:"mm-dd-yy"},15:{f:"d-mmm-yy"},16:{f:"d-mmm"},17:{f:"mmm-yy"},18:{f:"h:mm AM/PM"},19:{f:"h:mm:ss AM/PM"},20:{f:"h:mm"},21:{f:"h:mm:ss"},22:{f:'m/d/yy "h":mm'},27:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"年"m"月"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"年" mm"月" dd"日"'},28:{"zh-tw":'[$-404]e"年"m"月"d"日"',"zh-cn":'m"月"d"日"',"ja-jp":'[$-411]ggge"年"m"月"d"日"',"ko-kr":"mm-dd"},29:{"zh-tw":'[$-404]e"年"m"月"d"日"',"zh-cn":'m"月"d"日"',"ja-jp":'[$-411]ggge"年"m"月"d"日"',"ko-kr":"mm-dd"},30:{"zh-tw":"m/d/yy ","zh-cn":"m-d-yy","ja-jp":"m/d/yy","ko-kr":"mm-dd-yy"},31:{"zh-tw":'yyyy"年"m"月"d"日"',"zh-cn":'yyyy"年"m"月"d"日"',"ja-jp":'yyyy"年"m"月"d"日"',"ko-kr":'yyyy"년" mm"월" dd"일"'},32:{"zh-tw":'hh"時"mm"分"',"zh-cn":'h"时"mm"分"',"ja-jp":'h"時"mm"分"',"ko-kr":'h"시" mm"분"'},33:{"zh-tw":'hh"時"mm"分"ss"秒"',"zh-cn":'h"时"mm"分"ss"秒"',"ja-jp":'h"時"mm"分"ss"秒"',"ko-kr":'h"시" mm"분" ss"초"'},34:{"zh-tw":'上午/下午 hh"時"mm"分"',"zh-cn":'上午/下午 h"时"mm"分"',"ja-jp":'yyyy"年"m"月"',"ko-kr":"yyyy-mm-dd"},35:{"zh-tw":'上午/下午 hh"時"mm"分"ss"秒"',"zh-cn":'上午/下午 h"时"mm"分"ss"秒"',"ja-jp":'m"月"d"日"',"ko-kr":"yyyy-mm-dd"},36:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"年"m"月"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"年" mm"月" dd"日"'},37:{f:"#,##0 ;(#,##0)"},38:{f:"#,##0 ;[Red](#,##0)"},39:{f:"#,##0.00 ;(#,##0.00)"},40:{f:"#,##0.00 ;[Red](#,##0.00)"},45:{f:"mm:ss"},46:{f:"[h]:mm:ss"},47:{f:"mmss.0"},48:{f:"##0.0E+0"},49:{f:"@"},50:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"年"m"月"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"年" mm"月" dd"日"'},51:{"zh-tw":'[$-404]e"年"m"月"d"日"',"zh-cn":'m"月"d"日"',"ja-jp":'[$-411]ggge"年"m"月"d"日"',"ko-kr":"mm-dd"},52:{"zh-tw":'上午/下午 hh"時"mm"分"',"zh-cn":'yyyy"年"m"月"',"ja-jp":'yyyy"年"m"月"',"ko-kr":"yyyy-mm-dd"},53:{"zh-tw":'上午/下午 hh"時"mm"分"ss"秒"',"zh-cn":'m"月"d"日"',"ja-jp":'m"月"d"日"',"ko-kr":"yyyy-mm-dd"},54:{"zh-tw":'[$-404]e"年"m"月"d"日"',"zh-cn":'m"月"d"日"',"ja-jp":'[$-411]ggge"年"m"月"d"日"',"ko-kr":"mm-dd"},55:{"zh-tw":'上午/下午 hh"時"mm"分"',"zh-cn":'上午/下午 h"时"mm"分"',"ja-jp":'yyyy"年"m"月"',"ko-kr":"yyyy-mm-dd"},56:{"zh-tw":'上午/下午 hh"時"mm"分"ss"秒"',"zh-cn":'上午/下午 h"时"mm"分"ss"秒"',"ja-jp":'m"月"d"日"',"ko-kr":"yyyy-mm-dd"},57:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"年"m"月"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"年" mm"月" dd"日"'},58:{"zh-tw":'[$-404]e"年"m"月"d"日"',"zh-cn":'m"月"d"日"',"ja-jp":'[$-411]ggge"年"m"月"d"日"',"ko-kr":"mm-dd"},59:{"th-th":"t0"},60:{"th-th":"t0.00"},61:{"th-th":"t#,##0"},62:{"th-th":"t#,##0.00"},67:{"th-th":"t0%"},68:{"th-th":"t0.00%"},69:{"th-th":"t# ?/?"},70:{"th-th":"t# ??/??"},81:{"th-th":"d/m/bb"}}},{}],31:[function(r,n,i){n.exports={OfficeDocument:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",Worksheet:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet",CalcChain:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/calcChain",SharedStrings:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",Styles:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",Theme:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",Hyperlink:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",Image:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",CoreProperties:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",ExtenderProperties:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",Comments:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",VmlDrawing:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",Table:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/table"}},{}],32:[function(r,n,i){const s=r("../../utils/parse-sax"),o=r("../../utils/xml-stream");class a{prepare(){}render(){}parseOpen(c){}parseText(c){}parseClose(c){}reconcile(c,u){}reset(){this.model=null,this.map&&Object.values(this.map).forEach(c=>{c instanceof a?c.reset():c.xform&&c.xform.reset()})}mergeModel(c){this.model=Object.assign(this.model||{},c)}async parse(c){for await(const u of c)for(const{eventType:f,value:d}of u)if(f==="opentag")this.parseOpen(d);else if(f==="text")this.parseText(d);else if(f==="closetag"&&!this.parseClose(d.name))return this.model;return this.model}async parseStream(c){return this.parse(s(c))}get xml(){return this.toXml(this.model)}toXml(c){const u=new o;return this.render(u,c),u.xml}static toAttribute(c,u){let f=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(c===void 0){if(f)return u}else if(f||c!==u)return c.toString()}static toStringAttribute(c,u){let f=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return a.toAttribute(c,u,f)}static toStringValue(c,u){return c===void 0?u:c}static toBoolAttribute(c,u){let f=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(c===void 0){if(f)return u}else if(f||c!==u)return c?"1":"0"}static toBoolValue(c,u){return c===void 0?u:c==="1"}static toIntAttribute(c,u){let f=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return a.toAttribute(c,u,f)}static toIntValue(c,u){return c===void 0?u:parseInt(c,10)}static toFloatAttribute(c,u){let f=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return a.toAttribute(c,u,f)}static toFloatValue(c,u){return c===void 0?u:parseFloat(c)}}n.exports=a},{"../../utils/parse-sax":22,"../../utils/xml-stream":28}],33:[function(r,n,i){const s=r("../base-xform"),o=r("../../../utils/col-cache");function a(c){try{return o.decodeEx(c),!0}catch{return!1}}function l(c){const u=[];let f=!1,d="";return c.split(",").forEach(h=>{if(!h)return;const g=(h.match(/'/g)||[]).length;if(!g)return void(f?d+=h+",":a(h)&&u.push(h));const v=g%2==0;!f&&v&&a(h)?u.push(h):f&&!v?(f=!1,a(d+h)&&u.push(d+h),d=""):(f=!0,d+=h+",")}),u}n.exports=class extends s{render(c,u){c.openNode("definedName",{name:u.name,localSheetId:u.localSheetId}),c.writeText(u.ranges.join(",")),c.closeNode()}parseOpen(c){switch(c.name){case"definedName":return this._parsedName=c.attributes.name,this._parsedLocalSheetId=c.attributes.localSheetId,this._parsedText=[],!0;default:return!1}}parseText(c){this._parsedText.push(c)}parseClose(){return this.model={name:this._parsedName,ranges:l(this._parsedText.join(""))},this._parsedLocalSheetId!==void 0&&(this.model.localSheetId=parseInt(this._parsedLocalSheetId,10)),!1}}},{"../../../utils/col-cache":19,"../base-xform":32}],34:[function(r,n,i){const s=r("../../../utils/utils"),o=r("../base-xform");n.exports=class extends o{render(a,l){a.leafNode("sheet",{sheetId:l.id,name:l.name,state:l.state,"r:id":l.rId})}parseOpen(a){return a.name==="sheet"&&(this.model={name:s.xmlDecode(a.attributes.name),id:parseInt(a.attributes.sheetId,10),state:a.attributes.state,rId:a.attributes["r:id"]},!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/utils":27,"../base-xform":32}],35:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{render(o,a){o.leafNode("calcPr",{calcId:171027,fullCalcOnLoad:a.fullCalcOnLoad?1:void 0})}parseOpen(o){return o.name==="calcPr"&&(this.model={},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],36:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{render(o,a){o.leafNode("workbookPr",{date1904:a.date1904?1:void 0,defaultThemeVersion:164011,filterPrivacy:1})}parseOpen(o){return o.name==="workbookPr"&&(this.model={date1904:o.attributes.date1904==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],37:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{render(o,a){const l={xWindow:a.x||0,yWindow:a.y||0,windowWidth:a.width||12e3,windowHeight:a.height||24e3,firstSheet:a.firstSheet,activeTab:a.activeTab};a.visibility&&a.visibility!=="visible"&&(l.visibility=a.visibility),o.leafNode("workbookView",l)}parseOpen(o){if(o.name==="workbookView"){const a=this.model={},l=function(u,f,d){const h=f!==void 0?a[u]=f:d;h!==void 0&&(a[u]=h)},c=function(u,f,d){const h=f!==void 0?a[u]=parseInt(f,10):d;h!==void 0&&(a[u]=h)};return c("x",o.attributes.xWindow,0),c("y",o.attributes.yWindow,0),c("width",o.attributes.windowWidth,25e3),c("height",o.attributes.windowHeight,1e4),l("visibility",o.attributes.visibility,"visible"),c("activeTab",o.attributes.activeTab,void 0),c("firstSheet",o.attributes.firstSheet,void 0),!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],38:[function(r,n,i){const s=r("../../../utils/under-dash"),o=r("../../../utils/col-cache"),a=r("../../../utils/xml-stream"),l=r("../base-xform"),c=r("../static-xform"),u=r("../list-xform"),f=r("./defined-name-xform"),d=r("./sheet-xform"),h=r("./workbook-view-xform"),g=r("./workbook-properties-xform"),v=r("./workbook-calc-properties-xform");class p extends l{constructor(){super(),this.map={fileVersion:p.STATIC_XFORMS.fileVersion,workbookPr:new g,bookViews:new u({tag:"bookViews",count:!1,childXform:new h}),sheets:new u({tag:"sheets",count:!1,childXform:new d}),definedNames:new u({tag:"definedNames",count:!1,childXform:new f}),calcPr:new v}}prepare(m){m.sheets=m.worksheets;const b=[];let x=0;m.sheets.forEach(P=>{if(P.pageSetup&&P.pageSetup.printArea&&P.pageSetup.printArea.split("&&").forEach(F=>{const D=F.split(":"),O={name:"_xlnm.Print_Area",ranges:[`'${P.name}'!$${D[0]}:$${D[1]}`],localSheetId:x};b.push(O)}),P.pageSetup&&(P.pageSetup.printTitlesRow||P.pageSetup.printTitlesColumn)){const F=[];if(P.pageSetup.printTitlesColumn){const O=P.pageSetup.printTitlesColumn.split(":");F.push(`'${P.name}'!$${O[0]}:$${O[1]}`)}if(P.pageSetup.printTitlesRow){const O=P.pageSetup.printTitlesRow.split(":");F.push(`'${P.name}'!$${O[0]}:$${O[1]}`)}const D={name:"_xlnm.Print_Titles",ranges:F,localSheetId:x};b.push(D)}x++}),b.length&&(m.definedNames=m.definedNames.concat(b)),(m.media||[]).forEach((P,F)=>{P.name=P.type+(F+1)})}render(m,b){m.openXml(a.StdDocAttributes),m.openNode("workbook",p.WORKBOOK_ATTRIBUTES),this.map.fileVersion.render(m),this.map.workbookPr.render(m,b.properties),this.map.bookViews.render(m,b.views),this.map.sheets.render(m,b.sheets),this.map.definedNames.render(m,b.definedNames),this.map.calcPr.render(m,b.calcProperties),m.closeNode()}parseOpen(m){if(this.parser)return this.parser.parseOpen(m),!0;switch(m.name){case"workbook":return!0;default:return this.parser=this.map[m.name],this.parser&&this.parser.parseOpen(m),!0}}parseText(m){this.parser&&this.parser.parseText(m)}parseClose(m){if(this.parser)return this.parser.parseClose(m)||(this.parser=void 0),!0;switch(m){case"workbook":return this.model={sheets:this.map.sheets.model,properties:this.map.workbookPr.model||{},views:this.map.bookViews.model,calcProperties:{}},this.map.definedNames.model&&(this.model.definedNames=this.map.definedNames.model),!1;default:return!0}}reconcile(m){const b=(m.workbookRels||[]).reduce((O,j)=>(O[j.Id]=j,O),{}),x=[];let P,F=0;(m.sheets||[]).forEach(O=>{const j=b[O.rId];j&&(P=m.worksheetHash["xl/"+j.Target.replace(/^(\s|\/xl\/)+/,"")],P&&(P.name=O.name,P.id=O.id,P.state=O.state,x[F++]=P))});const D=[];s.each(m.definedNames,O=>{if(O.name==="_xlnm.Print_Area"){if(P=x[O.localSheetId],P){P.pageSetup||(P.pageSetup={});const j=o.decodeEx(O.ranges[0]);P.pageSetup.printArea=P.pageSetup.printArea?`${P.pageSetup.printArea}&&${j.dimensions}`:j.dimensions}}else if(O.name==="_xlnm.Print_Titles"){if(P=x[O.localSheetId],P){P.pageSetup||(P.pageSetup={});const j=O.ranges.join(","),H=/\$/g,W=/\$\d+:\$\d+/,G=j.match(W);if(G&&G.length){const E=G[0];P.pageSetup.printTitlesRow=E.replace(H,"")}const M=/\$[A-Z]+:\$[A-Z]+/,k=j.match(M);if(k&&k.length){const E=k[0];P.pageSetup.printTitlesColumn=E.replace(H,"")}}}else D.push(O)}),m.definedNames=D,m.media.forEach((O,j)=>{O.index=j})}}p.WORKBOOK_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x15","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},p.STATIC_XFORMS={fileVersion:new c({tag:"fileVersion",$:{appName:"xl",lastEdited:5,lowestEdited:5,rupBuild:9303}})},n.exports=p},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./defined-name-xform":33,"./sheet-xform":34,"./workbook-calc-properties-xform":35,"./workbook-properties-xform":36,"./workbook-view-xform":37}],39:[function(r,n,i){const s=r("../strings/rich-text-xform"),o=r("../../../utils/utils"),a=r("../base-xform"),l=n.exports=function(c){this.model=c};o.inherits(l,a,{get tag(){return"r"},get richTextXform(){return this._richTextXform||(this._richTextXform=new s),this._richTextXform},render(c,u){u=u||this.model,c.openNode("comment",{ref:u.ref,authorId:0}),c.openNode("text"),u&&u.note&&u.note.texts&&u.note.texts.forEach(f=>{this.richTextXform.render(c,f)}),c.closeNode(),c.closeNode()},parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case"comment":return this.model={type:"note",note:{texts:[]},...c.attributes},!0;case"r":return this.parser=this.richTextXform,this.parser.parseOpen(c),!0;default:return!1}},parseText(c){this.parser&&this.parser.parseText(c)},parseClose(c){switch(c){case"comment":return!1;case"r":return this.model.note.texts.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(c),!0}}})},{"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],40:[function(r,n,i){const s=r("../../../utils/xml-stream"),o=r("../../../utils/utils"),a=r("../base-xform"),l=r("./comment-xform"),c=n.exports=function(){this.map={comment:new l}};o.inherits(c,a,{COMMENTS_ATTRIBUTES:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},{render(u,f){f=f||this.model,u.openXml(s.StdDocAttributes),u.openNode("comments",c.COMMENTS_ATTRIBUTES),u.openNode("authors"),u.leafNode("author",null,"Author"),u.closeNode(),u.openNode("commentList"),f.comments.forEach(d=>{this.map.comment.render(u,d)}),u.closeNode(),u.closeNode()},parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"commentList":return this.model={comments:[]},!0;case"comment":return this.parser=this.map.comment,this.parser.parseOpen(u),!0;default:return!1}},parseText(u){this.parser&&this.parser.parseText(u)},parseClose(u){switch(u){case"commentList":return!1;case"comment":return this.model.comments.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(u),!0}}})},{"../../../utils/utils":27,"../../../utils/xml-stream":28,"../base-xform":32,"./comment-xform":39}],41:[function(r,n,i){const s=r("../../base-xform");n.exports=class extends s{constructor(o){super(),this._model=o}get tag(){return this._model&&this._model.tag}render(o,a,l){(a===l[2]||this.tag==="x:SizeWithCells"&&a===l[1])&&o.leafNode(this.tag)}parseOpen(o){switch(o.name){case this.tag:return this.model={},this.model[this.tag]=!0,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../base-xform":32}],42:[function(r,n,i){const s=r("../../base-xform");n.exports=class extends s{constructor(o){super(),this._model=o}get tag(){return this._model&&this._model.tag}render(o,a){o.leafNode(this.tag,null,a)}parseOpen(o){switch(o.name){case this.tag:return this.text="",!0;default:return!1}}parseText(o){this.text=o}parseClose(){return!1}}},{"../../base-xform":32}],43:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{get tag(){return"x:Anchor"}getAnchorRect(o){const a=Math.floor(o.left),l=Math.floor(68*(o.left-a)),c=Math.floor(o.top),u=Math.floor(18*(o.top-c)),f=Math.floor(o.right),d=Math.floor(68*(o.right-f)),h=Math.floor(o.bottom);return[a,l,c,u,f,d,h,Math.floor(18*(o.bottom-h))]}getDefaultRect(o){const a=o.col,l=Math.max(o.row-2,0);return[a,6,l,14,a+2,2,l+4,16]}render(o,a){const l=a.anchor?this.getAnchorRect(a.anchor):this.getDefaultRect(a.refAddress);o.leafNode("x:Anchor",null,l.join(", "))}parseOpen(o){switch(o.name){case this.tag:return this.text="",!0;default:return!1}}parseText(o){this.text=o}parseClose(){return!1}}},{"../base-xform":32}],44:[function(r,n,i){const s=r("../base-xform"),o=r("./vml-anchor-xform"),a=r("./style/vml-protection-xform"),l=r("./style/vml-position-xform"),c=["twoCells","oneCells","absolute"];n.exports=class extends s{constructor(){super(),this.map={"x:Anchor":new o,"x:Locked":new a({tag:"x:Locked"}),"x:LockText":new a({tag:"x:LockText"}),"x:SizeWithCells":new l({tag:"x:SizeWithCells"}),"x:MoveWithCells":new l({tag:"x:MoveWithCells"})}}get tag(){return"x:ClientData"}render(u,f){const{protection:d,editAs:h}=f.note;u.openNode(this.tag,{ObjectType:"Note"}),this.map["x:MoveWithCells"].render(u,h,c),this.map["x:SizeWithCells"].render(u,h,c),this.map["x:Anchor"].render(u,f),this.map["x:Locked"].render(u,d.locked),u.leafNode("x:AutoFill",null,"False"),this.map["x:LockText"].render(u,d.lockText),u.leafNode("x:Row",null,f.refAddress.row-1),u.leafNode("x:Column",null,f.refAddress.col-1),u.closeNode()}parseOpen(u){switch(u.name){case this.tag:this.reset(),this.model={anchor:[],protection:{},editAs:""};break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;switch(u){case this.tag:return this.normalizeModel(),!1;default:return!0}}normalizeModel(){const u=Object.assign({},this.map["x:MoveWithCells"].model,this.map["x:SizeWithCells"].model),f=Object.keys(u).length;this.model.editAs=c[f],this.model.anchor=this.map["x:Anchor"].text,this.model.protection.locked=this.map["x:Locked"].text,this.model.protection.lockText=this.map["x:LockText"].text}}},{"../base-xform":32,"./style/vml-position-xform":41,"./style/vml-protection-xform":42,"./vml-anchor-xform":43}],45:[function(r,n,i){const s=r("../../../utils/xml-stream"),o=r("../base-xform"),a=r("./vml-shape-xform");class l extends o{constructor(){super(),this.map={"v:shape":new a}}get tag(){return"xml"}render(u,f){u.openXml(s.StdDocAttributes),u.openNode(this.tag,l.DRAWING_ATTRIBUTES),u.openNode("o:shapelayout",{"v:ext":"edit"}),u.leafNode("o:idmap",{"v:ext":"edit",data:1}),u.closeNode(),u.openNode("v:shapetype",{id:"_x0000_t202",coordsize:"21600,21600","o:spt":202,path:"m,l,21600r21600,l21600,xe"}),u.leafNode("v:stroke",{joinstyle:"miter"}),u.leafNode("v:path",{gradientshapeok:"t","o:connecttype":"rect"}),u.closeNode(),f.comments.forEach((d,h)=>{this.map["v:shape"].render(u,d,h)}),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.tag:this.reset(),this.model={comments:[]};break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.model.comments.push(this.parser.model),this.parser=void 0),!0;switch(u){case this.tag:return!1;default:return!0}}reconcile(u,f){u.anchors.forEach(d=>{d.br?this.map["xdr:twoCellAnchor"].reconcile(d,f):this.map["xdr:oneCellAnchor"].reconcile(d,f)})}}l.DRAWING_ATTRIBUTES={"xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:x":"urn:schemas-microsoft-com:office:excel"},n.exports=l},{"../../../utils/xml-stream":28,"../base-xform":32,"./vml-shape-xform":46}],46:[function(r,n,i){const s=r("../base-xform"),o=r("./vml-textbox-xform"),a=r("./vml-client-data-xform");class l extends s{constructor(){super(),this.map={"v:textbox":new o,"x:ClientData":new a}}get tag(){return"v:shape"}render(u,f,d){u.openNode("v:shape",l.V_SHAPE_ATTRIBUTES(f,d)),u.leafNode("v:fill",{color2:"infoBackground [80]"}),u.leafNode("v:shadow",{color:"none [81]",obscured:"t"}),u.leafNode("v:path",{"o:connecttype":"none"}),this.map["v:textbox"].render(u,f),this.map["x:ClientData"].render(u,f),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.tag:this.reset(),this.model={margins:{insetmode:u.attributes["o:insetmode"]},anchor:"",editAs:"",protection:{}};break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;switch(u){case this.tag:return this.model.margins.inset=this.map["v:textbox"].model&&this.map["v:textbox"].model.inset,this.model.protection=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.protection,this.model.anchor=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.anchor,this.model.editAs=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.editAs,!1;default:return!0}}}l.V_SHAPE_ATTRIBUTES=(c,u)=>({id:"_x0000_s"+(1025+u),type:"#_x0000_t202",style:"position:absolute; margin-left:105.3pt;margin-top:10.5pt;width:97.8pt;height:59.1pt;z-index:1;visibility:hidden",fillcolor:"infoBackground [80]",strokecolor:"none [81]","o:insetmode":c.note.margins&&c.note.margins.insetmode}),n.exports=l},{"../base-xform":32,"./vml-client-data-xform":44,"./vml-textbox-xform":47}],47:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{get tag(){return"v:textbox"}conversionUnit(o,a,l){return`${parseFloat(o)*a.toFixed(2)}${l}`}reverseConversionUnit(o){return(o||"").split(",").map(a=>Number(parseFloat(this.conversionUnit(parseFloat(a),.1,"")).toFixed(2)))}render(o,a){const l={style:"mso-direction-alt:auto"};if(a&&a.note){let{inset:c}=a.note&&a.note.margins;Array.isArray(c)&&(c=c.map(u=>this.conversionUnit(u,10,"mm")).join(",")),c&&(l.inset=c)}o.openNode("v:textbox",l),o.leafNode("div",{style:"text-align:left"}),o.closeNode()}parseOpen(o){switch(o.name){case this.tag:return this.model={inset:this.reverseConversionUnit(o.attributes.inset)},!0;default:return!0}}parseText(){}parseClose(o){switch(o){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],48:[function(r,n,i){const s=r("./base-xform");n.exports=class extends s{createNewModel(o){return{}}parseOpen(o){return this.parser=this.parser||this.map[o.name],this.parser?(this.parser.parseOpen(o),!0):o.name===this.tag&&(this.model=this.createNewModel(o),!0)}parseText(o){this.parser&&this.parser.parseText(o)}onParserClose(o,a){this.model[o]=a.model}parseClose(o){return this.parser?(this.parser.parseClose(o)||(this.onParserClose(o,this.parser),this.parser=void 0),!0):o!==this.tag}}},{"./base-xform":32}],49:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{render(o,a){o.openNode("HeadingPairs"),o.openNode("vt:vector",{size:2,baseType:"variant"}),o.openNode("vt:variant"),o.leafNode("vt:lpstr",void 0,"Worksheets"),o.closeNode(),o.openNode("vt:variant"),o.leafNode("vt:i4",void 0,a.length),o.closeNode(),o.closeNode(),o.closeNode()}parseOpen(o){return o.name==="HeadingPairs"}parseText(){}parseClose(o){return o!=="HeadingPairs"}}},{"../base-xform":32}],50:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{render(o,a){o.openNode("TitlesOfParts"),o.openNode("vt:vector",{size:a.length,baseType:"lpstr"}),a.forEach(l=>{o.leafNode("vt:lpstr",void 0,l.name)}),o.closeNode(),o.closeNode()}parseOpen(o){return o.name==="TitlesOfParts"}parseText(){}parseClose(o){return o!=="TitlesOfParts"}}},{"../base-xform":32}],51:[function(r,n,i){const s=r("../../../utils/xml-stream"),o=r("../base-xform"),a=r("../simple/string-xform"),l=r("./app-heading-pairs-xform"),c=r("./app-titles-of-parts-xform");class u extends o{constructor(){super(),this.map={Company:new a({tag:"Company"}),Manager:new a({tag:"Manager"}),HeadingPairs:new l,TitleOfParts:new c}}render(d,h){d.openXml(s.StdDocAttributes),d.openNode("Properties",u.PROPERTY_ATTRIBUTES),d.leafNode("Application",void 0,"Microsoft Excel"),d.leafNode("DocSecurity",void 0,"0"),d.leafNode("ScaleCrop",void 0,"false"),this.map.HeadingPairs.render(d,h.worksheets),this.map.TitleOfParts.render(d,h.worksheets),this.map.Company.render(d,h.company||""),this.map.Manager.render(d,h.manager),d.leafNode("LinksUpToDate",void 0,"false"),d.leafNode("SharedDoc",void 0,"false"),d.leafNode("HyperlinksChanged",void 0,"false"),d.leafNode("AppVersion",void 0,"16.0300"),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"Properties":return!0;default:return this.parser=this.map[d.name],!!this.parser&&(this.parser.parseOpen(d),!0)}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.parser=void 0),!0;switch(d){case"Properties":return this.model={worksheets:this.map.TitleOfParts.model,company:this.map.Company.model,manager:this.map.Manager.model},!1;default:return!0}}}u.DateFormat=function(f){return f.toISOString().replace(/[.]\d{3,6}/,"")},u.DateAttrs={"xsi:type":"dcterms:W3CDTF"},u.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties","xmlns:vt":"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"},n.exports=u},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/string-xform":119,"./app-heading-pairs-xform":49,"./app-titles-of-parts-xform":50}],52:[function(r,n,i){const s=r("../../../utils/xml-stream"),o=r("../base-xform");class a extends o{render(c,u){c.openXml(s.StdDocAttributes),c.openNode("Types",a.PROPERTY_ATTRIBUTES);const f={};(u.media||[]).forEach(d=>{if(d.type==="image"){const h=d.extension;f[h]||(f[h]=!0,c.leafNode("Default",{Extension:h,ContentType:"image/"+h}))}}),c.leafNode("Default",{Extension:"rels",ContentType:"application/vnd.openxmlformats-package.relationships+xml"}),c.leafNode("Default",{Extension:"xml",ContentType:"application/xml"}),c.leafNode("Override",{PartName:"/xl/workbook.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml"}),u.worksheets.forEach(d=>{const h=`/xl/worksheets/sheet${d.id}.xml`;c.leafNode("Override",{PartName:h,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml"})}),c.leafNode("Override",{PartName:"/xl/theme/theme1.xml",ContentType:"application/vnd.openxmlformats-officedocument.theme+xml"}),c.leafNode("Override",{PartName:"/xl/styles.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"}),u.sharedStrings&&u.sharedStrings.count&&c.leafNode("Override",{PartName:"/xl/sharedStrings.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"}),u.tables&&u.tables.forEach(d=>{c.leafNode("Override",{PartName:"/xl/tables/"+d.target,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml"})}),u.drawings&&u.drawings.forEach(d=>{c.leafNode("Override",{PartName:`/xl/drawings/${d.name}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.drawing+xml"})}),u.commentRefs&&(c.leafNode("Default",{Extension:"vml",ContentType:"application/vnd.openxmlformats-officedocument.vmlDrawing"}),u.commentRefs.forEach(d=>{let{commentName:h}=d;c.leafNode("Override",{PartName:`/xl/${h}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml"})})),c.leafNode("Override",{PartName:"/docProps/core.xml",ContentType:"application/vnd.openxmlformats-package.core-properties+xml"}),c.leafNode("Override",{PartName:"/docProps/app.xml",ContentType:"application/vnd.openxmlformats-officedocument.extended-properties+xml"}),c.closeNode()}parseOpen(){return!1}parseText(){}parseClose(){return!1}}a.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"},n.exports=a},{"../../../utils/xml-stream":28,"../base-xform":32}],53:[function(r,n,i){const s=r("../../../utils/xml-stream"),o=r("../base-xform"),a=r("../simple/date-xform"),l=r("../simple/string-xform"),c=r("../simple/integer-xform");class u extends o{constructor(){super(),this.map={"dc:creator":new l({tag:"dc:creator"}),"dc:title":new l({tag:"dc:title"}),"dc:subject":new l({tag:"dc:subject"}),"dc:description":new l({tag:"dc:description"}),"dc:identifier":new l({tag:"dc:identifier"}),"dc:language":new l({tag:"dc:language"}),"cp:keywords":new l({tag:"cp:keywords"}),"cp:category":new l({tag:"cp:category"}),"cp:lastModifiedBy":new l({tag:"cp:lastModifiedBy"}),"cp:lastPrinted":new a({tag:"cp:lastPrinted",format:u.DateFormat}),"cp:revision":new c({tag:"cp:revision"}),"cp:version":new l({tag:"cp:version"}),"cp:contentStatus":new l({tag:"cp:contentStatus"}),"cp:contentType":new l({tag:"cp:contentType"}),"dcterms:created":new a({tag:"dcterms:created",attrs:u.DateAttrs,format:u.DateFormat}),"dcterms:modified":new a({tag:"dcterms:modified",attrs:u.DateAttrs,format:u.DateFormat})}}render(d,h){d.openXml(s.StdDocAttributes),d.openNode("cp:coreProperties",u.CORE_PROPERTY_ATTRIBUTES),this.map["dc:creator"].render(d,h.creator),this.map["dc:title"].render(d,h.title),this.map["dc:subject"].render(d,h.subject),this.map["dc:description"].render(d,h.description),this.map["dc:identifier"].render(d,h.identifier),this.map["dc:language"].render(d,h.language),this.map["cp:keywords"].render(d,h.keywords),this.map["cp:category"].render(d,h.category),this.map["cp:lastModifiedBy"].render(d,h.lastModifiedBy),this.map["cp:lastPrinted"].render(d,h.lastPrinted),this.map["cp:revision"].render(d,h.revision),this.map["cp:version"].render(d,h.version),this.map["cp:contentStatus"].render(d,h.contentStatus),this.map["cp:contentType"].render(d,h.contentType),this.map["dcterms:created"].render(d,h.created),this.map["dcterms:modified"].render(d,h.modified),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"cp:coreProperties":case"coreProperties":return!0;default:if(this.parser=this.map[d.name],this.parser)return this.parser.parseOpen(d),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(d))}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.parser=void 0),!0;switch(d){case"cp:coreProperties":case"coreProperties":return this.model={creator:this.map["dc:creator"].model,title:this.map["dc:title"].model,subject:this.map["dc:subject"].model,description:this.map["dc:description"].model,identifier:this.map["dc:identifier"].model,language:this.map["dc:language"].model,keywords:this.map["cp:keywords"].model,category:this.map["cp:category"].model,lastModifiedBy:this.map["cp:lastModifiedBy"].model,lastPrinted:this.map["cp:lastPrinted"].model,revision:this.map["cp:revision"].model,contentStatus:this.map["cp:contentStatus"].model,contentType:this.map["cp:contentType"].model,created:this.map["dcterms:created"].model,modified:this.map["dcterms:modified"].model},!1;default:throw new Error("Unexpected xml node in parseClose: "+d)}}}u.DateFormat=function(f){return f.toISOString().replace(/[.]\d{3}/,"")},u.DateAttrs={"xsi:type":"dcterms:W3CDTF"},u.CORE_PROPERTY_ATTRIBUTES={"xmlns:cp":"http://schemas.openxmlformats.org/package/2006/metadata/core-properties","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:dcterms":"http://purl.org/dc/terms/","xmlns:dcmitype":"http://purl.org/dc/dcmitype/","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance"},n.exports=u},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/date-xform":117,"../simple/integer-xform":118,"../simple/string-xform":119}],54:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{render(o,a){o.leafNode("Relationship",a)}parseOpen(o){switch(o.name){case"Relationship":return this.model=o.attributes,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],55:[function(r,n,i){const s=r("../../../utils/xml-stream"),o=r("../base-xform"),a=r("./relationship-xform");class l extends o{constructor(){super(),this.map={Relationship:new a}}render(u,f){f=f||this._values,u.openXml(s.StdDocAttributes),u.openNode("Relationships",l.RELATIONSHIPS_ATTRIBUTES),f.forEach(d=>{this.map.Relationship.render(u,d)}),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"Relationships":return this.model=[],!0;default:if(this.parser=this.map[u.name],this.parser)return this.parser.parseOpen(u),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(u))}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.model.push(this.parser.model),this.parser=void 0),!0;switch(u){case"Relationships":return!1;default:throw new Error("Unexpected xml node in parseClose: "+u)}}}l.RELATIONSHIPS_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"},n.exports=l},{"../../../utils/xml-stream":28,"../base-xform":32,"./relationship-xform":54}],56:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case this.tag:this.reset(),this.model={range:{editAs:o.attributes.editAs||"oneCell"}};break;default:this.parser=this.map[o.name],this.parser&&this.parser.parseOpen(o)}return!0}parseText(o){this.parser&&this.parser.parseText(o)}reconcilePicture(o,a){if(o&&o.rId){const l=a.rels[o.rId].Target.match(/.*\/media\/(.+[.][a-zA-Z]{3,4})/);if(l){const c=l[1],u=a.mediaIndex[c];return a.media[u]}}}}},{"../base-xform":32}],57:[function(r,n,i){const s=r("../base-xform"),o=r("./blip-xform");n.exports=class extends s{constructor(){super(),this.map={"a:blip":new o}}get tag(){return"xdr:blipFill"}render(a,l){a.openNode(this.tag),this.map["a:blip"].render(a,l),a.openNode("a:stretch"),a.leafNode("a:fillRect"),a.closeNode(),a.closeNode()}parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case this.tag:this.reset();break;default:this.parser=this.map[a.name],this.parser&&this.parser.parseOpen(a)}return!0}parseText(){}parseClose(a){if(this.parser)return this.parser.parseClose(a)||(this.parser=void 0),!0;switch(a){case this.tag:return this.model=this.map["a:blip"].model,!1;default:return!0}}}},{"../base-xform":32,"./blip-xform":58}],58:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{get tag(){return"a:blip"}render(o,a){o.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:embed":a.rId,cstate:"print"})}parseOpen(o){switch(o.name){case this.tag:return this.model={rId:o.attributes["r:embed"]},!0;default:return!0}}parseText(){}parseClose(o){switch(o){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],59:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{get tag(){return"xdr:cNvPicPr"}render(o){o.openNode(this.tag),o.leafNode("a:picLocks",{noChangeAspect:"1"}),o.closeNode()}parseOpen(o){switch(o.name){case this.tag:default:return!0}}parseText(){}parseClose(o){switch(o){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],60:[function(r,n,i){const s=r("../base-xform"),o=r("./hlink-click-xform"),a=r("./ext-lst-xform");n.exports=class extends s{constructor(){super(),this.map={"a:hlinkClick":new o,"a:extLst":new a}}get tag(){return"xdr:cNvPr"}render(l,c){l.openNode(this.tag,{id:c.index,name:"Picture "+c.index}),this.map["a:hlinkClick"].render(l,c),this.map["a:extLst"].render(l,c),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case this.tag:this.reset();break;default:this.parser=this.map[l.name],this.parser&&this.parser.parseOpen(l)}return!0}parseText(){}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.parser=void 0),!0;switch(l){case this.tag:return this.model=this.map["a:hlinkClick"].model,!1;default:return!0}}}},{"../base-xform":32,"./ext-lst-xform":63,"./hlink-click-xform":65}],61:[function(r,n,i){const s=r("../base-xform"),o=r("../simple/integer-xform");n.exports=class extends s{constructor(a){super(),this.tag=a.tag,this.map={"xdr:col":new o({tag:"xdr:col",zero:!0}),"xdr:colOff":new o({tag:"xdr:colOff",zero:!0}),"xdr:row":new o({tag:"xdr:row",zero:!0}),"xdr:rowOff":new o({tag:"xdr:rowOff",zero:!0})}}render(a,l){a.openNode(this.tag),this.map["xdr:col"].render(a,l.nativeCol),this.map["xdr:colOff"].render(a,l.nativeColOff),this.map["xdr:row"].render(a,l.nativeRow),this.map["xdr:rowOff"].render(a,l.nativeRowOff),a.closeNode()}parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case this.tag:this.reset();break;default:this.parser=this.map[a.name],this.parser&&this.parser.parseOpen(a)}return!0}parseText(a){this.parser&&this.parser.parseText(a)}parseClose(a){if(this.parser)return this.parser.parseClose(a)||(this.parser=void 0),!0;switch(a){case this.tag:return this.model={nativeCol:this.map["xdr:col"].model,nativeColOff:this.map["xdr:colOff"].model,nativeRow:this.map["xdr:row"].model,nativeRowOff:this.map["xdr:rowOff"].model},!1;default:return!0}}}},{"../base-xform":32,"../simple/integer-xform":118}],62:[function(r,n,i){const s=r("../../../utils/col-cache"),o=r("../../../utils/xml-stream"),a=r("../base-xform"),l=r("./two-cell-anchor-xform"),c=r("./one-cell-anchor-xform");class u extends a{constructor(){super(),this.map={"xdr:twoCellAnchor":new l,"xdr:oneCellAnchor":new c}}prepare(d){d.anchors.forEach((h,g)=>{h.anchorType=function(v){return(typeof v.range=="string"?s.decode(v.range):v.range).br?"xdr:twoCellAnchor":"xdr:oneCellAnchor"}(h),this.map[h.anchorType].prepare(h,{index:g})})}get tag(){return"xdr:wsDr"}render(d,h){d.openXml(o.StdDocAttributes),d.openNode(this.tag,u.DRAWING_ATTRIBUTES),h.anchors.forEach(g=>{this.map[g.anchorType].render(d,g)}),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case this.tag:this.reset(),this.model={anchors:[]};break;default:this.parser=this.map[d.name],this.parser&&this.parser.parseOpen(d)}return!0}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.model.anchors.push(this.parser.model),this.parser=void 0),!0;switch(d){case this.tag:return!1;default:return!0}}reconcile(d,h){d.anchors.forEach(g=>{g.br?this.map["xdr:twoCellAnchor"].reconcile(g,h):this.map["xdr:oneCellAnchor"].reconcile(g,h)})}}u.DRAWING_ATTRIBUTES={"xmlns:xdr":"http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing","xmlns:a":"http://schemas.openxmlformats.org/drawingml/2006/main"},n.exports=u},{"../../../utils/col-cache":19,"../../../utils/xml-stream":28,"../base-xform":32,"./one-cell-anchor-xform":67,"./two-cell-anchor-xform":70}],63:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{get tag(){return"a:extLst"}render(o){o.openNode(this.tag),o.openNode("a:ext",{uri:"{FF2B5EF4-FFF2-40B4-BE49-F238E27FC236}"}),o.leafNode("a16:creationId",{"xmlns:a16":"http://schemas.microsoft.com/office/drawing/2014/main",id:"{00000000-0008-0000-0000-000002000000}"}),o.closeNode(),o.closeNode()}parseOpen(o){switch(o.name){case this.tag:default:return!0}}parseText(){}parseClose(o){switch(o){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],64:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{constructor(o){super(),this.tag=o.tag,this.map={}}render(o,a){o.openNode(this.tag);const l=Math.floor(9525*a.width),c=Math.floor(9525*a.height);o.addAttribute("cx",l),o.addAttribute("cy",c),o.closeNode()}parseOpen(o){return o.name===this.tag&&(this.model={width:parseInt(o.attributes.cx||"0",10)/9525,height:parseInt(o.attributes.cy||"0",10)/9525},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],65:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{get tag(){return"a:hlinkClick"}render(o,a){a.hyperlinks&&a.hyperlinks.rId&&o.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:id":a.hyperlinks.rId,tooltip:a.hyperlinks.tooltip})}parseOpen(o){switch(o.name){case this.tag:return this.model={hyperlinks:{rId:o.attributes["r:id"],tooltip:o.attributes.tooltip}},!0;default:return!0}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],66:[function(r,n,i){const s=r("../base-xform"),o=r("./c-nv-pr-xform"),a=r("./c-nv-pic-pr-xform");n.exports=class extends s{constructor(){super(),this.map={"xdr:cNvPr":new o,"xdr:cNvPicPr":new a}}get tag(){return"xdr:nvPicPr"}render(l,c){l.openNode(this.tag),this.map["xdr:cNvPr"].render(l,c),this.map["xdr:cNvPicPr"].render(l,c),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case this.tag:this.reset();break;default:this.parser=this.map[l.name],this.parser&&this.parser.parseOpen(l)}return!0}parseText(){}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.parser=void 0),!0;switch(l){case this.tag:return this.model=this.map["xdr:cNvPr"].model,!1;default:return!0}}}},{"../base-xform":32,"./c-nv-pic-pr-xform":59,"./c-nv-pr-xform":60}],67:[function(r,n,i){const s=r("./base-cell-anchor-xform"),o=r("../static-xform"),a=r("./cell-position-xform"),l=r("./ext-xform"),c=r("./pic-xform");n.exports=class extends s{constructor(){super(),this.map={"xdr:from":new a({tag:"xdr:from"}),"xdr:ext":new l({tag:"xdr:ext"}),"xdr:pic":new c,"xdr:clientData":new o({tag:"xdr:clientData"})}}get tag(){return"xdr:oneCellAnchor"}prepare(u,f){this.map["xdr:pic"].prepare(u.picture,f)}render(u,f){u.openNode(this.tag,{editAs:f.range.editAs||"oneCell"}),this.map["xdr:from"].render(u,f.range.tl),this.map["xdr:ext"].render(u,f.range.ext),this.map["xdr:pic"].render(u,f.picture),this.map["xdr:clientData"].render(u,{}),u.closeNode()}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;switch(u){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.ext=this.map["xdr:ext"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(u,f){u.medium=this.reconcilePicture(u.picture,f)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./ext-xform":64,"./pic-xform":68}],68:[function(r,n,i){const s=r("../base-xform"),o=r("../static-xform"),a=r("./blip-fill-xform"),l=r("./nv-pic-pr-xform"),c=r("./sp-pr");n.exports=class extends s{constructor(){super(),this.map={"xdr:nvPicPr":new l,"xdr:blipFill":new a,"xdr:spPr":new o(c)}}get tag(){return"xdr:pic"}prepare(u,f){u.index=f.index+1}render(u,f){u.openNode(this.tag),this.map["xdr:nvPicPr"].render(u,f),this.map["xdr:blipFill"].render(u,f),this.map["xdr:spPr"].render(u,f),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.tag:this.reset();break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(){}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.mergeModel(this.parser.model),this.parser=void 0),!0;switch(u){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"../static-xform":120,"./blip-fill-xform":57,"./nv-pic-pr-xform":66,"./sp-pr":69}],69:[function(r,n,i){n.exports={tag:"xdr:spPr",c:[{tag:"a:xfrm",c:[{tag:"a:off",$:{x:"0",y:"0"}},{tag:"a:ext",$:{cx:"0",cy:"0"}}]},{tag:"a:prstGeom",$:{prst:"rect"},c:[{tag:"a:avLst"}]}]}},{}],70:[function(r,n,i){const s=r("./base-cell-anchor-xform"),o=r("../static-xform"),a=r("./cell-position-xform"),l=r("./pic-xform");n.exports=class extends s{constructor(){super(),this.map={"xdr:from":new a({tag:"xdr:from"}),"xdr:to":new a({tag:"xdr:to"}),"xdr:pic":new l,"xdr:clientData":new o({tag:"xdr:clientData"})}}get tag(){return"xdr:twoCellAnchor"}prepare(c,u){this.map["xdr:pic"].prepare(c.picture,u)}render(c,u){c.openNode(this.tag,{editAs:u.range.editAs||"oneCell"}),this.map["xdr:from"].render(c,u.range.tl),this.map["xdr:to"].render(c,u.range.br),this.map["xdr:pic"].render(c,u.picture),this.map["xdr:clientData"].render(c,{}),c.closeNode()}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.parser=void 0),!0;switch(c){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.br=this.map["xdr:to"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(c,u){c.medium=this.reconcilePicture(c.picture,u)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./pic-xform":68}],71:[function(r,n,i){const s=r("./base-xform");n.exports=class extends s{constructor(o){super(),this.tag=o.tag,this.always=!!o.always,this.count=o.count,this.empty=o.empty,this.$count=o.$count||"count",this.$=o.$,this.childXform=o.childXform,this.maxItems=o.maxItems}prepare(o,a){const{childXform:l}=this;o&&o.forEach((c,u)=>{a.index=u,l.prepare(c,a)})}render(o,a){if(this.always||a&&a.length){o.openNode(this.tag,this.$),this.count&&o.addAttribute(this.$count,a&&a.length||0);const{childXform:l}=this;(a||[]).forEach((c,u)=>{l.render(o,c,u)}),o.closeNode()}else this.empty&&o.leafNode(this.tag)}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case this.tag:return this.model=[],!0;default:return!!this.childXform.parseOpen(o)&&(this.parser=this.childXform,!0)}}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){if(this.parser){if(!this.parser.parseClose(o)&&(this.model.push(this.parser.model),this.parser=void 0,this.maxItems&&this.model.length>this.maxItems))throw new Error(`Max ${this.childXform.tag} count (${this.maxItems}) exceeded`);return!0}return!1}reconcile(o,a){if(o){const{childXform:l}=this;o.forEach(c=>{l.reconcile(c,a)})}}}},{"./base-xform":32}],72:[function(r,n,i){const s=r("../../../utils/col-cache"),o=r("../base-xform");n.exports=class extends o{get tag(){return"autoFilter"}render(a,l){if(l)if(typeof l=="string")a.leafNode("autoFilter",{ref:l});else{const c=function(d){return typeof d=="string"?d:s.getAddress(d.row,d.column).address},u=c(l.from),f=c(l.to);u&&f&&a.leafNode("autoFilter",{ref:`${u}:${f}`})}}parseOpen(a){a.name==="autoFilter"&&(this.model=a.attributes.ref)}}},{"../../../utils/col-cache":19,"../base-xform":32}],73:[function(r,n,i){const s=r("../../../utils/utils"),o=r("../base-xform"),a=r("../../../doc/range"),l=r("../../../doc/enums"),c=r("../strings/rich-text-xform");function u(f){if(f==null)return l.ValueType.Null;if(f instanceof String||typeof f=="string")return l.ValueType.String;if(typeof f=="number")return l.ValueType.Number;if(typeof f=="boolean")return l.ValueType.Boolean;if(f instanceof Date)return l.ValueType.Date;if(f.text&&f.hyperlink)return l.ValueType.Hyperlink;if(f.formula)return l.ValueType.Formula;if(f.error)return l.ValueType.Error;throw new Error("I could not understand type of value")}n.exports=class extends o{constructor(){super(),this.richTextXForm=new c}get tag(){return"c"}prepare(f,d){const h=d.styles.addStyleModel(f.style||{},function(g){switch(g.type){case l.ValueType.Formula:return u(g.result);default:return g.type}}(f));switch(h&&(f.styleId=h),f.comment&&d.comments.push({...f.comment,ref:f.address}),f.type){case l.ValueType.String:case l.ValueType.RichText:d.sharedStrings&&(f.ssId=d.sharedStrings.add(f.value));break;case l.ValueType.Date:d.date1904&&(f.date1904=!0);break;case l.ValueType.Hyperlink:d.sharedStrings&&f.text!==void 0&&f.text!==null&&(f.ssId=d.sharedStrings.add(f.text)),d.hyperlinks.push({address:f.address,target:f.hyperlink,tooltip:f.tooltip});break;case l.ValueType.Merge:d.merges.add(f);break;case l.ValueType.Formula:if(d.date1904&&(f.date1904=!0),f.shareType==="shared"&&(f.si=d.siFormulae++),f.formula)d.formulae[f.address]=f;else if(f.sharedFormula){const g=d.formulae[f.sharedFormula];if(!g)throw new Error("Shared Formula master must exist above and or left of clone for cell "+f.address);g.si===void 0?(g.shareType="shared",g.si=d.siFormulae++,g.range=new a(g.address,f.address)):g.range&&g.range.expandToAddress(f.address),f.si=g.si}}}renderFormula(f,d){let h=null;switch(d.shareType){case"shared":h={t:"shared",ref:d.ref||d.range.range,si:d.si};break;case"array":h={t:"array",ref:d.ref};break;default:d.si!==void 0&&(h={t:"shared",si:d.si})}switch(u(d.result)){case l.ValueType.Null:f.leafNode("f",h,d.formula);break;case l.ValueType.String:f.addAttribute("t","str"),f.leafNode("f",h,d.formula),f.leafNode("v",null,d.result);break;case l.ValueType.Number:f.leafNode("f",h,d.formula),f.leafNode("v",null,d.result);break;case l.ValueType.Boolean:f.addAttribute("t","b"),f.leafNode("f",h,d.formula),f.leafNode("v",null,d.result?1:0);break;case l.ValueType.Error:f.addAttribute("t","e"),f.leafNode("f",h,d.formula),f.leafNode("v",null,d.result.error);break;case l.ValueType.Date:f.leafNode("f",h,d.formula),f.leafNode("v",null,s.dateToExcel(d.result,d.date1904));break;default:throw new Error("I could not understand type of value")}}render(f,d){if(d.type!==l.ValueType.Null||d.styleId){switch(f.openNode("c"),f.addAttribute("r",d.address),d.styleId&&f.addAttribute("s",d.styleId),d.type){case l.ValueType.Null:break;case l.ValueType.Number:f.leafNode("v",null,d.value);break;case l.ValueType.Boolean:f.addAttribute("t","b"),f.leafNode("v",null,d.value?"1":"0");break;case l.ValueType.Error:f.addAttribute("t","e"),f.leafNode("v",null,d.value.error);break;case l.ValueType.String:case l.ValueType.RichText:d.ssId!==void 0?(f.addAttribute("t","s"),f.leafNode("v",null,d.ssId)):d.value&&d.value.richText?(f.addAttribute("t","inlineStr"),f.openNode("is"),d.value.richText.forEach(h=>{this.richTextXForm.render(f,h)}),f.closeNode("is")):(f.addAttribute("t","str"),f.leafNode("v",null,d.value));break;case l.ValueType.Date:f.leafNode("v",null,s.dateToExcel(d.value,d.date1904));break;case l.ValueType.Hyperlink:d.ssId!==void 0?(f.addAttribute("t","s"),f.leafNode("v",null,d.ssId)):(f.addAttribute("t","str"),f.leafNode("v",null,d.text));break;case l.ValueType.Formula:this.renderFormula(f,d);break;case l.ValueType.Merge:}f.closeNode()}}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case"c":return this.model={address:f.attributes.r},this.t=f.attributes.t,f.attributes.s&&(this.model.styleId=parseInt(f.attributes.s,10)),!0;case"f":return this.currentNode="f",this.model.si=f.attributes.si,this.model.shareType=f.attributes.t,this.model.ref=f.attributes.ref,!0;case"v":return this.currentNode="v",!0;case"t":return this.currentNode="t",!0;case"r":return this.parser=this.richTextXForm,this.parser.parseOpen(f),!0;default:return!1}}parseText(f){if(this.parser)this.parser.parseText(f);else switch(this.currentNode){case"f":this.model.formula=this.model.formula?this.model.formula+f:f;break;case"v":case"t":this.model.value&&this.model.value.richText?this.model.value.richText.text=this.model.value.richText.text?this.model.value.richText.text+f:f:this.model.value=this.model.value?this.model.value+f:f}}parseClose(f){switch(f){case"c":{const{model:d}=this;if(d.formula||d.shareType)d.type=l.ValueType.Formula,d.value&&(this.t==="str"?d.result=s.xmlDecode(d.value):this.t==="b"?d.result=parseInt(d.value,10)!==0:this.t==="e"?d.result={error:d.value}:d.result=parseFloat(d.value),d.value=void 0);else if(d.value!==void 0)switch(this.t){case"s":d.type=l.ValueType.String,d.value=parseInt(d.value,10);break;case"str":d.type=l.ValueType.String,d.value=s.xmlDecode(d.value);break;case"inlineStr":d.type=l.ValueType.String;break;case"b":d.type=l.ValueType.Boolean,d.value=parseInt(d.value,10)!==0;break;case"e":d.type=l.ValueType.Error,d.value={error:d.value};break;default:d.type=l.ValueType.Number,d.value=parseFloat(d.value)}else d.styleId?d.type=l.ValueType.Null:d.type=l.ValueType.Merge;return!1}case"f":case"v":case"is":return this.currentNode=void 0,!0;case"t":return this.parser?(this.parser.parseClose(f),!0):(this.currentNode=void 0,!0);case"r":return this.model.value=this.model.value||{},this.model.value.richText=this.model.value.richText||[],this.model.value.richText.push(this.parser.model),this.parser=void 0,this.currentNode=void 0,!0;default:return!!this.parser&&(this.parser.parseClose(f),!0)}}reconcile(f,d){const h=f.styleId&&d.styles&&d.styles.getStyleModel(f.styleId);switch(h&&(f.style=h),f.styleId!==void 0&&(f.styleId=void 0),f.type){case l.ValueType.String:typeof f.value=="number"&&d.sharedStrings&&(f.value=d.sharedStrings.getString(f.value)),f.value.richText&&(f.type=l.ValueType.RichText);break;case l.ValueType.Number:h&&s.isDateFmt(h.numFmt)&&(f.type=l.ValueType.Date,f.value=s.excelToDate(f.value,d.date1904));break;case l.ValueType.Formula:f.result!==void 0&&h&&s.isDateFmt(h.numFmt)&&(f.result=s.excelToDate(f.result,d.date1904)),f.shareType==="shared"&&(f.ref?d.formulae[f.si]=f.address:(f.sharedFormula=d.formulae[f.si],delete f.shareType),delete f.si)}const g=d.hyperlinkMap[f.address];g&&(f.type===l.ValueType.Formula?(f.text=f.result,f.result=void 0):(f.text=f.value,f.value=void 0),f.type=l.ValueType.Hyperlink,f.hyperlink=g);const v=d.commentsMap&&d.commentsMap[f.address];v&&(f.comment=v)}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],74:[function(r,n,i){const s=r("../../base-xform");n.exports=class extends s{get tag(){return"x14:cfIcon"}render(o,a){o.leafNode(this.tag,{iconSet:a.iconSet,iconId:a.iconId})}parseOpen(o){let{attributes:a}=o;this.model={iconSet:a.iconSet,iconId:s.toIntValue(a.iconId)}}parseClose(o){return o!==this.tag}}},{"../../base-xform":32}],75:[function(r,n,i){const{v4:s}=r("uuid"),o=r("../../base-xform"),a=r("../../composite-xform"),l=r("./databar-ext-xform"),c=r("./icon-set-ext-xform"),u={"3Triangles":!0,"3Stars":!0,"5Boxes":!0};class f extends a{constructor(){super(),this.map={"x14:dataBar":this.databarXform=new l,"x14:iconSet":this.iconSetXform=new c}}get tag(){return"x14:cfRule"}static isExt(h){return h.type==="dataBar"?l.isExt(h):!(h.type!=="iconSet"||!h.custom&&!u[h.iconSet])}prepare(h){f.isExt(h)&&(h.x14Id=`{${s()}}`.toUpperCase())}render(h,g){if(f.isExt(g))switch(g.type){case"dataBar":this.renderDataBar(h,g);break;case"iconSet":this.renderIconSet(h,g)}}renderDataBar(h,g){h.openNode(this.tag,{type:"dataBar",id:g.x14Id}),this.databarXform.render(h,g),h.closeNode()}renderIconSet(h,g){h.openNode(this.tag,{type:"iconSet",priority:g.priority,id:g.x14Id||`{${s()}}`}),this.iconSetXform.render(h,g),h.closeNode()}createNewModel(h){let{attributes:g}=h;return{type:g.type,x14Id:g.id,priority:o.toIntValue(g.priority)}}onParserClose(h,g){Object.assign(this.model,g.model)}}n.exports=f},{"../../base-xform":32,"../../composite-xform":48,"./databar-ext-xform":79,"./icon-set-ext-xform":81,uuid:528}],76:[function(r,n,i){const s=r("../../composite-xform"),o=r("./f-ext-xform");n.exports=class extends s{constructor(){super(),this.map={"xm:f":this.fExtXform=new o}}get tag(){return"x14:cfvo"}render(a,l){a.openNode(this.tag,{type:l.type}),l.value!==void 0&&this.fExtXform.render(a,l.value),a.closeNode()}createNewModel(a){return{type:a.attributes.type}}onParserClose(a,l){switch(a){case"xm:f":this.model.value=l.model?parseFloat(l.model):0}}}},{"../../composite-xform":48,"./f-ext-xform":80}],77:[function(r,n,i){const s=r("../../composite-xform"),o=r("./sqref-ext-xform"),a=r("./cf-rule-ext-xform");n.exports=class extends s{constructor(){super(),this.map={"xm:sqref":this.sqRef=new o,"x14:cfRule":this.cfRule=new a}}get tag(){return"x14:conditionalFormatting"}prepare(l,c){l.rules.forEach(u=>{this.cfRule.prepare(u,c)})}render(l,c){c.rules.some(a.isExt)&&(l.openNode(this.tag,{"xmlns:xm":"http://schemas.microsoft.com/office/excel/2006/main"}),c.rules.filter(a.isExt).forEach(u=>this.cfRule.render(l,u)),this.sqRef.render(l,c.ref),l.closeNode())}createNewModel(){return{rules:[]}}onParserClose(l,c){switch(l){case"xm:sqref":this.model.ref=c.model;break;case"x14:cfRule":this.model.rules.push(c.model)}}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./sqref-ext-xform":82}],78:[function(r,n,i){const s=r("../../composite-xform"),o=r("./cf-rule-ext-xform"),a=r("./conditional-formatting-ext-xform");n.exports=class extends s{constructor(){super(),this.map={"x14:conditionalFormatting":this.cfXform=new a}}get tag(){return"x14:conditionalFormattings"}hasContent(l){return l.hasExtContent===void 0&&(l.hasExtContent=l.some(c=>c.rules.some(o.isExt))),l.hasExtContent}prepare(l,c){l.forEach(u=>{this.cfXform.prepare(u,c)})}render(l,c){this.hasContent(c)&&(l.openNode(this.tag),c.forEach(u=>this.cfXform.render(l,u)),l.closeNode())}createNewModel(){return[]}onParserClose(l,c){this.model.push(c.model)}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./conditional-formatting-ext-xform":77}],79:[function(r,n,i){const s=r("../../base-xform"),o=r("../../composite-xform"),a=r("../../style/color-xform"),l=r("./cfvo-ext-xform");n.exports=class extends o{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new l,"x14:borderColor":this.borderColorXform=new a("x14:borderColor"),"x14:negativeBorderColor":this.negativeBorderColorXform=new a("x14:negativeBorderColor"),"x14:negativeFillColor":this.negativeFillColorXform=new a("x14:negativeFillColor"),"x14:axisColor":this.axisColorXform=new a("x14:axisColor")}}static isExt(c){return!c.gradient}get tag(){return"x14:dataBar"}render(c,u){c.openNode(this.tag,{minLength:s.toIntAttribute(u.minLength,0,!0),maxLength:s.toIntAttribute(u.maxLength,100,!0),border:s.toBoolAttribute(u.border,!1),gradient:s.toBoolAttribute(u.gradient,!0),negativeBarColorSameAsPositive:s.toBoolAttribute(u.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:s.toBoolAttribute(u.negativeBarBorderColorSameAsPositive,!0),axisPosition:s.toAttribute(u.axisPosition,"auto"),direction:s.toAttribute(u.direction,"leftToRight")}),u.cfvo.forEach(f=>{this.cfvoXform.render(c,f)}),this.borderColorXform.render(c,u.borderColor),this.negativeBorderColorXform.render(c,u.negativeBorderColor),this.negativeFillColorXform.render(c,u.negativeFillColor),this.axisColorXform.render(c,u.axisColor),c.closeNode()}createNewModel(c){let{attributes:u}=c;return{cfvo:[],minLength:s.toIntValue(u.minLength,0),maxLength:s.toIntValue(u.maxLength,100),border:s.toBoolValue(u.border,!1),gradient:s.toBoolValue(u.gradient,!0),negativeBarColorSameAsPositive:s.toBoolValue(u.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:s.toBoolValue(u.negativeBarBorderColorSameAsPositive,!0),axisPosition:s.toStringValue(u.axisPosition,"auto"),direction:s.toStringValue(u.direction,"leftToRight")}}onParserClose(c,u){const[,f]=c.split(":");switch(f){case"cfvo":this.model.cfvo.push(u.model);break;default:this.model[f]=u.model}}}},{"../../base-xform":32,"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-ext-xform":76}],80:[function(r,n,i){const s=r("../../base-xform");n.exports=class extends s{get tag(){return"xm:f"}render(o,a){o.leafNode(this.tag,null,a)}parseOpen(){this.model=""}parseText(o){this.model+=o}parseClose(o){return o!==this.tag}}},{"../../base-xform":32}],81:[function(r,n,i){const s=r("../../base-xform"),o=r("../../composite-xform"),a=r("./cfvo-ext-xform"),l=r("./cf-icon-ext-xform");n.exports=class extends o{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new a,"x14:cfIcon":this.cfIconXform=new l}}get tag(){return"x14:iconSet"}render(c,u){c.openNode(this.tag,{iconSet:s.toStringAttribute(u.iconSet),reverse:s.toBoolAttribute(u.reverse,!1),showValue:s.toBoolAttribute(u.showValue,!0),custom:s.toBoolAttribute(u.icons,!1)}),u.cfvo.forEach(f=>{this.cfvoXform.render(c,f)}),u.icons&&u.icons.forEach((f,d)=>{f.iconId=d,this.cfIconXform.render(c,f)}),c.closeNode()}createNewModel(c){let{attributes:u}=c;return{cfvo:[],iconSet:s.toStringValue(u.iconSet,"3TrafficLights"),reverse:s.toBoolValue(u.reverse,!1),showValue:s.toBoolValue(u.showValue,!0)}}onParserClose(c,u){const[,f]=c.split(":");switch(f){case"cfvo":this.model.cfvo.push(u.model);break;case"cfIcon":this.model.icons||(this.model.icons=[]),this.model.icons.push(u.model);break;default:this.model[f]=u.model}}}},{"../../base-xform":32,"../../composite-xform":48,"./cf-icon-ext-xform":74,"./cfvo-ext-xform":76}],82:[function(r,n,i){const s=r("../../base-xform");n.exports=class extends s{get tag(){return"xm:sqref"}render(o,a){o.leafNode(this.tag,null,a)}parseOpen(){this.model=""}parseText(o){this.model+=o}parseClose(o){return o!==this.tag}}},{"../../base-xform":32}],83:[function(r,n,i){const s=r("../../base-xform"),o=r("../../composite-xform"),a=r("../../../../doc/range"),l=r("./databar-xform"),c=r("./ext-lst-ref-xform"),u=r("./formula-xform"),f=r("./color-scale-xform"),d=r("./icon-set-xform"),h={"3Triangles":!0,"3Stars":!0,"5Boxes":!0},g=p=>{const{type:y,operator:m}=p;switch(y){case"containsText":case"containsBlanks":case"notContainsBlanks":case"containsErrors":case"notContainsErrors":return{type:"containsText",operator:y};default:return{type:y,operator:m}}};class v extends o{constructor(){super(),this.map={dataBar:this.databarXform=new l,extLst:this.extLstRefXform=new c,formula:this.formulaXform=new u,colorScale:this.colorScaleXform=new f,iconSet:this.iconSetXform=new d}}get tag(){return"cfRule"}static isPrimitive(y){return y.type!=="iconSet"||!y.custom&&!h[y.iconSet]}render(y,m){switch(m.type){case"expression":this.renderExpression(y,m);break;case"cellIs":this.renderCellIs(y,m);break;case"top10":this.renderTop10(y,m);break;case"aboveAverage":this.renderAboveAverage(y,m);break;case"dataBar":this.renderDataBar(y,m);break;case"colorScale":this.renderColorScale(y,m);break;case"iconSet":this.renderIconSet(y,m);break;case"containsText":this.renderText(y,m);break;case"timePeriod":this.renderTimePeriod(y,m)}}renderExpression(y,m){y.openNode(this.tag,{type:"expression",dxfId:m.dxfId,priority:m.priority}),this.formulaXform.render(y,m.formulae[0]),y.closeNode()}renderCellIs(y,m){y.openNode(this.tag,{type:"cellIs",dxfId:m.dxfId,priority:m.priority,operator:m.operator}),m.formulae.forEach(b=>{this.formulaXform.render(y,b)}),y.closeNode()}renderTop10(y,m){y.leafNode(this.tag,{type:"top10",dxfId:m.dxfId,priority:m.priority,percent:s.toBoolAttribute(m.percent,!1),bottom:s.toBoolAttribute(m.bottom,!1),rank:s.toIntValue(m.rank,10,!0)})}renderAboveAverage(y,m){y.leafNode(this.tag,{type:"aboveAverage",dxfId:m.dxfId,priority:m.priority,aboveAverage:s.toBoolAttribute(m.aboveAverage,!0)})}renderDataBar(y,m){y.openNode(this.tag,{type:"dataBar",priority:m.priority}),this.databarXform.render(y,m),this.extLstRefXform.render(y,m),y.closeNode()}renderColorScale(y,m){y.openNode(this.tag,{type:"colorScale",priority:m.priority}),this.colorScaleXform.render(y,m),y.closeNode()}renderIconSet(y,m){v.isPrimitive(m)&&(y.openNode(this.tag,{type:"iconSet",priority:m.priority}),this.iconSetXform.render(y,m),y.closeNode())}renderText(y,m){y.openNode(this.tag,{type:m.operator,dxfId:m.dxfId,priority:m.priority,operator:s.toStringAttribute(m.operator,"containsText")});const b=(x=>{if(x.formulae&&x.formulae[0])return x.formulae[0];const P=new a(x.ref),{tl:F}=P;switch(x.operator){case"containsText":return`NOT(ISERROR(SEARCH("${x.text}",${F})))`;case"containsBlanks":return`LEN(TRIM(${F}))=0`;case"notContainsBlanks":return`LEN(TRIM(${F}))>0`;case"containsErrors":return`ISERROR(${F})`;case"notContainsErrors":return`NOT(ISERROR(${F}))`;default:return}})(m);b&&this.formulaXform.render(y,b),y.closeNode()}renderTimePeriod(y,m){y.openNode(this.tag,{type:"timePeriod",dxfId:m.dxfId,priority:m.priority,timePeriod:m.timePeriod});const b=(x=>{if(x.formulae&&x.formulae[0])return x.formulae[0];const P=new a(x.ref),{tl:F}=P;switch(x.timePeriod){case"thisWeek":return`AND(TODAY()-ROUNDDOWN(${F},0)<=WEEKDAY(TODAY())-1,ROUNDDOWN(${F},0)-TODAY()<=7-WEEKDAY(TODAY()))`;case"lastWeek":return`AND(TODAY()-ROUNDDOWN(${F},0)>=(WEEKDAY(TODAY())),TODAY()-ROUNDDOWN(${F},0)<(WEEKDAY(TODAY())+7))`;case"nextWeek":return`AND(ROUNDDOWN(${F},0)-TODAY()>(7-WEEKDAY(TODAY())),ROUNDDOWN(${F},0)-TODAY()<(15-WEEKDAY(TODAY())))`;case"yesterday":return`FLOOR(${F},1)=TODAY()-1`;case"today":return`FLOOR(${F},1)=TODAY()`;case"tomorrow":return`FLOOR(${F},1)=TODAY()+1`;case"last7Days":return`AND(TODAY()-FLOOR(${F},1)<=6,FLOOR(${F},1)<=TODAY())`;case"lastMonth":return`AND(MONTH(${F})=MONTH(EDATE(TODAY(),0-1)),YEAR(${F})=YEAR(EDATE(TODAY(),0-1)))`;case"thisMonth":return`AND(MONTH(${F})=MONTH(TODAY()),YEAR(${F})=YEAR(TODAY()))`;case"nextMonth":return`AND(MONTH(${F})=MONTH(EDATE(TODAY(),0+1)),YEAR(${F})=YEAR(EDATE(TODAY(),0+1)))`;default:return}})(m);b&&this.formulaXform.render(y,b),y.closeNode()}createNewModel(y){let{attributes:m}=y;return{...g(m),dxfId:s.toIntValue(m.dxfId),priority:s.toIntValue(m.priority),timePeriod:m.timePeriod,percent:s.toBoolValue(m.percent),bottom:s.toBoolValue(m.bottom),rank:s.toIntValue(m.rank),aboveAverage:s.toBoolValue(m.aboveAverage)}}onParserClose(y,m){switch(y){case"dataBar":case"extLst":case"colorScale":case"iconSet":Object.assign(this.model,m.model);break;case"formula":this.model.formulae=this.model.formulae||[],this.model.formulae.push(m.model)}}}n.exports=v},{"../../../../doc/range":10,"../../base-xform":32,"../../composite-xform":48,"./color-scale-xform":85,"./databar-xform":88,"./ext-lst-ref-xform":89,"./formula-xform":90,"./icon-set-xform":91}],84:[function(r,n,i){const s=r("../../base-xform");n.exports=class extends s{get tag(){return"cfvo"}render(o,a){o.leafNode(this.tag,{type:a.type,val:a.value})}parseOpen(o){this.model={type:o.attributes.type,value:s.toFloatValue(o.attributes.val)}}parseClose(o){return o!==this.tag}}},{"../../base-xform":32}],85:[function(r,n,i){const s=r("../../composite-xform"),o=r("../../style/color-xform"),a=r("./cfvo-xform");n.exports=class extends s{constructor(){super(),this.map={cfvo:this.cfvoXform=new a,color:this.colorXform=new o}}get tag(){return"colorScale"}render(l,c){l.openNode(this.tag),c.cfvo.forEach(u=>{this.cfvoXform.render(l,u)}),c.color.forEach(u=>{this.colorXform.render(l,u)}),l.closeNode()}createNewModel(l){return{cfvo:[],color:[]}}onParserClose(l,c){this.model[l].push(c.model)}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],86:[function(r,n,i){const s=r("../../composite-xform"),o=r("./cf-rule-xform");n.exports=class extends s{constructor(){super(),this.map={cfRule:new o}}get tag(){return"conditionalFormatting"}render(a,l){l.rules.some(o.isPrimitive)&&(a.openNode(this.tag,{sqref:l.ref}),l.rules.forEach(c=>{o.isPrimitive(c)&&(c.ref=l.ref,this.map.cfRule.render(a,c))}),a.closeNode())}createNewModel(a){let{attributes:l}=a;return{ref:l.sqref,rules:[]}}onParserClose(a,l){this.model.rules.push(l.model)}}},{"../../composite-xform":48,"./cf-rule-xform":83}],87:[function(r,n,i){const s=r("../../base-xform"),o=r("./conditional-formatting-xform");n.exports=class extends s{constructor(){super(),this.cfXform=new o}get tag(){return"conditionalFormatting"}reset(){this.model=[]}prepare(a,l){let c=a.reduce((u,f)=>Math.max(u,...f.rules.map(d=>d.priority||0)),1);a.forEach(u=>{u.rules.forEach(f=>{f.priority||(f.priority=c++),f.style&&(f.dxfId=l.styles.addDxfStyle(f.style))})})}render(a,l){l.forEach(c=>{this.cfXform.render(a,c)})}parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case"conditionalFormatting":return this.parser=this.cfXform,this.parser.parseOpen(a),!0;default:return!1}}parseText(a){this.parser&&this.parser.parseText(a)}parseClose(a){return!!this.parser&&(!!this.parser.parseClose(a)||(this.model.push(this.parser.model),this.parser=void 0,!1))}reconcile(a,l){a.forEach(c=>{c.rules.forEach(u=>{u.dxfId!==void 0&&(u.style=l.styles.getDxfStyle(u.dxfId),delete u.dxfId)})})}}},{"../../base-xform":32,"./conditional-formatting-xform":86}],88:[function(r,n,i){const s=r("../../composite-xform"),o=r("../../style/color-xform"),a=r("./cfvo-xform");n.exports=class extends s{constructor(){super(),this.map={cfvo:this.cfvoXform=new a,color:this.colorXform=new o}}get tag(){return"dataBar"}render(l,c){l.openNode(this.tag),c.cfvo.forEach(u=>{this.cfvoXform.render(l,u)}),this.colorXform.render(l,c.color),l.closeNode()}createNewModel(){return{cfvo:[]}}onParserClose(l,c){switch(l){case"cfvo":this.model.cfvo.push(c.model);break;case"color":this.model.color=c.model}}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],89:[function(r,n,i){const s=r("../../base-xform"),o=r("../../composite-xform");class a extends s{get tag(){return"x14:id"}render(u,f){u.leafNode(this.tag,null,f)}parseOpen(){this.model=""}parseText(u){this.model+=u}parseClose(u){return u!==this.tag}}class l extends o{constructor(){super(),this.map={"x14:id":this.idXform=new a}}get tag(){return"ext"}render(u,f){u.openNode(this.tag,{uri:"{B025F937-C7B1-47D3-B67F-A62EFF666E3E}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.idXform.render(u,f.x14Id),u.closeNode()}createNewModel(){return{}}onParserClose(u,f){this.model.x14Id=f.model}}n.exports=class extends o{constructor(){super(),this.map={ext:new l}}get tag(){return"extLst"}render(c,u){c.openNode(this.tag),this.map.ext.render(c,u),c.closeNode()}createNewModel(){return{}}onParserClose(c,u){Object.assign(this.model,u.model)}}},{"../../base-xform":32,"../../composite-xform":48}],90:[function(r,n,i){const s=r("../../base-xform");n.exports=class extends s{get tag(){return"formula"}render(o,a){o.leafNode(this.tag,null,a)}parseOpen(){this.model=""}parseText(o){this.model+=o}parseClose(o){return o!==this.tag}}},{"../../base-xform":32}],91:[function(r,n,i){const s=r("../../base-xform"),o=r("../../composite-xform"),a=r("./cfvo-xform");n.exports=class extends o{constructor(){super(),this.map={cfvo:this.cfvoXform=new a}}get tag(){return"iconSet"}render(l,c){l.openNode(this.tag,{iconSet:s.toStringAttribute(c.iconSet,"3TrafficLights"),reverse:s.toBoolAttribute(c.reverse,!1),showValue:s.toBoolAttribute(c.showValue,!0)}),c.cfvo.forEach(u=>{this.cfvoXform.render(l,u)}),l.closeNode()}createNewModel(l){let{attributes:c}=l;return{iconSet:s.toStringValue(c.iconSet,"3TrafficLights"),reverse:s.toBoolValue(c.reverse),showValue:s.toBoolValue(c.showValue),cfvo:[]}}onParserClose(l,c){this.model[l].push(c.model)}}},{"../../base-xform":32,"../../composite-xform":48,"./cfvo-xform":84}],92:[function(r,n,i){const s=r("../../../utils/utils"),o=r("../base-xform");n.exports=class extends o{get tag(){return"col"}prepare(a,l){const c=l.styles.addStyleModel(a.style||{});c&&(a.styleId=c)}render(a,l){a.openNode("col"),a.addAttribute("min",l.min),a.addAttribute("max",l.max),l.width&&a.addAttribute("width",l.width),l.styleId&&a.addAttribute("style",l.styleId),l.hidden&&a.addAttribute("hidden","1"),l.bestFit&&a.addAttribute("bestFit","1"),l.outlineLevel&&a.addAttribute("outlineLevel",l.outlineLevel),l.collapsed&&a.addAttribute("collapsed","1"),a.addAttribute("customWidth","1"),a.closeNode()}parseOpen(a){if(a.name==="col"){const l=this.model={min:parseInt(a.attributes.min||"0",10),max:parseInt(a.attributes.max||"0",10),width:a.attributes.width===void 0?void 0:parseFloat(a.attributes.width||"0")};return a.attributes.style&&(l.styleId=parseInt(a.attributes.style,10)),s.parseBoolean(a.attributes.hidden)&&(l.hidden=!0),s.parseBoolean(a.attributes.bestFit)&&(l.bestFit=!0),a.attributes.outlineLevel&&(l.outlineLevel=parseInt(a.attributes.outlineLevel,10)),s.parseBoolean(a.attributes.collapsed)&&(l.collapsed=!0),!0}return!1}parseText(){}parseClose(){return!1}reconcile(a,l){a.styleId&&(a.style=l.styles.getStyleModel(a.styleId))}}},{"../../../utils/utils":27,"../base-xform":32}],93:[function(r,n,i){const s=r("../../../utils/under-dash"),o=r("../../../utils/utils"),a=r("../../../utils/col-cache"),l=r("../base-xform"),c=r("../../../doc/range");function u(d,h,g,v){const p=h[g];p!==void 0?d[g]=p:v!==void 0&&(d[g]=v)}function f(d,h,g,v){const p=h[g];p!==void 0?d[g]=o.parseBoolean(p):v!==void 0&&(d[g]=v)}n.exports=class extends l{get tag(){return"dataValidations"}render(d,h){const g=function(v){const p=s.map(v,(b,x)=>({address:x,dataValidation:b,marked:!1})).sort((b,x)=>s.strcmp(b.address,x.address)),y=s.keyBy(p,"address"),m=(b,x,P)=>{for(let F=0;F<x;F++){const D=a.encodeAddress(b.row+F,P);if(!v[D]||!s.isEqual(v[b.address],v[D]))return!1}return!0};return p.map(b=>{if(!b.marked){const x=a.decodeEx(b.address);if(x.dimensions)return y[x.dimensions].marked=!0,{...b.dataValidation,sqref:b.address};let P=1,F=a.encodeAddress(x.row+P,x.col);for(;v[F]&&s.isEqual(b.dataValidation,v[F]);)P++,F=a.encodeAddress(x.row+P,x.col);let D=1;for(;m(x,P,x.col+D);)D++;for(let O=0;O<P;O++)for(let j=0;j<D;j++)F=a.encodeAddress(x.row+O,x.col+j),y[F].marked=!0;if(P>1||D>1){const O=x.row+(P-1),j=x.col+(D-1);return{...b.dataValidation,sqref:`${b.address}:${a.encodeAddress(O,j)}`}}return{...b.dataValidation,sqref:b.address}}return null}).filter(Boolean)}(h);g.length&&(d.openNode("dataValidations",{count:g.length}),g.forEach(v=>{d.openNode("dataValidation"),v.type!=="any"&&(d.addAttribute("type",v.type),v.operator&&v.type!=="list"&&v.operator!=="between"&&d.addAttribute("operator",v.operator),v.allowBlank&&d.addAttribute("allowBlank","1")),v.showInputMessage&&d.addAttribute("showInputMessage","1"),v.promptTitle&&d.addAttribute("promptTitle",v.promptTitle),v.prompt&&d.addAttribute("prompt",v.prompt),v.showErrorMessage&&d.addAttribute("showErrorMessage","1"),v.errorStyle&&d.addAttribute("errorStyle",v.errorStyle),v.errorTitle&&d.addAttribute("errorTitle",v.errorTitle),v.error&&d.addAttribute("error",v.error),d.addAttribute("sqref",v.sqref),(v.formulae||[]).forEach((p,y)=>{d.openNode("formula"+(y+1)),v.type==="date"?d.writeText(o.dateToExcel(new Date(p))):d.writeText(p),d.closeNode()}),d.closeNode()}),d.closeNode())}parseOpen(d){switch(d.name){case"dataValidations":return this.model={},!0;case"dataValidation":{this._address=d.attributes.sqref;const h={type:d.attributes.type||"any",formulae:[]};switch(d.attributes.type&&f(h,d.attributes,"allowBlank"),f(h,d.attributes,"showInputMessage"),f(h,d.attributes,"showErrorMessage"),h.type){case"any":case"list":case"custom":break;default:u(h,d.attributes,"operator","between")}return u(h,d.attributes,"promptTitle"),u(h,d.attributes,"prompt"),u(h,d.attributes,"errorStyle"),u(h,d.attributes,"errorTitle"),u(h,d.attributes,"error"),this._dataValidation=h,!0}case"formula1":case"formula2":return this._formula=[],!0;default:return!1}}parseText(d){this._formula&&this._formula.push(d)}parseClose(d){switch(d){case"dataValidations":return!1;case"dataValidation":return this._dataValidation.formulae&&this._dataValidation.formulae.length||(delete this._dataValidation.formulae,delete this._dataValidation.operator),(this._address.split(/\s+/g)||[]).forEach(h=>{h.includes(":")?new c(h).forEachAddress(g=>{this.model[g]=this._dataValidation}):this.model[h]=this._dataValidation}),!0;case"formula1":case"formula2":{let h=this._formula.join("");switch(this._dataValidation.type){case"whole":case"textLength":h=parseInt(h,10);break;case"decimal":h=parseFloat(h);break;case"date":h=o.excelToDate(parseFloat(h))}return this._dataValidation.formulae.push(h),this._formula=void 0,!0}default:return!0}}}},{"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/utils":27,"../base-xform":32}],94:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{get tag(){return"dimension"}render(o,a){a&&o.leafNode("dimension",{ref:a})}parseOpen(o){return o.name==="dimension"&&(this.model=o.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],95:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{get tag(){return"drawing"}render(o,a){a&&o.leafNode(this.tag,{"r:id":a.rId})}parseOpen(o){switch(o.name){case this.tag:return this.model={rId:o.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],96:[function(r,n,i){const s=r("../composite-xform"),o=r("./cf-ext/conditional-formattings-ext-xform");class a extends s{constructor(){super(),this.map={"x14:conditionalFormattings":this.conditionalFormattings=new o}}get tag(){return"ext"}hasContent(c){return this.conditionalFormattings.hasContent(c.conditionalFormattings)}prepare(c,u){this.conditionalFormattings.prepare(c.conditionalFormattings,u)}render(c,u){c.openNode("ext",{uri:"{78C0D931-6437-407d-A8EE-F0AAD7539E65}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.conditionalFormattings.render(c,u.conditionalFormattings),c.closeNode()}createNewModel(){return{}}onParserClose(c,u){this.model[c]=u.model}}n.exports=class extends s{constructor(){super(),this.map={ext:this.ext=new a}}get tag(){return"extLst"}prepare(l,c){this.ext.prepare(l,c)}hasContent(l){return this.ext.hasContent(l)}render(l,c){this.hasContent(c)&&(l.openNode("extLst"),this.ext.render(l,c),l.closeNode())}createNewModel(){return{}}onParserClose(l,c){Object.assign(this.model,c.model)}}},{"../composite-xform":48,"./cf-ext/conditional-formattings-ext-xform":78}],97:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{get tag(){return"headerFooter"}render(o,a){if(a){o.addRollback();let l=!1;o.openNode("headerFooter"),a.differentFirst&&(o.addAttribute("differentFirst","1"),l=!0),a.differentOddEven&&(o.addAttribute("differentOddEven","1"),l=!0),a.oddHeader&&typeof a.oddHeader=="string"&&(o.leafNode("oddHeader",null,a.oddHeader),l=!0),a.oddFooter&&typeof a.oddFooter=="string"&&(o.leafNode("oddFooter",null,a.oddFooter),l=!0),a.evenHeader&&typeof a.evenHeader=="string"&&(o.leafNode("evenHeader",null,a.evenHeader),l=!0),a.evenFooter&&typeof a.evenFooter=="string"&&(o.leafNode("evenFooter",null,a.evenFooter),l=!0),a.firstHeader&&typeof a.firstHeader=="string"&&(o.leafNode("firstHeader",null,a.firstHeader),l=!0),a.firstFooter&&typeof a.firstFooter=="string"&&(o.leafNode("firstFooter",null,a.firstFooter),l=!0),l?(o.closeNode(),o.commit()):o.rollback()}}parseOpen(o){switch(o.name){case"headerFooter":return this.model={},o.attributes.differentFirst&&(this.model.differentFirst=parseInt(o.attributes.differentFirst,0)===1),o.attributes.differentOddEven&&(this.model.differentOddEven=parseInt(o.attributes.differentOddEven,0)===1),!0;case"oddHeader":return this.currentNode="oddHeader",!0;case"oddFooter":return this.currentNode="oddFooter",!0;case"evenHeader":return this.currentNode="evenHeader",!0;case"evenFooter":return this.currentNode="evenFooter",!0;case"firstHeader":return this.currentNode="firstHeader",!0;case"firstFooter":return this.currentNode="firstFooter",!0;default:return!1}}parseText(o){switch(this.currentNode){case"oddHeader":this.model.oddHeader=o;break;case"oddFooter":this.model.oddFooter=o;break;case"evenHeader":this.model.evenHeader=o;break;case"evenFooter":this.model.evenFooter=o;break;case"firstHeader":this.model.firstHeader=o;break;case"firstFooter":this.model.firstFooter=o}}parseClose(){switch(this.currentNode){case"oddHeader":case"oddFooter":case"evenHeader":case"evenFooter":case"firstHeader":case"firstFooter":return this.currentNode=void 0,!0;default:return!1}}}},{"../base-xform":32}],98:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{get tag(){return"hyperlink"}render(o,a){this.isInternalLink(a)?o.leafNode("hyperlink",{ref:a.address,"r:id":a.rId,tooltip:a.tooltip,location:a.target}):o.leafNode("hyperlink",{ref:a.address,"r:id":a.rId,tooltip:a.tooltip})}parseOpen(o){return o.name==="hyperlink"&&(this.model={address:o.attributes.ref,rId:o.attributes["r:id"],tooltip:o.attributes.tooltip},o.attributes.location&&(this.model.target=o.attributes.location),!0)}parseText(){}parseClose(){return!1}isInternalLink(o){return o.target&&/^[^!]+![a-zA-Z]+[\d]+$/.test(o.target)}}},{"../base-xform":32}],99:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{get tag(){return"mergeCell"}render(o,a){o.leafNode("mergeCell",{ref:a})}parseOpen(o){return o.name==="mergeCell"&&(this.model=o.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],100:[function(r,n,i){const s=r("../../../utils/under-dash"),o=r("../../../doc/range"),a=r("../../../utils/col-cache"),l=r("../../../doc/enums");n.exports=class{constructor(){this.merges={}}add(c){if(this.merges[c.master])this.merges[c.master].expandToAddress(c.address);else{const u=`${c.master}:${c.address}`;this.merges[c.master]=new o(u)}}get mergeCells(){return s.map(this.merges,c=>c.range)}reconcile(c,u){s.each(c,f=>{const d=a.decode(f);for(let h=d.top;h<=d.bottom;h++){const g=u[h-1];for(let v=d.left;v<=d.right;v++){const p=g.cells[v-1];p?p.type===l.ValueType.Merge&&(p.master=d.tl):g.cells[v]={type:l.ValueType.Null,address:a.encodeAddress(h,v)}}}})}getMasterAddress(c){const u=this.hash[c];return u&&u.tl}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26}],101:[function(r,n,i){const s=r("../base-xform"),o=a=>a!==void 0;n.exports=class extends s{get tag(){return"outlinePr"}render(a,l){return!(!l||!o(l.summaryBelow)&&!o(l.summaryRight))&&(a.leafNode(this.tag,{summaryBelow:o(l.summaryBelow)?Number(l.summaryBelow):void 0,summaryRight:o(l.summaryRight)?Number(l.summaryRight):void 0}),!0)}parseOpen(a){return a.name===this.tag&&(this.model={summaryBelow:o(a.attributes.summaryBelow)?!!Number(a.attributes.summaryBelow):void 0,summaryRight:o(a.attributes.summaryRight)?!!Number(a.attributes.summaryRight):void 0},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],102:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{get tag(){return"brk"}render(o,a){o.leafNode("brk",a)}parseOpen(o){return o.name==="brk"&&(this.model=o.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],103:[function(r,n,i){const s=r("../../../utils/under-dash"),o=r("../base-xform");n.exports=class extends o{get tag(){return"pageMargins"}render(a,l){if(l){const c={left:l.left,right:l.right,top:l.top,bottom:l.bottom,header:l.header,footer:l.footer};s.some(c,u=>u!==void 0)&&a.leafNode(this.tag,c)}}parseOpen(a){switch(a.name){case this.tag:return this.model={left:parseFloat(a.attributes.left||.7),right:parseFloat(a.attributes.right||.7),top:parseFloat(a.attributes.top||.75),bottom:parseFloat(a.attributes.bottom||.75),header:parseFloat(a.attributes.header||.3),footer:parseFloat(a.attributes.footer||.3)},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],104:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{get tag(){return"pageSetUpPr"}render(o,a){return!(!a||!a.fitToPage)&&(o.leafNode(this.tag,{fitToPage:a.fitToPage?"1":void 0}),!0)}parseOpen(o){return o.name===this.tag&&(this.model={fitToPage:o.attributes.fitToPage==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],105:[function(r,n,i){const s=r("../../../utils/under-dash"),o=r("../base-xform");function a(f){return f?"1":void 0}function l(f){switch(f){case"overThenDown":return f;default:return}}function c(f){switch(f){case"atEnd":case"asDisplyed":return f;default:return}}function u(f){switch(f){case"dash":case"blank":case"NA":return f;default:return}}n.exports=class extends o{get tag(){return"pageSetup"}render(f,d){if(d){const h={paperSize:d.paperSize,orientation:d.orientation,horizontalDpi:d.horizontalDpi,verticalDpi:d.verticalDpi,pageOrder:l(d.pageOrder),blackAndWhite:a(d.blackAndWhite),draft:a(d.draft),cellComments:c(d.cellComments),errors:u(d.errors),scale:d.scale,fitToWidth:d.fitToWidth,fitToHeight:d.fitToHeight,firstPageNumber:d.firstPageNumber,useFirstPageNumber:a(d.firstPageNumber),usePrinterDefaults:a(d.usePrinterDefaults),copies:d.copies};s.some(h,g=>g!==void 0)&&f.leafNode(this.tag,h)}}parseOpen(f){switch(f.name){case this.tag:return this.model={paperSize:(d=f.attributes.paperSize,d!==void 0?parseInt(d,10):void 0),orientation:f.attributes.orientation||"portrait",horizontalDpi:parseInt(f.attributes.horizontalDpi||"4294967295",10),verticalDpi:parseInt(f.attributes.verticalDpi||"4294967295",10),pageOrder:f.attributes.pageOrder||"downThenOver",blackAndWhite:f.attributes.blackAndWhite==="1",draft:f.attributes.draft==="1",cellComments:f.attributes.cellComments||"None",errors:f.attributes.errors||"displayed",scale:parseInt(f.attributes.scale||"100",10),fitToWidth:parseInt(f.attributes.fitToWidth||"1",10),fitToHeight:parseInt(f.attributes.fitToHeight||"1",10),firstPageNumber:parseInt(f.attributes.firstPageNumber||"1",10),useFirstPageNumber:f.attributes.useFirstPageNumber==="1",usePrinterDefaults:f.attributes.usePrinterDefaults==="1",copies:parseInt(f.attributes.copies||"1",10)},!0;default:return!1}var d}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],106:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{get tag(){return"picture"}render(o,a){a&&o.leafNode(this.tag,{"r:id":a.rId})}parseOpen(o){switch(o.name){case this.tag:return this.model={rId:o.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],107:[function(r,n,i){const s=r("../../../utils/under-dash"),o=r("../base-xform");function a(l){return l?"1":void 0}n.exports=class extends o{get tag(){return"printOptions"}render(l,c){if(c){const u={headings:a(c.showRowColHeaders),gridLines:a(c.showGridLines),horizontalCentered:a(c.horizontalCentered),verticalCentered:a(c.verticalCentered)};s.some(u,f=>f!==void 0)&&l.leafNode(this.tag,u)}}parseOpen(l){switch(l.name){case this.tag:return this.model={showRowColHeaders:l.attributes.headings==="1",showGridLines:l.attributes.gridLines==="1",horizontalCentered:l.attributes.horizontalCentered==="1",verticalCentered:l.attributes.verticalCentered==="1"},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],108:[function(r,n,i){const s=r("./page-breaks-xform"),o=r("../list-xform");n.exports=class extends o{constructor(){super({tag:"rowBreaks",count:!0,childXform:new s})}render(a,l){if(l&&l.length){a.openNode(this.tag,this.$),this.count&&(a.addAttribute(this.$count,l.length),a.addAttribute("manualBreakCount",l.length));const{childXform:c}=this;l.forEach(u=>{c.render(a,u)}),a.closeNode()}else this.empty&&a.leafNode(this.tag)}}},{"../list-xform":71,"./page-breaks-xform":102}],109:[function(r,n,i){const s=r("../base-xform"),o=r("../../../utils/utils"),a=r("./cell-xform");n.exports=class extends s{constructor(l){super(),this.maxItems=l&&l.maxItems,this.map={c:new a}}get tag(){return"row"}prepare(l,c){const u=c.styles.addStyleModel(l.style);u&&(l.styleId=u);const f=this.map.c;l.cells.forEach(d=>{f.prepare(d,c)})}render(l,c,u){l.openNode("row"),l.addAttribute("r",c.number),c.height&&(l.addAttribute("ht",c.height),l.addAttribute("customHeight","1")),c.hidden&&l.addAttribute("hidden","1"),c.min>0&&c.max>0&&c.min<=c.max&&l.addAttribute("spans",`${c.min}:${c.max}`),c.styleId&&(l.addAttribute("s",c.styleId),l.addAttribute("customFormat","1")),l.addAttribute("x14ac:dyDescent","0.25"),c.outlineLevel&&l.addAttribute("outlineLevel",c.outlineLevel),c.collapsed&&l.addAttribute("collapsed","1");const f=this.map.c;c.cells.forEach(d=>{f.render(l,d,u)}),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;if(l.name==="row"){this.numRowsSeen+=1;const c=l.attributes.spans?l.attributes.spans.split(":").map(f=>parseInt(f,10)):[void 0,void 0],u=this.model={number:parseInt(l.attributes.r,10),min:c[0],max:c[1],cells:[]};return l.attributes.s&&(u.styleId=parseInt(l.attributes.s,10)),o.parseBoolean(l.attributes.hidden)&&(u.hidden=!0),o.parseBoolean(l.attributes.bestFit)&&(u.bestFit=!0),l.attributes.ht&&(u.height=parseFloat(l.attributes.ht)),l.attributes.outlineLevel&&(u.outlineLevel=parseInt(l.attributes.outlineLevel,10)),o.parseBoolean(l.attributes.collapsed)&&(u.collapsed=!0),!0}return this.parser=this.map[l.name],!!this.parser&&(this.parser.parseOpen(l),!0)}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser){if(!this.parser.parseClose(l)){if(this.model.cells.push(this.parser.model),this.maxItems&&this.model.cells.length>this.maxItems)throw new Error(`Max column count (${this.maxItems}) exceeded`);this.parser=void 0}return!0}return!1}reconcile(l,c){l.style=l.styleId?c.styles.getStyleModel(l.styleId):{},l.styleId!==void 0&&(l.styleId=void 0);const u=this.map.c;l.cells.forEach(f=>{u.reconcile(f,c)})}}},{"../../../utils/utils":27,"../base-xform":32,"./cell-xform":73}],110:[function(r,n,i){const s=r("../../../utils/under-dash"),o=r("../base-xform");n.exports=class extends o{get tag(){return"sheetFormatPr"}render(a,l){if(l){const c={defaultRowHeight:l.defaultRowHeight,outlineLevelRow:l.outlineLevelRow,outlineLevelCol:l.outlineLevelCol,"x14ac:dyDescent":l.dyDescent};l.defaultColWidth&&(c.defaultColWidth=l.defaultColWidth),l.defaultRowHeight&&l.defaultRowHeight===15||(c.customHeight="1"),s.some(c,u=>u!==void 0)&&a.leafNode("sheetFormatPr",c)}}parseOpen(a){return a.name==="sheetFormatPr"&&(this.model={defaultRowHeight:parseFloat(a.attributes.defaultRowHeight||"0"),dyDescent:parseFloat(a.attributes["x14ac:dyDescent"]||"0"),outlineLevelRow:parseInt(a.attributes.outlineLevelRow||"0",10),outlineLevelCol:parseInt(a.attributes.outlineLevelCol||"0",10)},a.attributes.defaultColWidth&&(this.model.defaultColWidth=parseFloat(a.attributes.defaultColWidth)),!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],111:[function(r,n,i){const s=r("../base-xform"),o=r("../style/color-xform"),a=r("./page-setup-properties-xform"),l=r("./outline-properties-xform");n.exports=class extends s{constructor(){super(),this.map={tabColor:new o("tabColor"),pageSetUpPr:new a,outlinePr:new l}}get tag(){return"sheetPr"}render(c,u){if(u){c.addRollback(),c.openNode("sheetPr");let f=!1;f=this.map.tabColor.render(c,u.tabColor)||f,f=this.map.pageSetUpPr.render(c,u.pageSetup)||f,f=this.map.outlinePr.render(c,u.outlineProperties)||f,f?(c.closeNode(),c.commit()):c.rollback()}}parseOpen(c){return this.parser?(this.parser.parseOpen(c),!0):c.name===this.tag?(this.reset(),!0):!!this.map[c.name]&&(this.parser=this.map[c.name],this.parser.parseOpen(c),!0)}parseText(c){return!!this.parser&&(this.parser.parseText(c),!0)}parseClose(c){return this.parser?(this.parser.parseClose(c)||(this.parser=void 0),!0):(this.map.tabColor.model||this.map.pageSetUpPr.model||this.map.outlinePr.model?(this.model={},this.map.tabColor.model&&(this.model.tabColor=this.map.tabColor.model),this.map.pageSetUpPr.model&&(this.model.pageSetup=this.map.pageSetUpPr.model),this.map.outlinePr.model&&(this.model.outlineProperties=this.map.outlinePr.model)):this.model=null,!1)}}},{"../base-xform":32,"../style/color-xform":128,"./outline-properties-xform":101,"./page-setup-properties-xform":104}],112:[function(r,n,i){const s=r("../../../utils/under-dash"),o=r("../base-xform");function a(c,u){return c?u:void 0}function l(c,u){return c===u||void 0}n.exports=class extends o{get tag(){return"sheetProtection"}render(c,u){if(u){const f={sheet:a(u.sheet,"1"),selectLockedCells:u.selectLockedCells===!1?"1":void 0,selectUnlockedCells:u.selectUnlockedCells===!1?"1":void 0,formatCells:a(u.formatCells,"0"),formatColumns:a(u.formatColumns,"0"),formatRows:a(u.formatRows,"0"),insertColumns:a(u.insertColumns,"0"),insertRows:a(u.insertRows,"0"),insertHyperlinks:a(u.insertHyperlinks,"0"),deleteColumns:a(u.deleteColumns,"0"),deleteRows:a(u.deleteRows,"0"),sort:a(u.sort,"0"),autoFilter:a(u.autoFilter,"0"),pivotTables:a(u.pivotTables,"0")};u.sheet&&(f.algorithmName=u.algorithmName,f.hashValue=u.hashValue,f.saltValue=u.saltValue,f.spinCount=u.spinCount,f.objects=a(u.objects===!1,"1"),f.scenarios=a(u.scenarios===!1,"1")),s.some(f,d=>d!==void 0)&&c.leafNode(this.tag,f)}}parseOpen(c){switch(c.name){case this.tag:return this.model={sheet:l(c.attributes.sheet,"1"),objects:c.attributes.objects!=="1"&&void 0,scenarios:c.attributes.scenarios!=="1"&&void 0,selectLockedCells:c.attributes.selectLockedCells!=="1"&&void 0,selectUnlockedCells:c.attributes.selectUnlockedCells!=="1"&&void 0,formatCells:l(c.attributes.formatCells,"0"),formatColumns:l(c.attributes.formatColumns,"0"),formatRows:l(c.attributes.formatRows,"0"),insertColumns:l(c.attributes.insertColumns,"0"),insertRows:l(c.attributes.insertRows,"0"),insertHyperlinks:l(c.attributes.insertHyperlinks,"0"),deleteColumns:l(c.attributes.deleteColumns,"0"),deleteRows:l(c.attributes.deleteRows,"0"),sort:l(c.attributes.sort,"0"),autoFilter:l(c.attributes.autoFilter,"0"),pivotTables:l(c.attributes.pivotTables,"0")},c.attributes.algorithmName&&(this.model.algorithmName=c.attributes.algorithmName,this.model.hashValue=c.attributes.hashValue,this.model.saltValue=c.attributes.saltValue,this.model.spinCount=parseInt(c.attributes.spinCount,10)),!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],113:[function(r,n,i){const s=r("../../../utils/col-cache"),o=r("../base-xform"),a={frozen:"frozen",frozenSplit:"frozen",split:"split"};n.exports=class extends o{get tag(){return"sheetView"}prepare(l){switch(l.state){case"frozen":case"split":break;default:l.state="normal"}}render(l,c){l.openNode("sheetView",{workbookViewId:c.workbookViewId||0});const u=function(v,p,y){y&&l.addAttribute(v,p)};let f,d,h,g;switch(u("rightToLeft","1",c.rightToLeft===!0),u("tabSelected","1",c.tabSelected),u("showRuler","0",c.showRuler===!1),u("showRowColHeaders","0",c.showRowColHeaders===!1),u("showGridLines","0",c.showGridLines===!1),u("zoomScale",c.zoomScale,c.zoomScale),u("zoomScaleNormal",c.zoomScaleNormal,c.zoomScaleNormal),u("view",c.style,c.style),c.state){case"frozen":d=c.xSplit||0,h=c.ySplit||0,f=c.topLeftCell||s.getAddress(h+1,d+1).address,g=(c.xSplit&&c.ySplit?"bottomRight":c.xSplit&&"topRight")||"bottomLeft",l.leafNode("pane",{xSplit:c.xSplit||void 0,ySplit:c.ySplit||void 0,topLeftCell:f,activePane:g,state:"frozen"}),l.leafNode("selection",{pane:g,activeCell:c.activeCell,sqref:c.activeCell});break;case"split":c.activePane==="topLeft"&&(c.activePane=void 0),l.leafNode("pane",{xSplit:c.xSplit||void 0,ySplit:c.ySplit||void 0,topLeftCell:c.topLeftCell,activePane:c.activePane}),l.leafNode("selection",{pane:c.activePane,activeCell:c.activeCell,sqref:c.activeCell});break;case"normal":c.activeCell&&l.leafNode("selection",{activeCell:c.activeCell,sqref:c.activeCell})}l.closeNode()}parseOpen(l){switch(l.name){case"sheetView":return this.sheetView={workbookViewId:parseInt(l.attributes.workbookViewId,10),rightToLeft:l.attributes.rightToLeft==="1",tabSelected:l.attributes.tabSelected==="1",showRuler:l.attributes.showRuler!=="0",showRowColHeaders:l.attributes.showRowColHeaders!=="0",showGridLines:l.attributes.showGridLines!=="0",zoomScale:parseInt(l.attributes.zoomScale||"100",10),zoomScaleNormal:parseInt(l.attributes.zoomScaleNormal||"100",10),style:l.attributes.view},this.pane=void 0,this.selections={},!0;case"pane":return this.pane={xSplit:parseInt(l.attributes.xSplit||"0",10),ySplit:parseInt(l.attributes.ySplit||"0",10),topLeftCell:l.attributes.topLeftCell,activePane:l.attributes.activePane||"topLeft",state:l.attributes.state},!0;case"selection":{const c=l.attributes.pane||"topLeft";return this.selections[c]={pane:c,activeCell:l.attributes.activeCell},!0}default:return!1}}parseText(){}parseClose(l){let c,u;switch(l){case"sheetView":return this.sheetView&&this.pane?(c=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:a[this.pane.state]||"split",xSplit:this.pane.xSplit,ySplit:this.pane.ySplit,topLeftCell:this.pane.topLeftCell,showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},this.model.state==="split"&&(c.activePane=this.pane.activePane),u=this.selections[this.pane.activePane],u&&u.activeCell&&(c.activeCell=u.activeCell),this.sheetView.style&&(c.style=this.sheetView.style)):(c=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:"normal",showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},u=this.selections.topLeft,u&&u.activeCell&&(c.activeCell=u.activeCell),this.sheetView.style&&(c.style=this.sheetView.style)),!1;default:return!0}}reconcile(){}}},{"../../../utils/col-cache":19,"../base-xform":32}],114:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{get tag(){return"tablePart"}render(o,a){a&&o.leafNode(this.tag,{"r:id":a.rId})}parseOpen(o){switch(o.name){case this.tag:return this.model={rId:o.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],115:[function(r,n,i){const s=r("../../../utils/under-dash"),o=r("../../../utils/col-cache"),a=r("../../../utils/xml-stream"),l=r("../../rel-type"),c=r("./merges"),u=r("../base-xform"),f=r("../list-xform"),d=r("./row-xform"),h=r("./col-xform"),g=r("./dimension-xform"),v=r("./hyperlink-xform"),p=r("./merge-cell-xform"),y=r("./data-validations-xform"),m=r("./sheet-properties-xform"),b=r("./sheet-format-properties-xform"),x=r("./sheet-view-xform"),P=r("./sheet-protection-xform"),F=r("./page-margins-xform"),D=r("./page-setup-xform"),O=r("./print-options-xform"),j=r("./auto-filter-xform"),H=r("./picture-xform"),W=r("./drawing-xform"),G=r("./table-part-xform"),M=r("./row-breaks-xform"),k=r("./header-footer-xform"),E=r("./cf/conditional-formattings-xform"),w=r("./ext-lst-xform"),C=(R,_)=>{if(!_||!_.length)return R;if(!R||!R.length)return _;const N={},B={};return R.forEach(V=>{N[V.ref]=V,V.rules.forEach($=>{const{x14Id:Y}=$;Y&&(B[Y]=$)})}),_.forEach(V=>{V.rules.forEach($=>{const Y=B[$.x14Id];Y?((L,K)=>{Object.keys(K).forEach(I=>{const A=L[I],z=K[I];A===void 0&&z!==void 0&&(L[I]=z)})})(Y,$):N[V.ref]?N[V.ref].rules.push($):R.push({ref:V.ref,rules:[$]})})}),R};class S extends u{constructor(_){super();const{maxRows:N,maxCols:B,ignoreNodes:V}=_||{};this.ignoreNodes=V||[],this.map={sheetPr:new m,dimension:new g,sheetViews:new f({tag:"sheetViews",count:!1,childXform:new x}),sheetFormatPr:new b,cols:new f({tag:"cols",count:!1,childXform:new h}),sheetData:new f({tag:"sheetData",count:!1,empty:!0,childXform:new d({maxItems:B}),maxItems:N}),autoFilter:new j,mergeCells:new f({tag:"mergeCells",count:!0,childXform:new p}),rowBreaks:new M,hyperlinks:new f({tag:"hyperlinks",count:!1,childXform:new v}),pageMargins:new F,dataValidations:new y,pageSetup:new D,headerFooter:new k,printOptions:new O,picture:new H,drawing:new W,sheetProtection:new P,tableParts:new f({tag:"tableParts",count:!0,childXform:new G}),conditionalFormatting:new E,extLst:new w}}prepare(_,N){N.merges=new c,_.hyperlinks=N.hyperlinks=[],_.comments=N.comments=[],N.formulae={},N.siFormulae=0,this.map.cols.prepare(_.cols,N),this.map.sheetData.prepare(_.rows,N),this.map.conditionalFormatting.prepare(_.conditionalFormattings,N),_.mergeCells=N.merges.mergeCells;const B=_.rels=[];function V(L){return"rId"+(L.length+1)}if(_.hyperlinks.forEach(L=>{const K=V(B);L.rId=K,B.push({Id:K,Type:l.Hyperlink,Target:L.target,TargetMode:"External"})}),_.comments.length>0){const L={Id:V(B),Type:l.Comments,Target:`../comments${_.id}.xml`};B.push(L);const K={Id:V(B),Type:l.VmlDrawing,Target:`../drawings/vmlDrawing${_.id}.vml`};B.push(K),_.comments.forEach(I=>{I.refAddress=o.decodeAddress(I.ref)}),N.commentRefs.push({commentName:"comments"+_.id,vmlDrawing:"vmlDrawing"+_.id})}const $=[];let Y;_.media.forEach(L=>{if(L.type==="background"){const K=V(B);Y=N.media[L.imageId],B.push({Id:K,Type:l.Image,Target:`../media/${Y.name}.${Y.extension}`}),_.background={rId:K},_.image=N.media[L.imageId]}else if(L.type==="image"){let{drawing:K}=_;Y=N.media[L.imageId],K||(K=_.drawing={rId:V(B),name:"drawing"+ ++N.drawingsCount,anchors:[],rels:[]},N.drawings.push(K),B.push({Id:K.rId,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",Target:`../drawings/${K.name}.xml`}));let I=this.preImageId===L.imageId?$[L.imageId]:$[K.rels.length];I||(I=V(K.rels),$[K.rels.length]=I,K.rels.push({Id:I,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",Target:`../media/${Y.name}.${Y.extension}`}));const A={picture:{rId:I},range:L.range};if(L.hyperlinks&&L.hyperlinks.hyperlink){const z=V(K.rels);$[K.rels.length]=z,A.picture.hyperlinks={tooltip:L.hyperlinks.tooltip,rId:z},K.rels.push({Id:z,Type:l.Hyperlink,Target:L.hyperlinks.hyperlink,TargetMode:"External"})}this.preImageId=L.imageId,K.anchors.push(A)}}),_.tables.forEach(L=>{const K=V(B);L.rId=K,B.push({Id:K,Type:l.Table,Target:"../tables/"+L.target}),L.columns.forEach(I=>{const{style:A}=I;A&&(I.dxfId=N.styles.addDxfStyle(A))})}),this.map.extLst.prepare(_,N)}render(_,N){_.openXml(a.StdDocAttributes),_.openNode("worksheet",S.WORKSHEET_ATTRIBUTES);const B=N.properties?{defaultRowHeight:N.properties.defaultRowHeight,dyDescent:N.properties.dyDescent,outlineLevelCol:N.properties.outlineLevelCol,outlineLevelRow:N.properties.outlineLevelRow}:void 0;N.properties&&N.properties.defaultColWidth&&(B.defaultColWidth=N.properties.defaultColWidth);const V={outlineProperties:N.properties&&N.properties.outlineProperties,tabColor:N.properties&&N.properties.tabColor,pageSetup:N.pageSetup&&N.pageSetup.fitToPage?{fitToPage:N.pageSetup.fitToPage}:void 0},$=N.pageSetup&&N.pageSetup.margins,Y={showRowColHeaders:N.pageSetup&&N.pageSetup.showRowColHeaders,showGridLines:N.pageSetup&&N.pageSetup.showGridLines,horizontalCentered:N.pageSetup&&N.pageSetup.horizontalCentered,verticalCentered:N.pageSetup&&N.pageSetup.verticalCentered},L=N.sheetProtection;this.map.sheetPr.render(_,V),this.map.dimension.render(_,N.dimensions),this.map.sheetViews.render(_,N.views),this.map.sheetFormatPr.render(_,B),this.map.cols.render(_,N.cols),this.map.sheetData.render(_,N.rows),this.map.sheetProtection.render(_,L),this.map.autoFilter.render(_,N.autoFilter),this.map.mergeCells.render(_,N.mergeCells),this.map.conditionalFormatting.render(_,N.conditionalFormattings),this.map.dataValidations.render(_,N.dataValidations),this.map.hyperlinks.render(_,N.hyperlinks),this.map.printOptions.render(_,Y),this.map.pageMargins.render(_,$),this.map.pageSetup.render(_,N.pageSetup),this.map.headerFooter.render(_,N.headerFooter),this.map.rowBreaks.render(_,N.rowBreaks),this.map.drawing.render(_,N.drawing),this.map.picture.render(_,N.background),this.map.tableParts.render(_,N.tables),this.map.extLst.render(_,N),N.rels&&N.rels.forEach(K=>{K.Type===l.VmlDrawing&&_.leafNode("legacyDrawing",{"r:id":K.Id})}),_.closeNode()}parseOpen(_){return this.parser?(this.parser.parseOpen(_),!0):_.name==="worksheet"?(s.each(this.map,N=>{N.reset()}),!0):(this.map[_.name]&&!this.ignoreNodes.includes(_.name)&&(this.parser=this.map[_.name],this.parser.parseOpen(_)),!0)}parseText(_){this.parser&&this.parser.parseText(_)}parseClose(_){if(this.parser)return this.parser.parseClose(_)||(this.parser=void 0),!0;switch(_){case"worksheet":{const N=this.map.sheetFormatPr.model||{};this.map.sheetPr.model&&this.map.sheetPr.model.tabColor&&(N.tabColor=this.map.sheetPr.model.tabColor),this.map.sheetPr.model&&this.map.sheetPr.model.outlineProperties&&(N.outlineProperties=this.map.sheetPr.model.outlineProperties);const B={fitToPage:this.map.sheetPr.model&&this.map.sheetPr.model.pageSetup&&this.map.sheetPr.model.pageSetup.fitToPage||!1,margins:this.map.pageMargins.model},V=Object.assign(B,this.map.pageSetup.model,this.map.printOptions.model),$=C(this.map.conditionalFormatting.model,this.map.extLst.model&&this.map.extLst.model["x14:conditionalFormattings"]);return this.model={dimensions:this.map.dimension.model,cols:this.map.cols.model,rows:this.map.sheetData.model,mergeCells:this.map.mergeCells.model,hyperlinks:this.map.hyperlinks.model,dataValidations:this.map.dataValidations.model,properties:N,views:this.map.sheetViews.model,pageSetup:V,headerFooter:this.map.headerFooter.model,background:this.map.picture.model,drawing:this.map.drawing.model,tables:this.map.tableParts.model,conditionalFormattings:$},this.map.autoFilter.model&&(this.model.autoFilter=this.map.autoFilter.model),this.map.sheetProtection.model&&(this.model.sheetProtection=this.map.sheetProtection.model),!1}default:return!0}}reconcile(_,N){const B=(_.relationships||[]).reduce(($,Y)=>{if($[Y.Id]=Y,Y.Type===l.Comments&&(_.comments=N.comments[Y.Target].comments),Y.Type===l.VmlDrawing&&_.comments&&_.comments.length){const L=N.vmlDrawings[Y.Target].comments;_.comments.forEach((K,I)=>{K.note=Object.assign({},K.note,L[I])})}return $},{});if(N.commentsMap=(_.comments||[]).reduce(($,Y)=>(Y.ref&&($[Y.ref]=Y),$),{}),N.hyperlinkMap=(_.hyperlinks||[]).reduce(($,Y)=>(Y.rId&&($[Y.address]=B[Y.rId].Target),$),{}),N.formulae={},_.rows=_.rows&&_.rows.filter(Boolean)||[],_.rows.forEach($=>{$.cells=$.cells&&$.cells.filter(Boolean)||[]}),this.map.cols.reconcile(_.cols,N),this.map.sheetData.reconcile(_.rows,N),this.map.conditionalFormatting.reconcile(_.conditionalFormattings,N),_.media=[],_.drawing){const $=B[_.drawing.rId].Target.match(/\/drawings\/([a-zA-Z0-9]+)[.][a-zA-Z]{3,4}$/);if($){const Y=$[1];N.drawings[Y].anchors.forEach(L=>{if(L.medium){const K={type:"image",imageId:L.medium.index,range:L.range,hyperlinks:L.picture.hyperlinks};_.media.push(K)}})}}const V=_.background&&B[_.background.rId];if(V){const $=V.Target.split("/media/")[1],Y=N.mediaIndex&&N.mediaIndex[$];Y!==void 0&&_.media.push({type:"background",imageId:Y})}_.tables=(_.tables||[]).map($=>{const Y=B[$.rId];return N.tables[Y.Target]}),delete _.relationships,delete _.hyperlinks,delete _.comments}}S.WORKSHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"},n.exports=S},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../../rel-type":31,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":72,"./cf/conditional-formattings-xform":87,"./col-xform":92,"./data-validations-xform":93,"./dimension-xform":94,"./drawing-xform":95,"./ext-lst-xform":96,"./header-footer-xform":97,"./hyperlink-xform":98,"./merge-cell-xform":99,"./merges":100,"./page-margins-xform":103,"./page-setup-xform":105,"./picture-xform":106,"./print-options-xform":107,"./row-breaks-xform":108,"./row-xform":109,"./sheet-format-properties-xform":110,"./sheet-properties-xform":111,"./sheet-protection-xform":112,"./sheet-view-xform":113,"./table-part-xform":114}],116:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{constructor(o){super(),this.tag=o.tag,this.attr=o.attr}render(o,a){a&&(o.openNode(this.tag),o.closeNode())}parseOpen(o){o.name===this.tag&&(this.model=!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],117:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{constructor(o){super(),this.tag=o.tag,this.attr=o.attr,this.attrs=o.attrs,this._format=o.format||function(a){try{return Number.isNaN(a.getTime())?"":a.toISOString()}catch{return""}},this._parse=o.parse||function(a){return new Date(a)}}render(o,a){a&&(o.openNode(this.tag),this.attrs&&o.addAttributes(this.attrs),this.attr?o.addAttribute(this.attr,this._format(a)):o.writeText(this._format(a)),o.closeNode())}parseOpen(o){o.name===this.tag&&(this.attr?this.model=this._parse(o.attributes[this.attr]):this.text=[])}parseText(o){this.attr||this.text.push(o)}parseClose(){return this.attr||(this.model=this._parse(this.text.join(""))),!1}}},{"../base-xform":32}],118:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{constructor(o){super(),this.tag=o.tag,this.attr=o.attr,this.attrs=o.attrs,this.zero=o.zero}render(o,a){(a||this.zero)&&(o.openNode(this.tag),this.attrs&&o.addAttributes(this.attrs),this.attr?o.addAttribute(this.attr,a):o.writeText(a),o.closeNode())}parseOpen(o){return o.name===this.tag&&(this.attr?this.model=parseInt(o.attributes[this.attr],10):this.text=[],!0)}parseText(o){this.attr||this.text.push(o)}parseClose(){return this.attr||(this.model=parseInt(this.text.join("")||0,10)),!1}}},{"../base-xform":32}],119:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{constructor(o){super(),this.tag=o.tag,this.attr=o.attr,this.attrs=o.attrs}render(o,a){a!==void 0&&(o.openNode(this.tag),this.attrs&&o.addAttributes(this.attrs),this.attr?o.addAttribute(this.attr,a):o.writeText(a),o.closeNode())}parseOpen(o){o.name===this.tag&&(this.attr?this.model=o.attributes[this.attr]:this.text=[])}parseText(o){this.attr||this.text.push(o)}parseClose(){return this.attr||(this.model=this.text.join("")),!1}}},{"../base-xform":32}],120:[function(r,n,i){const s=r("./base-xform"),o=r("../../utils/xml-stream");n.exports=class extends s{constructor(a){super(),this._model=a}render(a){if(!this._xml){const l=new o;(function c(u,f){u.openNode(f.tag,f.$),f.c&&f.c.forEach(d=>{c(u,d)}),f.t&&u.writeText(f.t),u.closeNode()})(l,this._model),this._xml=l.xml}a.writeXml(this._xml)}parseOpen(){return!0}parseText(){}parseClose(a){switch(a){case this._model.tag:return!1;default:return!0}}}},{"../../utils/xml-stream":28,"./base-xform":32}],121:[function(r,n,i){const s=r("./text-xform"),o=r("./rich-text-xform"),a=r("../base-xform");n.exports=class extends a{constructor(){super(),this.map={r:new o,t:new s}}get tag(){return"rPh"}render(l,c){if(l.openNode(this.tag,{sb:c.sb||0,eb:c.eb||0}),c&&c.hasOwnProperty("richText")&&c.richText){const{r:u}=this.map;c.richText.forEach(f=>{u.render(l,f)})}else c&&this.map.t.render(l,c.text);l.closeNode()}parseOpen(l){const{name:c}=l;return this.parser?(this.parser.parseOpen(l),!0):c===this.tag?(this.model={sb:parseInt(l.attributes.sb,10),eb:parseInt(l.attributes.eb,10)},!0):(this.parser=this.map[c],!!this.parser&&(this.parser.parseOpen(l),!0))}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser){if(!this.parser.parseClose(l)){switch(l){case"r":{let c=this.model.richText;c||(c=this.model.richText=[]),c.push(this.parser.model);break}case"t":this.model.text=this.parser.model}this.parser=void 0}return!0}switch(l){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./rich-text-xform":122,"./text-xform":125}],122:[function(r,n,i){const s=r("./text-xform"),o=r("../style/font-xform"),a=r("../base-xform");class l extends a{constructor(u){super(),this.model=u}get tag(){return"r"}get textXform(){return this._textXform||(this._textXform=new s)}get fontXform(){return this._fontXform||(this._fontXform=new o(l.FONT_OPTIONS))}render(u,f){f=f||this.model,u.openNode("r"),f.font&&this.fontXform.render(u,f.font),this.textXform.render(u,f.text),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"r":return this.model={},!0;case"t":return this.parser=this.textXform,this.parser.parseOpen(u),!0;case"rPr":return this.parser=this.fontXform,this.parser.parseOpen(u),!0;default:return!1}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){switch(u){case"r":return!1;case"t":return this.model.text=this.parser.model,this.parser=void 0,!0;case"rPr":return this.model.font=this.parser.model,this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(u),!0}}}l.FONT_OPTIONS={tagName:"rPr",fontNameTag:"rFont"},n.exports=l},{"../base-xform":32,"../style/font-xform":131,"./text-xform":125}],123:[function(r,n,i){const s=r("./text-xform"),o=r("./rich-text-xform"),a=r("./phonetic-text-xform"),l=r("../base-xform");n.exports=class extends l{constructor(c){super(),this.model=c,this.map={r:new o,t:new s,rPh:new a}}get tag(){return"si"}render(c,u){c.openNode(this.tag),u&&u.hasOwnProperty("richText")&&u.richText?u.richText.length?u.richText.forEach(f=>{this.map.r.render(c,f)}):this.map.t.render(c,""):u!=null&&this.map.t.render(c,u),c.closeNode()}parseOpen(c){const{name:u}=c;return this.parser?(this.parser.parseOpen(c),!0):u===this.tag?(this.model={},!0):(this.parser=this.map[u],!!this.parser&&(this.parser.parseOpen(c),!0))}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser){if(!this.parser.parseClose(c)){switch(c){case"r":{let u=this.model.richText;u||(u=this.model.richText=[]),u.push(this.parser.model);break}case"t":this.model=this.parser.model}this.parser=void 0}return!0}switch(c){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./phonetic-text-xform":121,"./rich-text-xform":122,"./text-xform":125}],124:[function(r,n,i){const s=r("../../../utils/xml-stream"),o=r("../base-xform"),a=r("./shared-string-xform");n.exports=class extends o{constructor(l){super(),this.model=l||{values:[],count:0},this.hash=Object.create(null),this.rich=Object.create(null)}get sharedStringXform(){return this._sharedStringXform||(this._sharedStringXform=new a)}get values(){return this.model.values}get uniqueCount(){return this.model.values.length}get count(){return this.model.count}getString(l){return this.model.values[l]}add(l){return l.richText?this.addRichText(l):this.addText(l)}addText(l){let c=this.hash[l];return c===void 0&&(c=this.hash[l]=this.model.values.length,this.model.values.push(l)),this.model.count++,c}addRichText(l){const c=this.sharedStringXform.toXml(l);let u=this.rich[c];return u===void 0&&(u=this.rich[c]=this.model.values.length,this.model.values.push(l)),this.model.count++,u}render(l,c){c=c||this._values,l.openXml(s.StdDocAttributes),l.openNode("sst",{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main",count:c.count,uniqueCount:c.values.length});const u=this.sharedStringXform;c.values.forEach(f=>{u.render(l,f)}),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case"sst":return!0;case"si":return this.parser=this.sharedStringXform,this.parser.parseOpen(l),!0;default:throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(l))}}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.model.values.push(this.parser.model),this.model.count++,this.parser=void 0),!0;switch(l){case"sst":return!1;default:throw new Error("Unexpected xml node in parseClose: "+l)}}}},{"../../../utils/xml-stream":28,"../base-xform":32,"./shared-string-xform":123}],125:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{get tag(){return"t"}render(o,a){o.openNode("t"),/^\s|\n|\s$/.test(a)&&o.addAttribute("xml:space","preserve"),o.writeText(a),o.closeNode()}get model(){return this._text.join("").replace(/_x([0-9A-F]{4})_/g,(o,a)=>String.fromCharCode(parseInt(a,16)))}parseOpen(o){switch(o.name){case"t":return this._text=[],!0;default:return!1}}parseText(o){this._text.push(o)}parseClose(){return!1}}},{"../base-xform":32}],126:[function(r,n,i){const s=r("../../../doc/enums"),o=r("../../../utils/utils"),a=r("../base-xform"),l={horizontalValues:["left","center","right","fill","centerContinuous","distributed","justify"].reduce((u,f)=>(u[f]=!0,u),{}),horizontal(u){return this.horizontalValues[u]?u:void 0},verticalValues:["top","middle","bottom","distributed","justify"].reduce((u,f)=>(u[f]=!0,u),{}),vertical(u){return u==="middle"?"center":this.verticalValues[u]?u:void 0},wrapText:u=>!!u||void 0,shrinkToFit:u=>!!u||void 0,textRotation(u){switch(u){case"vertical":return u;default:return(u=o.validInt(u))>=-90&&u<=90?u:void 0}},indent:u=>(u=o.validInt(u),Math.max(0,u)),readingOrder(u){switch(u){case"ltr":return s.ReadingOrder.LeftToRight;case"rtl":return s.ReadingOrder.RightToLeft;default:return}}},c={toXml(u){if(u=l.textRotation(u)){if(u==="vertical")return 255;const f=Math.round(u);if(f>=0&&f<=90)return f;if(f<0&&f>=-90)return 90-f}},toModel(u){const f=o.validInt(u);if(f!==void 0){if(f===255)return"vertical";if(f>=0&&f<=90)return f;if(f>90&&f<=180)return 90-f}}};n.exports=class extends a{get tag(){return"alignment"}render(u,f){u.addRollback(),u.openNode("alignment");let d=!1;function h(g,v){v&&(u.addAttribute(g,v),d=!0)}h("horizontal",l.horizontal(f.horizontal)),h("vertical",l.vertical(f.vertical)),h("wrapText",!!l.wrapText(f.wrapText)&&"1"),h("shrinkToFit",!!l.shrinkToFit(f.shrinkToFit)&&"1"),h("indent",l.indent(f.indent)),h("textRotation",c.toXml(f.textRotation)),h("readingOrder",l.readingOrder(f.readingOrder)),u.closeNode(),d?u.commit():u.rollback()}parseOpen(u){const f={};let d=!1;function h(g,v,p){g&&(f[v]=p,d=!0)}h(u.attributes.horizontal,"horizontal",u.attributes.horizontal),h(u.attributes.vertical,"vertical",u.attributes.vertical==="center"?"middle":u.attributes.vertical),h(u.attributes.wrapText,"wrapText",o.parseBoolean(u.attributes.wrapText)),h(u.attributes.shrinkToFit,"shrinkToFit",o.parseBoolean(u.attributes.shrinkToFit)),h(u.attributes.indent,"indent",parseInt(u.attributes.indent,10)),h(u.attributes.textRotation,"textRotation",c.toModel(u.attributes.textRotation)),h(u.attributes.readingOrder,"readingOrder",u.attributes.readingOrder==="2"?"rtl":"ltr"),this.model=d?f:null}parseText(){}parseClose(){return!1}}},{"../../../doc/enums":7,"../../../utils/utils":27,"../base-xform":32}],127:[function(r,n,i){const s=r("../base-xform"),o=r("../../../utils/utils"),a=r("./color-xform");class l extends s{constructor(u){super(),this.name=u,this.map={color:new a}}get tag(){return this.name}render(u,f,d){const h=f&&f.color||d||this.defaultColor;u.openNode(this.name),f&&f.style&&(u.addAttribute("style",f.style),h&&this.map.color.render(u,h)),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.name:{const{style:f}=u.attributes;return this.model=f?{style:f}:void 0,!0}case"color":return this.parser=this.map.color,this.parser.parseOpen(u),!0;default:return!1}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){return this.parser?(this.parser.parseClose(u)||(this.parser=void 0),!0):(u===this.name&&this.map.color.model&&(this.model||(this.model={}),this.model.color=this.map.color.model),!1)}validStyle(u){return l.validStyleValues[u]}}l.validStyleValues=["thin","dashed","dotted","dashDot","hair","dashDotDot","slantDashDot","mediumDashed","mediumDashDotDot","mediumDashDot","medium","double","thick"].reduce((c,u)=>(c[u]=!0,c),{}),n.exports=class extends s{constructor(){super(),this.map={top:new l("top"),left:new l("left"),bottom:new l("bottom"),right:new l("right"),diagonal:new l("diagonal")}}render(c,u){const{color:f}=u;function d(h,g){h&&!h.color&&u.color&&(h={...h,color:u.color}),g.render(c,h,f)}c.openNode("border"),u.diagonal&&u.diagonal.style&&(u.diagonal.up&&c.addAttribute("diagonalUp","1"),u.diagonal.down&&c.addAttribute("diagonalDown","1")),d(u.left,this.map.left),d(u.right,this.map.right),d(u.top,this.map.top),d(u.bottom,this.map.bottom),d(u.diagonal,this.map.diagonal),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case"border":return this.reset(),this.diagonalUp=o.parseBoolean(c.attributes.diagonalUp),this.diagonalDown=o.parseBoolean(c.attributes.diagonalDown),!0;default:return this.parser=this.map[c.name],!!this.parser&&(this.parser.parseOpen(c),!0)}}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.parser=void 0),!0;if(c==="border"){const u=this.model={},f=function(d,h,g){h&&(g&&Object.assign(h,g),u[d]=h)};f("left",this.map.left.model),f("right",this.map.right.model),f("top",this.map.top.model),f("bottom",this.map.bottom.model),f("diagonal",this.map.diagonal.model,{up:this.diagonalUp,down:this.diagonalDown})}return!1}}},{"../../../utils/utils":27,"../base-xform":32,"./color-xform":128}],128:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{constructor(o){super(),this.name=o||"color"}get tag(){return this.name}render(o,a){return!!a&&(o.openNode(this.name),a.argb?o.addAttribute("rgb",a.argb):a.theme!==void 0?(o.addAttribute("theme",a.theme),a.tint!==void 0&&o.addAttribute("tint",a.tint)):a.indexed!==void 0?o.addAttribute("indexed",a.indexed):o.addAttribute("auto","1"),o.closeNode(),!0)}parseOpen(o){return o.name===this.name&&(o.attributes.rgb?this.model={argb:o.attributes.rgb}:o.attributes.theme?(this.model={theme:parseInt(o.attributes.theme,10)},o.attributes.tint&&(this.model.tint=parseFloat(o.attributes.tint))):o.attributes.indexed?this.model={indexed:parseInt(o.attributes.indexed,10)}:this.model=void 0,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],129:[function(r,n,i){const s=r("../base-xform"),o=r("./alignment-xform"),a=r("./border-xform"),l=r("./fill-xform"),c=r("./font-xform"),u=r("./numfmt-xform"),f=r("./protection-xform");n.exports=class extends s{constructor(){super(),this.map={alignment:new o,border:new a,fill:new l,font:new c,numFmt:new u,protection:new f}}get tag(){return"dxf"}render(d,h){if(d.openNode(this.tag),h.font&&this.map.font.render(d,h.font),h.numFmt&&h.numFmtId){const g={id:h.numFmtId,formatCode:h.numFmt};this.map.numFmt.render(d,g)}h.fill&&this.map.fill.render(d,h.fill),h.alignment&&this.map.alignment.render(d,h.alignment),h.border&&this.map.border.render(d,h.border),h.protection&&this.map.protection.render(d,h.protection),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case this.tag:return this.reset(),!0;default:return this.parser=this.map[d.name],this.parser&&this.parser.parseOpen(d),!0}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){return this.parser?(this.parser.parseClose(d)||(this.parser=void 0),!0):d!==this.tag||(this.model={alignment:this.map.alignment.model,border:this.map.border.model,fill:this.map.fill.model,font:this.map.font.model,numFmt:this.map.numFmt.model,protection:this.map.protection.model},!1)}}},{"../base-xform":32,"./alignment-xform":126,"./border-xform":127,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./protection-xform":133}],130:[function(r,n,i){const s=r("../base-xform"),o=r("./color-xform");class a extends s{constructor(){super(),this.map={color:new o}}get tag(){return"stop"}render(d,h){d.openNode("stop"),d.addAttribute("position",h.position),this.map.color.render(d,h.color),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"stop":return this.model={position:parseFloat(d.attributes.position)},!0;case"color":return this.parser=this.map.color,this.parser.parseOpen(d),!0;default:return!1}}parseText(){}parseClose(d){return!!this.parser&&(this.parser.parseClose(d)||(this.model.color=this.parser.model,this.parser=void 0),!0)}}class l extends s{constructor(){super(),this.map={fgColor:new o("fgColor"),bgColor:new o("bgColor")}}get name(){return"pattern"}get tag(){return"patternFill"}render(d,h){d.openNode("patternFill"),d.addAttribute("patternType",h.pattern),h.fgColor&&this.map.fgColor.render(d,h.fgColor),h.bgColor&&this.map.bgColor.render(d,h.bgColor),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"patternFill":return this.model={type:"pattern",pattern:d.attributes.patternType},!0;default:return this.parser=this.map[d.name],!!this.parser&&(this.parser.parseOpen(d),!0)}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){return!!this.parser&&(this.parser.parseClose(d)||(this.parser.model&&(this.model[d]=this.parser.model),this.parser=void 0),!0)}}class c extends s{constructor(){super(),this.map={stop:new a}}get name(){return"gradient"}get tag(){return"gradientFill"}render(d,h){switch(d.openNode("gradientFill"),h.gradient){case"angle":d.addAttribute("degree",h.degree);break;case"path":d.addAttribute("type","path"),h.center.left&&(d.addAttribute("left",h.center.left),h.center.right===void 0&&d.addAttribute("right",h.center.left)),h.center.right&&d.addAttribute("right",h.center.right),h.center.top&&(d.addAttribute("top",h.center.top),h.center.bottom===void 0&&d.addAttribute("bottom",h.center.top)),h.center.bottom&&d.addAttribute("bottom",h.center.bottom)}const g=this.map.stop;h.stops.forEach(v=>{g.render(d,v)}),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"gradientFill":{const h=this.model={stops:[]};return d.attributes.degree?(h.gradient="angle",h.degree=parseInt(d.attributes.degree,10)):d.attributes.type==="path"&&(h.gradient="path",h.center={left:d.attributes.left?parseFloat(d.attributes.left):0,top:d.attributes.top?parseFloat(d.attributes.top):0},d.attributes.right!==d.attributes.left&&(h.center.right=d.attributes.right?parseFloat(d.attributes.right):0),d.attributes.bottom!==d.attributes.top&&(h.center.bottom=d.attributes.bottom?parseFloat(d.attributes.bottom):0)),!0}case"stop":return this.parser=this.map.stop,this.parser.parseOpen(d),!0;default:return!1}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){return!!this.parser&&(this.parser.parseClose(d)||(this.model.stops.push(this.parser.model),this.parser=void 0),!0)}}class u extends s{constructor(){super(),this.map={patternFill:new l,gradientFill:new c}}get tag(){return"fill"}render(d,h){switch(d.addRollback(),d.openNode("fill"),h.type){case"pattern":this.map.patternFill.render(d,h);break;case"gradient":this.map.gradientFill.render(d,h);break;default:return void d.rollback()}d.closeNode(),d.commit()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"fill":return this.model={},!0;default:return this.parser=this.map[d.name],!!this.parser&&(this.parser.parseOpen(d),!0)}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){return!!this.parser&&(this.parser.parseClose(d)||(this.model=this.parser.model,this.model.type=this.parser.name,this.parser=void 0),!0)}validStyle(d){return u.validPatternValues[d]}}u.validPatternValues=["none","solid","darkVertical","darkGray","mediumGray","lightGray","gray125","gray0625","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","lightGrid"].reduce((f,d)=>(f[d]=!0,f),{}),u.StopXform=a,u.PatternFillXform=l,u.GradientFillXform=c,n.exports=u},{"../base-xform":32,"./color-xform":128}],131:[function(r,n,i){const s=r("./color-xform"),o=r("../simple/boolean-xform"),a=r("../simple/integer-xform"),l=r("../simple/string-xform"),c=r("./underline-xform"),u=r("../../../utils/under-dash"),f=r("../base-xform");class d extends f{constructor(g){super(),this.options=g||d.OPTIONS,this.map={b:{prop:"bold",xform:new o({tag:"b",attr:"val"})},i:{prop:"italic",xform:new o({tag:"i",attr:"val"})},u:{prop:"underline",xform:new c},charset:{prop:"charset",xform:new a({tag:"charset",attr:"val"})},color:{prop:"color",xform:new s},condense:{prop:"condense",xform:new o({tag:"condense",attr:"val"})},extend:{prop:"extend",xform:new o({tag:"extend",attr:"val"})},family:{prop:"family",xform:new a({tag:"family",attr:"val"})},outline:{prop:"outline",xform:new o({tag:"outline",attr:"val"})},vertAlign:{prop:"vertAlign",xform:new l({tag:"vertAlign",attr:"val"})},scheme:{prop:"scheme",xform:new l({tag:"scheme",attr:"val"})},shadow:{prop:"shadow",xform:new o({tag:"shadow",attr:"val"})},strike:{prop:"strike",xform:new o({tag:"strike",attr:"val"})},sz:{prop:"size",xform:new a({tag:"sz",attr:"val"})}},this.map[this.options.fontNameTag]={prop:"name",xform:new l({tag:this.options.fontNameTag,attr:"val"})}}get tag(){return this.options.tagName}render(g,v){const{map:p}=this;g.openNode(this.options.tagName),u.each(this.map,(y,m)=>{p[m].xform.render(g,v[y.prop])}),g.closeNode()}parseOpen(g){if(this.parser)return this.parser.parseOpen(g),!0;if(this.map[g.name])return this.parser=this.map[g.name].xform,this.parser.parseOpen(g);switch(g.name){case this.options.tagName:return this.model={},!0;default:return!1}}parseText(g){this.parser&&this.parser.parseText(g)}parseClose(g){if(this.parser&&!this.parser.parseClose(g)){const v=this.map[g];return this.parser.model&&(this.model[v.prop]=this.parser.model),this.parser=void 0,!0}switch(g){case this.options.tagName:return!1;default:return!0}}}d.OPTIONS={tagName:"font",fontNameTag:"name"},n.exports=d},{"../../../utils/under-dash":26,"../base-xform":32,"../simple/boolean-xform":116,"../simple/integer-xform":118,"../simple/string-xform":119,"./color-xform":128,"./underline-xform":136}],132:[function(r,n,i){const s=r("../../../utils/under-dash"),o=r("../../defaultnumformats"),a=r("../base-xform"),l=function(){const u={};return s.each(o,(f,d)=>{f.f&&(u[f.f]=parseInt(d,10))}),u}();class c extends a{constructor(f,d){super(),this.id=f,this.formatCode=d}get tag(){return"numFmt"}render(f,d){f.leafNode("numFmt",{numFmtId:d.id,formatCode:d.formatCode})}parseOpen(f){switch(f.name){case"numFmt":return this.model={id:parseInt(f.attributes.numFmtId,10),formatCode:f.attributes.formatCode.replace(/[\\](.)/g,"$1")},!0;default:return!1}}parseText(){}parseClose(){return!1}}c.getDefaultFmtId=function(u){return l[u]},c.getDefaultFmtCode=function(u){return o[u]&&o[u].f},n.exports=c},{"../../../utils/under-dash":26,"../../defaultnumformats":30,"../base-xform":32}],133:[function(r,n,i){const s=r("../base-xform"),o={boolean:(a,l)=>a===void 0?l:a};n.exports=class extends s{get tag(){return"protection"}render(a,l){a.addRollback(),a.openNode("protection");let c=!1;function u(f,d){d!==void 0&&(a.addAttribute(f,d),c=!0)}u("locked",o.boolean(l.locked,!0)?void 0:"0"),u("hidden",o.boolean(l.hidden,!1)?"1":void 0),a.closeNode(),c?a.commit():a.rollback()}parseOpen(a){const l={locked:a.attributes.locked!=="0",hidden:a.attributes.hidden==="1"},c=!l.locked||l.hidden;this.model=c?l:null}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],134:[function(r,n,i){const s=r("../base-xform"),o=r("./alignment-xform"),a=r("./protection-xform");n.exports=class extends s{constructor(l){super(),this.xfId=!(!l||!l.xfId),this.map={alignment:new o,protection:new a}}get tag(){return"xf"}render(l,c){l.openNode("xf",{numFmtId:c.numFmtId||0,fontId:c.fontId||0,fillId:c.fillId||0,borderId:c.borderId||0}),this.xfId&&l.addAttribute("xfId",c.xfId||0),c.numFmtId&&l.addAttribute("applyNumberFormat","1"),c.fontId&&l.addAttribute("applyFont","1"),c.fillId&&l.addAttribute("applyFill","1"),c.borderId&&l.addAttribute("applyBorder","1"),c.alignment&&l.addAttribute("applyAlignment","1"),c.protection&&l.addAttribute("applyProtection","1"),c.alignment&&this.map.alignment.render(l,c.alignment),c.protection&&this.map.protection.render(l,c.protection),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case"xf":return this.model={numFmtId:parseInt(l.attributes.numFmtId,10),fontId:parseInt(l.attributes.fontId,10),fillId:parseInt(l.attributes.fillId,10),borderId:parseInt(l.attributes.borderId,10)},this.xfId&&(this.model.xfId=parseInt(l.attributes.xfId,10)),!0;case"alignment":return this.parser=this.map.alignment,this.parser.parseOpen(l),!0;case"protection":return this.parser=this.map.protection,this.parser.parseOpen(l),!0;default:return!1}}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){return this.parser?(this.parser.parseClose(l)||(this.map.protection===this.parser?this.model.protection=this.parser.model:this.model.alignment=this.parser.model,this.parser=void 0),!0):l!=="xf"}}},{"../base-xform":32,"./alignment-xform":126,"./protection-xform":133}],135:[function(r,n,i){const s=r("../../../doc/enums"),o=r("../../../utils/xml-stream"),a=r("../base-xform"),l=r("../static-xform"),c=r("../list-xform"),u=r("./font-xform"),f=r("./fill-xform"),d=r("./border-xform"),h=r("./numfmt-xform"),g=r("./style-xform"),v=r("./dxf-xform");class p extends a{constructor(m){super(),this.map={numFmts:new c({tag:"numFmts",count:!0,childXform:new h}),fonts:new c({tag:"fonts",count:!0,childXform:new u,$:{"x14ac:knownFonts":1}}),fills:new c({tag:"fills",count:!0,childXform:new f}),borders:new c({tag:"borders",count:!0,childXform:new d}),cellStyleXfs:new c({tag:"cellStyleXfs",count:!0,childXform:new g}),cellXfs:new c({tag:"cellXfs",count:!0,childXform:new g({xfId:!0})}),dxfs:new c({tag:"dxfs",always:!0,count:!0,childXform:new v}),numFmt:new h,font:new u,fill:new f,border:new d,style:new g({xfId:!0}),cellStyles:p.STATIC_XFORMS.cellStyles,tableStyles:p.STATIC_XFORMS.tableStyles,extLst:p.STATIC_XFORMS.extLst},m&&this.init()}initIndex(){this.index={style:{},numFmt:{},numFmtNextId:164,font:{},border:{},fill:{}}}init(){this.model={styles:[],numFmts:[],fonts:[],borders:[],fills:[],dxfs:[]},this.initIndex(),this._addBorder({}),this._addStyle({numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}),this._addFill({type:"pattern",pattern:"none"}),this._addFill({type:"pattern",pattern:"gray125"}),this.weakMap=new WeakMap}render(m,b){b=b||this.model,m.openXml(o.StdDocAttributes),m.openNode("styleSheet",p.STYLESHEET_ATTRIBUTES),this.index?(b.numFmts&&b.numFmts.length&&(m.openNode("numFmts",{count:b.numFmts.length}),b.numFmts.forEach(x=>{m.writeXml(x)}),m.closeNode()),b.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),m.openNode("fonts",{count:b.fonts.length,"x14ac:knownFonts":1}),b.fonts.forEach(x=>{m.writeXml(x)}),m.closeNode(),m.openNode("fills",{count:b.fills.length}),b.fills.forEach(x=>{m.writeXml(x)}),m.closeNode(),m.openNode("borders",{count:b.borders.length}),b.borders.forEach(x=>{m.writeXml(x)}),m.closeNode(),this.map.cellStyleXfs.render(m,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),m.openNode("cellXfs",{count:b.styles.length}),b.styles.forEach(x=>{m.writeXml(x)}),m.closeNode()):(this.map.numFmts.render(m,b.numFmts),this.map.fonts.render(m,b.fonts),this.map.fills.render(m,b.fills),this.map.borders.render(m,b.borders),this.map.cellStyleXfs.render(m,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),this.map.cellXfs.render(m,b.styles)),p.STATIC_XFORMS.cellStyles.render(m),this.map.dxfs.render(m,b.dxfs),p.STATIC_XFORMS.tableStyles.render(m),p.STATIC_XFORMS.extLst.render(m),m.closeNode()}parseOpen(m){if(this.parser)return this.parser.parseOpen(m),!0;switch(m.name){case"styleSheet":return this.initIndex(),!0;default:return this.parser=this.map[m.name],this.parser&&this.parser.parseOpen(m),!0}}parseText(m){this.parser&&this.parser.parseText(m)}parseClose(m){if(this.parser)return this.parser.parseClose(m)||(this.parser=void 0),!0;switch(m){case"styleSheet":{this.model={};const b=(x,P)=>{P.model&&P.model.length&&(this.model[x]=P.model)};if(b("numFmts",this.map.numFmts),b("fonts",this.map.fonts),b("fills",this.map.fills),b("borders",this.map.borders),b("styles",this.map.cellXfs),b("dxfs",this.map.dxfs),this.index={model:[],numFmt:[]},this.model.numFmts){const x=this.index.numFmt;this.model.numFmts.forEach(P=>{x[P.id]=P.formatCode})}return!1}default:return!0}}addStyleModel(m,b){if(!m)return 0;if(this.model.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),this.weakMap&&this.weakMap.has(m))return this.weakMap.get(m);const x={};if(b=b||s.ValueType.Number,m.numFmt)x.numFmtId=this._addNumFmtStr(m.numFmt);else switch(b){case s.ValueType.Number:x.numFmtId=this._addNumFmtStr("General");break;case s.ValueType.Date:x.numFmtId=this._addNumFmtStr("mm-dd-yy")}m.font&&(x.fontId=this._addFont(m.font)),m.border&&(x.borderId=this._addBorder(m.border)),m.fill&&(x.fillId=this._addFill(m.fill)),m.alignment&&(x.alignment=m.alignment),m.protection&&(x.protection=m.protection);const P=this._addStyle(x);return this.weakMap&&this.weakMap.set(m,P),P}getStyleModel(m){const b=this.model.styles[m];if(!b)return null;let x=this.index.model[m];if(x)return x;if(x=this.index.model[m]={},b.numFmtId){const F=this.index.numFmt[b.numFmtId]||h.getDefaultFmtCode(b.numFmtId);F&&(x.numFmt=F)}function P(F,D,O){if(O||O===0){const j=D[O];j&&(x[F]=j)}}return P("font",this.model.fonts,b.fontId),P("border",this.model.borders,b.borderId),P("fill",this.model.fills,b.fillId),b.alignment&&(x.alignment=b.alignment),b.protection&&(x.protection=b.protection),x}addDxfStyle(m){return m.numFmt&&(m.numFmtId=this._addNumFmtStr(m.numFmt)),this.model.dxfs.push(m),this.model.dxfs.length-1}getDxfStyle(m){return this.model.dxfs[m]}_addStyle(m){const b=this.map.style.toXml(m);let x=this.index.style[b];return x===void 0&&(x=this.index.style[b]=this.model.styles.length,this.model.styles.push(b)),x}_addNumFmtStr(m){let b=h.getDefaultFmtId(m);if(b!==void 0||(b=this.index.numFmt[m],b!==void 0))return b;b=this.index.numFmt[m]=164+this.model.numFmts.length;const x=this.map.numFmt.toXml({id:b,formatCode:m});return this.model.numFmts.push(x),b}_addFont(m){const b=this.map.font.toXml(m);let x=this.index.font[b];return x===void 0&&(x=this.index.font[b]=this.model.fonts.length,this.model.fonts.push(b)),x}_addBorder(m){const b=this.map.border.toXml(m);let x=this.index.border[b];return x===void 0&&(x=this.index.border[b]=this.model.borders.length,this.model.borders.push(b)),x}_addFill(m){const b=this.map.fill.toXml(m);let x=this.index.fill[b];return x===void 0&&(x=this.index.fill[b]=this.model.fills.length,this.model.fills.push(b)),x}}p.STYLESHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac x16r2","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac","xmlns:x16r2":"http://schemas.microsoft.com/office/spreadsheetml/2015/02/main"},p.STATIC_XFORMS={cellStyles:new l({tag:"cellStyles",$:{count:1},c:[{tag:"cellStyle",$:{name:"Normal",xfId:0,builtinId:0}}]}),dxfs:new l({tag:"dxfs",$:{count:0}}),tableStyles:new l({tag:"tableStyles",$:{count:0,defaultTableStyle:"TableStyleMedium2",defaultPivotStyle:"PivotStyleLight16"}}),extLst:new l({tag:"extLst",c:[{tag:"ext",$:{uri:"{EB79DEF2-80B8-43e5-95BD-54CBDDF9020C}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"},c:[{tag:"x14:slicerStyles",$:{defaultSlicerStyle:"SlicerStyleLight1"}}]},{tag:"ext",$:{uri:"{9260A510-F301-46a8-8635-F512D64BE5F5}","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},c:[{tag:"x15:timelineStyles",$:{defaultTimelineStyle:"TimeSlicerStyleLight1"}}]}]})},p.Mock=class extends p{constructor(){super(),this.model={styles:[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}],numFmts:[],fonts:[{size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}],borders:[{}],fills:[{type:"pattern",pattern:"none"},{type:"pattern",pattern:"gray125"}]}}parseStream(y){return y.autodrain(),Promise.resolve()}addStyleModel(y,m){switch(m){case s.ValueType.Date:return this.dateStyleId;default:return 0}}get dateStyleId(){if(!this._dateStyleId){const y={numFmtId:h.getDefaultFmtId("mm-dd-yy")};this._dateStyleId=this.model.styles.length,this.model.styles.push(y)}return this._dateStyleId}getStyleModel(){return{}}},n.exports=p},{"../../../doc/enums":7,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./border-xform":127,"./dxf-xform":129,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./style-xform":134}],136:[function(r,n,i){const s=r("../base-xform");class o extends s{constructor(l){super(),this.model=l}get tag(){return"u"}render(l,c){if((c=c||this.model)===!0)l.leafNode("u");else{const u=o.Attributes[c];u&&l.leafNode("u",u)}}parseOpen(l){l.name==="u"&&(this.model=l.attributes.val||!0)}parseText(){}parseClose(){return!1}}o.Attributes={single:{},double:{val:"double"},singleAccounting:{val:"singleAccounting"},doubleAccounting:{val:"doubleAccounting"}},n.exports=o},{"../base-xform":32}],137:[function(r,n,i){const s=r("../base-xform"),o=r("./filter-column-xform");n.exports=class extends s{constructor(){super(),this.map={filterColumn:new o}}get tag(){return"autoFilter"}prepare(a){a.columns.forEach((l,c)=>{this.map.filterColumn.prepare(l,{index:c})})}render(a,l){return a.openNode(this.tag,{ref:l.autoFilterRef}),l.columns.forEach(c=>{this.map.filterColumn.render(a,c)}),a.closeNode(),!0}parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case this.tag:return this.model={autoFilterRef:a.attributes.ref,columns:[]},!0;default:if(this.parser=this.map[a.name],this.parser)return this.parseOpen(a),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(a))}}parseText(a){this.parser&&this.parser.parseText(a)}parseClose(a){if(this.parser)return this.parser.parseClose(a)||(this.model.columns.push(this.parser.model),this.parser=void 0),!0;switch(a){case this.tag:return!1;default:throw new Error("Unexpected xml node in parseClose: "+a)}}}},{"../base-xform":32,"./filter-column-xform":139}],138:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{get tag(){return"customFilter"}render(o,a){o.leafNode(this.tag,{val:a.val,operator:a.operator})}parseOpen(o){return o.name===this.tag&&(this.model={val:o.attributes.val,operator:o.attributes.operator},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],139:[function(r,n,i){const s=r("../base-xform"),o=r("../list-xform"),a=r("./custom-filter-xform"),l=r("./filter-xform");n.exports=class extends s{constructor(){super(),this.map={customFilters:new o({tag:"customFilters",count:!1,empty:!0,childXform:new a}),filters:new o({tag:"filters",count:!1,empty:!0,childXform:new l})}}get tag(){return"filterColumn"}prepare(c,u){c.colId=u.index.toString()}render(c,u){return u.customFilters?(c.openNode(this.tag,{colId:u.colId,hiddenButton:u.filterButton?"0":"1"}),this.map.customFilters.render(c,u.customFilters),c.closeNode(),!0):(c.leafNode(this.tag,{colId:u.colId,hiddenButton:u.filterButton?"0":"1"}),!0)}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;const{attributes:u}=c;switch(c.name){case this.tag:return this.model={filterButton:u.hiddenButton==="0"},!0;default:if(this.parser=this.map[c.name],this.parser)return this.parseOpen(c),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(c))}}parseText(){}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.parser=void 0),!0;switch(c){case this.tag:return this.model.customFilters=this.map.customFilters.model,!1;default:return!0}}}},{"../base-xform":32,"../list-xform":71,"./custom-filter-xform":138,"./filter-xform":140}],140:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{get tag(){return"filter"}render(o,a){o.leafNode(this.tag,{val:a.val})}parseOpen(o){return o.name===this.tag&&(this.model={val:o.attributes.val},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],141:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{get tag(){return"tableColumn"}prepare(o,a){o.id=a.index+1}render(o,a){return o.leafNode(this.tag,{id:a.id.toString(),name:a.name,totalsRowLabel:a.totalsRowLabel,totalsRowFunction:a.totalsRowFunction,dxfId:a.dxfId}),!0}parseOpen(o){if(o.name===this.tag){const{attributes:a}=o;return this.model={name:a.name,totalsRowLabel:a.totalsRowLabel,totalsRowFunction:a.totalsRowFunction,dxfId:a.dxfId},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],142:[function(r,n,i){const s=r("../base-xform");n.exports=class extends s{get tag(){return"tableStyleInfo"}render(o,a){return o.leafNode(this.tag,{name:a.theme?a.theme:void 0,showFirstColumn:a.showFirstColumn?"1":"0",showLastColumn:a.showLastColumn?"1":"0",showRowStripes:a.showRowStripes?"1":"0",showColumnStripes:a.showColumnStripes?"1":"0"}),!0}parseOpen(o){if(o.name===this.tag){const{attributes:a}=o;return this.model={theme:a.name?a.name:null,showFirstColumn:a.showFirstColumn==="1",showLastColumn:a.showLastColumn==="1",showRowStripes:a.showRowStripes==="1",showColumnStripes:a.showColumnStripes==="1"},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],143:[function(r,n,i){const s=r("../../../utils/xml-stream"),o=r("../base-xform"),a=r("../list-xform"),l=r("./auto-filter-xform"),c=r("./table-column-xform"),u=r("./table-style-info-xform");class f extends o{constructor(){super(),this.map={autoFilter:new l,tableColumns:new a({tag:"tableColumns",count:!0,empty:!0,childXform:new c}),tableStyleInfo:new u}}prepare(h,g){this.map.autoFilter.prepare(h),this.map.tableColumns.prepare(h.columns,g)}get tag(){return"table"}render(h,g){h.openXml(s.StdDocAttributes),h.openNode(this.tag,{...f.TABLE_ATTRIBUTES,id:g.id,name:g.name,displayName:g.displayName||g.name,ref:g.tableRef,totalsRowCount:g.totalsRow?"1":void 0,totalsRowShown:g.totalsRow?void 0:"1",headerRowCount:g.headerRow?"1":"0"}),this.map.autoFilter.render(h,g),this.map.tableColumns.render(h,g.columns),this.map.tableStyleInfo.render(h,g.style),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;const{name:g,attributes:v}=h;switch(g){case this.tag:this.reset(),this.model={name:v.name,displayName:v.displayName||v.name,tableRef:v.ref,totalsRow:v.totalsRowCount==="1",headerRow:v.headerRowCount==="1"};break;default:this.parser=this.map[h.name],this.parser&&this.parser.parseOpen(h)}return!0}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){if(this.parser)return this.parser.parseClose(h)||(this.parser=void 0),!0;switch(h){case this.tag:return this.model.columns=this.map.tableColumns.model,this.map.autoFilter.model&&(this.model.autoFilterRef=this.map.autoFilter.model.autoFilterRef,this.map.autoFilter.model.columns.forEach((g,v)=>{this.model.columns[v].filterButton=g.filterButton})),this.model.style=this.map.tableStyleInfo.model,!1;default:return!0}}reconcile(h,g){h.columns.forEach(v=>{v.dxfId!==void 0&&(v.style=g.styles.getDxfStyle(v.dxfId))})}}f.TABLE_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"xr xr3","xmlns:xr":"http://schemas.microsoft.com/office/spreadsheetml/2014/revision","xmlns:xr3":"http://schemas.microsoft.com/office/spreadsheetml/2016/revision3"},n.exports=f},{"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":137,"./table-column-xform":141,"./table-style-info-xform":142}],144:[function(r,n,i){(function(s,o){(function(){const a=r("fs"),l=r("jszip"),{PassThrough:c}=r("readable-stream"),u=r("../utils/zip-stream"),f=r("../utils/stream-buf"),d=r("../utils/utils"),h=r("../utils/xml-stream"),{bufferToString:g}=r("../utils/browser-buffer-decode"),v=r("./xform/style/styles-xform"),p=r("./xform/core/core-xform"),y=r("./xform/strings/shared-strings-xform"),m=r("./xform/core/relationships-xform"),b=r("./xform/core/content-types-xform"),x=r("./xform/core/app-xform"),P=r("./xform/book/workbook-xform"),F=r("./xform/sheet/worksheet-xform"),D=r("./xform/drawing/drawing-xform"),O=r("./xform/table/table-xform"),j=r("./xform/comment/comments-xform"),H=r("./xform/comment/vml-notes-xform"),W=r("./xml/theme1");class G{constructor(k){this.workbook=k}async readFile(k,E){if(!await d.fs.exists(k))throw new Error("File not found: "+k);const w=a.createReadStream(k);try{const C=await this.read(w,E);return w.close(),C}catch(C){throw w.close(),C}}parseRels(k){return new m().parseStream(k)}parseWorkbook(k){return new P().parseStream(k)}parseSharedStrings(k){return new y().parseStream(k)}reconcile(k,E){const w=new P,C=new F(E),S=new D,R=new O;w.reconcile(k);const _={media:k.media,mediaIndex:k.mediaIndex};Object.keys(k.drawings).forEach(V=>{const $=k.drawings[V],Y=k.drawingRels[V];Y&&(_.rels=Y.reduce((L,K)=>(L[K.Id]=K,L),{}),($.anchors||[]).forEach(L=>{const K=L.picture&&L.picture.hyperlinks;K&&_.rels[K.rId]&&(K.hyperlink=_.rels[K.rId].Target,delete K.rId)}),S.reconcile($,_))});const N={styles:k.styles};Object.values(k.tables).forEach(V=>{R.reconcile(V,N)});const B={styles:k.styles,sharedStrings:k.sharedStrings,media:k.media,mediaIndex:k.mediaIndex,date1904:k.properties&&k.properties.date1904,drawings:k.drawings,comments:k.comments,tables:k.tables,vmlDrawings:k.vmlDrawings};k.worksheets.forEach(V=>{V.relationships=k.worksheetRels[V.sheetNo],C.reconcile(V,B)}),delete k.worksheetHash,delete k.worksheetRels,delete k.globalRels,delete k.sharedStrings,delete k.workbookRels,delete k.sheetDefs,delete k.styles,delete k.mediaIndex,delete k.drawings,delete k.drawingRels,delete k.vmlDrawings}async _processWorksheetEntry(k,E,w,C,S){const R=new F(C),_=await R.parseStream(k);_.sheetNo=w,E.worksheetHash[S]=_,E.worksheets.push(_)}async _processCommentEntry(k,E,w){const C=new j,S=await C.parseStream(k);E.comments[`../${w}.xml`]=S}async _processTableEntry(k,E,w){const C=new O,S=await C.parseStream(k);E.tables[`../tables/${w}.xml`]=S}async _processWorksheetRelsEntry(k,E,w){const C=new m,S=await C.parseStream(k);E.worksheetRels[w]=S}async _processMediaEntry(k,E,w){const C=w.lastIndexOf(".");if(C>=1){const S=w.substr(C+1),R=w.substr(0,C);await new Promise((_,N)=>{const B=new f;B.on("finish",()=>{E.mediaIndex[w]=E.media.length,E.mediaIndex[R]=E.media.length;const V={type:"image",name:R,extension:S,buffer:B.toBuffer()};E.media.push(V),_()}),k.on("error",V=>{N(V)}),k.pipe(B)})}}async _processDrawingEntry(k,E,w){const C=new D,S=await C.parseStream(k);E.drawings[w]=S}async _processDrawingRelsEntry(k,E,w){const C=new m,S=await C.parseStream(k);E.drawingRels[w]=S}async _processVmlDrawingEntry(k,E,w){const C=new H,S=await C.parseStream(k);E.vmlDrawings[`../drawings/${w}.vml`]=S}async _processThemeEntry(k,E,w){await new Promise((C,S)=>{const R=new f;k.on("error",S),R.on("error",S),R.on("finish",()=>{E.themes[w]=R.read().toString(),C()}),k.pipe(R)})}createInputStream(){throw new Error("`XLSX#createInputStream` is deprecated. You should use `XLSX#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}async read(k,E){!k[Symbol.asyncIterator]&&k.pipe&&(k=k.pipe(new c));const w=[];for await(const C of k)w.push(C);return this.load(o.concat(w),E)}async load(k,E){let w;w=E&&E.base64?o.from(k.toString(),"base64"):k;const C={worksheets:[],worksheetHash:{},worksheetRels:[],themes:{},media:[],mediaIndex:{},drawings:{},drawingRels:{},comments:{},tables:{},vmlDrawings:{}},S=await l.loadAsync(w);for(const R of Object.values(S.files))if(!R.dir){let _,N=R.name;if(N[0]==="/"&&(N=N.substr(1)),N.match(/xl\/media\//)||N.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/))_=new c,_.write(await R.async("nodebuffer"));else{let B;_=new c({writableObjectMode:!0,readableObjectMode:!0}),B=s.browser?g(await R.async("nodebuffer")):await R.async("string");const V=16384;for(let $=0;$<B.length;$+=V)_.write(B.substring($,$+V))}switch(_.end(),N){case"_rels/.rels":C.globalRels=await this.parseRels(_);break;case"xl/workbook.xml":{const B=await this.parseWorkbook(_);C.sheets=B.sheets,C.definedNames=B.definedNames,C.views=B.views,C.properties=B.properties,C.calcProperties=B.calcProperties;break}case"xl/_rels/workbook.xml.rels":C.workbookRels=await this.parseRels(_);break;case"xl/sharedStrings.xml":C.sharedStrings=new y,await C.sharedStrings.parseStream(_);break;case"xl/styles.xml":C.styles=new v,await C.styles.parseStream(_);break;case"docProps/app.xml":{const B=new x,V=await B.parseStream(_);C.company=V.company,C.manager=V.manager;break}case"docProps/core.xml":{const B=new p,V=await B.parseStream(_);Object.assign(C,V);break}default:{let B=N.match(/xl\/worksheets\/sheet(\d+)[.]xml/);if(B){await this._processWorksheetEntry(_,C,B[1],E,N);break}if(B=N.match(/xl\/worksheets\/_rels\/sheet(\d+)[.]xml.rels/),B){await this._processWorksheetRelsEntry(_,C,B[1]);break}if(B=N.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/),B){await this._processThemeEntry(_,C,B[1]);break}if(B=N.match(/xl\/media\/([a-zA-Z0-9]+[.][a-zA-Z0-9]{3,4})$/),B){await this._processMediaEntry(_,C,B[1]);break}if(B=N.match(/xl\/drawings\/([a-zA-Z0-9]+)[.]xml/),B){await this._processDrawingEntry(_,C,B[1]);break}if(B=N.match(/xl\/(comments\d+)[.]xml/),B){await this._processCommentEntry(_,C,B[1]);break}if(B=N.match(/xl\/tables\/(table\d+)[.]xml/),B){await this._processTableEntry(_,C,B[1]);break}if(B=N.match(/xl\/drawings\/_rels\/([a-zA-Z0-9]+)[.]xml[.]rels/),B){await this._processDrawingRelsEntry(_,C,B[1]);break}if(B=N.match(/xl\/drawings\/(vmlDrawing\d+)[.]vml/),B){await this._processVmlDrawingEntry(_,C,B[1]);break}}}}return this.reconcile(C,E),this.workbook.model=C,this.workbook}async addMedia(k,E){await Promise.all(E.media.map(async w=>{if(w.type==="image"){const C=`xl/media/${w.name}.${w.extension}`;if(w.filename){const S=await function(R,_){return new Promise((N,B)=>{a.readFile(R,_,(V,$)=>{V?B(V):N($)})})}(w.filename);return k.append(S,{name:C})}if(w.buffer)return k.append(w.buffer,{name:C});if(w.base64){const S=w.base64,R=S.substring(S.indexOf(",")+1);return k.append(R,{name:C,base64:!0})}}throw new Error("Unsupported media")}))}addDrawings(k,E){const w=new D,C=new m;E.worksheets.forEach(S=>{const{drawing:R}=S;if(R){w.prepare(R,{});let _=w.toXml(R);k.append(_,{name:`xl/drawings/${R.name}.xml`}),_=C.toXml(R.rels),k.append(_,{name:`xl/drawings/_rels/${R.name}.xml.rels`})}})}addTables(k,E){const w=new O;E.worksheets.forEach(C=>{const{tables:S}=C;S.forEach(R=>{w.prepare(R,{});const _=w.toXml(R);k.append(_,{name:"xl/tables/"+R.target})})})}async addContentTypes(k,E){const w=new b().toXml(E);k.append(w,{name:"[Content_Types].xml"})}async addApp(k,E){const w=new x().toXml(E);k.append(w,{name:"docProps/app.xml"})}async addCore(k,E){const w=new p;k.append(w.toXml(E),{name:"docProps/core.xml"})}async addThemes(k,E){const w=E.themes||{theme1:W};Object.keys(w).forEach(C=>{const S=w[C],R=`xl/theme/${C}.xml`;k.append(S,{name:R})})}async addOfficeRels(k){const E=new m().toXml([{Id:"rId1",Type:G.RelType.OfficeDocument,Target:"xl/workbook.xml"},{Id:"rId2",Type:G.RelType.CoreProperties,Target:"docProps/core.xml"},{Id:"rId3",Type:G.RelType.ExtenderProperties,Target:"docProps/app.xml"}]);k.append(E,{name:"_rels/.rels"})}async addWorkbookRels(k,E){let w=1;const C=[{Id:"rId"+w++,Type:G.RelType.Styles,Target:"styles.xml"},{Id:"rId"+w++,Type:G.RelType.Theme,Target:"theme/theme1.xml"}];E.sharedStrings.count&&C.push({Id:"rId"+w++,Type:G.RelType.SharedStrings,Target:"sharedStrings.xml"}),E.worksheets.forEach(R=>{R.rId="rId"+w++,C.push({Id:R.rId,Type:G.RelType.Worksheet,Target:`worksheets/sheet${R.id}.xml`})});const S=new m().toXml(C);k.append(S,{name:"xl/_rels/workbook.xml.rels"})}async addSharedStrings(k,E){E.sharedStrings&&E.sharedStrings.count&&k.append(E.sharedStrings.xml,{name:"xl/sharedStrings.xml"})}async addStyles(k,E){const{xml:w}=E.styles;w&&k.append(w,{name:"xl/styles.xml"})}async addWorkbook(k,E){const w=new P;k.append(w.toXml(E),{name:"xl/workbook.xml"})}async addWorksheets(k,E){const w=new F,C=new m,S=new j,R=new H;E.worksheets.forEach(_=>{let N=new h;w.render(N,_),k.append(N.xml,{name:`xl/worksheets/sheet${_.id}.xml`}),_.rels&&_.rels.length&&(N=new h,C.render(N,_.rels),k.append(N.xml,{name:`xl/worksheets/_rels/sheet${_.id}.xml.rels`})),_.comments.length>0&&(N=new h,S.render(N,_),k.append(N.xml,{name:`xl/comments${_.id}.xml`}),N=new h,R.render(N,_),k.append(N.xml,{name:`xl/drawings/vmlDrawing${_.id}.vml`}))})}_finalize(k){return new Promise((E,w)=>{k.on("finish",()=>{E(this)}),k.on("error",w),k.finalize()})}prepareModel(k,E){k.creator=k.creator||"ExcelJS",k.lastModifiedBy=k.lastModifiedBy||"ExcelJS",k.created=k.created||new Date,k.modified=k.modified||new Date,k.useSharedStrings=E.useSharedStrings===void 0||E.useSharedStrings,k.useStyles=E.useStyles===void 0||E.useStyles,k.sharedStrings=new y,k.styles=k.useStyles?new v(!0):new v.Mock;const w=new P,C=new F;w.prepare(k);const S={sharedStrings:k.sharedStrings,styles:k.styles,date1904:k.properties.date1904,drawingsCount:0,media:k.media};S.drawings=k.drawings=[],S.commentRefs=k.commentRefs=[];let R=0;k.tables=[],k.worksheets.forEach(_=>{_.tables.forEach(N=>{R++,N.target=`table${R}.xml`,N.id=R,k.tables.push(N)}),C.prepare(_,S)})}async write(k,E){E=E||{};const{model:w}=this.workbook,C=new u.ZipWriter(E.zip);return C.pipe(k),this.prepareModel(w,E),await this.addContentTypes(C,w),await this.addOfficeRels(C,w),await this.addWorkbookRels(C,w),await this.addWorksheets(C,w),await this.addSharedStrings(C,w),await this.addDrawings(C,w),await this.addTables(C,w),await Promise.all([this.addThemes(C,w),this.addStyles(C,w)]),await this.addMedia(C,w),await Promise.all([this.addApp(C,w),this.addCore(C,w)]),await this.addWorkbook(C,w),this._finalize(C)}writeFile(k,E){const w=a.createWriteStream(k);return new Promise((C,S)=>{w.on("finish",()=>{C()}),w.on("error",R=>{S(R)}),this.write(w,E).then(()=>{w.end()}).catch(R=>{S(R)})})}async writeBuffer(k){const E=new f;return await this.write(E,k),E.read()}}G.RelType=r("./rel-type"),n.exports=G}).call(this)}).call(this,r("_process"),r("buffer").Buffer)},{"../utils/browser-buffer-decode":16,"../utils/stream-buf":24,"../utils/utils":27,"../utils/xml-stream":28,"../utils/zip-stream":29,"./rel-type":31,"./xform/book/workbook-xform":38,"./xform/comment/comments-xform":40,"./xform/comment/vml-notes-xform":45,"./xform/core/app-xform":51,"./xform/core/content-types-xform":52,"./xform/core/core-xform":53,"./xform/core/relationships-xform":55,"./xform/drawing/drawing-xform":62,"./xform/sheet/worksheet-xform":115,"./xform/strings/shared-strings-xform":124,"./xform/style/styles-xform":135,"./xform/table/table-xform":143,"./xml/theme1":145,_process:467,buffer:220,fs:216,jszip:441,"readable-stream":491}],145:[function(r,n,i){n.exports=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme"> <a:themeElements> <a:clrScheme name="Office"> <a:dk1> <a:sysClr val="windowText" lastClr="000000"/> </a:dk1> <a:lt1> <a:sysClr val="window" lastClr="FFFFFF"/> </a:lt1> <a:dk2> <a:srgbClr val="1F497D"/> </a:dk2> <a:lt2> <a:srgbClr val="EEECE1"/> </a:lt2> <a:accent1> <a:srgbClr val="4F81BD"/> </a:accent1> <a:accent2> <a:srgbClr val="C0504D"/> </a:accent2> <a:accent3> <a:srgbClr val="9BBB59"/> </a:accent3> <a:accent4> <a:srgbClr val="8064A2"/> </a:accent4> <a:accent5> <a:srgbClr val="4BACC6"/> </a:accent5> <a:accent6> <a:srgbClr val="F79646"/> </a:accent6> <a:hlink> <a:srgbClr val="0000FF"/> </a:hlink> <a:folHlink> <a:srgbClr val="800080"/> </a:folHlink> </a:clrScheme> <a:fontScheme name="Office"> <a:majorFont> <a:latin typeface="Cambria"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/> <a:font script="Hang" typeface="맑은 고딕"/> <a:font script="Hans" typeface="宋体"/> <a:font script="Hant" typeface="新細明體"/> <a:font script="Arab" typeface="Times New Roman"/> <a:font script="Hebr" typeface="Times New Roman"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="MoolBoran"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Times New Roman"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:majorFont> <a:minorFont> <a:latin typeface="Calibri"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/> <a:font script="Hang" typeface="맑은 고딕"/> <a:font script="Hans" typeface="宋体"/> <a:font script="Hant" typeface="新細明體"/> <a:font script="Arab" typeface="Arial"/> <a:font script="Hebr" typeface="Arial"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="DaunPenh"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Arial"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:minorFont> </a:fontScheme> <a:fmtScheme name="Office"> <a:fillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="35000"> <a:schemeClr val="phClr"> <a:tint val="37000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="15000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="1"/> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="100000"/> <a:shade val="100000"/> <a:satMod val="130000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:shade val="100000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="0"/> </a:gradFill> </a:fillStyleLst> <a:lnStyleLst> <a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"> <a:shade val="95000"/> <a:satMod val="105000"/> </a:schemeClr> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> </a:lnStyleLst> <a:effectStyleLst> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="38000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> <a:scene3d> <a:camera prst="orthographicFront"> <a:rot lat="0" lon="0" rev="0"/> </a:camera> <a:lightRig rig="threePt" dir="t"> <a:rot lat="0" lon="0" rev="1200000"/> </a:lightRig> </a:scene3d> <a:sp3d> <a:bevelT w="63500" h="25400"/> </a:sp3d> </a:effectStyle> </a:effectStyleLst> <a:bgFillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="40000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="40000"> <a:schemeClr val="phClr"> <a:tint val="45000"/> <a:shade val="99000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="20000"/> <a:satMod val="255000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="-80000" r="50000" b="180000"/> </a:path> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="80000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="30000"/> <a:satMod val="200000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="50000" r="50000" b="50000"/> </a:path> </a:gradFill> </a:bgFillStyleLst> </a:fmtScheme> </a:themeElements> <a:objectDefaults> <a:spDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="1"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="3"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="2"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="lt1"/> </a:fontRef> </a:style> </a:spDef> <a:lnDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="2"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="0"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="1"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="tx1"/> </a:fontRef> </a:style> </a:lnDef> </a:objectDefaults> <a:extraClrSchemeLst/> </a:theme>`},{}],146:[function(r,n,i){(function(s){(function(){Object.defineProperty(i,"__esModule",{value:!0}),i.CsvFormatterStream=void 0;const o=r("stream"),a=r("./formatter");class l extends o.Transform{constructor(u){super({writableObjectMode:u.objectMode}),this.hasWrittenBOM=!1,this.formatterOptions=u,this.rowFormatter=new a.RowFormatter(u),this.hasWrittenBOM=!u.writeBOM}transform(u){return this.rowFormatter.rowTransform=u,this}_transform(u,f,d){let h=!1;try{this.hasWrittenBOM||(this.push(this.formatterOptions.BOM),this.hasWrittenBOM=!0),this.rowFormatter.format(u,(g,v)=>g?(h=!0,d(g)):(v&&v.forEach(p=>{this.push(s.from(p,"utf8"))}),h=!0,d()))}catch(g){if(h)throw g;d(g)}}_flush(u){this.rowFormatter.finish((f,d)=>f?u(f):(d&&d.forEach(h=>{this.push(s.from(h,"utf8"))}),u()))}}i.CsvFormatterStream=l}).call(this)}).call(this,r("buffer").Buffer)},{"./formatter":150,buffer:220,stream:505}],147:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.FormatterOptions=void 0,i.FormatterOptions=class{constructor(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};var o;this.objectMode=!0,this.delimiter=",",this.rowDelimiter=`
`,this.quote='"',this.escape=this.quote,this.quoteColumns=!1,this.quoteHeaders=this.quoteColumns,this.headers=null,this.includeEndRowDelimiter=!1,this.writeBOM=!1,this.BOM="\uFEFF",this.alwaysWriteHeaders=!1,Object.assign(this,s||{}),(s==null?void 0:s.quoteHeaders)===void 0&&(this.quoteHeaders=this.quoteColumns),(s==null?void 0:s.quote)===!0?this.quote='"':(s==null?void 0:s.quote)===!1&&(this.quote=""),typeof(s==null?void 0:s.escape)!="string"&&(this.escape=this.quote),this.shouldWriteHeaders=!!this.headers&&((o=s.writeHeaders)===null||o===void 0||o),this.headers=Array.isArray(this.headers)?this.headers:null,this.escapedQuote=`${this.escape}${this.quote}`}}},{}],148:[function(r,n,i){var s=function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(i,"__esModule",{value:!0}),i.FieldFormatter=void 0;const o=s(r("lodash.isboolean")),a=s(r("lodash.isnil")),l=s(r("lodash.escaperegexp"));i.FieldFormatter=class{constructor(c){this._headers=null,this.formatterOptions=c,c.headers!==null&&(this.headers=c.headers),this.REPLACE_REGEXP=new RegExp(c.quote,"g");const u=`[${c.delimiter}${l.default(c.rowDelimiter)}|\r|
]`;this.ESCAPE_REGEXP=new RegExp(u)}set headers(c){this._headers=c}shouldQuote(c,u){const f=u?this.formatterOptions.quoteHeaders:this.formatterOptions.quoteColumns;return o.default(f)?f:Array.isArray(f)?f[c]:this._headers!==null&&f[this._headers[c]]}format(c,u,f){const d=(""+(a.default(c)?"":c)).replace(/\0/g,""),{formatterOptions:h}=this;return h.quote!==""&&d.indexOf(h.quote)!==-1?this.quoteField(d.replace(this.REPLACE_REGEXP,h.escapedQuote)):d.search(this.ESCAPE_REGEXP)!==-1||this.shouldQuote(u,f)?this.quoteField(d):d}quoteField(c){const{quote:u}=this.formatterOptions;return`${u}${c}${u}`}}},{"lodash.escaperegexp":442,"lodash.isboolean":444,"lodash.isnil":447}],149:[function(r,n,i){var s=function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(i,"__esModule",{value:!0}),i.RowFormatter=void 0;const o=s(r("lodash.isfunction")),a=s(r("lodash.isequal")),l=r("./FieldFormatter"),c=r("../types");class u{constructor(d){this.rowCount=0,this.formatterOptions=d,this.fieldFormatter=new l.FieldFormatter(d),this.headers=d.headers,this.shouldWriteHeaders=d.shouldWriteHeaders,this.hasWrittenHeaders=!1,this.headers!==null&&(this.fieldFormatter.headers=this.headers),d.transform&&(this.rowTransform=d.transform)}static isRowHashArray(d){return!!Array.isArray(d)&&Array.isArray(d[0])&&d[0].length===2}static isRowArray(d){return Array.isArray(d)&&!this.isRowHashArray(d)}static gatherHeaders(d){return u.isRowHashArray(d)?d.map(h=>h[0]):Array.isArray(d)?d:Object.keys(d)}static createTransform(d){return c.isSyncTransform(d)?(h,g)=>{let v=null;try{v=d(h)}catch(p){return g(p)}return g(null,v)}:(h,g)=>{d(h,g)}}set rowTransform(d){if(!o.default(d))throw new TypeError("The transform should be a function");this._rowTransform=u.createTransform(d)}format(d,h){this.callTransformer(d,(g,v)=>{if(g)return h(g);if(!d)return h(null);const p=[];if(v){const{shouldFormatColumns:y,headers:m}=this.checkHeaders(v);if(this.shouldWriteHeaders&&m&&!this.hasWrittenHeaders&&(p.push(this.formatColumns(m,!0)),this.hasWrittenHeaders=!0),y){const b=this.gatherColumns(v);p.push(this.formatColumns(b,!1))}}return h(null,p)})}finish(d){const h=[];if(this.formatterOptions.alwaysWriteHeaders&&this.rowCount===0){if(!this.headers)return d(new Error("`alwaysWriteHeaders` option is set to true but `headers` option not provided."));h.push(this.formatColumns(this.headers,!0))}return this.formatterOptions.includeEndRowDelimiter&&h.push(this.formatterOptions.rowDelimiter),d(null,h)}checkHeaders(d){if(this.headers)return{shouldFormatColumns:!0,headers:this.headers};const h=u.gatherHeaders(d);return this.headers=h,this.fieldFormatter.headers=h,this.shouldWriteHeaders?{shouldFormatColumns:!a.default(h,d),headers:h}:{shouldFormatColumns:!0,headers:null}}gatherColumns(d){if(this.headers===null)throw new Error("Headers is currently null");return Array.isArray(d)?u.isRowHashArray(d)?this.headers.map((h,g)=>{const v=d[g];return v?v[1]:""}):u.isRowArray(d)&&!this.shouldWriteHeaders?d:this.headers.map((h,g)=>d[g]):this.headers.map(h=>d[h])}callTransformer(d,h){return this._rowTransform?this._rowTransform(d,h):h(null,d)}formatColumns(d,h){const g=d.map((p,y)=>this.fieldFormatter.format(p,y,h)).join(this.formatterOptions.delimiter),{rowCount:v}=this;return this.rowCount+=1,v?[this.formatterOptions.rowDelimiter,g].join(""):g}}i.RowFormatter=u},{"../types":152,"./FieldFormatter":148,"lodash.isequal":445,"lodash.isfunction":446}],150:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.FieldFormatter=i.RowFormatter=void 0;var s=r("./RowFormatter");Object.defineProperty(i,"RowFormatter",{enumerable:!0,get:function(){return s.RowFormatter}});var o=r("./FieldFormatter");Object.defineProperty(i,"FieldFormatter",{enumerable:!0,get:function(){return o.FieldFormatter}})},{"./FieldFormatter":148,"./RowFormatter":149}],151:[function(r,n,i){(function(s){(function(){var o=Object.create?function(y,m,b,x){x===void 0&&(x=b),Object.defineProperty(y,x,{enumerable:!0,get:function(){return m[b]}})}:function(y,m,b,x){x===void 0&&(x=b),y[x]=m[b]},a=Object.create?function(y,m){Object.defineProperty(y,"default",{enumerable:!0,value:m})}:function(y,m){y.default=m},l=function(y){if(y&&y.__esModule)return y;var m={};if(y!=null)for(var b in y)b!=="default"&&Object.prototype.hasOwnProperty.call(y,b)&&o(m,y,b);return a(m,y),m},c=function(y,m){for(var b in y)b==="default"||Object.prototype.hasOwnProperty.call(m,b)||o(m,y,b)};Object.defineProperty(i,"__esModule",{value:!0}),i.writeToPath=i.writeToString=i.writeToBuffer=i.writeToStream=i.write=i.format=i.FormatterOptions=i.CsvFormatterStream=void 0;const u=r("util"),f=r("stream"),d=l(r("fs")),h=r("./FormatterOptions"),g=r("./CsvFormatterStream");c(r("./types"),i);var v=r("./CsvFormatterStream");Object.defineProperty(i,"CsvFormatterStream",{enumerable:!0,get:function(){return v.CsvFormatterStream}});var p=r("./FormatterOptions");Object.defineProperty(i,"FormatterOptions",{enumerable:!0,get:function(){return p.FormatterOptions}}),i.format=y=>new g.CsvFormatterStream(new h.FormatterOptions(y)),i.write=(y,m)=>{const b=i.format(m),x=u.promisify((P,F)=>{b.write(P,void 0,F)});return y.reduce((P,F)=>P.then(()=>x(F)),Promise.resolve()).then(()=>b.end()).catch(P=>{b.emit("error",P)}),b},i.writeToStream=(y,m,b)=>i.write(m,b).pipe(y),i.writeToBuffer=function(y){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const b=[],x=new f.Writable({write(P,F,D){b.push(P),D()}});return new Promise((P,F)=>{x.on("error",F).on("finish",()=>P(s.concat(b))),i.write(y,m).pipe(x)})},i.writeToString=(y,m)=>i.writeToBuffer(y,m).then(b=>b.toString()),i.writeToPath=(y,m,b)=>{const x=d.createWriteStream(y,{encoding:"utf8"});return i.write(m,b).pipe(x)}}).call(this)}).call(this,r("buffer").Buffer)},{"./CsvFormatterStream":146,"./FormatterOptions":147,"./types":152,buffer:220,fs:216,stream:505,util:527}],152:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.isSyncTransform=void 0,i.isSyncTransform=s=>s.length===1},{}],153:[function(r,n,i){(function(s){(function(){Object.defineProperty(i,"__esModule",{value:!0}),i.CsvParserStream=void 0;const o=r("string_decoder"),a=r("stream"),l=r("./transforms"),c=r("./parser");class u extends a.Transform{constructor(d){super({objectMode:d.objectMode}),this.lines="",this.rowCount=0,this.parsedRowCount=0,this.parsedLineCount=0,this.endEmitted=!1,this.headersEmitted=!1,this.parserOptions=d,this.parser=new c.Parser(d),this.headerTransformer=new l.HeaderTransformer(d),this.decoder=new o.StringDecoder(d.encoding),this.rowTransformerValidator=new l.RowTransformerValidator}get hasHitRowLimit(){return this.parserOptions.limitRows&&this.rowCount>=this.parserOptions.maxRows}get shouldEmitRows(){return this.parsedRowCount>this.parserOptions.skipRows}get shouldSkipLine(){return this.parsedLineCount<=this.parserOptions.skipLines}transform(d){return this.rowTransformerValidator.rowTransform=d,this}validate(d){return this.rowTransformerValidator.rowValidator=d,this}emit(d){if(d==="end")return this.endEmitted||(this.endEmitted=!0,super.emit("end",this.rowCount)),!1;for(var h=arguments.length,g=new Array(h>1?h-1:0),v=1;v<h;v++)g[v-1]=arguments[v];return super.emit(d,...g)}_transform(d,h,g){if(this.hasHitRowLimit)return g();const v=u.wrapDoneCallback(g);try{const{lines:p}=this,y=p+this.decoder.write(d),m=this.parse(y,!0);return this.processRows(m,v)}catch(p){return v(p)}}_flush(d){const h=u.wrapDoneCallback(d);if(this.hasHitRowLimit)return h();try{const g=this.lines+this.decoder.end(),v=this.parse(g,!1);return this.processRows(v,h)}catch(g){return h(g)}}parse(d,h){if(!d)return[];const{line:g,rows:v}=this.parser.parse(d,h);return this.lines=g,v}processRows(d,h){const g=d.length,v=p=>{const y=x=>x?h(x):p%100!=0?v(p+1):void s(()=>v(p+1));if(this.checkAndEmitHeaders(),p>=g||this.hasHitRowLimit)return h();if(this.parsedLineCount+=1,this.shouldSkipLine)return y();const m=d[p];this.rowCount+=1,this.parsedRowCount+=1;const b=this.rowCount;return this.transformRow(m,(x,P)=>{if(x)return this.rowCount-=1,y(x);if(!P)return y(new Error("expected transform result"));if(P.isValid){if(P.row)return this.pushRow(P.row,y)}else this.emit("data-invalid",P.row,b,P.reason);return y()})};v(0)}transformRow(d,h){try{this.headerTransformer.transform(d,(g,v)=>g?h(g):v?v.isValid?v.row?this.shouldEmitRows?this.rowTransformerValidator.transformAndValidate(v.row,h):this.skipRow(h):(this.rowCount-=1,this.parsedRowCount-=1,h(null,{row:null,isValid:!0})):this.shouldEmitRows?h(null,{isValid:!1,row:d}):this.skipRow(h):h(new Error("Expected result from header transform")))}catch(g){h(g)}}checkAndEmitHeaders(){!this.headersEmitted&&this.headerTransformer.headers&&(this.headersEmitted=!0,this.emit("headers",this.headerTransformer.headers))}skipRow(d){return this.rowCount-=1,d(null,{row:null,isValid:!0})}pushRow(d,h){try{this.parserOptions.objectMode?this.push(d):this.push(JSON.stringify(d)),h()}catch(g){h(g)}}static wrapDoneCallback(d){let h=!1;return function(g){if(g){if(h)throw g;return h=!0,void d(g)}for(var v=arguments.length,p=new Array(v>1?v-1:0),y=1;y<v;y++)p[y-1]=arguments[y];d(...p)}}}i.CsvParserStream=u}).call(this)}).call(this,r("timers").setImmediate)},{"./parser":165,"./transforms":168,stream:505,string_decoder:218,timers:523}],154:[function(r,n,i){var s=function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(i,"__esModule",{value:!0}),i.ParserOptions=void 0;const o=s(r("lodash.escaperegexp")),a=s(r("lodash.isnil"));i.ParserOptions=class{constructor(l){var c;if(this.objectMode=!0,this.delimiter=",",this.ignoreEmpty=!1,this.quote='"',this.escape=null,this.escapeChar=this.quote,this.comment=null,this.supportsComments=!1,this.ltrim=!1,this.rtrim=!1,this.trim=!1,this.headers=null,this.renameHeaders=!1,this.strictColumnHandling=!1,this.discardUnmappedColumns=!1,this.carriageReturn="\r",this.encoding="utf8",this.limitRows=!1,this.maxRows=0,this.skipLines=0,this.skipRows=0,Object.assign(this,l||{}),this.delimiter.length>1)throw new Error("delimiter option must be one character long");this.escapedDelimiter=o.default(this.delimiter),this.escapeChar=(c=this.escape)!==null&&c!==void 0?c:this.quote,this.supportsComments=!a.default(this.comment),this.NEXT_TOKEN_REGEXP=new RegExp(`([^\\s]|\\r\\n|\\n|\\r|${this.escapedDelimiter})`),this.maxRows>0&&(this.limitRows=!0)}}},{"lodash.escaperegexp":442,"lodash.isnil":447}],155:[function(r,n,i){var s=Object.create?function(v,p,y,m){m===void 0&&(m=y),Object.defineProperty(v,m,{enumerable:!0,get:function(){return p[y]}})}:function(v,p,y,m){m===void 0&&(m=y),v[m]=p[y]},o=Object.create?function(v,p){Object.defineProperty(v,"default",{enumerable:!0,value:p})}:function(v,p){v.default=p},a=function(v){if(v&&v.__esModule)return v;var p={};if(v!=null)for(var y in v)y!=="default"&&Object.prototype.hasOwnProperty.call(v,y)&&s(p,v,y);return o(p,v),p},l=function(v,p){for(var y in v)y==="default"||Object.prototype.hasOwnProperty.call(p,y)||s(p,v,y)};Object.defineProperty(i,"__esModule",{value:!0}),i.parseString=i.parseFile=i.parseStream=i.parse=i.ParserOptions=i.CsvParserStream=void 0;const c=a(r("fs")),u=r("stream"),f=r("./ParserOptions"),d=r("./CsvParserStream");l(r("./types"),i);var h=r("./CsvParserStream");Object.defineProperty(i,"CsvParserStream",{enumerable:!0,get:function(){return h.CsvParserStream}});var g=r("./ParserOptions");Object.defineProperty(i,"ParserOptions",{enumerable:!0,get:function(){return g.ParserOptions}}),i.parse=v=>new d.CsvParserStream(new f.ParserOptions(v)),i.parseStream=(v,p)=>v.pipe(new d.CsvParserStream(new f.ParserOptions(p))),i.parseFile=function(v){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return c.createReadStream(v).pipe(new d.CsvParserStream(new f.ParserOptions(p)))},i.parseString=(v,p)=>{const y=new u.Readable;return y.push(v),y.push(null),y.pipe(new d.CsvParserStream(new f.ParserOptions(p)))}},{"./CsvParserStream":153,"./ParserOptions":154,"./types":169,fs:216,stream:505}],156:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.Parser=void 0;const s=r("./Scanner"),o=r("./RowParser"),a=r("./Token");class l{constructor(u){this.parserOptions=u,this.rowParser=new o.RowParser(this.parserOptions)}static removeBOM(u){return u&&u.charCodeAt(0)===65279?u.slice(1):u}parse(u,f){const d=new s.Scanner({line:l.removeBOM(u),parserOptions:this.parserOptions,hasMoreData:f});return this.parserOptions.supportsComments?this.parseWithComments(d):this.parseWithoutComments(d)}parseWithoutComments(u){const f=[];let d=!0;for(;d;)d=this.parseRow(u,f);return{line:u.line,rows:f}}parseWithComments(u){const{parserOptions:f}=this,d=[];for(let h=u.nextCharacterToken;h!==null;h=u.nextCharacterToken)if(a.Token.isTokenComment(h,f)){if(u.advancePastLine()===null)return{line:u.lineFromCursor,rows:d};if(!u.hasMoreCharacters)return{line:u.lineFromCursor,rows:d};u.truncateToCursor()}else if(!this.parseRow(u,d))break;return{line:u.line,rows:d}}parseRow(u,f){if(!u.nextNonSpaceToken)return!1;const d=this.rowParser.parse(u);return d!==null&&(this.parserOptions.ignoreEmpty&&o.RowParser.isEmptyRow(d)||f.push(d),!0)}}i.Parser=l},{"./RowParser":157,"./Scanner":158,"./Token":159}],157:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.RowParser=void 0;const s=r("./column"),o=r("./Token");i.RowParser=class{constructor(a){this.parserOptions=a,this.columnParser=new s.ColumnParser(a)}static isEmptyRow(a){return a.join("").replace(/\s+/g,"")===""}parse(a){const{parserOptions:l}=this,{hasMoreData:c}=a,u=a,f=[];let d=this.getStartToken(u,f);for(;d;){if(o.Token.isTokenRowDelimiter(d))return u.advancePastToken(d),!u.hasMoreCharacters&&o.Token.isTokenCarriageReturn(d,l)&&c?null:(u.truncateToCursor(),f);if(!this.shouldSkipColumnParse(u,d,f)){const h=this.columnParser.parse(u);if(h===null)return null;f.push(h)}d=u.nextNonSpaceToken}return c?null:(u.truncateToCursor(),f)}getStartToken(a,l){const c=a.nextNonSpaceToken;return c!==null&&o.Token.isTokenDelimiter(c,this.parserOptions)?(l.push(""),a.nextNonSpaceToken):c}shouldSkipColumnParse(a,l,c){const{parserOptions:u}=this;if(o.Token.isTokenDelimiter(l,u)){a.advancePastToken(l);const f=a.nextCharacterToken;if(!a.hasMoreCharacters||f!==null&&o.Token.isTokenRowDelimiter(f)||f!==null&&o.Token.isTokenDelimiter(f,u))return c.push(""),!0}return!1}}},{"./Token":159,"./column":164}],158:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.Scanner=void 0;const s=r("./Token"),o=/((?:\r\n)|\n|\r)/;i.Scanner=class{constructor(a){this.cursor=0,this.line=a.line,this.lineLength=this.line.length,this.parserOptions=a.parserOptions,this.hasMoreData=a.hasMoreData,this.cursor=a.cursor||0}get hasMoreCharacters(){return this.lineLength>this.cursor}get nextNonSpaceToken(){const{lineFromCursor:a}=this,l=this.parserOptions.NEXT_TOKEN_REGEXP;if(a.search(l)===-1)return null;const c=l.exec(a);if(c==null)return null;const u=c[1],f=this.cursor+(c.index||0);return new s.Token({token:u,startCursor:f,endCursor:f+u.length-1})}get nextCharacterToken(){const{cursor:a,lineLength:l}=this;return l<=a?null:new s.Token({token:this.line[a],startCursor:a,endCursor:a})}get lineFromCursor(){return this.line.substr(this.cursor)}advancePastLine(){const a=o.exec(this.lineFromCursor);return a?(this.cursor+=(a.index||0)+a[0].length,this):this.hasMoreData?null:(this.cursor=this.lineLength,this)}advanceTo(a){return this.cursor=a,this}advanceToToken(a){return this.cursor=a.startCursor,this}advancePastToken(a){return this.cursor=a.endCursor+1,this}truncateToCursor(){return this.line=this.lineFromCursor,this.lineLength=this.line.length,this.cursor=0,this}}},{"./Token":159}],159:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.Token=void 0,i.Token=class{constructor(s){this.token=s.token,this.startCursor=s.startCursor,this.endCursor=s.endCursor}static isTokenRowDelimiter(s){const o=s.token;return o==="\r"||o===`
`||o===`\r
`}static isTokenCarriageReturn(s,o){return s.token===o.carriageReturn}static isTokenComment(s,o){return o.supportsComments&&!!s&&s.token===o.comment}static isTokenEscapeCharacter(s,o){return s.token===o.escapeChar}static isTokenQuote(s,o){return s.token===o.quote}static isTokenDelimiter(s,o){return s.token===o.delimiter}}},{}],160:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.ColumnFormatter=void 0,i.ColumnFormatter=class{constructor(s){s.trim?this.format=o=>o.trim():s.ltrim?this.format=o=>o.trimLeft():s.rtrim?this.format=o=>o.trimRight():this.format=o=>o}}},{}],161:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.ColumnParser=void 0;const s=r("./NonQuotedColumnParser"),o=r("./QuotedColumnParser"),a=r("../Token");i.ColumnParser=class{constructor(l){this.parserOptions=l,this.quotedColumnParser=new o.QuotedColumnParser(l),this.nonQuotedColumnParser=new s.NonQuotedColumnParser(l)}parse(l){const{nextNonSpaceToken:c}=l;return c!==null&&a.Token.isTokenQuote(c,this.parserOptions)?(l.advanceToToken(c),this.quotedColumnParser.parse(l)):this.nonQuotedColumnParser.parse(l)}}},{"../Token":159,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],162:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.NonQuotedColumnParser=void 0;const s=r("./ColumnFormatter"),o=r("../Token");i.NonQuotedColumnParser=class{constructor(a){this.parserOptions=a,this.columnFormatter=new s.ColumnFormatter(a)}parse(a){if(!a.hasMoreCharacters)return null;const{parserOptions:l}=this,c=[];let u=a.nextCharacterToken;for(;u&&!o.Token.isTokenDelimiter(u,l)&&!o.Token.isTokenRowDelimiter(u);u=a.nextCharacterToken)c.push(u.token),a.advancePastToken(u);return this.columnFormatter.format(c.join(""))}}},{"../Token":159,"./ColumnFormatter":160}],163:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.QuotedColumnParser=void 0;const s=r("./ColumnFormatter"),o=r("../Token");i.QuotedColumnParser=class{constructor(a){this.parserOptions=a,this.columnFormatter=new s.ColumnFormatter(a)}parse(a){if(!a.hasMoreCharacters)return null;const l=a.cursor,{foundClosingQuote:c,col:u}=this.gatherDataBetweenQuotes(a);if(!c){if(a.advanceTo(l),!a.hasMoreData)throw new Error(`Parse Error: missing closing: '${this.parserOptions.quote||""}' in line: at '${a.lineFromCursor.replace(/[\r\n]/g,"\\n'")}'`);return null}return this.checkForMalformedColumn(a),u}gatherDataBetweenQuotes(a){const{parserOptions:l}=this;let c=!1,u=!1;const f=[];let d=a.nextCharacterToken;for(;!u&&d!==null;d=a.nextCharacterToken){const h=o.Token.isTokenQuote(d,l);if(!c&&h)c=!0;else if(c)if(o.Token.isTokenEscapeCharacter(d,l)){a.advancePastToken(d);const g=a.nextCharacterToken;g!==null&&(o.Token.isTokenQuote(g,l)||o.Token.isTokenEscapeCharacter(g,l))?(f.push(g.token),d=g):h?u=!0:f.push(d.token)}else h?u=!0:f.push(d.token);a.advancePastToken(d)}return{col:this.columnFormatter.format(f.join("")),foundClosingQuote:u}}checkForMalformedColumn(a){const{parserOptions:l}=this,{nextNonSpaceToken:c}=a;if(c){const u=o.Token.isTokenDelimiter(c,l),f=o.Token.isTokenRowDelimiter(c);if(!u&&!f){const d=a.lineFromCursor.substr(0,10).replace(/[\r\n]/g,"\\n'");throw new Error(`Parse Error: expected: '${l.escapedDelimiter}' OR new line got: '${c.token}'. at '${d}`)}a.advanceToToken(c)}else a.hasMoreData||a.advancePastLine()}}},{"../Token":159,"./ColumnFormatter":160}],164:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.ColumnFormatter=i.QuotedColumnParser=i.NonQuotedColumnParser=i.ColumnParser=void 0;var s=r("./ColumnParser");Object.defineProperty(i,"ColumnParser",{enumerable:!0,get:function(){return s.ColumnParser}});var o=r("./NonQuotedColumnParser");Object.defineProperty(i,"NonQuotedColumnParser",{enumerable:!0,get:function(){return o.NonQuotedColumnParser}});var a=r("./QuotedColumnParser");Object.defineProperty(i,"QuotedColumnParser",{enumerable:!0,get:function(){return a.QuotedColumnParser}});var l=r("./ColumnFormatter");Object.defineProperty(i,"ColumnFormatter",{enumerable:!0,get:function(){return l.ColumnFormatter}})},{"./ColumnFormatter":160,"./ColumnParser":161,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],165:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.QuotedColumnParser=i.NonQuotedColumnParser=i.ColumnParser=i.Token=i.Scanner=i.RowParser=i.Parser=void 0;var s=r("./Parser");Object.defineProperty(i,"Parser",{enumerable:!0,get:function(){return s.Parser}});var o=r("./RowParser");Object.defineProperty(i,"RowParser",{enumerable:!0,get:function(){return o.RowParser}});var a=r("./Scanner");Object.defineProperty(i,"Scanner",{enumerable:!0,get:function(){return a.Scanner}});var l=r("./Token");Object.defineProperty(i,"Token",{enumerable:!0,get:function(){return l.Token}});var c=r("./column");Object.defineProperty(i,"ColumnParser",{enumerable:!0,get:function(){return c.ColumnParser}}),Object.defineProperty(i,"NonQuotedColumnParser",{enumerable:!0,get:function(){return c.NonQuotedColumnParser}}),Object.defineProperty(i,"QuotedColumnParser",{enumerable:!0,get:function(){return c.QuotedColumnParser}})},{"./Parser":156,"./RowParser":157,"./Scanner":158,"./Token":159,"./column":164}],166:[function(r,n,i){var s=function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(i,"__esModule",{value:!0}),i.HeaderTransformer=void 0;const o=s(r("lodash.isundefined")),a=s(r("lodash.isfunction")),l=s(r("lodash.uniq")),c=s(r("lodash.groupby"));i.HeaderTransformer=class{constructor(u){this.headers=null,this.receivedHeaders=!1,this.shouldUseFirstRow=!1,this.processedFirstRow=!1,this.headersLength=0,this.parserOptions=u,u.headers===!0?this.shouldUseFirstRow=!0:Array.isArray(u.headers)?this.setHeaders(u.headers):a.default(u.headers)&&(this.headersTransform=u.headers)}transform(u,f){return this.shouldMapRow(u)?f(null,this.processRow(u)):f(null,{row:null,isValid:!0})}shouldMapRow(u){const{parserOptions:f}=this;if(!this.headersTransform&&f.renameHeaders&&!this.processedFirstRow){if(!this.receivedHeaders)throw new Error("Error renaming headers: new headers must be provided in an array");return this.processedFirstRow=!0,!1}if(!this.receivedHeaders&&Array.isArray(u)){if(this.headersTransform)this.setHeaders(this.headersTransform(u));else{if(!this.shouldUseFirstRow)return!0;this.setHeaders(u)}return!1}return!0}processRow(u){if(!this.headers)return{row:u,isValid:!0};const{parserOptions:f}=this;if(!f.discardUnmappedColumns&&u.length>this.headersLength){if(!f.strictColumnHandling)throw new Error(`Unexpected Error: column header mismatch expected: ${this.headersLength} columns got: ${u.length}`);return{row:u,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${u.length}`}}return f.strictColumnHandling&&u.length<this.headersLength?{row:u,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${u.length}`}:{row:this.mapHeaders(u),isValid:!0}}mapHeaders(u){const f={},{headers:d,headersLength:h}=this;for(let g=0;g<h;g+=1){const v=d[g];if(!o.default(v)){const p=u[g];o.default(p)?f[v]="":f[v]=p}}return f}setHeaders(u){var f;const d=u.filter(h=>!!h);if(l.default(d).length!==d.length){const h=c.default(d),g=Object.keys(h).filter(v=>h[v].length>1);throw new Error("Duplicate headers found "+JSON.stringify(g))}this.headers=u,this.receivedHeaders=!0,this.headersLength=((f=this.headers)===null||f===void 0?void 0:f.length)||0}}},{"lodash.groupby":443,"lodash.isfunction":446,"lodash.isundefined":448,"lodash.uniq":449}],167:[function(r,n,i){var s=function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(i,"__esModule",{value:!0}),i.RowTransformerValidator=void 0;const o=s(r("lodash.isfunction")),a=r("../types");class l{constructor(){this._rowTransform=null,this._rowValidator=null}static createTransform(u){return a.isSyncTransform(u)?(f,d)=>{let h=null;try{h=u(f)}catch(g){return d(g)}return d(null,h)}:u}static createValidator(u){return a.isSyncValidate(u)?(f,d)=>{d(null,{row:f,isValid:u(f)})}:(f,d)=>{u(f,(h,g,v)=>h?d(h):d(null,g?{row:f,isValid:g,reason:v}:{row:f,isValid:!1,reason:v}))}}set rowTransform(u){if(!o.default(u))throw new TypeError("The transform should be a function");this._rowTransform=l.createTransform(u)}set rowValidator(u){if(!o.default(u))throw new TypeError("The validate should be a function");this._rowValidator=l.createValidator(u)}transformAndValidate(u,f){return this.callTransformer(u,(d,h)=>d?f(d):h?this.callValidator(h,(g,v)=>g?f(g):v&&!v.isValid?f(null,{row:h,isValid:!1,reason:v.reason}):f(null,{row:h,isValid:!0})):f(null,{row:null,isValid:!0}))}callTransformer(u,f){return this._rowTransform?this._rowTransform(u,f):f(null,u)}callValidator(u,f){return this._rowValidator?this._rowValidator(u,f):f(null,{row:u,isValid:!0})}}i.RowTransformerValidator=l},{"../types":169,"lodash.isfunction":446}],168:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.HeaderTransformer=i.RowTransformerValidator=void 0;var s=r("./RowTransformerValidator");Object.defineProperty(i,"RowTransformerValidator",{enumerable:!0,get:function(){return s.RowTransformerValidator}});var o=r("./HeaderTransformer");Object.defineProperty(i,"HeaderTransformer",{enumerable:!0,get:function(){return o.HeaderTransformer}})},{"./HeaderTransformer":166,"./RowTransformerValidator":167}],169:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.isSyncValidate=i.isSyncTransform=void 0,i.isSyncTransform=s=>s.length===1,i.isSyncValidate=s=>s.length===1},{}],170:[function(r,n,i){const s=i;s.bignum=r("bn.js"),s.define=r("./asn1/api").define,s.base=r("./asn1/base"),s.constants=r("./asn1/constants"),s.decoders=r("./asn1/decoders"),s.encoders=r("./asn1/encoders")},{"./asn1/api":171,"./asn1/base":173,"./asn1/constants":177,"./asn1/decoders":179,"./asn1/encoders":182,"bn.js":184}],171:[function(r,n,i){const s=r("./encoders"),o=r("./decoders"),a=r("inherits");function l(c,u){this.name=c,this.body=u,this.decoders={},this.encoders={}}i.define=function(c,u){return new l(c,u)},l.prototype._createNamed=function(c){const u=this.name;function f(d){this._initNamed(d,u)}return a(f,c),f.prototype._initNamed=function(d,h){c.call(this,d,h)},new f(this)},l.prototype._getDecoder=function(c){return c=c||"der",this.decoders.hasOwnProperty(c)||(this.decoders[c]=this._createNamed(o[c])),this.decoders[c]},l.prototype.decode=function(c,u,f){return this._getDecoder(u).decode(c,f)},l.prototype._getEncoder=function(c){return c=c||"der",this.encoders.hasOwnProperty(c)||(this.encoders[c]=this._createNamed(s[c])),this.encoders[c]},l.prototype.encode=function(c,u,f){return this._getEncoder(u).encode(c,f)}},{"./decoders":179,"./encoders":182,inherits:440}],172:[function(r,n,i){const s=r("inherits"),o=r("../base/reporter").Reporter,a=r("safer-buffer").Buffer;function l(u,f){o.call(this,f),a.isBuffer(u)?(this.base=u,this.offset=0,this.length=u.length):this.error("Input not Buffer")}function c(u,f){if(Array.isArray(u))this.length=0,this.value=u.map(function(d){return c.isEncoderBuffer(d)||(d=new c(d,f)),this.length+=d.length,d},this);else if(typeof u=="number"){if(!(0<=u&&u<=255))return f.error("non-byte EncoderBuffer value");this.value=u,this.length=1}else if(typeof u=="string")this.value=u,this.length=a.byteLength(u);else{if(!a.isBuffer(u))return f.error("Unsupported type: "+typeof u);this.value=u,this.length=u.length}}s(l,o),i.DecoderBuffer=l,l.isDecoderBuffer=function(u){return u instanceof l?!0:typeof u=="object"&&a.isBuffer(u.base)&&u.constructor.name==="DecoderBuffer"&&typeof u.offset=="number"&&typeof u.length=="number"&&typeof u.save=="function"&&typeof u.restore=="function"&&typeof u.isEmpty=="function"&&typeof u.readUInt8=="function"&&typeof u.skip=="function"&&typeof u.raw=="function"},l.prototype.save=function(){return{offset:this.offset,reporter:o.prototype.save.call(this)}},l.prototype.restore=function(u){const f=new l(this.base);return f.offset=u.offset,f.length=this.offset,this.offset=u.offset,o.prototype.restore.call(this,u.reporter),f},l.prototype.isEmpty=function(){return this.offset===this.length},l.prototype.readUInt8=function(u){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(u||"DecoderBuffer overrun")},l.prototype.skip=function(u,f){if(!(this.offset+u<=this.length))return this.error(f||"DecoderBuffer overrun");const d=new l(this.base);return d._reporterState=this._reporterState,d.offset=this.offset,d.length=this.offset+u,this.offset+=u,d},l.prototype.raw=function(u){return this.base.slice(u?u.offset:this.offset,this.length)},i.EncoderBuffer=c,c.isEncoderBuffer=function(u){return u instanceof c?!0:typeof u=="object"&&u.constructor.name==="EncoderBuffer"&&typeof u.length=="number"&&typeof u.join=="function"},c.prototype.join=function(u,f){return u||(u=a.alloc(this.length)),f||(f=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(d){d.join(u,f),f+=d.length}):(typeof this.value=="number"?u[f]=this.value:typeof this.value=="string"?u.write(this.value,f):a.isBuffer(this.value)&&this.value.copy(u,f),f+=this.length)),u}},{"../base/reporter":175,inherits:440,"safer-buffer":495}],173:[function(r,n,i){const s=i;s.Reporter=r("./reporter").Reporter,s.DecoderBuffer=r("./buffer").DecoderBuffer,s.EncoderBuffer=r("./buffer").EncoderBuffer,s.Node=r("./node")},{"./buffer":172,"./node":174,"./reporter":175}],174:[function(r,n,i){const s=r("../base/reporter").Reporter,o=r("../base/buffer").EncoderBuffer,a=r("../base/buffer").DecoderBuffer,l=r("minimalistic-assert"),c=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],u=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(c);function f(h,g,v){const p={};this._baseState=p,p.name=v,p.enc=h,p.parent=g||null,p.children=null,p.tag=null,p.args=null,p.reverseArgs=null,p.choice=null,p.optional=!1,p.any=!1,p.obj=!1,p.use=null,p.useDecoder=null,p.key=null,p.default=null,p.explicit=null,p.implicit=null,p.contains=null,p.parent||(p.children=[],this._wrap())}n.exports=f;const d=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];f.prototype.clone=function(){const h=this._baseState,g={};d.forEach(function(p){g[p]=h[p]});const v=new this.constructor(g.parent);return v._baseState=g,v},f.prototype._wrap=function(){const h=this._baseState;u.forEach(function(g){this[g]=function(){const v=new this.constructor(this);return h.children.push(v),v[g].apply(v,arguments)}},this)},f.prototype._init=function(h){const g=this._baseState;l(g.parent===null),h.call(this),g.children=g.children.filter(function(v){return v._baseState.parent===this},this),l.equal(g.children.length,1,"Root node can have only one child")},f.prototype._useArgs=function(h){const g=this._baseState,v=h.filter(function(p){return p instanceof this.constructor},this);h=h.filter(function(p){return!(p instanceof this.constructor)},this),v.length!==0&&(l(g.children===null),g.children=v,v.forEach(function(p){p._baseState.parent=this},this)),h.length!==0&&(l(g.args===null),g.args=h,g.reverseArgs=h.map(function(p){if(typeof p!="object"||p.constructor!==Object)return p;const y={};return Object.keys(p).forEach(function(m){m==(0|m)&&(m|=0);const b=p[m];y[b]=m}),y}))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach(function(h){f.prototype[h]=function(){const g=this._baseState;throw new Error(h+" not implemented for encoding: "+g.enc)}}),c.forEach(function(h){f.prototype[h]=function(){const g=this._baseState,v=Array.prototype.slice.call(arguments);return l(g.tag===null),g.tag=h,this._useArgs(v),this}}),f.prototype.use=function(h){l(h);const g=this._baseState;return l(g.use===null),g.use=h,this},f.prototype.optional=function(){return this._baseState.optional=!0,this},f.prototype.def=function(h){const g=this._baseState;return l(g.default===null),g.default=h,g.optional=!0,this},f.prototype.explicit=function(h){const g=this._baseState;return l(g.explicit===null&&g.implicit===null),g.explicit=h,this},f.prototype.implicit=function(h){const g=this._baseState;return l(g.explicit===null&&g.implicit===null),g.implicit=h,this},f.prototype.obj=function(){const h=this._baseState,g=Array.prototype.slice.call(arguments);return h.obj=!0,g.length!==0&&this._useArgs(g),this},f.prototype.key=function(h){const g=this._baseState;return l(g.key===null),g.key=h,this},f.prototype.any=function(){return this._baseState.any=!0,this},f.prototype.choice=function(h){const g=this._baseState;return l(g.choice===null),g.choice=h,this._useArgs(Object.keys(h).map(function(v){return h[v]})),this},f.prototype.contains=function(h){const g=this._baseState;return l(g.use===null),g.contains=h,this},f.prototype._decode=function(h,g){const v=this._baseState;if(v.parent===null)return h.wrapResult(v.children[0]._decode(h,g));let p,y=v.default,m=!0,b=null;if(v.key!==null&&(b=h.enterKey(v.key)),v.optional){let x=null;if(v.explicit!==null?x=v.explicit:v.implicit!==null?x=v.implicit:v.tag!==null&&(x=v.tag),x!==null||v.any){if(m=this._peekTag(h,x,v.any),h.isError(m))return m}else{const P=h.save();try{v.choice===null?this._decodeGeneric(v.tag,h,g):this._decodeChoice(h,g),m=!0}catch{m=!1}h.restore(P)}}if(v.obj&&m&&(p=h.enterObject()),m){if(v.explicit!==null){const P=this._decodeTag(h,v.explicit);if(h.isError(P))return P;h=P}const x=h.offset;if(v.use===null&&v.choice===null){let P;v.any&&(P=h.save());const F=this._decodeTag(h,v.implicit!==null?v.implicit:v.tag,v.any);if(h.isError(F))return F;v.any?y=h.raw(P):h=F}if(g&&g.track&&v.tag!==null&&g.track(h.path(),x,h.length,"tagged"),g&&g.track&&v.tag!==null&&g.track(h.path(),h.offset,h.length,"content"),v.any||(y=v.choice===null?this._decodeGeneric(v.tag,h,g):this._decodeChoice(h,g)),h.isError(y))return y;if(v.any||v.choice!==null||v.children===null||v.children.forEach(function(P){P._decode(h,g)}),v.contains&&(v.tag==="octstr"||v.tag==="bitstr")){const P=new a(y);y=this._getUse(v.contains,h._reporterState.obj)._decode(P,g)}}return v.obj&&m&&(y=h.leaveObject(p)),v.key===null||y===null&&m!==!0?b!==null&&h.exitKey(b):h.leaveKey(b,v.key,y),y},f.prototype._decodeGeneric=function(h,g,v){const p=this._baseState;return h==="seq"||h==="set"?null:h==="seqof"||h==="setof"?this._decodeList(g,h,p.args[0],v):/str$/.test(h)?this._decodeStr(g,h,v):h==="objid"&&p.args?this._decodeObjid(g,p.args[0],p.args[1],v):h==="objid"?this._decodeObjid(g,null,null,v):h==="gentime"||h==="utctime"?this._decodeTime(g,h,v):h==="null_"?this._decodeNull(g,v):h==="bool"?this._decodeBool(g,v):h==="objDesc"?this._decodeStr(g,h,v):h==="int"||h==="enum"?this._decodeInt(g,p.args&&p.args[0],v):p.use!==null?this._getUse(p.use,g._reporterState.obj)._decode(g,v):g.error("unknown tag: "+h)},f.prototype._getUse=function(h,g){const v=this._baseState;return v.useDecoder=this._use(h,g),l(v.useDecoder._baseState.parent===null),v.useDecoder=v.useDecoder._baseState.children[0],v.implicit!==v.useDecoder._baseState.implicit&&(v.useDecoder=v.useDecoder.clone(),v.useDecoder._baseState.implicit=v.implicit),v.useDecoder},f.prototype._decodeChoice=function(h,g){const v=this._baseState;let p=null,y=!1;return Object.keys(v.choice).some(function(m){const b=h.save(),x=v.choice[m];try{const P=x._decode(h,g);if(h.isError(P))return!1;p={type:m,value:P},y=!0}catch{return h.restore(b),!1}return!0},this),y?p:h.error("Choice not matched")},f.prototype._createEncoderBuffer=function(h){return new o(h,this.reporter)},f.prototype._encode=function(h,g,v){const p=this._baseState;if(p.default!==null&&p.default===h)return;const y=this._encodeValue(h,g,v);return y===void 0||this._skipDefault(y,g,v)?void 0:y},f.prototype._encodeValue=function(h,g,v){const p=this._baseState;if(p.parent===null)return p.children[0]._encode(h,g||new s);let y=null;if(this.reporter=g,p.optional&&h===void 0){if(p.default===null)return;h=p.default}let m=null,b=!1;if(p.any)y=this._createEncoderBuffer(h);else if(p.choice)y=this._encodeChoice(h,g);else if(p.contains)m=this._getUse(p.contains,v)._encode(h,g),b=!0;else if(p.children)m=p.children.map(function(x){if(x._baseState.tag==="null_")return x._encode(null,g,h);if(x._baseState.key===null)return g.error("Child should have a key");const P=g.enterKey(x._baseState.key);if(typeof h!="object")return g.error("Child expected, but input is not object");const F=x._encode(h[x._baseState.key],g,h);return g.leaveKey(P),F},this).filter(function(x){return x}),m=this._createEncoderBuffer(m);else if(p.tag==="seqof"||p.tag==="setof"){if(!p.args||p.args.length!==1)return g.error("Too many args for : "+p.tag);if(!Array.isArray(h))return g.error("seqof/setof, but data is not Array");const x=this.clone();x._baseState.implicit=null,m=this._createEncoderBuffer(h.map(function(P){const F=this._baseState;return this._getUse(F.args[0],h)._encode(P,g)},x))}else p.use!==null?y=this._getUse(p.use,v)._encode(h,g):(m=this._encodePrimitive(p.tag,h),b=!0);if(!p.any&&p.choice===null){const x=p.implicit!==null?p.implicit:p.tag,P=p.implicit===null?"universal":"context";x===null?p.use===null&&g.error("Tag could be omitted only for .use()"):p.use===null&&(y=this._encodeComposite(x,b,P,m))}return p.explicit!==null&&(y=this._encodeComposite(p.explicit,!1,"context",y)),y},f.prototype._encodeChoice=function(h,g){const v=this._baseState,p=v.choice[h.type];return p||l(!1,h.type+" not found in "+JSON.stringify(Object.keys(v.choice))),p._encode(h.value,g)},f.prototype._encodePrimitive=function(h,g){const v=this._baseState;if(/str$/.test(h))return this._encodeStr(g,h);if(h==="objid"&&v.args)return this._encodeObjid(g,v.reverseArgs[0],v.args[1]);if(h==="objid")return this._encodeObjid(g,null,null);if(h==="gentime"||h==="utctime")return this._encodeTime(g,h);if(h==="null_")return this._encodeNull();if(h==="int"||h==="enum")return this._encodeInt(g,v.args&&v.reverseArgs[0]);if(h==="bool")return this._encodeBool(g);if(h==="objDesc")return this._encodeStr(g,h);throw new Error("Unsupported tag: "+h)},f.prototype._isNumstr=function(h){return/^[0-9 ]*$/.test(h)},f.prototype._isPrintstr=function(h){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(h)}},{"../base/buffer":172,"../base/reporter":175,"minimalistic-assert":453}],175:[function(r,n,i){const s=r("inherits");function o(l){this._reporterState={obj:null,path:[],options:l||{},errors:[]}}function a(l,c){this.path=l,this.rethrow(c)}i.Reporter=o,o.prototype.isError=function(l){return l instanceof a},o.prototype.save=function(){const l=this._reporterState;return{obj:l.obj,pathLen:l.path.length}},o.prototype.restore=function(l){const c=this._reporterState;c.obj=l.obj,c.path=c.path.slice(0,l.pathLen)},o.prototype.enterKey=function(l){return this._reporterState.path.push(l)},o.prototype.exitKey=function(l){const c=this._reporterState;c.path=c.path.slice(0,l-1)},o.prototype.leaveKey=function(l,c,u){const f=this._reporterState;this.exitKey(l),f.obj!==null&&(f.obj[c]=u)},o.prototype.path=function(){return this._reporterState.path.join("/")},o.prototype.enterObject=function(){const l=this._reporterState,c=l.obj;return l.obj={},c},o.prototype.leaveObject=function(l){const c=this._reporterState,u=c.obj;return c.obj=l,u},o.prototype.error=function(l){let c;const u=this._reporterState,f=l instanceof a;if(c=f?l:new a(u.path.map(function(d){return"["+JSON.stringify(d)+"]"}).join(""),l.message||l,l.stack),!u.options.partial)throw c;return f||u.errors.push(c),c},o.prototype.wrapResult=function(l){const c=this._reporterState;return c.options.partial?{result:this.isError(l)?null:l,errors:c.errors}:l},s(a,Error),a.prototype.rethrow=function(l){if(this.message=l+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,a),!this.stack)try{throw new Error(this.message)}catch(c){this.stack=c.stack}return this}},{inherits:440}],176:[function(r,n,i){function s(o){const a={};return Object.keys(o).forEach(function(l){(0|l)==l&&(l|=0);const c=o[l];a[c]=l}),a}i.tagClass={0:"universal",1:"application",2:"context",3:"private"},i.tagClassByName=s(i.tagClass),i.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},i.tagByName=s(i.tag)},{}],177:[function(r,n,i){const s=i;s._reverse=function(o){const a={};return Object.keys(o).forEach(function(l){(0|l)==l&&(l|=0);const c=o[l];a[c]=l}),a},s.der=r("./der")},{"./der":176}],178:[function(r,n,i){const s=r("inherits"),o=r("bn.js"),a=r("../base/buffer").DecoderBuffer,l=r("../base/node"),c=r("../constants/der");function u(g){this.enc="der",this.name=g.name,this.entity=g,this.tree=new f,this.tree._init(g.body)}function f(g){l.call(this,"der",g)}function d(g,v){let p=g.readUInt8(v);if(g.isError(p))return p;const y=c.tagClass[p>>6],m=(32&p)==0;if((31&p)==31){let b=p;for(p=0;(128&b)==128;){if(b=g.readUInt8(v),g.isError(b))return b;p<<=7,p|=127&b}}else p&=31;return{cls:y,primitive:m,tag:p,tagStr:c.tag[p]}}function h(g,v,p){let y=g.readUInt8(p);if(g.isError(y))return y;if(!v&&y===128)return null;if(!(128&y))return y;const m=127&y;if(m>4)return g.error("length octect is too long");y=0;for(let b=0;b<m;b++){y<<=8;const x=g.readUInt8(p);if(g.isError(x))return x;y|=x}return y}n.exports=u,u.prototype.decode=function(g,v){return a.isDecoderBuffer(g)||(g=new a(g,v)),this.tree._decode(g,v)},s(f,l),f.prototype._peekTag=function(g,v,p){if(g.isEmpty())return!1;const y=g.save(),m=d(g,'Failed to peek tag: "'+v+'"');return g.isError(m)?m:(g.restore(y),m.tag===v||m.tagStr===v||m.tagStr+"of"===v||p)},f.prototype._decodeTag=function(g,v,p){const y=d(g,'Failed to decode tag of "'+v+'"');if(g.isError(y))return y;let m=h(g,y.primitive,'Failed to get length of "'+v+'"');if(g.isError(m))return m;if(!p&&y.tag!==v&&y.tagStr!==v&&y.tagStr+"of"!==v)return g.error('Failed to match tag: "'+v+'"');if(y.primitive||m!==null)return g.skip(m,'Failed to match body of: "'+v+'"');const b=g.save(),x=this._skipUntilEnd(g,'Failed to skip indefinite length body: "'+this.tag+'"');return g.isError(x)?x:(m=g.offset-b.offset,g.restore(b),g.skip(m,'Failed to match body of: "'+v+'"'))},f.prototype._skipUntilEnd=function(g,v){for(;;){const p=d(g,v);if(g.isError(p))return p;const y=h(g,p.primitive,v);if(g.isError(y))return y;let m;if(m=p.primitive||y!==null?g.skip(y):this._skipUntilEnd(g,v),g.isError(m))return m;if(p.tagStr==="end")break}},f.prototype._decodeList=function(g,v,p,y){const m=[];for(;!g.isEmpty();){const b=this._peekTag(g,"end");if(g.isError(b))return b;const x=p.decode(g,"der",y);if(g.isError(x)&&b)break;m.push(x)}return m},f.prototype._decodeStr=function(g,v){if(v==="bitstr"){const p=g.readUInt8();return g.isError(p)?p:{unused:p,data:g.raw()}}if(v==="bmpstr"){const p=g.raw();if(p.length%2==1)return g.error("Decoding of string type: bmpstr length mismatch");let y="";for(let m=0;m<p.length/2;m++)y+=String.fromCharCode(p.readUInt16BE(2*m));return y}if(v==="numstr"){const p=g.raw().toString("ascii");return this._isNumstr(p)?p:g.error("Decoding of string type: numstr unsupported characters")}if(v==="octstr"||v==="objDesc")return g.raw();if(v==="printstr"){const p=g.raw().toString("ascii");return this._isPrintstr(p)?p:g.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(v)?g.raw().toString():g.error("Decoding of string type: "+v+" unsupported")},f.prototype._decodeObjid=function(g,v,p){let y;const m=[];let b=0,x=0;for(;!g.isEmpty();)x=g.readUInt8(),b<<=7,b|=127&x,!(128&x)&&(m.push(b),b=0);128&x&&m.push(b);const P=m[0]/40|0,F=m[0]%40;if(y=p?m:[P,F].concat(m.slice(1)),v){let D=v[y.join(" ")];D===void 0&&(D=v[y.join(".")]),D!==void 0&&(y=D)}return y},f.prototype._decodeTime=function(g,v){const p=g.raw().toString();let y,m,b,x,P,F;if(v==="gentime")y=0|p.slice(0,4),m=0|p.slice(4,6),b=0|p.slice(6,8),x=0|p.slice(8,10),P=0|p.slice(10,12),F=0|p.slice(12,14);else{if(v!=="utctime")return g.error("Decoding "+v+" time is not supported yet");y=0|p.slice(0,2),m=0|p.slice(2,4),b=0|p.slice(4,6),x=0|p.slice(6,8),P=0|p.slice(8,10),F=0|p.slice(10,12),y=y<70?2e3+y:1900+y}return Date.UTC(y,m-1,b,x,P,F,0)},f.prototype._decodeNull=function(){return null},f.prototype._decodeBool=function(g){const v=g.readUInt8();return g.isError(v)?v:v!==0},f.prototype._decodeInt=function(g,v){const p=g.raw();let y=new o(p);return v&&(y=v[y.toString(10)]||y),y},f.prototype._use=function(g,v){return typeof g=="function"&&(g=g(v)),g._getDecoder("der").tree}},{"../base/buffer":172,"../base/node":174,"../constants/der":176,"bn.js":184,inherits:440}],179:[function(r,n,i){const s=i;s.der=r("./der"),s.pem=r("./pem")},{"./der":178,"./pem":180}],180:[function(r,n,i){const s=r("inherits"),o=r("safer-buffer").Buffer,a=r("./der");function l(c){a.call(this,c),this.enc="pem"}s(l,a),n.exports=l,l.prototype.decode=function(c,u){const f=c.toString().split(/[\r\n]+/g),d=u.label.toUpperCase(),h=/^-----(BEGIN|END) ([^-]+)-----$/;let g=-1,v=-1;for(let m=0;m<f.length;m++){const b=f[m].match(h);if(b!==null&&b[2]===d){if(g!==-1){if(b[1]!=="END")break;v=m;break}if(b[1]!=="BEGIN")break;g=m}}if(g===-1||v===-1)throw new Error("PEM section not found for: "+d);const p=f.slice(g+1,v).join("");p.replace(/[^a-z0-9+/=]+/gi,"");const y=o.from(p,"base64");return a.prototype.decode.call(this,y,u)}},{"./der":178,inherits:440,"safer-buffer":495}],181:[function(r,n,i){const s=r("inherits"),o=r("safer-buffer").Buffer,a=r("../base/node"),l=r("../constants/der");function c(d){this.enc="der",this.name=d.name,this.entity=d,this.tree=new u,this.tree._init(d.body)}function u(d){a.call(this,"der",d)}function f(d){return d<10?"0"+d:d}n.exports=c,c.prototype.encode=function(d,h){return this.tree._encode(d,h).join()},s(u,a),u.prototype._encodeComposite=function(d,h,g,v){const p=function(b,x,P,F){let D;if(b==="seqof"?b="seq":b==="setof"&&(b="set"),l.tagByName.hasOwnProperty(b))D=l.tagByName[b];else{if(typeof b!="number"||(0|b)!==b)return F.error("Unknown tag: "+b);D=b}return D>=31?F.error("Multi-octet tag encoding unsupported"):(x||(D|=32),D|=l.tagClassByName[P||"universal"]<<6,D)}(d,h,g,this.reporter);if(v.length<128){const b=o.alloc(2);return b[0]=p,b[1]=v.length,this._createEncoderBuffer([b,v])}let y=1;for(let b=v.length;b>=256;b>>=8)y++;const m=o.alloc(2+y);m[0]=p,m[1]=128|y;for(let b=1+y,x=v.length;x>0;b--,x>>=8)m[b]=255&x;return this._createEncoderBuffer([m,v])},u.prototype._encodeStr=function(d,h){if(h==="bitstr")return this._createEncoderBuffer([0|d.unused,d.data]);if(h==="bmpstr"){const g=o.alloc(2*d.length);for(let v=0;v<d.length;v++)g.writeUInt16BE(d.charCodeAt(v),2*v);return this._createEncoderBuffer(g)}return h==="numstr"?this._isNumstr(d)?this._createEncoderBuffer(d):this.reporter.error("Encoding of string type: numstr supports only digits and space"):h==="printstr"?this._isPrintstr(d)?this._createEncoderBuffer(d):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(h)||h==="objDesc"?this._createEncoderBuffer(d):this.reporter.error("Encoding of string type: "+h+" unsupported")},u.prototype._encodeObjid=function(d,h,g){if(typeof d=="string"){if(!h)return this.reporter.error("string objid given, but no values map found");if(!h.hasOwnProperty(d))return this.reporter.error("objid not found in values map");d=h[d].split(/[\s.]+/g);for(let m=0;m<d.length;m++)d[m]|=0}else if(Array.isArray(d)){d=d.slice();for(let m=0;m<d.length;m++)d[m]|=0}if(!Array.isArray(d))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(d));if(!g){if(d[1]>=40)return this.reporter.error("Second objid identifier OOB");d.splice(0,2,40*d[0]+d[1])}let v=0;for(let m=0;m<d.length;m++){let b=d[m];for(v++;b>=128;b>>=7)v++}const p=o.alloc(v);let y=p.length-1;for(let m=d.length-1;m>=0;m--){let b=d[m];for(p[y--]=127&b;(b>>=7)>0;)p[y--]=128|127&b}return this._createEncoderBuffer(p)},u.prototype._encodeTime=function(d,h){let g;const v=new Date(d);return h==="gentime"?g=[f(v.getUTCFullYear()),f(v.getUTCMonth()+1),f(v.getUTCDate()),f(v.getUTCHours()),f(v.getUTCMinutes()),f(v.getUTCSeconds()),"Z"].join(""):h==="utctime"?g=[f(v.getUTCFullYear()%100),f(v.getUTCMonth()+1),f(v.getUTCDate()),f(v.getUTCHours()),f(v.getUTCMinutes()),f(v.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+h+" time is not supported yet"),this._encodeStr(g,"octstr")},u.prototype._encodeNull=function(){return this._createEncoderBuffer("")},u.prototype._encodeInt=function(d,h){if(typeof d=="string"){if(!h)return this.reporter.error("String int or enum given, but no values map");if(!h.hasOwnProperty(d))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(d));d=h[d]}if(typeof d!="number"&&!o.isBuffer(d)){const p=d.toArray();!d.sign&&128&p[0]&&p.unshift(0),d=o.from(p)}if(o.isBuffer(d)){let p=d.length;d.length===0&&p++;const y=o.alloc(p);return d.copy(y),d.length===0&&(y[0]=0),this._createEncoderBuffer(y)}if(d<128)return this._createEncoderBuffer(d);if(d<256)return this._createEncoderBuffer([0,d]);let g=1;for(let p=d;p>=256;p>>=8)g++;const v=new Array(g);for(let p=v.length-1;p>=0;p--)v[p]=255&d,d>>=8;return 128&v[0]&&v.unshift(0),this._createEncoderBuffer(o.from(v))},u.prototype._encodeBool=function(d){return this._createEncoderBuffer(d?255:0)},u.prototype._use=function(d,h){return typeof d=="function"&&(d=d(h)),d._getEncoder("der").tree},u.prototype._skipDefault=function(d,h,g){const v=this._baseState;let p;if(v.default===null)return!1;const y=d.join();if(v.defaultBuffer===void 0&&(v.defaultBuffer=this._encodeValue(v.default,h,g).join()),y.length!==v.defaultBuffer.length)return!1;for(p=0;p<y.length;p++)if(y[p]!==v.defaultBuffer[p])return!1;return!0}},{"../base/node":174,"../constants/der":176,inherits:440,"safer-buffer":495}],182:[function(r,n,i){const s=i;s.der=r("./der"),s.pem=r("./pem")},{"./der":181,"./pem":183}],183:[function(r,n,i){const s=r("inherits"),o=r("./der");function a(l){o.call(this,l),this.enc="pem"}s(a,o),n.exports=a,a.prototype.encode=function(l,c){const u=o.prototype.encode.call(this,l).toString("base64"),f=["-----BEGIN "+c.label+"-----"];for(let d=0;d<u.length;d+=64)f.push(u.slice(d,d+64));return f.push("-----END "+c.label+"-----"),f.join(`
`)}},{"./der":181,inherits:440}],184:[function(r,n,i){(function(s,o){function a(M,k){if(!M)throw new Error(k||"Assertion failed")}function l(M,k){M.super_=k;var E=function(){};E.prototype=k.prototype,M.prototype=new E,M.prototype.constructor=M}function c(M,k,E){if(c.isBN(M))return M;this.negative=0,this.words=null,this.length=0,this.red=null,M!==null&&(k!=="le"&&k!=="be"||(E=k,k=10),this._init(M||0,k||10,E||"be"))}var u;typeof s=="object"?s.exports=c:(void 0).BN=c,c.BN=c,c.wordSize=26;try{u=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:r("buffer").Buffer}catch{}function f(M,k){var E=M.charCodeAt(k);return E>=65&&E<=70?E-55:E>=97&&E<=102?E-87:E-48&15}function d(M,k,E){var w=f(M,E);return E-1>=k&&(w|=f(M,E-1)<<4),w}function h(M,k,E,w){for(var C=0,S=Math.min(M.length,E),R=k;R<S;R++){var _=M.charCodeAt(R)-48;C*=w,C+=_>=49?_-49+10:_>=17?_-17+10:_}return C}c.isBN=function(M){return M instanceof c||M!==null&&typeof M=="object"&&M.constructor.wordSize===c.wordSize&&Array.isArray(M.words)},c.max=function(M,k){return M.cmp(k)>0?M:k},c.min=function(M,k){return M.cmp(k)<0?M:k},c.prototype._init=function(M,k,E){if(typeof M=="number")return this._initNumber(M,k,E);if(typeof M=="object")return this._initArray(M,k,E);k==="hex"&&(k=16),a(k===(0|k)&&k>=2&&k<=36);var w=0;(M=M.toString().replace(/\s+/g,""))[0]==="-"&&(w++,this.negative=1),w<M.length&&(k===16?this._parseHex(M,w,E):(this._parseBase(M,k,w),E==="le"&&this._initArray(this.toArray(),k,E)))},c.prototype._initNumber=function(M,k,E){M<0&&(this.negative=1,M=-M),M<67108864?(this.words=[67108863&M],this.length=1):M<4503599627370496?(this.words=[67108863&M,M/67108864&67108863],this.length=2):(a(M<9007199254740992),this.words=[67108863&M,M/67108864&67108863,1],this.length=3),E==="le"&&this._initArray(this.toArray(),k,E)},c.prototype._initArray=function(M,k,E){if(a(typeof M.length=="number"),M.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(M.length/3),this.words=new Array(this.length);for(var w=0;w<this.length;w++)this.words[w]=0;var C,S,R=0;if(E==="be")for(w=M.length-1,C=0;w>=0;w-=3)S=M[w]|M[w-1]<<8|M[w-2]<<16,this.words[C]|=S<<R&67108863,this.words[C+1]=S>>>26-R&67108863,(R+=24)>=26&&(R-=26,C++);else if(E==="le")for(w=0,C=0;w<M.length;w+=3)S=M[w]|M[w+1]<<8|M[w+2]<<16,this.words[C]|=S<<R&67108863,this.words[C+1]=S>>>26-R&67108863,(R+=24)>=26&&(R-=26,C++);return this.strip()},c.prototype._parseHex=function(M,k,E){this.length=Math.ceil((M.length-k)/6),this.words=new Array(this.length);for(var w=0;w<this.length;w++)this.words[w]=0;var C,S=0,R=0;if(E==="be")for(w=M.length-1;w>=k;w-=2)C=d(M,k,w)<<S,this.words[R]|=67108863&C,S>=18?(S-=18,R+=1,this.words[R]|=C>>>26):S+=8;else for(w=(M.length-k)%2==0?k+1:k;w<M.length;w+=2)C=d(M,k,w)<<S,this.words[R]|=67108863&C,S>=18?(S-=18,R+=1,this.words[R]|=C>>>26):S+=8;this.strip()},c.prototype._parseBase=function(M,k,E){this.words=[0],this.length=1;for(var w=0,C=1;C<=67108863;C*=k)w++;w--,C=C/k|0;for(var S=M.length-E,R=S%w,_=Math.min(S,S-R)+E,N=0,B=E;B<_;B+=w)N=h(M,B,B+w,k),this.imuln(C),this.words[0]+N<67108864?this.words[0]+=N:this._iaddn(N);if(R!==0){var V=1;for(N=h(M,B,M.length,k),B=0;B<R;B++)V*=k;this.imuln(V),this.words[0]+N<67108864?this.words[0]+=N:this._iaddn(N)}this.strip()},c.prototype.copy=function(M){M.words=new Array(this.length);for(var k=0;k<this.length;k++)M.words[k]=this.words[k];M.length=this.length,M.negative=this.negative,M.red=this.red},c.prototype.clone=function(){var M=new c(null);return this.copy(M),M},c.prototype._expand=function(M){for(;this.length<M;)this.words[this.length++]=0;return this},c.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},c.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},c.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var g=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],v=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function y(M,k,E){E.negative=k.negative^M.negative;var w=M.length+k.length|0;E.length=w,w=w-1|0;var C=0|M.words[0],S=0|k.words[0],R=C*S,_=67108863&R,N=R/67108864|0;E.words[0]=_;for(var B=1;B<w;B++){for(var V=N>>>26,$=67108863&N,Y=Math.min(B,k.length-1),L=Math.max(0,B-M.length+1);L<=Y;L++){var K=B-L|0;V+=(R=(C=0|M.words[K])*(S=0|k.words[L])+$)/67108864|0,$=67108863&R}E.words[B]=0|$,N=0|V}return N!==0?E.words[B]=0|N:E.length--,E.strip()}c.prototype.toString=function(M,k){var E;if(k=0|k||1,(M=M||10)===16||M==="hex"){E="";for(var w=0,C=0,S=0;S<this.length;S++){var R=this.words[S],_=(16777215&(R<<w|C)).toString(16);E=(C=R>>>24-w&16777215)!==0||S!==this.length-1?g[6-_.length]+_+E:_+E,(w+=2)>=26&&(w-=26,S--)}for(C!==0&&(E=C.toString(16)+E);E.length%k!=0;)E="0"+E;return this.negative!==0&&(E="-"+E),E}if(M===(0|M)&&M>=2&&M<=36){var N=v[M],B=p[M];E="";var V=this.clone();for(V.negative=0;!V.isZero();){var $=V.modn(B).toString(M);E=(V=V.idivn(B)).isZero()?$+E:g[N-$.length]+$+E}for(this.isZero()&&(E="0"+E);E.length%k!=0;)E="0"+E;return this.negative!==0&&(E="-"+E),E}a(!1,"Base should be between 2 and 36")},c.prototype.toNumber=function(){var M=this.words[0];return this.length===2?M+=67108864*this.words[1]:this.length===3&&this.words[2]===1?M+=4503599627370496+67108864*this.words[1]:this.length>2&&a(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-M:M},c.prototype.toJSON=function(){return this.toString(16)},c.prototype.toBuffer=function(M,k){return a(u!==void 0),this.toArrayLike(u,M,k)},c.prototype.toArray=function(M,k){return this.toArrayLike(Array,M,k)},c.prototype.toArrayLike=function(M,k,E){var w=this.byteLength(),C=E||Math.max(1,w);a(w<=C,"byte array longer than desired length"),a(C>0,"Requested array length <= 0"),this.strip();var S,R,_=k==="le",N=new M(C),B=this.clone();if(_){for(R=0;!B.isZero();R++)S=B.andln(255),B.iushrn(8),N[R]=S;for(;R<C;R++)N[R]=0}else{for(R=0;R<C-w;R++)N[R]=0;for(R=0;!B.isZero();R++)S=B.andln(255),B.iushrn(8),N[C-R-1]=S}return N},Math.clz32?c.prototype._countBits=function(M){return 32-Math.clz32(M)}:c.prototype._countBits=function(M){var k=M,E=0;return k>=4096&&(E+=13,k>>>=13),k>=64&&(E+=7,k>>>=7),k>=8&&(E+=4,k>>>=4),k>=2&&(E+=2,k>>>=2),E+k},c.prototype._zeroBits=function(M){if(M===0)return 26;var k=M,E=0;return!(8191&k)&&(E+=13,k>>>=13),!(127&k)&&(E+=7,k>>>=7),!(15&k)&&(E+=4,k>>>=4),!(3&k)&&(E+=2,k>>>=2),!(1&k)&&E++,E},c.prototype.bitLength=function(){var M=this.words[this.length-1],k=this._countBits(M);return 26*(this.length-1)+k},c.prototype.zeroBits=function(){if(this.isZero())return 0;for(var M=0,k=0;k<this.length;k++){var E=this._zeroBits(this.words[k]);if(M+=E,E!==26)break}return M},c.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},c.prototype.toTwos=function(M){return this.negative!==0?this.abs().inotn(M).iaddn(1):this.clone()},c.prototype.fromTwos=function(M){return this.testn(M-1)?this.notn(M).iaddn(1).ineg():this.clone()},c.prototype.isNeg=function(){return this.negative!==0},c.prototype.neg=function(){return this.clone().ineg()},c.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},c.prototype.iuor=function(M){for(;this.length<M.length;)this.words[this.length++]=0;for(var k=0;k<M.length;k++)this.words[k]=this.words[k]|M.words[k];return this.strip()},c.prototype.ior=function(M){return a((this.negative|M.negative)==0),this.iuor(M)},c.prototype.or=function(M){return this.length>M.length?this.clone().ior(M):M.clone().ior(this)},c.prototype.uor=function(M){return this.length>M.length?this.clone().iuor(M):M.clone().iuor(this)},c.prototype.iuand=function(M){var k;k=this.length>M.length?M:this;for(var E=0;E<k.length;E++)this.words[E]=this.words[E]&M.words[E];return this.length=k.length,this.strip()},c.prototype.iand=function(M){return a((this.negative|M.negative)==0),this.iuand(M)},c.prototype.and=function(M){return this.length>M.length?this.clone().iand(M):M.clone().iand(this)},c.prototype.uand=function(M){return this.length>M.length?this.clone().iuand(M):M.clone().iuand(this)},c.prototype.iuxor=function(M){var k,E;this.length>M.length?(k=this,E=M):(k=M,E=this);for(var w=0;w<E.length;w++)this.words[w]=k.words[w]^E.words[w];if(this!==k)for(;w<k.length;w++)this.words[w]=k.words[w];return this.length=k.length,this.strip()},c.prototype.ixor=function(M){return a((this.negative|M.negative)==0),this.iuxor(M)},c.prototype.xor=function(M){return this.length>M.length?this.clone().ixor(M):M.clone().ixor(this)},c.prototype.uxor=function(M){return this.length>M.length?this.clone().iuxor(M):M.clone().iuxor(this)},c.prototype.inotn=function(M){a(typeof M=="number"&&M>=0);var k=0|Math.ceil(M/26),E=M%26;this._expand(k),E>0&&k--;for(var w=0;w<k;w++)this.words[w]=67108863&~this.words[w];return E>0&&(this.words[w]=~this.words[w]&67108863>>26-E),this.strip()},c.prototype.notn=function(M){return this.clone().inotn(M)},c.prototype.setn=function(M,k){a(typeof M=="number"&&M>=0);var E=M/26|0,w=M%26;return this._expand(E+1),this.words[E]=k?this.words[E]|1<<w:this.words[E]&~(1<<w),this.strip()},c.prototype.iadd=function(M){var k,E,w;if(this.negative!==0&&M.negative===0)return this.negative=0,k=this.isub(M),this.negative^=1,this._normSign();if(this.negative===0&&M.negative!==0)return M.negative=0,k=this.isub(M),M.negative=1,k._normSign();this.length>M.length?(E=this,w=M):(E=M,w=this);for(var C=0,S=0;S<w.length;S++)k=(0|E.words[S])+(0|w.words[S])+C,this.words[S]=67108863&k,C=k>>>26;for(;C!==0&&S<E.length;S++)k=(0|E.words[S])+C,this.words[S]=67108863&k,C=k>>>26;if(this.length=E.length,C!==0)this.words[this.length]=C,this.length++;else if(E!==this)for(;S<E.length;S++)this.words[S]=E.words[S];return this},c.prototype.add=function(M){var k;return M.negative!==0&&this.negative===0?(M.negative=0,k=this.sub(M),M.negative^=1,k):M.negative===0&&this.negative!==0?(this.negative=0,k=M.sub(this),this.negative=1,k):this.length>M.length?this.clone().iadd(M):M.clone().iadd(this)},c.prototype.isub=function(M){if(M.negative!==0){M.negative=0;var k=this.iadd(M);return M.negative=1,k._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(M),this.negative=1,this._normSign();var E,w,C=this.cmp(M);if(C===0)return this.negative=0,this.length=1,this.words[0]=0,this;C>0?(E=this,w=M):(E=M,w=this);for(var S=0,R=0;R<w.length;R++)S=(k=(0|E.words[R])-(0|w.words[R])+S)>>26,this.words[R]=67108863&k;for(;S!==0&&R<E.length;R++)S=(k=(0|E.words[R])+S)>>26,this.words[R]=67108863&k;if(S===0&&R<E.length&&E!==this)for(;R<E.length;R++)this.words[R]=E.words[R];return this.length=Math.max(this.length,R),E!==this&&(this.negative=1),this.strip()},c.prototype.sub=function(M){return this.clone().isub(M)};var m=function(M,k,E){var w,C,S,R=M.words,_=k.words,N=E.words,B=0,V=0|R[0],$=8191&V,Y=V>>>13,L=0|R[1],K=8191&L,I=L>>>13,A=0|R[2],z=8191&A,q=A>>>13,J=0|R[3],X=8191&J,Z=J>>>13,ie=0|R[4],se=8191&ie,Q=ie>>>13,re=0|R[5],ne=8191&re,ue=re>>>13,de=0|R[6],ge=8191&de,we=de>>>13,xe=0|R[7],Fe=8191&xe,De=xe>>>13,Le=0|R[8],He=8191&Le,it=Le>>>13,Qe=0|R[9],rt=8191&Qe,Pe=Qe>>>13,Ie=0|_[0],ae=8191&Ie,ce=Ie>>>13,be=0|_[1],ve=8191&be,qe=be>>>13,Ce=0|_[2],Ne=8191&Ce,Ue=Ce>>>13,Ge=0|_[3],Ee=8191&Ge,yt=Ge>>>13,oe=0|_[4],_e=8191&oe,Ve=oe>>>13,ft=0|_[5],ot=8191&ft,St=ft>>>13,Pt=0|_[6],lt=8191&Pt,le=Pt>>>13,me=0|_[7],Te=8191&me,ze=me>>>13,at=0|_[8],Oe=8191&at,Ze=at>>>13,Xe=0|_[9],Je=8191&Xe,Ye=Xe>>>13;E.negative=M.negative^k.negative,E.length=19;var ut=(B+(w=Math.imul($,ae))|0)+((8191&(C=(C=Math.imul($,ce))+Math.imul(Y,ae)|0))<<13)|0;B=((S=Math.imul(Y,ce))+(C>>>13)|0)+(ut>>>26)|0,ut&=67108863,w=Math.imul(K,ae),C=(C=Math.imul(K,ce))+Math.imul(I,ae)|0,S=Math.imul(I,ce);var bt=(B+(w=w+Math.imul($,ve)|0)|0)+((8191&(C=(C=C+Math.imul($,qe)|0)+Math.imul(Y,ve)|0))<<13)|0;B=((S=S+Math.imul(Y,qe)|0)+(C>>>13)|0)+(bt>>>26)|0,bt&=67108863,w=Math.imul(z,ae),C=(C=Math.imul(z,ce))+Math.imul(q,ae)|0,S=Math.imul(q,ce),w=w+Math.imul(K,ve)|0,C=(C=C+Math.imul(K,qe)|0)+Math.imul(I,ve)|0,S=S+Math.imul(I,qe)|0;var Wt=(B+(w=w+Math.imul($,Ne)|0)|0)+((8191&(C=(C=C+Math.imul($,Ue)|0)+Math.imul(Y,Ne)|0))<<13)|0;B=((S=S+Math.imul(Y,Ue)|0)+(C>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,w=Math.imul(X,ae),C=(C=Math.imul(X,ce))+Math.imul(Z,ae)|0,S=Math.imul(Z,ce),w=w+Math.imul(z,ve)|0,C=(C=C+Math.imul(z,qe)|0)+Math.imul(q,ve)|0,S=S+Math.imul(q,qe)|0,w=w+Math.imul(K,Ne)|0,C=(C=C+Math.imul(K,Ue)|0)+Math.imul(I,Ne)|0,S=S+Math.imul(I,Ue)|0;var Lt=(B+(w=w+Math.imul($,Ee)|0)|0)+((8191&(C=(C=C+Math.imul($,yt)|0)+Math.imul(Y,Ee)|0))<<13)|0;B=((S=S+Math.imul(Y,yt)|0)+(C>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,w=Math.imul(se,ae),C=(C=Math.imul(se,ce))+Math.imul(Q,ae)|0,S=Math.imul(Q,ce),w=w+Math.imul(X,ve)|0,C=(C=C+Math.imul(X,qe)|0)+Math.imul(Z,ve)|0,S=S+Math.imul(Z,qe)|0,w=w+Math.imul(z,Ne)|0,C=(C=C+Math.imul(z,Ue)|0)+Math.imul(q,Ne)|0,S=S+Math.imul(q,Ue)|0,w=w+Math.imul(K,Ee)|0,C=(C=C+Math.imul(K,yt)|0)+Math.imul(I,Ee)|0,S=S+Math.imul(I,yt)|0;var er=(B+(w=w+Math.imul($,_e)|0)|0)+((8191&(C=(C=C+Math.imul($,Ve)|0)+Math.imul(Y,_e)|0))<<13)|0;B=((S=S+Math.imul(Y,Ve)|0)+(C>>>13)|0)+(er>>>26)|0,er&=67108863,w=Math.imul(ne,ae),C=(C=Math.imul(ne,ce))+Math.imul(ue,ae)|0,S=Math.imul(ue,ce),w=w+Math.imul(se,ve)|0,C=(C=C+Math.imul(se,qe)|0)+Math.imul(Q,ve)|0,S=S+Math.imul(Q,qe)|0,w=w+Math.imul(X,Ne)|0,C=(C=C+Math.imul(X,Ue)|0)+Math.imul(Z,Ne)|0,S=S+Math.imul(Z,Ue)|0,w=w+Math.imul(z,Ee)|0,C=(C=C+Math.imul(z,yt)|0)+Math.imul(q,Ee)|0,S=S+Math.imul(q,yt)|0,w=w+Math.imul(K,_e)|0,C=(C=C+Math.imul(K,Ve)|0)+Math.imul(I,_e)|0,S=S+Math.imul(I,Ve)|0;var tr=(B+(w=w+Math.imul($,ot)|0)|0)+((8191&(C=(C=C+Math.imul($,St)|0)+Math.imul(Y,ot)|0))<<13)|0;B=((S=S+Math.imul(Y,St)|0)+(C>>>13)|0)+(tr>>>26)|0,tr&=67108863,w=Math.imul(ge,ae),C=(C=Math.imul(ge,ce))+Math.imul(we,ae)|0,S=Math.imul(we,ce),w=w+Math.imul(ne,ve)|0,C=(C=C+Math.imul(ne,qe)|0)+Math.imul(ue,ve)|0,S=S+Math.imul(ue,qe)|0,w=w+Math.imul(se,Ne)|0,C=(C=C+Math.imul(se,Ue)|0)+Math.imul(Q,Ne)|0,S=S+Math.imul(Q,Ue)|0,w=w+Math.imul(X,Ee)|0,C=(C=C+Math.imul(X,yt)|0)+Math.imul(Z,Ee)|0,S=S+Math.imul(Z,yt)|0,w=w+Math.imul(z,_e)|0,C=(C=C+Math.imul(z,Ve)|0)+Math.imul(q,_e)|0,S=S+Math.imul(q,Ve)|0,w=w+Math.imul(K,ot)|0,C=(C=C+Math.imul(K,St)|0)+Math.imul(I,ot)|0,S=S+Math.imul(I,St)|0;var Rr=(B+(w=w+Math.imul($,lt)|0)|0)+((8191&(C=(C=C+Math.imul($,le)|0)+Math.imul(Y,lt)|0))<<13)|0;B=((S=S+Math.imul(Y,le)|0)+(C>>>13)|0)+(Rr>>>26)|0,Rr&=67108863,w=Math.imul(Fe,ae),C=(C=Math.imul(Fe,ce))+Math.imul(De,ae)|0,S=Math.imul(De,ce),w=w+Math.imul(ge,ve)|0,C=(C=C+Math.imul(ge,qe)|0)+Math.imul(we,ve)|0,S=S+Math.imul(we,qe)|0,w=w+Math.imul(ne,Ne)|0,C=(C=C+Math.imul(ne,Ue)|0)+Math.imul(ue,Ne)|0,S=S+Math.imul(ue,Ue)|0,w=w+Math.imul(se,Ee)|0,C=(C=C+Math.imul(se,yt)|0)+Math.imul(Q,Ee)|0,S=S+Math.imul(Q,yt)|0,w=w+Math.imul(X,_e)|0,C=(C=C+Math.imul(X,Ve)|0)+Math.imul(Z,_e)|0,S=S+Math.imul(Z,Ve)|0,w=w+Math.imul(z,ot)|0,C=(C=C+Math.imul(z,St)|0)+Math.imul(q,ot)|0,S=S+Math.imul(q,St)|0,w=w+Math.imul(K,lt)|0,C=(C=C+Math.imul(K,le)|0)+Math.imul(I,lt)|0,S=S+Math.imul(I,le)|0;var te=(B+(w=w+Math.imul($,Te)|0)|0)+((8191&(C=(C=C+Math.imul($,ze)|0)+Math.imul(Y,Te)|0))<<13)|0;B=((S=S+Math.imul(Y,ze)|0)+(C>>>13)|0)+(te>>>26)|0,te&=67108863,w=Math.imul(He,ae),C=(C=Math.imul(He,ce))+Math.imul(it,ae)|0,S=Math.imul(it,ce),w=w+Math.imul(Fe,ve)|0,C=(C=C+Math.imul(Fe,qe)|0)+Math.imul(De,ve)|0,S=S+Math.imul(De,qe)|0,w=w+Math.imul(ge,Ne)|0,C=(C=C+Math.imul(ge,Ue)|0)+Math.imul(we,Ne)|0,S=S+Math.imul(we,Ue)|0,w=w+Math.imul(ne,Ee)|0,C=(C=C+Math.imul(ne,yt)|0)+Math.imul(ue,Ee)|0,S=S+Math.imul(ue,yt)|0,w=w+Math.imul(se,_e)|0,C=(C=C+Math.imul(se,Ve)|0)+Math.imul(Q,_e)|0,S=S+Math.imul(Q,Ve)|0,w=w+Math.imul(X,ot)|0,C=(C=C+Math.imul(X,St)|0)+Math.imul(Z,ot)|0,S=S+Math.imul(Z,St)|0,w=w+Math.imul(z,lt)|0,C=(C=C+Math.imul(z,le)|0)+Math.imul(q,lt)|0,S=S+Math.imul(q,le)|0,w=w+Math.imul(K,Te)|0,C=(C=C+Math.imul(K,ze)|0)+Math.imul(I,Te)|0,S=S+Math.imul(I,ze)|0;var ye=(B+(w=w+Math.imul($,Oe)|0)|0)+((8191&(C=(C=C+Math.imul($,Ze)|0)+Math.imul(Y,Oe)|0))<<13)|0;B=((S=S+Math.imul(Y,Ze)|0)+(C>>>13)|0)+(ye>>>26)|0,ye&=67108863,w=Math.imul(rt,ae),C=(C=Math.imul(rt,ce))+Math.imul(Pe,ae)|0,S=Math.imul(Pe,ce),w=w+Math.imul(He,ve)|0,C=(C=C+Math.imul(He,qe)|0)+Math.imul(it,ve)|0,S=S+Math.imul(it,qe)|0,w=w+Math.imul(Fe,Ne)|0,C=(C=C+Math.imul(Fe,Ue)|0)+Math.imul(De,Ne)|0,S=S+Math.imul(De,Ue)|0,w=w+Math.imul(ge,Ee)|0,C=(C=C+Math.imul(ge,yt)|0)+Math.imul(we,Ee)|0,S=S+Math.imul(we,yt)|0,w=w+Math.imul(ne,_e)|0,C=(C=C+Math.imul(ne,Ve)|0)+Math.imul(ue,_e)|0,S=S+Math.imul(ue,Ve)|0,w=w+Math.imul(se,ot)|0,C=(C=C+Math.imul(se,St)|0)+Math.imul(Q,ot)|0,S=S+Math.imul(Q,St)|0,w=w+Math.imul(X,lt)|0,C=(C=C+Math.imul(X,le)|0)+Math.imul(Z,lt)|0,S=S+Math.imul(Z,le)|0,w=w+Math.imul(z,Te)|0,C=(C=C+Math.imul(z,ze)|0)+Math.imul(q,Te)|0,S=S+Math.imul(q,ze)|0,w=w+Math.imul(K,Oe)|0,C=(C=C+Math.imul(K,Ze)|0)+Math.imul(I,Oe)|0,S=S+Math.imul(I,Ze)|0;var Ae=(B+(w=w+Math.imul($,Je)|0)|0)+((8191&(C=(C=C+Math.imul($,Ye)|0)+Math.imul(Y,Je)|0))<<13)|0;B=((S=S+Math.imul(Y,Ye)|0)+(C>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,w=Math.imul(rt,ve),C=(C=Math.imul(rt,qe))+Math.imul(Pe,ve)|0,S=Math.imul(Pe,qe),w=w+Math.imul(He,Ne)|0,C=(C=C+Math.imul(He,Ue)|0)+Math.imul(it,Ne)|0,S=S+Math.imul(it,Ue)|0,w=w+Math.imul(Fe,Ee)|0,C=(C=C+Math.imul(Fe,yt)|0)+Math.imul(De,Ee)|0,S=S+Math.imul(De,yt)|0,w=w+Math.imul(ge,_e)|0,C=(C=C+Math.imul(ge,Ve)|0)+Math.imul(we,_e)|0,S=S+Math.imul(we,Ve)|0,w=w+Math.imul(ne,ot)|0,C=(C=C+Math.imul(ne,St)|0)+Math.imul(ue,ot)|0,S=S+Math.imul(ue,St)|0,w=w+Math.imul(se,lt)|0,C=(C=C+Math.imul(se,le)|0)+Math.imul(Q,lt)|0,S=S+Math.imul(Q,le)|0,w=w+Math.imul(X,Te)|0,C=(C=C+Math.imul(X,ze)|0)+Math.imul(Z,Te)|0,S=S+Math.imul(Z,ze)|0,w=w+Math.imul(z,Oe)|0,C=(C=C+Math.imul(z,Ze)|0)+Math.imul(q,Oe)|0,S=S+Math.imul(q,Ze)|0;var Be=(B+(w=w+Math.imul(K,Je)|0)|0)+((8191&(C=(C=C+Math.imul(K,Ye)|0)+Math.imul(I,Je)|0))<<13)|0;B=((S=S+Math.imul(I,Ye)|0)+(C>>>13)|0)+(Be>>>26)|0,Be&=67108863,w=Math.imul(rt,Ne),C=(C=Math.imul(rt,Ue))+Math.imul(Pe,Ne)|0,S=Math.imul(Pe,Ue),w=w+Math.imul(He,Ee)|0,C=(C=C+Math.imul(He,yt)|0)+Math.imul(it,Ee)|0,S=S+Math.imul(it,yt)|0,w=w+Math.imul(Fe,_e)|0,C=(C=C+Math.imul(Fe,Ve)|0)+Math.imul(De,_e)|0,S=S+Math.imul(De,Ve)|0,w=w+Math.imul(ge,ot)|0,C=(C=C+Math.imul(ge,St)|0)+Math.imul(we,ot)|0,S=S+Math.imul(we,St)|0,w=w+Math.imul(ne,lt)|0,C=(C=C+Math.imul(ne,le)|0)+Math.imul(ue,lt)|0,S=S+Math.imul(ue,le)|0,w=w+Math.imul(se,Te)|0,C=(C=C+Math.imul(se,ze)|0)+Math.imul(Q,Te)|0,S=S+Math.imul(Q,ze)|0,w=w+Math.imul(X,Oe)|0,C=(C=C+Math.imul(X,Ze)|0)+Math.imul(Z,Oe)|0,S=S+Math.imul(Z,Ze)|0;var st=(B+(w=w+Math.imul(z,Je)|0)|0)+((8191&(C=(C=C+Math.imul(z,Ye)|0)+Math.imul(q,Je)|0))<<13)|0;B=((S=S+Math.imul(q,Ye)|0)+(C>>>13)|0)+(st>>>26)|0,st&=67108863,w=Math.imul(rt,Ee),C=(C=Math.imul(rt,yt))+Math.imul(Pe,Ee)|0,S=Math.imul(Pe,yt),w=w+Math.imul(He,_e)|0,C=(C=C+Math.imul(He,Ve)|0)+Math.imul(it,_e)|0,S=S+Math.imul(it,Ve)|0,w=w+Math.imul(Fe,ot)|0,C=(C=C+Math.imul(Fe,St)|0)+Math.imul(De,ot)|0,S=S+Math.imul(De,St)|0,w=w+Math.imul(ge,lt)|0,C=(C=C+Math.imul(ge,le)|0)+Math.imul(we,lt)|0,S=S+Math.imul(we,le)|0,w=w+Math.imul(ne,Te)|0,C=(C=C+Math.imul(ne,ze)|0)+Math.imul(ue,Te)|0,S=S+Math.imul(ue,ze)|0,w=w+Math.imul(se,Oe)|0,C=(C=C+Math.imul(se,Ze)|0)+Math.imul(Q,Oe)|0,S=S+Math.imul(Q,Ze)|0;var $e=(B+(w=w+Math.imul(X,Je)|0)|0)+((8191&(C=(C=C+Math.imul(X,Ye)|0)+Math.imul(Z,Je)|0))<<13)|0;B=((S=S+Math.imul(Z,Ye)|0)+(C>>>13)|0)+($e>>>26)|0,$e&=67108863,w=Math.imul(rt,_e),C=(C=Math.imul(rt,Ve))+Math.imul(Pe,_e)|0,S=Math.imul(Pe,Ve),w=w+Math.imul(He,ot)|0,C=(C=C+Math.imul(He,St)|0)+Math.imul(it,ot)|0,S=S+Math.imul(it,St)|0,w=w+Math.imul(Fe,lt)|0,C=(C=C+Math.imul(Fe,le)|0)+Math.imul(De,lt)|0,S=S+Math.imul(De,le)|0,w=w+Math.imul(ge,Te)|0,C=(C=C+Math.imul(ge,ze)|0)+Math.imul(we,Te)|0,S=S+Math.imul(we,ze)|0,w=w+Math.imul(ne,Oe)|0,C=(C=C+Math.imul(ne,Ze)|0)+Math.imul(ue,Oe)|0,S=S+Math.imul(ue,Ze)|0;var Ke=(B+(w=w+Math.imul(se,Je)|0)|0)+((8191&(C=(C=C+Math.imul(se,Ye)|0)+Math.imul(Q,Je)|0))<<13)|0;B=((S=S+Math.imul(Q,Ye)|0)+(C>>>13)|0)+(Ke>>>26)|0,Ke&=67108863,w=Math.imul(rt,ot),C=(C=Math.imul(rt,St))+Math.imul(Pe,ot)|0,S=Math.imul(Pe,St),w=w+Math.imul(He,lt)|0,C=(C=C+Math.imul(He,le)|0)+Math.imul(it,lt)|0,S=S+Math.imul(it,le)|0,w=w+Math.imul(Fe,Te)|0,C=(C=C+Math.imul(Fe,ze)|0)+Math.imul(De,Te)|0,S=S+Math.imul(De,ze)|0,w=w+Math.imul(ge,Oe)|0,C=(C=C+Math.imul(ge,Ze)|0)+Math.imul(we,Oe)|0,S=S+Math.imul(we,Ze)|0;var Mt=(B+(w=w+Math.imul(ne,Je)|0)|0)+((8191&(C=(C=C+Math.imul(ne,Ye)|0)+Math.imul(ue,Je)|0))<<13)|0;B=((S=S+Math.imul(ue,Ye)|0)+(C>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,w=Math.imul(rt,lt),C=(C=Math.imul(rt,le))+Math.imul(Pe,lt)|0,S=Math.imul(Pe,le),w=w+Math.imul(He,Te)|0,C=(C=C+Math.imul(He,ze)|0)+Math.imul(it,Te)|0,S=S+Math.imul(it,ze)|0,w=w+Math.imul(Fe,Oe)|0,C=(C=C+Math.imul(Fe,Ze)|0)+Math.imul(De,Oe)|0,S=S+Math.imul(De,Ze)|0;var Et=(B+(w=w+Math.imul(ge,Je)|0)|0)+((8191&(C=(C=C+Math.imul(ge,Ye)|0)+Math.imul(we,Je)|0))<<13)|0;B=((S=S+Math.imul(we,Ye)|0)+(C>>>13)|0)+(Et>>>26)|0,Et&=67108863,w=Math.imul(rt,Te),C=(C=Math.imul(rt,ze))+Math.imul(Pe,Te)|0,S=Math.imul(Pe,ze),w=w+Math.imul(He,Oe)|0,C=(C=C+Math.imul(He,Ze)|0)+Math.imul(it,Oe)|0,S=S+Math.imul(it,Ze)|0;var xt=(B+(w=w+Math.imul(Fe,Je)|0)|0)+((8191&(C=(C=C+Math.imul(Fe,Ye)|0)+Math.imul(De,Je)|0))<<13)|0;B=((S=S+Math.imul(De,Ye)|0)+(C>>>13)|0)+(xt>>>26)|0,xt&=67108863,w=Math.imul(rt,Oe),C=(C=Math.imul(rt,Ze))+Math.imul(Pe,Oe)|0,S=Math.imul(Pe,Ze);var pt=(B+(w=w+Math.imul(He,Je)|0)|0)+((8191&(C=(C=C+Math.imul(He,Ye)|0)+Math.imul(it,Je)|0))<<13)|0;B=((S=S+Math.imul(it,Ye)|0)+(C>>>13)|0)+(pt>>>26)|0,pt&=67108863;var $t=(B+(w=Math.imul(rt,Je))|0)+((8191&(C=(C=Math.imul(rt,Ye))+Math.imul(Pe,Je)|0))<<13)|0;return B=((S=Math.imul(Pe,Ye))+(C>>>13)|0)+($t>>>26)|0,$t&=67108863,N[0]=ut,N[1]=bt,N[2]=Wt,N[3]=Lt,N[4]=er,N[5]=tr,N[6]=Rr,N[7]=te,N[8]=ye,N[9]=Ae,N[10]=Be,N[11]=st,N[12]=$e,N[13]=Ke,N[14]=Mt,N[15]=Et,N[16]=xt,N[17]=pt,N[18]=$t,B!==0&&(N[19]=B,E.length++),E};function b(M,k,E){return new x().mulp(M,k,E)}function x(M,k){this.x=M,this.y=k}Math.imul||(m=y),c.prototype.mulTo=function(M,k){var E=this.length+M.length;return this.length===10&&M.length===10?m(this,M,k):E<63?y(this,M,k):E<1024?function(w,C,S){S.negative=C.negative^w.negative,S.length=w.length+C.length;for(var R=0,_=0,N=0;N<S.length-1;N++){var B=_;_=0;for(var V=67108863&R,$=Math.min(N,C.length-1),Y=Math.max(0,N-w.length+1);Y<=$;Y++){var L=N-Y,K=(0|w.words[L])*(0|C.words[Y]),I=67108863&K;V=67108863&(I=I+V|0),_+=(B=(B=B+(K/67108864|0)|0)+(I>>>26)|0)>>>26,B&=67108863}S.words[N]=V,R=B,B=_}return R!==0?S.words[N]=R:S.length--,S.strip()}(this,M,k):b(this,M,k)},x.prototype.makeRBT=function(M){for(var k=new Array(M),E=c.prototype._countBits(M)-1,w=0;w<M;w++)k[w]=this.revBin(w,E,M);return k},x.prototype.revBin=function(M,k,E){if(M===0||M===E-1)return M;for(var w=0,C=0;C<k;C++)w|=(1&M)<<k-C-1,M>>=1;return w},x.prototype.permute=function(M,k,E,w,C,S){for(var R=0;R<S;R++)w[R]=k[M[R]],C[R]=E[M[R]]},x.prototype.transform=function(M,k,E,w,C,S){this.permute(S,M,k,E,w,C);for(var R=1;R<C;R<<=1)for(var _=R<<1,N=Math.cos(2*Math.PI/_),B=Math.sin(2*Math.PI/_),V=0;V<C;V+=_)for(var $=N,Y=B,L=0;L<R;L++){var K=E[V+L],I=w[V+L],A=E[V+L+R],z=w[V+L+R],q=$*A-Y*z;z=$*z+Y*A,A=q,E[V+L]=K+A,w[V+L]=I+z,E[V+L+R]=K-A,w[V+L+R]=I-z,L!==_&&(q=N*$-B*Y,Y=N*Y+B*$,$=q)}},x.prototype.guessLen13b=function(M,k){var E=1|Math.max(k,M),w=1&E,C=0;for(E=E/2|0;E;E>>>=1)C++;return 1<<C+1+w},x.prototype.conjugate=function(M,k,E){if(!(E<=1))for(var w=0;w<E/2;w++){var C=M[w];M[w]=M[E-w-1],M[E-w-1]=C,C=k[w],k[w]=-k[E-w-1],k[E-w-1]=-C}},x.prototype.normalize13b=function(M,k){for(var E=0,w=0;w<k/2;w++){var C=8192*Math.round(M[2*w+1]/k)+Math.round(M[2*w]/k)+E;M[w]=67108863&C,E=C<67108864?0:C/67108864|0}return M},x.prototype.convert13b=function(M,k,E,w){for(var C=0,S=0;S<k;S++)C+=0|M[S],E[2*S]=8191&C,C>>>=13,E[2*S+1]=8191&C,C>>>=13;for(S=2*k;S<w;++S)E[S]=0;a(C===0),a((-8192&C)==0)},x.prototype.stub=function(M){for(var k=new Array(M),E=0;E<M;E++)k[E]=0;return k},x.prototype.mulp=function(M,k,E){var w=2*this.guessLen13b(M.length,k.length),C=this.makeRBT(w),S=this.stub(w),R=new Array(w),_=new Array(w),N=new Array(w),B=new Array(w),V=new Array(w),$=new Array(w),Y=E.words;Y.length=w,this.convert13b(M.words,M.length,R,w),this.convert13b(k.words,k.length,B,w),this.transform(R,S,_,N,w,C),this.transform(B,S,V,$,w,C);for(var L=0;L<w;L++){var K=_[L]*V[L]-N[L]*$[L];N[L]=_[L]*$[L]+N[L]*V[L],_[L]=K}return this.conjugate(_,N,w),this.transform(_,N,Y,S,w,C),this.conjugate(Y,S,w),this.normalize13b(Y,w),E.negative=M.negative^k.negative,E.length=M.length+k.length,E.strip()},c.prototype.mul=function(M){var k=new c(null);return k.words=new Array(this.length+M.length),this.mulTo(M,k)},c.prototype.mulf=function(M){var k=new c(null);return k.words=new Array(this.length+M.length),b(this,M,k)},c.prototype.imul=function(M){return this.clone().mulTo(M,this)},c.prototype.imuln=function(M){a(typeof M=="number"),a(M<67108864);for(var k=0,E=0;E<this.length;E++){var w=(0|this.words[E])*M,C=(67108863&w)+(67108863&k);k>>=26,k+=w/67108864|0,k+=C>>>26,this.words[E]=67108863&C}return k!==0&&(this.words[E]=k,this.length++),this},c.prototype.muln=function(M){return this.clone().imuln(M)},c.prototype.sqr=function(){return this.mul(this)},c.prototype.isqr=function(){return this.imul(this.clone())},c.prototype.pow=function(M){var k=function(S){for(var R=new Array(S.bitLength()),_=0;_<R.length;_++){var N=_/26|0,B=_%26;R[_]=(S.words[N]&1<<B)>>>B}return R}(M);if(k.length===0)return new c(1);for(var E=this,w=0;w<k.length&&k[w]===0;w++,E=E.sqr());if(++w<k.length)for(var C=E.sqr();w<k.length;w++,C=C.sqr())k[w]!==0&&(E=E.mul(C));return E},c.prototype.iushln=function(M){a(typeof M=="number"&&M>=0);var k,E=M%26,w=(M-E)/26,C=67108863>>>26-E<<26-E;if(E!==0){var S=0;for(k=0;k<this.length;k++){var R=this.words[k]&C,_=(0|this.words[k])-R<<E;this.words[k]=_|S,S=R>>>26-E}S&&(this.words[k]=S,this.length++)}if(w!==0){for(k=this.length-1;k>=0;k--)this.words[k+w]=this.words[k];for(k=0;k<w;k++)this.words[k]=0;this.length+=w}return this.strip()},c.prototype.ishln=function(M){return a(this.negative===0),this.iushln(M)},c.prototype.iushrn=function(M,k,E){var w;a(typeof M=="number"&&M>=0),w=k?(k-k%26)/26:0;var C=M%26,S=Math.min((M-C)/26,this.length),R=67108863^67108863>>>C<<C,_=E;if(w-=S,w=Math.max(0,w),_){for(var N=0;N<S;N++)_.words[N]=this.words[N];_.length=S}if(S!==0)if(this.length>S)for(this.length-=S,N=0;N<this.length;N++)this.words[N]=this.words[N+S];else this.words[0]=0,this.length=1;var B=0;for(N=this.length-1;N>=0&&(B!==0||N>=w);N--){var V=0|this.words[N];this.words[N]=B<<26-C|V>>>C,B=V&R}return _&&B!==0&&(_.words[_.length++]=B),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},c.prototype.ishrn=function(M,k,E){return a(this.negative===0),this.iushrn(M,k,E)},c.prototype.shln=function(M){return this.clone().ishln(M)},c.prototype.ushln=function(M){return this.clone().iushln(M)},c.prototype.shrn=function(M){return this.clone().ishrn(M)},c.prototype.ushrn=function(M){return this.clone().iushrn(M)},c.prototype.testn=function(M){a(typeof M=="number"&&M>=0);var k=M%26,E=(M-k)/26,w=1<<k;return!(this.length<=E)&&!!(this.words[E]&w)},c.prototype.imaskn=function(M){a(typeof M=="number"&&M>=0);var k=M%26,E=(M-k)/26;if(a(this.negative===0,"imaskn works only with positive numbers"),this.length<=E)return this;if(k!==0&&E++,this.length=Math.min(E,this.length),k!==0){var w=67108863^67108863>>>k<<k;this.words[this.length-1]&=w}return this.strip()},c.prototype.maskn=function(M){return this.clone().imaskn(M)},c.prototype.iaddn=function(M){return a(typeof M=="number"),a(M<67108864),M<0?this.isubn(-M):this.negative!==0?this.length===1&&(0|this.words[0])<M?(this.words[0]=M-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(M),this.negative=1,this):this._iaddn(M)},c.prototype._iaddn=function(M){this.words[0]+=M;for(var k=0;k<this.length&&this.words[k]>=67108864;k++)this.words[k]-=67108864,k===this.length-1?this.words[k+1]=1:this.words[k+1]++;return this.length=Math.max(this.length,k+1),this},c.prototype.isubn=function(M){if(a(typeof M=="number"),a(M<67108864),M<0)return this.iaddn(-M);if(this.negative!==0)return this.negative=0,this.iaddn(M),this.negative=1,this;if(this.words[0]-=M,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var k=0;k<this.length&&this.words[k]<0;k++)this.words[k]+=67108864,this.words[k+1]-=1;return this.strip()},c.prototype.addn=function(M){return this.clone().iaddn(M)},c.prototype.subn=function(M){return this.clone().isubn(M)},c.prototype.iabs=function(){return this.negative=0,this},c.prototype.abs=function(){return this.clone().iabs()},c.prototype._ishlnsubmul=function(M,k,E){var w,C,S=M.length+E;this._expand(S);var R=0;for(w=0;w<M.length;w++){C=(0|this.words[w+E])+R;var _=(0|M.words[w])*k;R=((C-=67108863&_)>>26)-(_/67108864|0),this.words[w+E]=67108863&C}for(;w<this.length-E;w++)R=(C=(0|this.words[w+E])+R)>>26,this.words[w+E]=67108863&C;if(R===0)return this.strip();for(a(R===-1),R=0,w=0;w<this.length;w++)R=(C=-(0|this.words[w])+R)>>26,this.words[w]=67108863&C;return this.negative=1,this.strip()},c.prototype._wordDiv=function(M,k){var E=(this.length,M.length),w=this.clone(),C=M,S=0|C.words[C.length-1];(E=26-this._countBits(S))!==0&&(C=C.ushln(E),w.iushln(E),S=0|C.words[C.length-1]);var R,_=w.length-C.length;if(k!=="mod"){(R=new c(null)).length=_+1,R.words=new Array(R.length);for(var N=0;N<R.length;N++)R.words[N]=0}var B=w.clone()._ishlnsubmul(C,1,_);B.negative===0&&(w=B,R&&(R.words[_]=1));for(var V=_-1;V>=0;V--){var $=67108864*(0|w.words[C.length+V])+(0|w.words[C.length+V-1]);for($=Math.min($/S|0,67108863),w._ishlnsubmul(C,$,V);w.negative!==0;)$--,w.negative=0,w._ishlnsubmul(C,1,V),w.isZero()||(w.negative^=1);R&&(R.words[V]=$)}return R&&R.strip(),w.strip(),k!=="div"&&E!==0&&w.iushrn(E),{div:R||null,mod:w}},c.prototype.divmod=function(M,k,E){return a(!M.isZero()),this.isZero()?{div:new c(0),mod:new c(0)}:this.negative!==0&&M.negative===0?(S=this.neg().divmod(M,k),k!=="mod"&&(w=S.div.neg()),k!=="div"&&(C=S.mod.neg(),E&&C.negative!==0&&C.iadd(M)),{div:w,mod:C}):this.negative===0&&M.negative!==0?(S=this.divmod(M.neg(),k),k!=="mod"&&(w=S.div.neg()),{div:w,mod:S.mod}):this.negative&M.negative?(S=this.neg().divmod(M.neg(),k),k!=="div"&&(C=S.mod.neg(),E&&C.negative!==0&&C.isub(M)),{div:S.div,mod:C}):M.length>this.length||this.cmp(M)<0?{div:new c(0),mod:this}:M.length===1?k==="div"?{div:this.divn(M.words[0]),mod:null}:k==="mod"?{div:null,mod:new c(this.modn(M.words[0]))}:{div:this.divn(M.words[0]),mod:new c(this.modn(M.words[0]))}:this._wordDiv(M,k);var w,C,S},c.prototype.div=function(M){return this.divmod(M,"div",!1).div},c.prototype.mod=function(M){return this.divmod(M,"mod",!1).mod},c.prototype.umod=function(M){return this.divmod(M,"mod",!0).mod},c.prototype.divRound=function(M){var k=this.divmod(M);if(k.mod.isZero())return k.div;var E=k.div.negative!==0?k.mod.isub(M):k.mod,w=M.ushrn(1),C=M.andln(1),S=E.cmp(w);return S<0||C===1&&S===0?k.div:k.div.negative!==0?k.div.isubn(1):k.div.iaddn(1)},c.prototype.modn=function(M){a(M<=67108863);for(var k=(1<<26)%M,E=0,w=this.length-1;w>=0;w--)E=(k*E+(0|this.words[w]))%M;return E},c.prototype.idivn=function(M){a(M<=67108863);for(var k=0,E=this.length-1;E>=0;E--){var w=(0|this.words[E])+67108864*k;this.words[E]=w/M|0,k=w%M}return this.strip()},c.prototype.divn=function(M){return this.clone().idivn(M)},c.prototype.egcd=function(M){a(M.negative===0),a(!M.isZero());var k=this,E=M.clone();k=k.negative!==0?k.umod(M):k.clone();for(var w=new c(1),C=new c(0),S=new c(0),R=new c(1),_=0;k.isEven()&&E.isEven();)k.iushrn(1),E.iushrn(1),++_;for(var N=E.clone(),B=k.clone();!k.isZero();){for(var V=0,$=1;!(k.words[0]&$)&&V<26;++V,$<<=1);if(V>0)for(k.iushrn(V);V-- >0;)(w.isOdd()||C.isOdd())&&(w.iadd(N),C.isub(B)),w.iushrn(1),C.iushrn(1);for(var Y=0,L=1;!(E.words[0]&L)&&Y<26;++Y,L<<=1);if(Y>0)for(E.iushrn(Y);Y-- >0;)(S.isOdd()||R.isOdd())&&(S.iadd(N),R.isub(B)),S.iushrn(1),R.iushrn(1);k.cmp(E)>=0?(k.isub(E),w.isub(S),C.isub(R)):(E.isub(k),S.isub(w),R.isub(C))}return{a:S,b:R,gcd:E.iushln(_)}},c.prototype._invmp=function(M){a(M.negative===0),a(!M.isZero());var k=this,E=M.clone();k=k.negative!==0?k.umod(M):k.clone();for(var w,C=new c(1),S=new c(0),R=E.clone();k.cmpn(1)>0&&E.cmpn(1)>0;){for(var _=0,N=1;!(k.words[0]&N)&&_<26;++_,N<<=1);if(_>0)for(k.iushrn(_);_-- >0;)C.isOdd()&&C.iadd(R),C.iushrn(1);for(var B=0,V=1;!(E.words[0]&V)&&B<26;++B,V<<=1);if(B>0)for(E.iushrn(B);B-- >0;)S.isOdd()&&S.iadd(R),S.iushrn(1);k.cmp(E)>=0?(k.isub(E),C.isub(S)):(E.isub(k),S.isub(C))}return(w=k.cmpn(1)===0?C:S).cmpn(0)<0&&w.iadd(M),w},c.prototype.gcd=function(M){if(this.isZero())return M.abs();if(M.isZero())return this.abs();var k=this.clone(),E=M.clone();k.negative=0,E.negative=0;for(var w=0;k.isEven()&&E.isEven();w++)k.iushrn(1),E.iushrn(1);for(;;){for(;k.isEven();)k.iushrn(1);for(;E.isEven();)E.iushrn(1);var C=k.cmp(E);if(C<0){var S=k;k=E,E=S}else if(C===0||E.cmpn(1)===0)break;k.isub(E)}return E.iushln(w)},c.prototype.invm=function(M){return this.egcd(M).a.umod(M)},c.prototype.isEven=function(){return(1&this.words[0])==0},c.prototype.isOdd=function(){return(1&this.words[0])==1},c.prototype.andln=function(M){return this.words[0]&M},c.prototype.bincn=function(M){a(typeof M=="number");var k=M%26,E=(M-k)/26,w=1<<k;if(this.length<=E)return this._expand(E+1),this.words[E]|=w,this;for(var C=w,S=E;C!==0&&S<this.length;S++){var R=0|this.words[S];C=(R+=C)>>>26,R&=67108863,this.words[S]=R}return C!==0&&(this.words[S]=C,this.length++),this},c.prototype.isZero=function(){return this.length===1&&this.words[0]===0},c.prototype.cmpn=function(M){var k,E=M<0;if(this.negative!==0&&!E)return-1;if(this.negative===0&&E)return 1;if(this.strip(),this.length>1)k=1;else{E&&(M=-M),a(M<=67108863,"Number is too big");var w=0|this.words[0];k=w===M?0:w<M?-1:1}return this.negative!==0?0|-k:k},c.prototype.cmp=function(M){if(this.negative!==0&&M.negative===0)return-1;if(this.negative===0&&M.negative!==0)return 1;var k=this.ucmp(M);return this.negative!==0?0|-k:k},c.prototype.ucmp=function(M){if(this.length>M.length)return 1;if(this.length<M.length)return-1;for(var k=0,E=this.length-1;E>=0;E--){var w=0|this.words[E],C=0|M.words[E];if(w!==C){w<C?k=-1:w>C&&(k=1);break}}return k},c.prototype.gtn=function(M){return this.cmpn(M)===1},c.prototype.gt=function(M){return this.cmp(M)===1},c.prototype.gten=function(M){return this.cmpn(M)>=0},c.prototype.gte=function(M){return this.cmp(M)>=0},c.prototype.ltn=function(M){return this.cmpn(M)===-1},c.prototype.lt=function(M){return this.cmp(M)===-1},c.prototype.lten=function(M){return this.cmpn(M)<=0},c.prototype.lte=function(M){return this.cmp(M)<=0},c.prototype.eqn=function(M){return this.cmpn(M)===0},c.prototype.eq=function(M){return this.cmp(M)===0},c.red=function(M){return new W(M)},c.prototype.toRed=function(M){return a(!this.red,"Already a number in reduction context"),a(this.negative===0,"red works only with positives"),M.convertTo(this)._forceRed(M)},c.prototype.fromRed=function(){return a(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},c.prototype._forceRed=function(M){return this.red=M,this},c.prototype.forceRed=function(M){return a(!this.red,"Already a number in reduction context"),this._forceRed(M)},c.prototype.redAdd=function(M){return a(this.red,"redAdd works only with red numbers"),this.red.add(this,M)},c.prototype.redIAdd=function(M){return a(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,M)},c.prototype.redSub=function(M){return a(this.red,"redSub works only with red numbers"),this.red.sub(this,M)},c.prototype.redISub=function(M){return a(this.red,"redISub works only with red numbers"),this.red.isub(this,M)},c.prototype.redShl=function(M){return a(this.red,"redShl works only with red numbers"),this.red.shl(this,M)},c.prototype.redMul=function(M){return a(this.red,"redMul works only with red numbers"),this.red._verify2(this,M),this.red.mul(this,M)},c.prototype.redIMul=function(M){return a(this.red,"redMul works only with red numbers"),this.red._verify2(this,M),this.red.imul(this,M)},c.prototype.redSqr=function(){return a(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},c.prototype.redISqr=function(){return a(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},c.prototype.redSqrt=function(){return a(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},c.prototype.redInvm=function(){return a(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},c.prototype.redNeg=function(){return a(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},c.prototype.redPow=function(M){return a(this.red&&!M.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,M)};var P={k256:null,p224:null,p192:null,p25519:null};function F(M,k){this.name=M,this.p=new c(k,16),this.n=this.p.bitLength(),this.k=new c(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function D(){F.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function O(){F.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function j(){F.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function H(){F.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function W(M){if(typeof M=="string"){var k=c._prime(M);this.m=k.p,this.prime=k}else a(M.gtn(1),"modulus must be greater than 1"),this.m=M,this.prime=null}function G(M){W.call(this,M),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new c(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}F.prototype._tmp=function(){var M=new c(null);return M.words=new Array(Math.ceil(this.n/13)),M},F.prototype.ireduce=function(M){var k,E=M;do this.split(E,this.tmp),k=(E=(E=this.imulK(E)).iadd(this.tmp)).bitLength();while(k>this.n);var w=k<this.n?-1:E.ucmp(this.p);return w===0?(E.words[0]=0,E.length=1):w>0?E.isub(this.p):E.strip!==void 0?E.strip():E._strip(),E},F.prototype.split=function(M,k){M.iushrn(this.n,0,k)},F.prototype.imulK=function(M){return M.imul(this.k)},l(D,F),D.prototype.split=function(M,k){for(var E=Math.min(M.length,9),w=0;w<E;w++)k.words[w]=M.words[w];if(k.length=E,M.length<=9)return M.words[0]=0,void(M.length=1);var C=M.words[9];for(k.words[k.length++]=4194303&C,w=10;w<M.length;w++){var S=0|M.words[w];M.words[w-10]=(4194303&S)<<4|C>>>22,C=S}C>>>=22,M.words[w-10]=C,C===0&&M.length>10?M.length-=10:M.length-=9},D.prototype.imulK=function(M){M.words[M.length]=0,M.words[M.length+1]=0,M.length+=2;for(var k=0,E=0;E<M.length;E++){var w=0|M.words[E];k+=977*w,M.words[E]=67108863&k,k=64*w+(k/67108864|0)}return M.words[M.length-1]===0&&(M.length--,M.words[M.length-1]===0&&M.length--),M},l(O,F),l(j,F),l(H,F),H.prototype.imulK=function(M){for(var k=0,E=0;E<M.length;E++){var w=19*(0|M.words[E])+k,C=67108863&w;w>>>=26,M.words[E]=C,k=w}return k!==0&&(M.words[M.length++]=k),M},c._prime=function(M){if(P[M])return P[M];var k;if(M==="k256")k=new D;else if(M==="p224")k=new O;else if(M==="p192")k=new j;else{if(M!=="p25519")throw new Error("Unknown prime "+M);k=new H}return P[M]=k,k},W.prototype._verify1=function(M){a(M.negative===0,"red works only with positives"),a(M.red,"red works only with red numbers")},W.prototype._verify2=function(M,k){a((M.negative|k.negative)==0,"red works only with positives"),a(M.red&&M.red===k.red,"red works only with red numbers")},W.prototype.imod=function(M){return this.prime?this.prime.ireduce(M)._forceRed(this):M.umod(this.m)._forceRed(this)},W.prototype.neg=function(M){return M.isZero()?M.clone():this.m.sub(M)._forceRed(this)},W.prototype.add=function(M,k){this._verify2(M,k);var E=M.add(k);return E.cmp(this.m)>=0&&E.isub(this.m),E._forceRed(this)},W.prototype.iadd=function(M,k){this._verify2(M,k);var E=M.iadd(k);return E.cmp(this.m)>=0&&E.isub(this.m),E},W.prototype.sub=function(M,k){this._verify2(M,k);var E=M.sub(k);return E.cmpn(0)<0&&E.iadd(this.m),E._forceRed(this)},W.prototype.isub=function(M,k){this._verify2(M,k);var E=M.isub(k);return E.cmpn(0)<0&&E.iadd(this.m),E},W.prototype.shl=function(M,k){return this._verify1(M),this.imod(M.ushln(k))},W.prototype.imul=function(M,k){return this._verify2(M,k),this.imod(M.imul(k))},W.prototype.mul=function(M,k){return this._verify2(M,k),this.imod(M.mul(k))},W.prototype.isqr=function(M){return this.imul(M,M.clone())},W.prototype.sqr=function(M){return this.mul(M,M)},W.prototype.sqrt=function(M){if(M.isZero())return M.clone();var k=this.m.andln(3);if(a(k%2==1),k===3){var E=this.m.add(new c(1)).iushrn(2);return this.pow(M,E)}for(var w=this.m.subn(1),C=0;!w.isZero()&&w.andln(1)===0;)C++,w.iushrn(1);a(!w.isZero());var S=new c(1).toRed(this),R=S.redNeg(),_=this.m.subn(1).iushrn(1),N=this.m.bitLength();for(N=new c(2*N*N).toRed(this);this.pow(N,_).cmp(R)!==0;)N.redIAdd(R);for(var B=this.pow(N,w),V=this.pow(M,w.addn(1).iushrn(1)),$=this.pow(M,w),Y=C;$.cmp(S)!==0;){for(var L=$,K=0;L.cmp(S)!==0;K++)L=L.redSqr();a(K<Y);var I=this.pow(B,new c(1).iushln(Y-K-1));V=V.redMul(I),B=I.redSqr(),$=$.redMul(B),Y=K}return V},W.prototype.invm=function(M){var k=M._invmp(this.m);return k.negative!==0?(k.negative=0,this.imod(k).redNeg()):this.imod(k)},W.prototype.pow=function(M,k){if(k.isZero())return new c(1).toRed(this);if(k.cmpn(1)===0)return M.clone();var E=new Array(16);E[0]=new c(1).toRed(this),E[1]=M;for(var w=2;w<E.length;w++)E[w]=this.mul(E[w-1],M);var C=E[0],S=0,R=0,_=k.bitLength()%26;for(_===0&&(_=26),w=k.length-1;w>=0;w--){for(var N=k.words[w],B=_-1;B>=0;B--){var V=N>>B&1;C!==E[0]&&(C=this.sqr(C)),V!==0||S!==0?(S<<=1,S|=V,(++R===4||w===0&&B===0)&&(C=this.mul(C,E[S]),R=0,S=0)):R=0}_=26}return C},W.prototype.convertTo=function(M){var k=M.umod(this.m);return k===M?k.clone():k},W.prototype.convertFrom=function(M){var k=M.clone();return k.red=null,k},c.mont=function(M){return new G(M)},l(G,W),G.prototype.convertTo=function(M){return this.imod(M.ushln(this.shift))},G.prototype.convertFrom=function(M){var k=this.imod(M.mul(this.rinv));return k.red=null,k},G.prototype.imul=function(M,k){if(M.isZero()||k.isZero())return M.words[0]=0,M.length=1,M;var E=M.imul(k),w=E.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),C=E.isub(w).iushrn(this.shift),S=C;return C.cmp(this.m)>=0?S=C.isub(this.m):C.cmpn(0)<0&&(S=C.iadd(this.m)),S._forceRed(this)},G.prototype.mul=function(M,k){if(M.isZero()||k.isZero())return new c(0)._forceRed(this);var E=M.mul(k),w=E.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),C=E.isub(w).iushrn(this.shift),S=C;return C.cmp(this.m)>=0?S=C.isub(this.m):C.cmpn(0)<0&&(S=C.iadd(this.m)),S._forceRed(this)},G.prototype.invm=function(M){return this.imod(M._invmp(this.m).mul(this.r2))._forceRed(this)}})(n===void 0||n)},{buffer:188}],185:[function(r,n,i){i.byteLength=function(h){var g=f(h),v=g[0],p=g[1];return 3*(v+p)/4-p},i.toByteArray=function(h){var g,v,p=f(h),y=p[0],m=p[1],b=new a(function(F,D,O){return 3*(D+O)/4-O}(0,y,m)),x=0,P=m>0?y-4:y;for(v=0;v<P;v+=4)g=o[h.charCodeAt(v)]<<18|o[h.charCodeAt(v+1)]<<12|o[h.charCodeAt(v+2)]<<6|o[h.charCodeAt(v+3)],b[x++]=g>>16&255,b[x++]=g>>8&255,b[x++]=255&g;return m===2&&(g=o[h.charCodeAt(v)]<<2|o[h.charCodeAt(v+1)]>>4,b[x++]=255&g),m===1&&(g=o[h.charCodeAt(v)]<<10|o[h.charCodeAt(v+1)]<<4|o[h.charCodeAt(v+2)]>>2,b[x++]=g>>8&255,b[x++]=255&g),b},i.fromByteArray=function(h){for(var g,v=h.length,p=v%3,y=[],m=0,b=v-p;m<b;m+=16383)y.push(d(h,m,m+16383>b?b:m+16383));return p===1?(g=h[v-1],y.push(s[g>>2]+s[g<<4&63]+"==")):p===2&&(g=(h[v-2]<<8)+h[v-1],y.push(s[g>>10]+s[g>>4&63]+s[g<<2&63]+"=")),y.join("")};for(var s=[],o=[],a=typeof Uint8Array<"u"?Uint8Array:Array,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=0,u=l.length;c<u;++c)s[c]=l[c],o[l.charCodeAt(c)]=c;function f(h){var g=h.length;if(g%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var v=h.indexOf("=");return v===-1&&(v=g),[v,v===g?0:4-v%4]}function d(h,g,v){for(var p,y,m=[],b=g;b<v;b+=3)p=(h[b]<<16&16711680)+(h[b+1]<<8&65280)+(255&h[b+2]),m.push(s[(y=p)>>18&63]+s[y>>12&63]+s[y>>6&63]+s[63&y]);return m.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},{}],186:[function(r,n,i){(function(s,o){function a(E,w){if(!E)throw new Error(w||"Assertion failed")}function l(E,w){E.super_=w;var C=function(){};C.prototype=w.prototype,E.prototype=new C,E.prototype.constructor=E}function c(E,w,C){if(c.isBN(E))return E;this.negative=0,this.words=null,this.length=0,this.red=null,E!==null&&(w!=="le"&&w!=="be"||(C=w,w=10),this._init(E||0,w||10,C||"be"))}var u;typeof s=="object"?s.exports=c:(void 0).BN=c,c.BN=c,c.wordSize=26;try{u=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:r("buffer").Buffer}catch{}function f(E,w){var C=E.charCodeAt(w);return C>=48&&C<=57?C-48:C>=65&&C<=70?C-55:C>=97&&C<=102?C-87:void a(!1,"Invalid character in "+E)}function d(E,w,C){var S=f(E,C);return C-1>=w&&(S|=f(E,C-1)<<4),S}function h(E,w,C,S){for(var R=0,_=0,N=Math.min(E.length,C),B=w;B<N;B++){var V=E.charCodeAt(B)-48;R*=S,_=V>=49?V-49+10:V>=17?V-17+10:V,a(V>=0&&_<S,"Invalid character"),R+=_}return R}function g(E,w){E.words=w.words,E.length=w.length,E.negative=w.negative,E.red=w.red}if(c.isBN=function(E){return E instanceof c||E!==null&&typeof E=="object"&&E.constructor.wordSize===c.wordSize&&Array.isArray(E.words)},c.max=function(E,w){return E.cmp(w)>0?E:w},c.min=function(E,w){return E.cmp(w)<0?E:w},c.prototype._init=function(E,w,C){if(typeof E=="number")return this._initNumber(E,w,C);if(typeof E=="object")return this._initArray(E,w,C);w==="hex"&&(w=16),a(w===(0|w)&&w>=2&&w<=36);var S=0;(E=E.toString().replace(/\s+/g,""))[0]==="-"&&(S++,this.negative=1),S<E.length&&(w===16?this._parseHex(E,S,C):(this._parseBase(E,w,S),C==="le"&&this._initArray(this.toArray(),w,C)))},c.prototype._initNumber=function(E,w,C){E<0&&(this.negative=1,E=-E),E<67108864?(this.words=[67108863&E],this.length=1):E<4503599627370496?(this.words=[67108863&E,E/67108864&67108863],this.length=2):(a(E<9007199254740992),this.words=[67108863&E,E/67108864&67108863,1],this.length=3),C==="le"&&this._initArray(this.toArray(),w,C)},c.prototype._initArray=function(E,w,C){if(a(typeof E.length=="number"),E.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(E.length/3),this.words=new Array(this.length);for(var S=0;S<this.length;S++)this.words[S]=0;var R,_,N=0;if(C==="be")for(S=E.length-1,R=0;S>=0;S-=3)_=E[S]|E[S-1]<<8|E[S-2]<<16,this.words[R]|=_<<N&67108863,this.words[R+1]=_>>>26-N&67108863,(N+=24)>=26&&(N-=26,R++);else if(C==="le")for(S=0,R=0;S<E.length;S+=3)_=E[S]|E[S+1]<<8|E[S+2]<<16,this.words[R]|=_<<N&67108863,this.words[R+1]=_>>>26-N&67108863,(N+=24)>=26&&(N-=26,R++);return this._strip()},c.prototype._parseHex=function(E,w,C){this.length=Math.ceil((E.length-w)/6),this.words=new Array(this.length);for(var S=0;S<this.length;S++)this.words[S]=0;var R,_=0,N=0;if(C==="be")for(S=E.length-1;S>=w;S-=2)R=d(E,w,S)<<_,this.words[N]|=67108863&R,_>=18?(_-=18,N+=1,this.words[N]|=R>>>26):_+=8;else for(S=(E.length-w)%2==0?w+1:w;S<E.length;S+=2)R=d(E,w,S)<<_,this.words[N]|=67108863&R,_>=18?(_-=18,N+=1,this.words[N]|=R>>>26):_+=8;this._strip()},c.prototype._parseBase=function(E,w,C){this.words=[0],this.length=1;for(var S=0,R=1;R<=67108863;R*=w)S++;S--,R=R/w|0;for(var _=E.length-C,N=_%S,B=Math.min(_,_-N)+C,V=0,$=C;$<B;$+=S)V=h(E,$,$+S,w),this.imuln(R),this.words[0]+V<67108864?this.words[0]+=V:this._iaddn(V);if(N!==0){var Y=1;for(V=h(E,$,E.length,w),$=0;$<N;$++)Y*=w;this.imuln(Y),this.words[0]+V<67108864?this.words[0]+=V:this._iaddn(V)}this._strip()},c.prototype.copy=function(E){E.words=new Array(this.length);for(var w=0;w<this.length;w++)E.words[w]=this.words[w];E.length=this.length,E.negative=this.negative,E.red=this.red},c.prototype._move=function(E){g(E,this)},c.prototype.clone=function(){var E=new c(null);return this.copy(E),E},c.prototype._expand=function(E){for(;this.length<E;)this.words[this.length++]=0;return this},c.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},c.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{c.prototype[Symbol.for("nodejs.util.inspect.custom")]=v}catch{c.prototype.inspect=v}else c.prototype.inspect=v;function v(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var p=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],y=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],m=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];c.prototype.toString=function(E,w){var C;if(w=0|w||1,(E=E||10)===16||E==="hex"){C="";for(var S=0,R=0,_=0;_<this.length;_++){var N=this.words[_],B=(16777215&(N<<S|R)).toString(16);R=N>>>24-S&16777215,(S+=2)>=26&&(S-=26,_--),C=R!==0||_!==this.length-1?p[6-B.length]+B+C:B+C}for(R!==0&&(C=R.toString(16)+C);C.length%w!=0;)C="0"+C;return this.negative!==0&&(C="-"+C),C}if(E===(0|E)&&E>=2&&E<=36){var V=y[E],$=m[E];C="";var Y=this.clone();for(Y.negative=0;!Y.isZero();){var L=Y.modrn($).toString(E);C=(Y=Y.idivn($)).isZero()?L+C:p[V-L.length]+L+C}for(this.isZero()&&(C="0"+C);C.length%w!=0;)C="0"+C;return this.negative!==0&&(C="-"+C),C}a(!1,"Base should be between 2 and 36")},c.prototype.toNumber=function(){var E=this.words[0];return this.length===2?E+=67108864*this.words[1]:this.length===3&&this.words[2]===1?E+=4503599627370496+67108864*this.words[1]:this.length>2&&a(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-E:E},c.prototype.toJSON=function(){return this.toString(16,2)},u&&(c.prototype.toBuffer=function(E,w){return this.toArrayLike(u,E,w)}),c.prototype.toArray=function(E,w){return this.toArrayLike(Array,E,w)};function b(E,w,C){C.negative=w.negative^E.negative;var S=E.length+w.length|0;C.length=S,S=S-1|0;var R=0|E.words[0],_=0|w.words[0],N=R*_,B=67108863&N,V=N/67108864|0;C.words[0]=B;for(var $=1;$<S;$++){for(var Y=V>>>26,L=67108863&V,K=Math.min($,w.length-1),I=Math.max(0,$-E.length+1);I<=K;I++){var A=$-I|0;Y+=(N=(R=0|E.words[A])*(_=0|w.words[I])+L)/67108864|0,L=67108863&N}C.words[$]=0|L,V=0|Y}return V!==0?C.words[$]=0|V:C.length--,C._strip()}c.prototype.toArrayLike=function(E,w,C){this._strip();var S=this.byteLength(),R=C||Math.max(1,S);a(S<=R,"byte array longer than desired length"),a(R>0,"Requested array length <= 0");var _=function(N,B){return N.allocUnsafe?N.allocUnsafe(B):new N(B)}(E,R);return this["_toArrayLike"+(w==="le"?"LE":"BE")](_,S),_},c.prototype._toArrayLikeLE=function(E,w){for(var C=0,S=0,R=0,_=0;R<this.length;R++){var N=this.words[R]<<_|S;E[C++]=255&N,C<E.length&&(E[C++]=N>>8&255),C<E.length&&(E[C++]=N>>16&255),_===6?(C<E.length&&(E[C++]=N>>24&255),S=0,_=0):(S=N>>>24,_+=2)}if(C<E.length)for(E[C++]=S;C<E.length;)E[C++]=0},c.prototype._toArrayLikeBE=function(E,w){for(var C=E.length-1,S=0,R=0,_=0;R<this.length;R++){var N=this.words[R]<<_|S;E[C--]=255&N,C>=0&&(E[C--]=N>>8&255),C>=0&&(E[C--]=N>>16&255),_===6?(C>=0&&(E[C--]=N>>24&255),S=0,_=0):(S=N>>>24,_+=2)}if(C>=0)for(E[C--]=S;C>=0;)E[C--]=0},Math.clz32?c.prototype._countBits=function(E){return 32-Math.clz32(E)}:c.prototype._countBits=function(E){var w=E,C=0;return w>=4096&&(C+=13,w>>>=13),w>=64&&(C+=7,w>>>=7),w>=8&&(C+=4,w>>>=4),w>=2&&(C+=2,w>>>=2),C+w},c.prototype._zeroBits=function(E){if(E===0)return 26;var w=E,C=0;return!(8191&w)&&(C+=13,w>>>=13),!(127&w)&&(C+=7,w>>>=7),!(15&w)&&(C+=4,w>>>=4),!(3&w)&&(C+=2,w>>>=2),!(1&w)&&C++,C},c.prototype.bitLength=function(){var E=this.words[this.length-1],w=this._countBits(E);return 26*(this.length-1)+w},c.prototype.zeroBits=function(){if(this.isZero())return 0;for(var E=0,w=0;w<this.length;w++){var C=this._zeroBits(this.words[w]);if(E+=C,C!==26)break}return E},c.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},c.prototype.toTwos=function(E){return this.negative!==0?this.abs().inotn(E).iaddn(1):this.clone()},c.prototype.fromTwos=function(E){return this.testn(E-1)?this.notn(E).iaddn(1).ineg():this.clone()},c.prototype.isNeg=function(){return this.negative!==0},c.prototype.neg=function(){return this.clone().ineg()},c.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},c.prototype.iuor=function(E){for(;this.length<E.length;)this.words[this.length++]=0;for(var w=0;w<E.length;w++)this.words[w]=this.words[w]|E.words[w];return this._strip()},c.prototype.ior=function(E){return a((this.negative|E.negative)==0),this.iuor(E)},c.prototype.or=function(E){return this.length>E.length?this.clone().ior(E):E.clone().ior(this)},c.prototype.uor=function(E){return this.length>E.length?this.clone().iuor(E):E.clone().iuor(this)},c.prototype.iuand=function(E){var w;w=this.length>E.length?E:this;for(var C=0;C<w.length;C++)this.words[C]=this.words[C]&E.words[C];return this.length=w.length,this._strip()},c.prototype.iand=function(E){return a((this.negative|E.negative)==0),this.iuand(E)},c.prototype.and=function(E){return this.length>E.length?this.clone().iand(E):E.clone().iand(this)},c.prototype.uand=function(E){return this.length>E.length?this.clone().iuand(E):E.clone().iuand(this)},c.prototype.iuxor=function(E){var w,C;this.length>E.length?(w=this,C=E):(w=E,C=this);for(var S=0;S<C.length;S++)this.words[S]=w.words[S]^C.words[S];if(this!==w)for(;S<w.length;S++)this.words[S]=w.words[S];return this.length=w.length,this._strip()},c.prototype.ixor=function(E){return a((this.negative|E.negative)==0),this.iuxor(E)},c.prototype.xor=function(E){return this.length>E.length?this.clone().ixor(E):E.clone().ixor(this)},c.prototype.uxor=function(E){return this.length>E.length?this.clone().iuxor(E):E.clone().iuxor(this)},c.prototype.inotn=function(E){a(typeof E=="number"&&E>=0);var w=0|Math.ceil(E/26),C=E%26;this._expand(w),C>0&&w--;for(var S=0;S<w;S++)this.words[S]=67108863&~this.words[S];return C>0&&(this.words[S]=~this.words[S]&67108863>>26-C),this._strip()},c.prototype.notn=function(E){return this.clone().inotn(E)},c.prototype.setn=function(E,w){a(typeof E=="number"&&E>=0);var C=E/26|0,S=E%26;return this._expand(C+1),this.words[C]=w?this.words[C]|1<<S:this.words[C]&~(1<<S),this._strip()},c.prototype.iadd=function(E){var w,C,S;if(this.negative!==0&&E.negative===0)return this.negative=0,w=this.isub(E),this.negative^=1,this._normSign();if(this.negative===0&&E.negative!==0)return E.negative=0,w=this.isub(E),E.negative=1,w._normSign();this.length>E.length?(C=this,S=E):(C=E,S=this);for(var R=0,_=0;_<S.length;_++)w=(0|C.words[_])+(0|S.words[_])+R,this.words[_]=67108863&w,R=w>>>26;for(;R!==0&&_<C.length;_++)w=(0|C.words[_])+R,this.words[_]=67108863&w,R=w>>>26;if(this.length=C.length,R!==0)this.words[this.length]=R,this.length++;else if(C!==this)for(;_<C.length;_++)this.words[_]=C.words[_];return this},c.prototype.add=function(E){var w;return E.negative!==0&&this.negative===0?(E.negative=0,w=this.sub(E),E.negative^=1,w):E.negative===0&&this.negative!==0?(this.negative=0,w=E.sub(this),this.negative=1,w):this.length>E.length?this.clone().iadd(E):E.clone().iadd(this)},c.prototype.isub=function(E){if(E.negative!==0){E.negative=0;var w=this.iadd(E);return E.negative=1,w._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(E),this.negative=1,this._normSign();var C,S,R=this.cmp(E);if(R===0)return this.negative=0,this.length=1,this.words[0]=0,this;R>0?(C=this,S=E):(C=E,S=this);for(var _=0,N=0;N<S.length;N++)_=(w=(0|C.words[N])-(0|S.words[N])+_)>>26,this.words[N]=67108863&w;for(;_!==0&&N<C.length;N++)_=(w=(0|C.words[N])+_)>>26,this.words[N]=67108863&w;if(_===0&&N<C.length&&C!==this)for(;N<C.length;N++)this.words[N]=C.words[N];return this.length=Math.max(this.length,N),C!==this&&(this.negative=1),this._strip()},c.prototype.sub=function(E){return this.clone().isub(E)};var x=function(E,w,C){var S,R,_,N=E.words,B=w.words,V=C.words,$=0,Y=0|N[0],L=8191&Y,K=Y>>>13,I=0|N[1],A=8191&I,z=I>>>13,q=0|N[2],J=8191&q,X=q>>>13,Z=0|N[3],ie=8191&Z,se=Z>>>13,Q=0|N[4],re=8191&Q,ne=Q>>>13,ue=0|N[5],de=8191&ue,ge=ue>>>13,we=0|N[6],xe=8191&we,Fe=we>>>13,De=0|N[7],Le=8191&De,He=De>>>13,it=0|N[8],Qe=8191&it,rt=it>>>13,Pe=0|N[9],Ie=8191&Pe,ae=Pe>>>13,ce=0|B[0],be=8191&ce,ve=ce>>>13,qe=0|B[1],Ce=8191&qe,Ne=qe>>>13,Ue=0|B[2],Ge=8191&Ue,Ee=Ue>>>13,yt=0|B[3],oe=8191&yt,_e=yt>>>13,Ve=0|B[4],ft=8191&Ve,ot=Ve>>>13,St=0|B[5],Pt=8191&St,lt=St>>>13,le=0|B[6],me=8191&le,Te=le>>>13,ze=0|B[7],at=8191&ze,Oe=ze>>>13,Ze=0|B[8],Xe=8191&Ze,Je=Ze>>>13,Ye=0|B[9],ut=8191&Ye,bt=Ye>>>13;C.negative=E.negative^w.negative,C.length=19;var Wt=($+(S=Math.imul(L,be))|0)+((8191&(R=(R=Math.imul(L,ve))+Math.imul(K,be)|0))<<13)|0;$=((_=Math.imul(K,ve))+(R>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,S=Math.imul(A,be),R=(R=Math.imul(A,ve))+Math.imul(z,be)|0,_=Math.imul(z,ve);var Lt=($+(S=S+Math.imul(L,Ce)|0)|0)+((8191&(R=(R=R+Math.imul(L,Ne)|0)+Math.imul(K,Ce)|0))<<13)|0;$=((_=_+Math.imul(K,Ne)|0)+(R>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,S=Math.imul(J,be),R=(R=Math.imul(J,ve))+Math.imul(X,be)|0,_=Math.imul(X,ve),S=S+Math.imul(A,Ce)|0,R=(R=R+Math.imul(A,Ne)|0)+Math.imul(z,Ce)|0,_=_+Math.imul(z,Ne)|0;var er=($+(S=S+Math.imul(L,Ge)|0)|0)+((8191&(R=(R=R+Math.imul(L,Ee)|0)+Math.imul(K,Ge)|0))<<13)|0;$=((_=_+Math.imul(K,Ee)|0)+(R>>>13)|0)+(er>>>26)|0,er&=67108863,S=Math.imul(ie,be),R=(R=Math.imul(ie,ve))+Math.imul(se,be)|0,_=Math.imul(se,ve),S=S+Math.imul(J,Ce)|0,R=(R=R+Math.imul(J,Ne)|0)+Math.imul(X,Ce)|0,_=_+Math.imul(X,Ne)|0,S=S+Math.imul(A,Ge)|0,R=(R=R+Math.imul(A,Ee)|0)+Math.imul(z,Ge)|0,_=_+Math.imul(z,Ee)|0;var tr=($+(S=S+Math.imul(L,oe)|0)|0)+((8191&(R=(R=R+Math.imul(L,_e)|0)+Math.imul(K,oe)|0))<<13)|0;$=((_=_+Math.imul(K,_e)|0)+(R>>>13)|0)+(tr>>>26)|0,tr&=67108863,S=Math.imul(re,be),R=(R=Math.imul(re,ve))+Math.imul(ne,be)|0,_=Math.imul(ne,ve),S=S+Math.imul(ie,Ce)|0,R=(R=R+Math.imul(ie,Ne)|0)+Math.imul(se,Ce)|0,_=_+Math.imul(se,Ne)|0,S=S+Math.imul(J,Ge)|0,R=(R=R+Math.imul(J,Ee)|0)+Math.imul(X,Ge)|0,_=_+Math.imul(X,Ee)|0,S=S+Math.imul(A,oe)|0,R=(R=R+Math.imul(A,_e)|0)+Math.imul(z,oe)|0,_=_+Math.imul(z,_e)|0;var Rr=($+(S=S+Math.imul(L,ft)|0)|0)+((8191&(R=(R=R+Math.imul(L,ot)|0)+Math.imul(K,ft)|0))<<13)|0;$=((_=_+Math.imul(K,ot)|0)+(R>>>13)|0)+(Rr>>>26)|0,Rr&=67108863,S=Math.imul(de,be),R=(R=Math.imul(de,ve))+Math.imul(ge,be)|0,_=Math.imul(ge,ve),S=S+Math.imul(re,Ce)|0,R=(R=R+Math.imul(re,Ne)|0)+Math.imul(ne,Ce)|0,_=_+Math.imul(ne,Ne)|0,S=S+Math.imul(ie,Ge)|0,R=(R=R+Math.imul(ie,Ee)|0)+Math.imul(se,Ge)|0,_=_+Math.imul(se,Ee)|0,S=S+Math.imul(J,oe)|0,R=(R=R+Math.imul(J,_e)|0)+Math.imul(X,oe)|0,_=_+Math.imul(X,_e)|0,S=S+Math.imul(A,ft)|0,R=(R=R+Math.imul(A,ot)|0)+Math.imul(z,ft)|0,_=_+Math.imul(z,ot)|0;var te=($+(S=S+Math.imul(L,Pt)|0)|0)+((8191&(R=(R=R+Math.imul(L,lt)|0)+Math.imul(K,Pt)|0))<<13)|0;$=((_=_+Math.imul(K,lt)|0)+(R>>>13)|0)+(te>>>26)|0,te&=67108863,S=Math.imul(xe,be),R=(R=Math.imul(xe,ve))+Math.imul(Fe,be)|0,_=Math.imul(Fe,ve),S=S+Math.imul(de,Ce)|0,R=(R=R+Math.imul(de,Ne)|0)+Math.imul(ge,Ce)|0,_=_+Math.imul(ge,Ne)|0,S=S+Math.imul(re,Ge)|0,R=(R=R+Math.imul(re,Ee)|0)+Math.imul(ne,Ge)|0,_=_+Math.imul(ne,Ee)|0,S=S+Math.imul(ie,oe)|0,R=(R=R+Math.imul(ie,_e)|0)+Math.imul(se,oe)|0,_=_+Math.imul(se,_e)|0,S=S+Math.imul(J,ft)|0,R=(R=R+Math.imul(J,ot)|0)+Math.imul(X,ft)|0,_=_+Math.imul(X,ot)|0,S=S+Math.imul(A,Pt)|0,R=(R=R+Math.imul(A,lt)|0)+Math.imul(z,Pt)|0,_=_+Math.imul(z,lt)|0;var ye=($+(S=S+Math.imul(L,me)|0)|0)+((8191&(R=(R=R+Math.imul(L,Te)|0)+Math.imul(K,me)|0))<<13)|0;$=((_=_+Math.imul(K,Te)|0)+(R>>>13)|0)+(ye>>>26)|0,ye&=67108863,S=Math.imul(Le,be),R=(R=Math.imul(Le,ve))+Math.imul(He,be)|0,_=Math.imul(He,ve),S=S+Math.imul(xe,Ce)|0,R=(R=R+Math.imul(xe,Ne)|0)+Math.imul(Fe,Ce)|0,_=_+Math.imul(Fe,Ne)|0,S=S+Math.imul(de,Ge)|0,R=(R=R+Math.imul(de,Ee)|0)+Math.imul(ge,Ge)|0,_=_+Math.imul(ge,Ee)|0,S=S+Math.imul(re,oe)|0,R=(R=R+Math.imul(re,_e)|0)+Math.imul(ne,oe)|0,_=_+Math.imul(ne,_e)|0,S=S+Math.imul(ie,ft)|0,R=(R=R+Math.imul(ie,ot)|0)+Math.imul(se,ft)|0,_=_+Math.imul(se,ot)|0,S=S+Math.imul(J,Pt)|0,R=(R=R+Math.imul(J,lt)|0)+Math.imul(X,Pt)|0,_=_+Math.imul(X,lt)|0,S=S+Math.imul(A,me)|0,R=(R=R+Math.imul(A,Te)|0)+Math.imul(z,me)|0,_=_+Math.imul(z,Te)|0;var Ae=($+(S=S+Math.imul(L,at)|0)|0)+((8191&(R=(R=R+Math.imul(L,Oe)|0)+Math.imul(K,at)|0))<<13)|0;$=((_=_+Math.imul(K,Oe)|0)+(R>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,S=Math.imul(Qe,be),R=(R=Math.imul(Qe,ve))+Math.imul(rt,be)|0,_=Math.imul(rt,ve),S=S+Math.imul(Le,Ce)|0,R=(R=R+Math.imul(Le,Ne)|0)+Math.imul(He,Ce)|0,_=_+Math.imul(He,Ne)|0,S=S+Math.imul(xe,Ge)|0,R=(R=R+Math.imul(xe,Ee)|0)+Math.imul(Fe,Ge)|0,_=_+Math.imul(Fe,Ee)|0,S=S+Math.imul(de,oe)|0,R=(R=R+Math.imul(de,_e)|0)+Math.imul(ge,oe)|0,_=_+Math.imul(ge,_e)|0,S=S+Math.imul(re,ft)|0,R=(R=R+Math.imul(re,ot)|0)+Math.imul(ne,ft)|0,_=_+Math.imul(ne,ot)|0,S=S+Math.imul(ie,Pt)|0,R=(R=R+Math.imul(ie,lt)|0)+Math.imul(se,Pt)|0,_=_+Math.imul(se,lt)|0,S=S+Math.imul(J,me)|0,R=(R=R+Math.imul(J,Te)|0)+Math.imul(X,me)|0,_=_+Math.imul(X,Te)|0,S=S+Math.imul(A,at)|0,R=(R=R+Math.imul(A,Oe)|0)+Math.imul(z,at)|0,_=_+Math.imul(z,Oe)|0;var Be=($+(S=S+Math.imul(L,Xe)|0)|0)+((8191&(R=(R=R+Math.imul(L,Je)|0)+Math.imul(K,Xe)|0))<<13)|0;$=((_=_+Math.imul(K,Je)|0)+(R>>>13)|0)+(Be>>>26)|0,Be&=67108863,S=Math.imul(Ie,be),R=(R=Math.imul(Ie,ve))+Math.imul(ae,be)|0,_=Math.imul(ae,ve),S=S+Math.imul(Qe,Ce)|0,R=(R=R+Math.imul(Qe,Ne)|0)+Math.imul(rt,Ce)|0,_=_+Math.imul(rt,Ne)|0,S=S+Math.imul(Le,Ge)|0,R=(R=R+Math.imul(Le,Ee)|0)+Math.imul(He,Ge)|0,_=_+Math.imul(He,Ee)|0,S=S+Math.imul(xe,oe)|0,R=(R=R+Math.imul(xe,_e)|0)+Math.imul(Fe,oe)|0,_=_+Math.imul(Fe,_e)|0,S=S+Math.imul(de,ft)|0,R=(R=R+Math.imul(de,ot)|0)+Math.imul(ge,ft)|0,_=_+Math.imul(ge,ot)|0,S=S+Math.imul(re,Pt)|0,R=(R=R+Math.imul(re,lt)|0)+Math.imul(ne,Pt)|0,_=_+Math.imul(ne,lt)|0,S=S+Math.imul(ie,me)|0,R=(R=R+Math.imul(ie,Te)|0)+Math.imul(se,me)|0,_=_+Math.imul(se,Te)|0,S=S+Math.imul(J,at)|0,R=(R=R+Math.imul(J,Oe)|0)+Math.imul(X,at)|0,_=_+Math.imul(X,Oe)|0,S=S+Math.imul(A,Xe)|0,R=(R=R+Math.imul(A,Je)|0)+Math.imul(z,Xe)|0,_=_+Math.imul(z,Je)|0;var st=($+(S=S+Math.imul(L,ut)|0)|0)+((8191&(R=(R=R+Math.imul(L,bt)|0)+Math.imul(K,ut)|0))<<13)|0;$=((_=_+Math.imul(K,bt)|0)+(R>>>13)|0)+(st>>>26)|0,st&=67108863,S=Math.imul(Ie,Ce),R=(R=Math.imul(Ie,Ne))+Math.imul(ae,Ce)|0,_=Math.imul(ae,Ne),S=S+Math.imul(Qe,Ge)|0,R=(R=R+Math.imul(Qe,Ee)|0)+Math.imul(rt,Ge)|0,_=_+Math.imul(rt,Ee)|0,S=S+Math.imul(Le,oe)|0,R=(R=R+Math.imul(Le,_e)|0)+Math.imul(He,oe)|0,_=_+Math.imul(He,_e)|0,S=S+Math.imul(xe,ft)|0,R=(R=R+Math.imul(xe,ot)|0)+Math.imul(Fe,ft)|0,_=_+Math.imul(Fe,ot)|0,S=S+Math.imul(de,Pt)|0,R=(R=R+Math.imul(de,lt)|0)+Math.imul(ge,Pt)|0,_=_+Math.imul(ge,lt)|0,S=S+Math.imul(re,me)|0,R=(R=R+Math.imul(re,Te)|0)+Math.imul(ne,me)|0,_=_+Math.imul(ne,Te)|0,S=S+Math.imul(ie,at)|0,R=(R=R+Math.imul(ie,Oe)|0)+Math.imul(se,at)|0,_=_+Math.imul(se,Oe)|0,S=S+Math.imul(J,Xe)|0,R=(R=R+Math.imul(J,Je)|0)+Math.imul(X,Xe)|0,_=_+Math.imul(X,Je)|0;var $e=($+(S=S+Math.imul(A,ut)|0)|0)+((8191&(R=(R=R+Math.imul(A,bt)|0)+Math.imul(z,ut)|0))<<13)|0;$=((_=_+Math.imul(z,bt)|0)+(R>>>13)|0)+($e>>>26)|0,$e&=67108863,S=Math.imul(Ie,Ge),R=(R=Math.imul(Ie,Ee))+Math.imul(ae,Ge)|0,_=Math.imul(ae,Ee),S=S+Math.imul(Qe,oe)|0,R=(R=R+Math.imul(Qe,_e)|0)+Math.imul(rt,oe)|0,_=_+Math.imul(rt,_e)|0,S=S+Math.imul(Le,ft)|0,R=(R=R+Math.imul(Le,ot)|0)+Math.imul(He,ft)|0,_=_+Math.imul(He,ot)|0,S=S+Math.imul(xe,Pt)|0,R=(R=R+Math.imul(xe,lt)|0)+Math.imul(Fe,Pt)|0,_=_+Math.imul(Fe,lt)|0,S=S+Math.imul(de,me)|0,R=(R=R+Math.imul(de,Te)|0)+Math.imul(ge,me)|0,_=_+Math.imul(ge,Te)|0,S=S+Math.imul(re,at)|0,R=(R=R+Math.imul(re,Oe)|0)+Math.imul(ne,at)|0,_=_+Math.imul(ne,Oe)|0,S=S+Math.imul(ie,Xe)|0,R=(R=R+Math.imul(ie,Je)|0)+Math.imul(se,Xe)|0,_=_+Math.imul(se,Je)|0;var Ke=($+(S=S+Math.imul(J,ut)|0)|0)+((8191&(R=(R=R+Math.imul(J,bt)|0)+Math.imul(X,ut)|0))<<13)|0;$=((_=_+Math.imul(X,bt)|0)+(R>>>13)|0)+(Ke>>>26)|0,Ke&=67108863,S=Math.imul(Ie,oe),R=(R=Math.imul(Ie,_e))+Math.imul(ae,oe)|0,_=Math.imul(ae,_e),S=S+Math.imul(Qe,ft)|0,R=(R=R+Math.imul(Qe,ot)|0)+Math.imul(rt,ft)|0,_=_+Math.imul(rt,ot)|0,S=S+Math.imul(Le,Pt)|0,R=(R=R+Math.imul(Le,lt)|0)+Math.imul(He,Pt)|0,_=_+Math.imul(He,lt)|0,S=S+Math.imul(xe,me)|0,R=(R=R+Math.imul(xe,Te)|0)+Math.imul(Fe,me)|0,_=_+Math.imul(Fe,Te)|0,S=S+Math.imul(de,at)|0,R=(R=R+Math.imul(de,Oe)|0)+Math.imul(ge,at)|0,_=_+Math.imul(ge,Oe)|0,S=S+Math.imul(re,Xe)|0,R=(R=R+Math.imul(re,Je)|0)+Math.imul(ne,Xe)|0,_=_+Math.imul(ne,Je)|0;var Mt=($+(S=S+Math.imul(ie,ut)|0)|0)+((8191&(R=(R=R+Math.imul(ie,bt)|0)+Math.imul(se,ut)|0))<<13)|0;$=((_=_+Math.imul(se,bt)|0)+(R>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,S=Math.imul(Ie,ft),R=(R=Math.imul(Ie,ot))+Math.imul(ae,ft)|0,_=Math.imul(ae,ot),S=S+Math.imul(Qe,Pt)|0,R=(R=R+Math.imul(Qe,lt)|0)+Math.imul(rt,Pt)|0,_=_+Math.imul(rt,lt)|0,S=S+Math.imul(Le,me)|0,R=(R=R+Math.imul(Le,Te)|0)+Math.imul(He,me)|0,_=_+Math.imul(He,Te)|0,S=S+Math.imul(xe,at)|0,R=(R=R+Math.imul(xe,Oe)|0)+Math.imul(Fe,at)|0,_=_+Math.imul(Fe,Oe)|0,S=S+Math.imul(de,Xe)|0,R=(R=R+Math.imul(de,Je)|0)+Math.imul(ge,Xe)|0,_=_+Math.imul(ge,Je)|0;var Et=($+(S=S+Math.imul(re,ut)|0)|0)+((8191&(R=(R=R+Math.imul(re,bt)|0)+Math.imul(ne,ut)|0))<<13)|0;$=((_=_+Math.imul(ne,bt)|0)+(R>>>13)|0)+(Et>>>26)|0,Et&=67108863,S=Math.imul(Ie,Pt),R=(R=Math.imul(Ie,lt))+Math.imul(ae,Pt)|0,_=Math.imul(ae,lt),S=S+Math.imul(Qe,me)|0,R=(R=R+Math.imul(Qe,Te)|0)+Math.imul(rt,me)|0,_=_+Math.imul(rt,Te)|0,S=S+Math.imul(Le,at)|0,R=(R=R+Math.imul(Le,Oe)|0)+Math.imul(He,at)|0,_=_+Math.imul(He,Oe)|0,S=S+Math.imul(xe,Xe)|0,R=(R=R+Math.imul(xe,Je)|0)+Math.imul(Fe,Xe)|0,_=_+Math.imul(Fe,Je)|0;var xt=($+(S=S+Math.imul(de,ut)|0)|0)+((8191&(R=(R=R+Math.imul(de,bt)|0)+Math.imul(ge,ut)|0))<<13)|0;$=((_=_+Math.imul(ge,bt)|0)+(R>>>13)|0)+(xt>>>26)|0,xt&=67108863,S=Math.imul(Ie,me),R=(R=Math.imul(Ie,Te))+Math.imul(ae,me)|0,_=Math.imul(ae,Te),S=S+Math.imul(Qe,at)|0,R=(R=R+Math.imul(Qe,Oe)|0)+Math.imul(rt,at)|0,_=_+Math.imul(rt,Oe)|0,S=S+Math.imul(Le,Xe)|0,R=(R=R+Math.imul(Le,Je)|0)+Math.imul(He,Xe)|0,_=_+Math.imul(He,Je)|0;var pt=($+(S=S+Math.imul(xe,ut)|0)|0)+((8191&(R=(R=R+Math.imul(xe,bt)|0)+Math.imul(Fe,ut)|0))<<13)|0;$=((_=_+Math.imul(Fe,bt)|0)+(R>>>13)|0)+(pt>>>26)|0,pt&=67108863,S=Math.imul(Ie,at),R=(R=Math.imul(Ie,Oe))+Math.imul(ae,at)|0,_=Math.imul(ae,Oe),S=S+Math.imul(Qe,Xe)|0,R=(R=R+Math.imul(Qe,Je)|0)+Math.imul(rt,Xe)|0,_=_+Math.imul(rt,Je)|0;var $t=($+(S=S+Math.imul(Le,ut)|0)|0)+((8191&(R=(R=R+Math.imul(Le,bt)|0)+Math.imul(He,ut)|0))<<13)|0;$=((_=_+Math.imul(He,bt)|0)+(R>>>13)|0)+($t>>>26)|0,$t&=67108863,S=Math.imul(Ie,Xe),R=(R=Math.imul(Ie,Je))+Math.imul(ae,Xe)|0,_=Math.imul(ae,Je);var rr=($+(S=S+Math.imul(Qe,ut)|0)|0)+((8191&(R=(R=R+Math.imul(Qe,bt)|0)+Math.imul(rt,ut)|0))<<13)|0;$=((_=_+Math.imul(rt,bt)|0)+(R>>>13)|0)+(rr>>>26)|0,rr&=67108863;var It=($+(S=Math.imul(Ie,ut))|0)+((8191&(R=(R=Math.imul(Ie,bt))+Math.imul(ae,ut)|0))<<13)|0;return $=((_=Math.imul(ae,bt))+(R>>>13)|0)+(It>>>26)|0,It&=67108863,V[0]=Wt,V[1]=Lt,V[2]=er,V[3]=tr,V[4]=Rr,V[5]=te,V[6]=ye,V[7]=Ae,V[8]=Be,V[9]=st,V[10]=$e,V[11]=Ke,V[12]=Mt,V[13]=Et,V[14]=xt,V[15]=pt,V[16]=$t,V[17]=rr,V[18]=It,$!==0&&(V[19]=$,C.length++),C};function P(E,w,C){C.negative=w.negative^E.negative,C.length=E.length+w.length;for(var S=0,R=0,_=0;_<C.length-1;_++){var N=R;R=0;for(var B=67108863&S,V=Math.min(_,w.length-1),$=Math.max(0,_-E.length+1);$<=V;$++){var Y=_-$,L=(0|E.words[Y])*(0|w.words[$]),K=67108863&L;B=67108863&(K=K+B|0),R+=(N=(N=N+(L/67108864|0)|0)+(K>>>26)|0)>>>26,N&=67108863}C.words[_]=B,S=N,N=R}return S!==0?C.words[_]=S:C.length--,C._strip()}function F(E,w,C){return P(E,w,C)}Math.imul||(x=b),c.prototype.mulTo=function(E,w){var C=this.length+E.length;return this.length===10&&E.length===10?x(this,E,w):C<63?b(this,E,w):C<1024?P(this,E,w):F(this,E,w)},c.prototype.mul=function(E){var w=new c(null);return w.words=new Array(this.length+E.length),this.mulTo(E,w)},c.prototype.mulf=function(E){var w=new c(null);return w.words=new Array(this.length+E.length),F(this,E,w)},c.prototype.imul=function(E){return this.clone().mulTo(E,this)},c.prototype.imuln=function(E){var w=E<0;w&&(E=-E),a(typeof E=="number"),a(E<67108864);for(var C=0,S=0;S<this.length;S++){var R=(0|this.words[S])*E,_=(67108863&R)+(67108863&C);C>>=26,C+=R/67108864|0,C+=_>>>26,this.words[S]=67108863&_}return C!==0&&(this.words[S]=C,this.length++),w?this.ineg():this},c.prototype.muln=function(E){return this.clone().imuln(E)},c.prototype.sqr=function(){return this.mul(this)},c.prototype.isqr=function(){return this.imul(this.clone())},c.prototype.pow=function(E){var w=function(_){for(var N=new Array(_.bitLength()),B=0;B<N.length;B++){var V=B/26|0,$=B%26;N[B]=_.words[V]>>>$&1}return N}(E);if(w.length===0)return new c(1);for(var C=this,S=0;S<w.length&&w[S]===0;S++,C=C.sqr());if(++S<w.length)for(var R=C.sqr();S<w.length;S++,R=R.sqr())w[S]!==0&&(C=C.mul(R));return C},c.prototype.iushln=function(E){a(typeof E=="number"&&E>=0);var w,C=E%26,S=(E-C)/26,R=67108863>>>26-C<<26-C;if(C!==0){var _=0;for(w=0;w<this.length;w++){var N=this.words[w]&R,B=(0|this.words[w])-N<<C;this.words[w]=B|_,_=N>>>26-C}_&&(this.words[w]=_,this.length++)}if(S!==0){for(w=this.length-1;w>=0;w--)this.words[w+S]=this.words[w];for(w=0;w<S;w++)this.words[w]=0;this.length+=S}return this._strip()},c.prototype.ishln=function(E){return a(this.negative===0),this.iushln(E)},c.prototype.iushrn=function(E,w,C){var S;a(typeof E=="number"&&E>=0),S=w?(w-w%26)/26:0;var R=E%26,_=Math.min((E-R)/26,this.length),N=67108863^67108863>>>R<<R,B=C;if(S-=_,S=Math.max(0,S),B){for(var V=0;V<_;V++)B.words[V]=this.words[V];B.length=_}if(_!==0)if(this.length>_)for(this.length-=_,V=0;V<this.length;V++)this.words[V]=this.words[V+_];else this.words[0]=0,this.length=1;var $=0;for(V=this.length-1;V>=0&&($!==0||V>=S);V--){var Y=0|this.words[V];this.words[V]=$<<26-R|Y>>>R,$=Y&N}return B&&$!==0&&(B.words[B.length++]=$),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},c.prototype.ishrn=function(E,w,C){return a(this.negative===0),this.iushrn(E,w,C)},c.prototype.shln=function(E){return this.clone().ishln(E)},c.prototype.ushln=function(E){return this.clone().iushln(E)},c.prototype.shrn=function(E){return this.clone().ishrn(E)},c.prototype.ushrn=function(E){return this.clone().iushrn(E)},c.prototype.testn=function(E){a(typeof E=="number"&&E>=0);var w=E%26,C=(E-w)/26,S=1<<w;return!(this.length<=C)&&!!(this.words[C]&S)},c.prototype.imaskn=function(E){a(typeof E=="number"&&E>=0);var w=E%26,C=(E-w)/26;if(a(this.negative===0,"imaskn works only with positive numbers"),this.length<=C)return this;if(w!==0&&C++,this.length=Math.min(C,this.length),w!==0){var S=67108863^67108863>>>w<<w;this.words[this.length-1]&=S}return this._strip()},c.prototype.maskn=function(E){return this.clone().imaskn(E)},c.prototype.iaddn=function(E){return a(typeof E=="number"),a(E<67108864),E<0?this.isubn(-E):this.negative!==0?this.length===1&&(0|this.words[0])<=E?(this.words[0]=E-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(E),this.negative=1,this):this._iaddn(E)},c.prototype._iaddn=function(E){this.words[0]+=E;for(var w=0;w<this.length&&this.words[w]>=67108864;w++)this.words[w]-=67108864,w===this.length-1?this.words[w+1]=1:this.words[w+1]++;return this.length=Math.max(this.length,w+1),this},c.prototype.isubn=function(E){if(a(typeof E=="number"),a(E<67108864),E<0)return this.iaddn(-E);if(this.negative!==0)return this.negative=0,this.iaddn(E),this.negative=1,this;if(this.words[0]-=E,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var w=0;w<this.length&&this.words[w]<0;w++)this.words[w]+=67108864,this.words[w+1]-=1;return this._strip()},c.prototype.addn=function(E){return this.clone().iaddn(E)},c.prototype.subn=function(E){return this.clone().isubn(E)},c.prototype.iabs=function(){return this.negative=0,this},c.prototype.abs=function(){return this.clone().iabs()},c.prototype._ishlnsubmul=function(E,w,C){var S,R,_=E.length+C;this._expand(_);var N=0;for(S=0;S<E.length;S++){R=(0|this.words[S+C])+N;var B=(0|E.words[S])*w;N=((R-=67108863&B)>>26)-(B/67108864|0),this.words[S+C]=67108863&R}for(;S<this.length-C;S++)N=(R=(0|this.words[S+C])+N)>>26,this.words[S+C]=67108863&R;if(N===0)return this._strip();for(a(N===-1),N=0,S=0;S<this.length;S++)N=(R=-(0|this.words[S])+N)>>26,this.words[S]=67108863&R;return this.negative=1,this._strip()},c.prototype._wordDiv=function(E,w){var C=(this.length,E.length),S=this.clone(),R=E,_=0|R.words[R.length-1];(C=26-this._countBits(_))!==0&&(R=R.ushln(C),S.iushln(C),_=0|R.words[R.length-1]);var N,B=S.length-R.length;if(w!=="mod"){(N=new c(null)).length=B+1,N.words=new Array(N.length);for(var V=0;V<N.length;V++)N.words[V]=0}var $=S.clone()._ishlnsubmul(R,1,B);$.negative===0&&(S=$,N&&(N.words[B]=1));for(var Y=B-1;Y>=0;Y--){var L=67108864*(0|S.words[R.length+Y])+(0|S.words[R.length+Y-1]);for(L=Math.min(L/_|0,67108863),S._ishlnsubmul(R,L,Y);S.negative!==0;)L--,S.negative=0,S._ishlnsubmul(R,1,Y),S.isZero()||(S.negative^=1);N&&(N.words[Y]=L)}return N&&N._strip(),S._strip(),w!=="div"&&C!==0&&S.iushrn(C),{div:N||null,mod:S}},c.prototype.divmod=function(E,w,C){return a(!E.isZero()),this.isZero()?{div:new c(0),mod:new c(0)}:this.negative!==0&&E.negative===0?(_=this.neg().divmod(E,w),w!=="mod"&&(S=_.div.neg()),w!=="div"&&(R=_.mod.neg(),C&&R.negative!==0&&R.iadd(E)),{div:S,mod:R}):this.negative===0&&E.negative!==0?(_=this.divmod(E.neg(),w),w!=="mod"&&(S=_.div.neg()),{div:S,mod:_.mod}):this.negative&E.negative?(_=this.neg().divmod(E.neg(),w),w!=="div"&&(R=_.mod.neg(),C&&R.negative!==0&&R.isub(E)),{div:_.div,mod:R}):E.length>this.length||this.cmp(E)<0?{div:new c(0),mod:this}:E.length===1?w==="div"?{div:this.divn(E.words[0]),mod:null}:w==="mod"?{div:null,mod:new c(this.modrn(E.words[0]))}:{div:this.divn(E.words[0]),mod:new c(this.modrn(E.words[0]))}:this._wordDiv(E,w);var S,R,_},c.prototype.div=function(E){return this.divmod(E,"div",!1).div},c.prototype.mod=function(E){return this.divmod(E,"mod",!1).mod},c.prototype.umod=function(E){return this.divmod(E,"mod",!0).mod},c.prototype.divRound=function(E){var w=this.divmod(E);if(w.mod.isZero())return w.div;var C=w.div.negative!==0?w.mod.isub(E):w.mod,S=E.ushrn(1),R=E.andln(1),_=C.cmp(S);return _<0||R===1&&_===0?w.div:w.div.negative!==0?w.div.isubn(1):w.div.iaddn(1)},c.prototype.modrn=function(E){var w=E<0;w&&(E=-E),a(E<=67108863);for(var C=(1<<26)%E,S=0,R=this.length-1;R>=0;R--)S=(C*S+(0|this.words[R]))%E;return w?-S:S},c.prototype.modn=function(E){return this.modrn(E)},c.prototype.idivn=function(E){var w=E<0;w&&(E=-E),a(E<=67108863);for(var C=0,S=this.length-1;S>=0;S--){var R=(0|this.words[S])+67108864*C;this.words[S]=R/E|0,C=R%E}return this._strip(),w?this.ineg():this},c.prototype.divn=function(E){return this.clone().idivn(E)},c.prototype.egcd=function(E){a(E.negative===0),a(!E.isZero());var w=this,C=E.clone();w=w.negative!==0?w.umod(E):w.clone();for(var S=new c(1),R=new c(0),_=new c(0),N=new c(1),B=0;w.isEven()&&C.isEven();)w.iushrn(1),C.iushrn(1),++B;for(var V=C.clone(),$=w.clone();!w.isZero();){for(var Y=0,L=1;!(w.words[0]&L)&&Y<26;++Y,L<<=1);if(Y>0)for(w.iushrn(Y);Y-- >0;)(S.isOdd()||R.isOdd())&&(S.iadd(V),R.isub($)),S.iushrn(1),R.iushrn(1);for(var K=0,I=1;!(C.words[0]&I)&&K<26;++K,I<<=1);if(K>0)for(C.iushrn(K);K-- >0;)(_.isOdd()||N.isOdd())&&(_.iadd(V),N.isub($)),_.iushrn(1),N.iushrn(1);w.cmp(C)>=0?(w.isub(C),S.isub(_),R.isub(N)):(C.isub(w),_.isub(S),N.isub(R))}return{a:_,b:N,gcd:C.iushln(B)}},c.prototype._invmp=function(E){a(E.negative===0),a(!E.isZero());var w=this,C=E.clone();w=w.negative!==0?w.umod(E):w.clone();for(var S,R=new c(1),_=new c(0),N=C.clone();w.cmpn(1)>0&&C.cmpn(1)>0;){for(var B=0,V=1;!(w.words[0]&V)&&B<26;++B,V<<=1);if(B>0)for(w.iushrn(B);B-- >0;)R.isOdd()&&R.iadd(N),R.iushrn(1);for(var $=0,Y=1;!(C.words[0]&Y)&&$<26;++$,Y<<=1);if($>0)for(C.iushrn($);$-- >0;)_.isOdd()&&_.iadd(N),_.iushrn(1);w.cmp(C)>=0?(w.isub(C),R.isub(_)):(C.isub(w),_.isub(R))}return(S=w.cmpn(1)===0?R:_).cmpn(0)<0&&S.iadd(E),S},c.prototype.gcd=function(E){if(this.isZero())return E.abs();if(E.isZero())return this.abs();var w=this.clone(),C=E.clone();w.negative=0,C.negative=0;for(var S=0;w.isEven()&&C.isEven();S++)w.iushrn(1),C.iushrn(1);for(;;){for(;w.isEven();)w.iushrn(1);for(;C.isEven();)C.iushrn(1);var R=w.cmp(C);if(R<0){var _=w;w=C,C=_}else if(R===0||C.cmpn(1)===0)break;w.isub(C)}return C.iushln(S)},c.prototype.invm=function(E){return this.egcd(E).a.umod(E)},c.prototype.isEven=function(){return(1&this.words[0])==0},c.prototype.isOdd=function(){return(1&this.words[0])==1},c.prototype.andln=function(E){return this.words[0]&E},c.prototype.bincn=function(E){a(typeof E=="number");var w=E%26,C=(E-w)/26,S=1<<w;if(this.length<=C)return this._expand(C+1),this.words[C]|=S,this;for(var R=S,_=C;R!==0&&_<this.length;_++){var N=0|this.words[_];R=(N+=R)>>>26,N&=67108863,this.words[_]=N}return R!==0&&(this.words[_]=R,this.length++),this},c.prototype.isZero=function(){return this.length===1&&this.words[0]===0},c.prototype.cmpn=function(E){var w,C=E<0;if(this.negative!==0&&!C)return-1;if(this.negative===0&&C)return 1;if(this._strip(),this.length>1)w=1;else{C&&(E=-E),a(E<=67108863,"Number is too big");var S=0|this.words[0];w=S===E?0:S<E?-1:1}return this.negative!==0?0|-w:w},c.prototype.cmp=function(E){if(this.negative!==0&&E.negative===0)return-1;if(this.negative===0&&E.negative!==0)return 1;var w=this.ucmp(E);return this.negative!==0?0|-w:w},c.prototype.ucmp=function(E){if(this.length>E.length)return 1;if(this.length<E.length)return-1;for(var w=0,C=this.length-1;C>=0;C--){var S=0|this.words[C],R=0|E.words[C];if(S!==R){S<R?w=-1:S>R&&(w=1);break}}return w},c.prototype.gtn=function(E){return this.cmpn(E)===1},c.prototype.gt=function(E){return this.cmp(E)===1},c.prototype.gten=function(E){return this.cmpn(E)>=0},c.prototype.gte=function(E){return this.cmp(E)>=0},c.prototype.ltn=function(E){return this.cmpn(E)===-1},c.prototype.lt=function(E){return this.cmp(E)===-1},c.prototype.lten=function(E){return this.cmpn(E)<=0},c.prototype.lte=function(E){return this.cmp(E)<=0},c.prototype.eqn=function(E){return this.cmpn(E)===0},c.prototype.eq=function(E){return this.cmp(E)===0},c.red=function(E){return new M(E)},c.prototype.toRed=function(E){return a(!this.red,"Already a number in reduction context"),a(this.negative===0,"red works only with positives"),E.convertTo(this)._forceRed(E)},c.prototype.fromRed=function(){return a(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},c.prototype._forceRed=function(E){return this.red=E,this},c.prototype.forceRed=function(E){return a(!this.red,"Already a number in reduction context"),this._forceRed(E)},c.prototype.redAdd=function(E){return a(this.red,"redAdd works only with red numbers"),this.red.add(this,E)},c.prototype.redIAdd=function(E){return a(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,E)},c.prototype.redSub=function(E){return a(this.red,"redSub works only with red numbers"),this.red.sub(this,E)},c.prototype.redISub=function(E){return a(this.red,"redISub works only with red numbers"),this.red.isub(this,E)},c.prototype.redShl=function(E){return a(this.red,"redShl works only with red numbers"),this.red.shl(this,E)},c.prototype.redMul=function(E){return a(this.red,"redMul works only with red numbers"),this.red._verify2(this,E),this.red.mul(this,E)},c.prototype.redIMul=function(E){return a(this.red,"redMul works only with red numbers"),this.red._verify2(this,E),this.red.imul(this,E)},c.prototype.redSqr=function(){return a(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},c.prototype.redISqr=function(){return a(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},c.prototype.redSqrt=function(){return a(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},c.prototype.redInvm=function(){return a(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},c.prototype.redNeg=function(){return a(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},c.prototype.redPow=function(E){return a(this.red&&!E.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,E)};var D={k256:null,p224:null,p192:null,p25519:null};function O(E,w){this.name=E,this.p=new c(w,16),this.n=this.p.bitLength(),this.k=new c(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function j(){O.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function H(){O.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function W(){O.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function G(){O.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function M(E){if(typeof E=="string"){var w=c._prime(E);this.m=w.p,this.prime=w}else a(E.gtn(1),"modulus must be greater than 1"),this.m=E,this.prime=null}function k(E){M.call(this,E),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new c(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}O.prototype._tmp=function(){var E=new c(null);return E.words=new Array(Math.ceil(this.n/13)),E},O.prototype.ireduce=function(E){var w,C=E;do this.split(C,this.tmp),w=(C=(C=this.imulK(C)).iadd(this.tmp)).bitLength();while(w>this.n);var S=w<this.n?-1:C.ucmp(this.p);return S===0?(C.words[0]=0,C.length=1):S>0?C.isub(this.p):C.strip!==void 0?C.strip():C._strip(),C},O.prototype.split=function(E,w){E.iushrn(this.n,0,w)},O.prototype.imulK=function(E){return E.imul(this.k)},l(j,O),j.prototype.split=function(E,w){for(var C=Math.min(E.length,9),S=0;S<C;S++)w.words[S]=E.words[S];if(w.length=C,E.length<=9)return E.words[0]=0,void(E.length=1);var R=E.words[9];for(w.words[w.length++]=4194303&R,S=10;S<E.length;S++){var _=0|E.words[S];E.words[S-10]=(4194303&_)<<4|R>>>22,R=_}R>>>=22,E.words[S-10]=R,R===0&&E.length>10?E.length-=10:E.length-=9},j.prototype.imulK=function(E){E.words[E.length]=0,E.words[E.length+1]=0,E.length+=2;for(var w=0,C=0;C<E.length;C++){var S=0|E.words[C];w+=977*S,E.words[C]=67108863&w,w=64*S+(w/67108864|0)}return E.words[E.length-1]===0&&(E.length--,E.words[E.length-1]===0&&E.length--),E},l(H,O),l(W,O),l(G,O),G.prototype.imulK=function(E){for(var w=0,C=0;C<E.length;C++){var S=19*(0|E.words[C])+w,R=67108863&S;S>>>=26,E.words[C]=R,w=S}return w!==0&&(E.words[E.length++]=w),E},c._prime=function(E){if(D[E])return D[E];var w;if(E==="k256")w=new j;else if(E==="p224")w=new H;else if(E==="p192")w=new W;else{if(E!=="p25519")throw new Error("Unknown prime "+E);w=new G}return D[E]=w,w},M.prototype._verify1=function(E){a(E.negative===0,"red works only with positives"),a(E.red,"red works only with red numbers")},M.prototype._verify2=function(E,w){a((E.negative|w.negative)==0,"red works only with positives"),a(E.red&&E.red===w.red,"red works only with red numbers")},M.prototype.imod=function(E){return this.prime?this.prime.ireduce(E)._forceRed(this):(g(E,E.umod(this.m)._forceRed(this)),E)},M.prototype.neg=function(E){return E.isZero()?E.clone():this.m.sub(E)._forceRed(this)},M.prototype.add=function(E,w){this._verify2(E,w);var C=E.add(w);return C.cmp(this.m)>=0&&C.isub(this.m),C._forceRed(this)},M.prototype.iadd=function(E,w){this._verify2(E,w);var C=E.iadd(w);return C.cmp(this.m)>=0&&C.isub(this.m),C},M.prototype.sub=function(E,w){this._verify2(E,w);var C=E.sub(w);return C.cmpn(0)<0&&C.iadd(this.m),C._forceRed(this)},M.prototype.isub=function(E,w){this._verify2(E,w);var C=E.isub(w);return C.cmpn(0)<0&&C.iadd(this.m),C},M.prototype.shl=function(E,w){return this._verify1(E),this.imod(E.ushln(w))},M.prototype.imul=function(E,w){return this._verify2(E,w),this.imod(E.imul(w))},M.prototype.mul=function(E,w){return this._verify2(E,w),this.imod(E.mul(w))},M.prototype.isqr=function(E){return this.imul(E,E.clone())},M.prototype.sqr=function(E){return this.mul(E,E)},M.prototype.sqrt=function(E){if(E.isZero())return E.clone();var w=this.m.andln(3);if(a(w%2==1),w===3){var C=this.m.add(new c(1)).iushrn(2);return this.pow(E,C)}for(var S=this.m.subn(1),R=0;!S.isZero()&&S.andln(1)===0;)R++,S.iushrn(1);a(!S.isZero());var _=new c(1).toRed(this),N=_.redNeg(),B=this.m.subn(1).iushrn(1),V=this.m.bitLength();for(V=new c(2*V*V).toRed(this);this.pow(V,B).cmp(N)!==0;)V.redIAdd(N);for(var $=this.pow(V,S),Y=this.pow(E,S.addn(1).iushrn(1)),L=this.pow(E,S),K=R;L.cmp(_)!==0;){for(var I=L,A=0;I.cmp(_)!==0;A++)I=I.redSqr();a(A<K);var z=this.pow($,new c(1).iushln(K-A-1));Y=Y.redMul(z),$=z.redSqr(),L=L.redMul($),K=A}return Y},M.prototype.invm=function(E){var w=E._invmp(this.m);return w.negative!==0?(w.negative=0,this.imod(w).redNeg()):this.imod(w)},M.prototype.pow=function(E,w){if(w.isZero())return new c(1).toRed(this);if(w.cmpn(1)===0)return E.clone();var C=new Array(16);C[0]=new c(1).toRed(this),C[1]=E;for(var S=2;S<C.length;S++)C[S]=this.mul(C[S-1],E);var R=C[0],_=0,N=0,B=w.bitLength()%26;for(B===0&&(B=26),S=w.length-1;S>=0;S--){for(var V=w.words[S],$=B-1;$>=0;$--){var Y=V>>$&1;R!==C[0]&&(R=this.sqr(R)),Y!==0||_!==0?(_<<=1,_|=Y,(++N===4||S===0&&$===0)&&(R=this.mul(R,C[_]),N=0,_=0)):N=0}B=26}return R},M.prototype.convertTo=function(E){var w=E.umod(this.m);return w===E?w.clone():w},M.prototype.convertFrom=function(E){var w=E.clone();return w.red=null,w},c.mont=function(E){return new k(E)},l(k,M),k.prototype.convertTo=function(E){return this.imod(E.ushln(this.shift))},k.prototype.convertFrom=function(E){var w=this.imod(E.mul(this.rinv));return w.red=null,w},k.prototype.imul=function(E,w){if(E.isZero()||w.isZero())return E.words[0]=0,E.length=1,E;var C=E.imul(w),S=C.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),R=C.isub(S).iushrn(this.shift),_=R;return R.cmp(this.m)>=0?_=R.isub(this.m):R.cmpn(0)<0&&(_=R.iadd(this.m)),_._forceRed(this)},k.prototype.mul=function(E,w){if(E.isZero()||w.isZero())return new c(0)._forceRed(this);var C=E.mul(w),S=C.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),R=C.isub(S).iushrn(this.shift),_=R;return R.cmp(this.m)>=0?_=R.isub(this.m):R.cmpn(0)<0&&(_=R.iadd(this.m)),_._forceRed(this)},k.prototype.invm=function(E){return this.imod(E._invmp(this.m).mul(this.r2))._forceRed(this)}})(n===void 0||n)},{buffer:188}],187:[function(r,n,i){var s;function o(l){this.rand=l}if(n.exports=function(l){return s||(s=new o(null)),s.generate(l)},n.exports.Rand=o,o.prototype.generate=function(l){return this._rand(l)},o.prototype._rand=function(l){if(this.rand.getBytes)return this.rand.getBytes(l);for(var c=new Uint8Array(l),u=0;u<c.length;u++)c[u]=this.rand.getByte();return c},typeof self=="object")self.crypto&&self.crypto.getRandomValues?o.prototype._rand=function(l){var c=new Uint8Array(l);return self.crypto.getRandomValues(c),c}:self.msCrypto&&self.msCrypto.getRandomValues?o.prototype._rand=function(l){var c=new Uint8Array(l);return self.msCrypto.getRandomValues(c),c}:typeof window=="object"&&(o.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var a=r("crypto");if(typeof a.randomBytes!="function")throw new Error("Not supported");o.prototype._rand=function(l){return a.randomBytes(l)}}catch{}},{crypto:188}],188:[function(r,n,i){},{}],189:[function(r,n,i){var s=r("safe-buffer").Buffer;function o(d){s.isBuffer(d)||(d=s.from(d));for(var h=d.length/4|0,g=new Array(h),v=0;v<h;v++)g[v]=d.readUInt32BE(4*v);return g}function a(d){for(;0<d.length;d++)d[0]=0}function l(d,h,g,v,p){for(var y,m,b,x,P=g[0],F=g[1],D=g[2],O=g[3],j=d[0]^h[0],H=d[1]^h[1],W=d[2]^h[2],G=d[3]^h[3],M=4,k=1;k<p;k++)y=P[j>>>24]^F[H>>>16&255]^D[W>>>8&255]^O[255&G]^h[M++],m=P[H>>>24]^F[W>>>16&255]^D[G>>>8&255]^O[255&j]^h[M++],b=P[W>>>24]^F[G>>>16&255]^D[j>>>8&255]^O[255&H]^h[M++],x=P[G>>>24]^F[j>>>16&255]^D[H>>>8&255]^O[255&W]^h[M++],j=y,H=m,W=b,G=x;return y=(v[j>>>24]<<24|v[H>>>16&255]<<16|v[W>>>8&255]<<8|v[255&G])^h[M++],m=(v[H>>>24]<<24|v[W>>>16&255]<<16|v[G>>>8&255]<<8|v[255&j])^h[M++],b=(v[W>>>24]<<24|v[G>>>16&255]<<16|v[j>>>8&255]<<8|v[255&H])^h[M++],x=(v[G>>>24]<<24|v[j>>>16&255]<<16|v[H>>>8&255]<<8|v[255&W])^h[M++],[y>>>=0,m>>>=0,b>>>=0,x>>>=0]}var c=[0,1,2,4,8,16,32,64,128,27,54],u=function(){for(var d=new Array(256),h=0;h<256;h++)d[h]=h<128?h<<1:h<<1^283;for(var g=[],v=[],p=[[],[],[],[]],y=[[],[],[],[]],m=0,b=0,x=0;x<256;++x){var P=b^b<<1^b<<2^b<<3^b<<4;P=P>>>8^255&P^99,g[m]=P,v[P]=m;var F=d[m],D=d[F],O=d[D],j=257*d[P]^16843008*P;p[0][m]=j<<24|j>>>8,p[1][m]=j<<16|j>>>16,p[2][m]=j<<8|j>>>24,p[3][m]=j,j=16843009*O^65537*D^257*F^16843008*m,y[0][P]=j<<24|j>>>8,y[1][P]=j<<16|j>>>16,y[2][P]=j<<8|j>>>24,y[3][P]=j,m===0?m=b=1:(m=F^d[d[d[O^F]]],b^=d[d[b]])}return{SBOX:g,INV_SBOX:v,SUB_MIX:p,INV_SUB_MIX:y}}();function f(d){this._key=o(d),this._reset()}f.blockSize=16,f.keySize=32,f.prototype.blockSize=f.blockSize,f.prototype.keySize=f.keySize,f.prototype._reset=function(){for(var d=this._key,h=d.length,g=h+6,v=4*(g+1),p=[],y=0;y<h;y++)p[y]=d[y];for(y=h;y<v;y++){var m=p[y-1];y%h==0?(m=m<<8|m>>>24,m=u.SBOX[m>>>24]<<24|u.SBOX[m>>>16&255]<<16|u.SBOX[m>>>8&255]<<8|u.SBOX[255&m],m^=c[y/h|0]<<24):h>6&&y%h==4&&(m=u.SBOX[m>>>24]<<24|u.SBOX[m>>>16&255]<<16|u.SBOX[m>>>8&255]<<8|u.SBOX[255&m]),p[y]=p[y-h]^m}for(var b=[],x=0;x<v;x++){var P=v-x,F=p[P-(x%4?0:4)];b[x]=x<4||P<=4?F:u.INV_SUB_MIX[0][u.SBOX[F>>>24]]^u.INV_SUB_MIX[1][u.SBOX[F>>>16&255]]^u.INV_SUB_MIX[2][u.SBOX[F>>>8&255]]^u.INV_SUB_MIX[3][u.SBOX[255&F]]}this._nRounds=g,this._keySchedule=p,this._invKeySchedule=b},f.prototype.encryptBlockRaw=function(d){return l(d=o(d),this._keySchedule,u.SUB_MIX,u.SBOX,this._nRounds)},f.prototype.encryptBlock=function(d){var h=this.encryptBlockRaw(d),g=s.allocUnsafe(16);return g.writeUInt32BE(h[0],0),g.writeUInt32BE(h[1],4),g.writeUInt32BE(h[2],8),g.writeUInt32BE(h[3],12),g},f.prototype.decryptBlock=function(d){var h=(d=o(d))[1];d[1]=d[3],d[3]=h;var g=l(d,this._invKeySchedule,u.INV_SUB_MIX,u.INV_SBOX,this._nRounds),v=s.allocUnsafe(16);return v.writeUInt32BE(g[0],0),v.writeUInt32BE(g[3],4),v.writeUInt32BE(g[2],8),v.writeUInt32BE(g[1],12),v},f.prototype.scrub=function(){a(this._keySchedule),a(this._invKeySchedule),a(this._key)},n.exports.AES=f},{"safe-buffer":494}],190:[function(r,n,i){var s=r("./aes"),o=r("safe-buffer").Buffer,a=r("cipher-base"),l=r("inherits"),c=r("./ghash"),u=r("buffer-xor"),f=r("./incr32");function d(h,g,v,p){a.call(this);var y=o.alloc(4,0);this._cipher=new s.AES(g);var m=this._cipher.encryptBlock(y);this._ghash=new c(m),v=function(b,x,P){if(x.length===12)return b._finID=o.concat([x,o.from([0,0,0,1])]),o.concat([x,o.from([0,0,0,2])]);var F=new c(P),D=x.length,O=D%16;F.update(x),O&&(O=16-O,F.update(o.alloc(O,0))),F.update(o.alloc(8,0));var j=8*D,H=o.alloc(8);H.writeUIntBE(j,0,8),F.update(H),b._finID=F.state;var W=o.from(b._finID);return f(W),W}(this,v,m),this._prev=o.from(v),this._cache=o.allocUnsafe(0),this._secCache=o.allocUnsafe(0),this._decrypt=p,this._alen=0,this._len=0,this._mode=h,this._authTag=null,this._called=!1}l(d,a),d.prototype._update=function(h){if(!this._called&&this._alen){var g=16-this._alen%16;g<16&&(g=o.alloc(g,0),this._ghash.update(g))}this._called=!0;var v=this._mode.encrypt(this,h);return this._decrypt?this._ghash.update(h):this._ghash.update(v),this._len+=h.length,v},d.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var h=u(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(g,v){var p=0;g.length!==v.length&&p++;for(var y=Math.min(g.length,v.length),m=0;m<y;++m)p+=g[m]^v[m];return p}(h,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=h,this._cipher.scrub()},d.prototype.getAuthTag=function(){if(this._decrypt||!o.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},d.prototype.setAuthTag=function(h){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=h},d.prototype.setAAD=function(h){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(h),this._alen+=h.length},n.exports=d},{"./aes":189,"./ghash":194,"./incr32":195,"buffer-xor":219,"cipher-base":221,inherits:440,"safe-buffer":494}],191:[function(r,n,i){var s=r("./encrypter"),o=r("./decrypter"),a=r("./modes/list.json");i.createCipher=i.Cipher=s.createCipher,i.createCipheriv=i.Cipheriv=s.createCipheriv,i.createDecipher=i.Decipher=o.createDecipher,i.createDecipheriv=i.Decipheriv=o.createDecipheriv,i.listCiphers=i.getCiphers=function(){return Object.keys(a)}},{"./decrypter":192,"./encrypter":193,"./modes/list.json":203}],192:[function(r,n,i){var s=r("./authCipher"),o=r("safe-buffer").Buffer,a=r("./modes"),l=r("./streamCipher"),c=r("cipher-base"),u=r("./aes"),f=r("evp_bytestokey");function d(v,p,y){c.call(this),this._cache=new h,this._last=void 0,this._cipher=new u.AES(p),this._prev=o.from(y),this._mode=v,this._autopadding=!0}function h(){this.cache=o.allocUnsafe(0)}function g(v,p,y){var m=a[v.toLowerCase()];if(!m)throw new TypeError("invalid suite type");if(typeof y=="string"&&(y=o.from(y)),m.mode!=="GCM"&&y.length!==m.iv)throw new TypeError("invalid iv length "+y.length);if(typeof p=="string"&&(p=o.from(p)),p.length!==m.key/8)throw new TypeError("invalid key length "+p.length);return m.type==="stream"?new l(m.module,p,y,!0):m.type==="auth"?new s(m.module,p,y,!0):new d(m.module,p,y)}r("inherits")(d,c),d.prototype._update=function(v){var p,y;this._cache.add(v);for(var m=[];p=this._cache.get(this._autopadding);)y=this._mode.decrypt(this,p),m.push(y);return o.concat(m)},d.prototype._final=function(){var v=this._cache.flush();if(this._autopadding)return function(p){var y=p[15];if(y<1||y>16)throw new Error("unable to decrypt data");for(var m=-1;++m<y;)if(p[m+(16-y)]!==y)throw new Error("unable to decrypt data");if(y!==16)return p.slice(0,16-y)}(this._mode.decrypt(this,v));if(v)throw new Error("data not multiple of block length")},d.prototype.setAutoPadding=function(v){return this._autopadding=!!v,this},h.prototype.add=function(v){this.cache=o.concat([this.cache,v])},h.prototype.get=function(v){var p;if(v){if(this.cache.length>16)return p=this.cache.slice(0,16),this.cache=this.cache.slice(16),p}else if(this.cache.length>=16)return p=this.cache.slice(0,16),this.cache=this.cache.slice(16),p;return null},h.prototype.flush=function(){if(this.cache.length)return this.cache},i.createDecipher=function(v,p){var y=a[v.toLowerCase()];if(!y)throw new TypeError("invalid suite type");var m=f(p,!1,y.key,y.iv);return g(v,m.key,m.iv)},i.createDecipheriv=g},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],193:[function(r,n,i){var s=r("./modes"),o=r("./authCipher"),a=r("safe-buffer").Buffer,l=r("./streamCipher"),c=r("cipher-base"),u=r("./aes"),f=r("evp_bytestokey");function d(p,y,m){c.call(this),this._cache=new g,this._cipher=new u.AES(y),this._prev=a.from(m),this._mode=p,this._autopadding=!0}r("inherits")(d,c),d.prototype._update=function(p){var y,m;this._cache.add(p);for(var b=[];y=this._cache.get();)m=this._mode.encrypt(this,y),b.push(m);return a.concat(b)};var h=a.alloc(16,16);function g(){this.cache=a.allocUnsafe(0)}function v(p,y,m){var b=s[p.toLowerCase()];if(!b)throw new TypeError("invalid suite type");if(typeof y=="string"&&(y=a.from(y)),y.length!==b.key/8)throw new TypeError("invalid key length "+y.length);if(typeof m=="string"&&(m=a.from(m)),b.mode!=="GCM"&&m.length!==b.iv)throw new TypeError("invalid iv length "+m.length);return b.type==="stream"?new l(b.module,y,m):b.type==="auth"?new o(b.module,y,m):new d(b.module,y,m)}d.prototype._final=function(){var p=this._cache.flush();if(this._autopadding)return p=this._mode.encrypt(this,p),this._cipher.scrub(),p;if(!p.equals(h))throw this._cipher.scrub(),new Error("data not multiple of block length")},d.prototype.setAutoPadding=function(p){return this._autopadding=!!p,this},g.prototype.add=function(p){this.cache=a.concat([this.cache,p])},g.prototype.get=function(){if(this.cache.length>15){var p=this.cache.slice(0,16);return this.cache=this.cache.slice(16),p}return null},g.prototype.flush=function(){for(var p=16-this.cache.length,y=a.allocUnsafe(p),m=-1;++m<p;)y.writeUInt8(p,m);return a.concat([this.cache,y])},i.createCipheriv=v,i.createCipher=function(p,y){var m=s[p.toLowerCase()];if(!m)throw new TypeError("invalid suite type");var b=f(y,!1,m.key,m.iv);return v(p,b.key,b.iv)}},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],194:[function(r,n,i){var s=r("safe-buffer").Buffer,o=s.alloc(16,0);function a(c){var u=s.allocUnsafe(16);return u.writeUInt32BE(c[0]>>>0,0),u.writeUInt32BE(c[1]>>>0,4),u.writeUInt32BE(c[2]>>>0,8),u.writeUInt32BE(c[3]>>>0,12),u}function l(c){this.h=c,this.state=s.alloc(16,0),this.cache=s.allocUnsafe(0)}l.prototype.ghash=function(c){for(var u=-1;++u<c.length;)this.state[u]^=c[u];this._multiply()},l.prototype._multiply=function(){for(var c,u,f,d=[(c=this.h).readUInt32BE(0),c.readUInt32BE(4),c.readUInt32BE(8),c.readUInt32BE(12)],h=[0,0,0,0],g=-1;++g<128;){for(this.state[~~(g/8)]&1<<7-g%8&&(h[0]^=d[0],h[1]^=d[1],h[2]^=d[2],h[3]^=d[3]),f=(1&d[3])!=0,u=3;u>0;u--)d[u]=d[u]>>>1|(1&d[u-1])<<31;d[0]=d[0]>>>1,f&&(d[0]=d[0]^225<<24)}this.state=a(h)},l.prototype.update=function(c){var u;for(this.cache=s.concat([this.cache,c]);this.cache.length>=16;)u=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(u)},l.prototype.final=function(c,u){return this.cache.length&&this.ghash(s.concat([this.cache,o],16)),this.ghash(a([0,c,0,u])),this.state},n.exports=l},{"safe-buffer":494}],195:[function(r,n,i){n.exports=function(s){for(var o,a=s.length;a--;){if((o=s.readUInt8(a))!==255){o++,s.writeUInt8(o,a);break}s.writeUInt8(0,a)}}},{}],196:[function(r,n,i){var s=r("buffer-xor");i.encrypt=function(o,a){var l=s(a,o._prev);return o._prev=o._cipher.encryptBlock(l),o._prev},i.decrypt=function(o,a){var l=o._prev;o._prev=a;var c=o._cipher.decryptBlock(a);return s(c,l)}},{"buffer-xor":219}],197:[function(r,n,i){var s=r("safe-buffer").Buffer,o=r("buffer-xor");function a(l,c,u){var f=c.length,d=o(c,l._cache);return l._cache=l._cache.slice(f),l._prev=s.concat([l._prev,u?c:d]),d}i.encrypt=function(l,c,u){for(var f,d=s.allocUnsafe(0);c.length;){if(l._cache.length===0&&(l._cache=l._cipher.encryptBlock(l._prev),l._prev=s.allocUnsafe(0)),!(l._cache.length<=c.length)){d=s.concat([d,a(l,c,u)]);break}f=l._cache.length,d=s.concat([d,a(l,c.slice(0,f),u)]),c=c.slice(f)}return d}},{"buffer-xor":219,"safe-buffer":494}],198:[function(r,n,i){var s=r("safe-buffer").Buffer;function o(l,c,u){for(var f,d,h=-1,g=0;++h<8;)f=c&1<<7-h?128:0,g+=(128&(d=l._cipher.encryptBlock(l._prev)[0]^f))>>h%8,l._prev=a(l._prev,u?f:d);return g}function a(l,c){var u=l.length,f=-1,d=s.allocUnsafe(l.length);for(l=s.concat([l,s.from([c])]);++f<u;)d[f]=l[f]<<1|l[f+1]>>7;return d}i.encrypt=function(l,c,u){for(var f=c.length,d=s.allocUnsafe(f),h=-1;++h<f;)d[h]=o(l,c[h],u);return d}},{"safe-buffer":494}],199:[function(r,n,i){var s=r("safe-buffer").Buffer;function o(a,l,c){var u=a._cipher.encryptBlock(a._prev)[0]^l;return a._prev=s.concat([a._prev.slice(1),s.from([c?l:u])]),u}i.encrypt=function(a,l,c){for(var u=l.length,f=s.allocUnsafe(u),d=-1;++d<u;)f[d]=o(a,l[d],c);return f}},{"safe-buffer":494}],200:[function(r,n,i){var s=r("buffer-xor"),o=r("safe-buffer").Buffer,a=r("../incr32");function l(c){var u=c._cipher.encryptBlockRaw(c._prev);return a(c._prev),u}i.encrypt=function(c,u){var f=Math.ceil(u.length/16),d=c._cache.length;c._cache=o.concat([c._cache,o.allocUnsafe(16*f)]);for(var h=0;h<f;h++){var g=l(c),v=d+16*h;c._cache.writeUInt32BE(g[0],v+0),c._cache.writeUInt32BE(g[1],v+4),c._cache.writeUInt32BE(g[2],v+8),c._cache.writeUInt32BE(g[3],v+12)}var p=c._cache.slice(0,u.length);return c._cache=c._cache.slice(u.length),s(u,p)}},{"../incr32":195,"buffer-xor":219,"safe-buffer":494}],201:[function(r,n,i){i.encrypt=function(s,o){return s._cipher.encryptBlock(o)},i.decrypt=function(s,o){return s._cipher.decryptBlock(o)}},{}],202:[function(r,n,i){var s={ECB:r("./ecb"),CBC:r("./cbc"),CFB:r("./cfb"),CFB8:r("./cfb8"),CFB1:r("./cfb1"),OFB:r("./ofb"),CTR:r("./ctr"),GCM:r("./ctr")},o=r("./list.json");for(var a in o)o[a].module=s[o[a].mode];n.exports=o},{"./cbc":196,"./cfb":197,"./cfb1":198,"./cfb8":199,"./ctr":200,"./ecb":201,"./list.json":203,"./ofb":204}],203:[function(r,n,i){n.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},{}],204:[function(r,n,i){(function(s){(function(){var o=r("buffer-xor");function a(l){return l._prev=l._cipher.encryptBlock(l._prev),l._prev}i.encrypt=function(l,c){for(;l._cache.length<c.length;)l._cache=s.concat([l._cache,a(l)]);var u=l._cache.slice(0,c.length);return l._cache=l._cache.slice(c.length),o(c,u)}}).call(this)}).call(this,r("buffer").Buffer)},{buffer:220,"buffer-xor":219}],205:[function(r,n,i){var s=r("./aes"),o=r("safe-buffer").Buffer,a=r("cipher-base");function l(c,u,f,d){a.call(this),this._cipher=new s.AES(u),this._prev=o.from(f),this._cache=o.allocUnsafe(0),this._secCache=o.allocUnsafe(0),this._decrypt=d,this._mode=c}r("inherits")(l,a),l.prototype._update=function(c){return this._mode.encrypt(this,c,this._decrypt)},l.prototype._final=function(){this._cipher.scrub()},n.exports=l},{"./aes":189,"cipher-base":221,inherits:440,"safe-buffer":494}],206:[function(r,n,i){var s=r("browserify-des"),o=r("browserify-aes/browser"),a=r("browserify-aes/modes"),l=r("browserify-des/modes"),c=r("evp_bytestokey");function u(d,h,g){if(d=d.toLowerCase(),a[d])return o.createCipheriv(d,h,g);if(l[d])return new s({key:h,iv:g,mode:d});throw new TypeError("invalid suite type")}function f(d,h,g){if(d=d.toLowerCase(),a[d])return o.createDecipheriv(d,h,g);if(l[d])return new s({key:h,iv:g,mode:d,decrypt:!0});throw new TypeError("invalid suite type")}i.createCipher=i.Cipher=function(d,h){var g,v;if(d=d.toLowerCase(),a[d])g=a[d].key,v=a[d].iv;else{if(!l[d])throw new TypeError("invalid suite type");g=8*l[d].key,v=l[d].iv}var p=c(h,!1,g,v);return u(d,p.key,p.iv)},i.createCipheriv=i.Cipheriv=u,i.createDecipher=i.Decipher=function(d,h){var g,v;if(d=d.toLowerCase(),a[d])g=a[d].key,v=a[d].iv;else{if(!l[d])throw new TypeError("invalid suite type");g=8*l[d].key,v=l[d].iv}var p=c(h,!1,g,v);return f(d,p.key,p.iv)},i.createDecipheriv=i.Decipheriv=f,i.listCiphers=i.getCiphers=function(){return Object.keys(l).concat(o.getCiphers())}},{"browserify-aes/browser":191,"browserify-aes/modes":202,"browserify-des":207,"browserify-des/modes":208,evp_bytestokey:423}],207:[function(r,n,i){var s=r("cipher-base"),o=r("des.js"),a=r("inherits"),l=r("safe-buffer").Buffer,c={"des-ede3-cbc":o.CBC.instantiate(o.EDE),"des-ede3":o.EDE,"des-ede-cbc":o.CBC.instantiate(o.EDE),"des-ede":o.EDE,"des-cbc":o.CBC.instantiate(o.DES),"des-ecb":o.DES};function u(f){s.call(this);var d,h=f.mode.toLowerCase(),g=c[h];d=f.decrypt?"decrypt":"encrypt";var v=f.key;l.isBuffer(v)||(v=l.from(v)),h!=="des-ede"&&h!=="des-ede-cbc"||(v=l.concat([v,v.slice(0,8)]));var p=f.iv;l.isBuffer(p)||(p=l.from(p)),this._des=g.create({key:v,iv:p,type:d})}c.des=c["des-cbc"],c.des3=c["des-ede3-cbc"],n.exports=u,a(u,s),u.prototype._update=function(f){return l.from(this._des.update(f))},u.prototype._final=function(){return l.from(this._des.final())}},{"cipher-base":221,"des.js":394,inherits:440,"safe-buffer":494}],208:[function(r,n,i){i["des-ecb"]={key:8,iv:0},i["des-cbc"]=i.des={key:8,iv:8},i["des-ede3-cbc"]=i.des3={key:24,iv:8},i["des-ede3"]={key:24,iv:0},i["des-ede-cbc"]={key:16,iv:8},i["des-ede"]={key:16,iv:0}},{}],209:[function(r,n,i){(function(s){(function(){var o=r("bn.js"),a=r("randombytes");function l(u){var f,d=u.modulus.byteLength();do f=new o(a(d));while(f.cmp(u.modulus)>=0||!f.umod(u.prime1)||!f.umod(u.prime2));return f}function c(u,f){var d=function(D){var O=l(D);return{blinder:O.toRed(o.mont(D.modulus)).redPow(new o(D.publicExponent)).fromRed(),unblinder:O.invm(D.modulus)}}(f),h=f.modulus.byteLength(),g=new o(u).mul(d.blinder).umod(f.modulus),v=g.toRed(o.mont(f.prime1)),p=g.toRed(o.mont(f.prime2)),y=f.coefficient,m=f.prime1,b=f.prime2,x=v.redPow(f.exponent1).fromRed(),P=p.redPow(f.exponent2).fromRed(),F=x.isub(P).imul(y).umod(m).imul(b);return P.iadd(F).imul(d.unblinder).umod(f.modulus).toArrayLike(s,"be",h)}c.getr=l,n.exports=c}).call(this)}).call(this,r("buffer").Buffer)},{"bn.js":186,buffer:220,randombytes:475}],210:[function(r,n,i){n.exports=r("./browser/algorithms.json")},{"./browser/algorithms.json":211}],211:[function(r,n,i){n.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},{}],212:[function(r,n,i){n.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},{}],213:[function(r,n,i){var s=r("safe-buffer").Buffer,o=r("create-hash"),a=r("readable-stream"),l=r("inherits"),c=r("./sign"),u=r("./verify"),f=r("./algorithms.json");function d(p){a.Writable.call(this);var y=f[p];if(!y)throw new Error("Unknown message digest");this._hashType=y.hash,this._hash=o(y.hash),this._tag=y.id,this._signType=y.sign}function h(p){a.Writable.call(this);var y=f[p];if(!y)throw new Error("Unknown message digest");this._hash=o(y.hash),this._tag=y.id,this._signType=y.sign}function g(p){return new d(p)}function v(p){return new h(p)}Object.keys(f).forEach(function(p){f[p].id=s.from(f[p].id,"hex"),f[p.toLowerCase()]=f[p]}),l(d,a.Writable),d.prototype._write=function(p,y,m){this._hash.update(p),m()},d.prototype.update=function(p,y){return typeof p=="string"&&(p=s.from(p,y)),this._hash.update(p),this},d.prototype.sign=function(p,y){this.end();var m=this._hash.digest(),b=c(m,p,this._hashType,this._signType,this._tag);return y?b.toString(y):b},l(h,a.Writable),h.prototype._write=function(p,y,m){this._hash.update(p),m()},h.prototype.update=function(p,y){return typeof p=="string"&&(p=s.from(p,y)),this._hash.update(p),this},h.prototype.verify=function(p,y,m){typeof y=="string"&&(y=s.from(y,m)),this.end();var b=this._hash.digest();return u(y,b,p,this._signType,this._tag)},n.exports={Sign:g,Verify:v,createSign:g,createVerify:v}},{"./algorithms.json":211,"./sign":214,"./verify":215,"create-hash":386,inherits:440,"readable-stream":491,"safe-buffer":494}],214:[function(r,n,i){var s=r("safe-buffer").Buffer,o=r("create-hmac"),a=r("browserify-rsa"),l=r("elliptic").ec,c=r("bn.js"),u=r("parse-asn1"),f=r("./curves.json");function d(p,y,m,b){if((p=s.from(p.toArray())).length<y.byteLength()){var x=s.alloc(y.byteLength()-p.length);p=s.concat([x,p])}var P=m.length,F=function(j,H){j=(j=h(j,H)).mod(H);var W=s.from(j.toArray());if(W.length<H.byteLength()){var G=s.alloc(H.byteLength()-W.length);W=s.concat([G,W])}return W}(m,y),D=s.alloc(P);D.fill(1);var O=s.alloc(P);return O=o(b,O).update(D).update(s.from([0])).update(p).update(F).digest(),D=o(b,O).update(D).digest(),{k:O=o(b,O).update(D).update(s.from([1])).update(p).update(F).digest(),v:D=o(b,O).update(D).digest()}}function h(p,y){var m=new c(p),b=(p.length<<3)-y.bitLength();return b>0&&m.ishrn(b),m}function g(p,y,m){var b,x;do{for(b=s.alloc(0);8*b.length<p.bitLength();)y.v=o(m,y.k).update(y.v).digest(),b=s.concat([b,y.v]);x=h(b,p),y.k=o(m,y.k).update(y.v).update(s.from([0])).digest(),y.v=o(m,y.k).update(y.v).digest()}while(x.cmp(p)!==-1);return x}function v(p,y,m,b){return p.toRed(c.mont(m)).redPow(y).fromRed().mod(b)}n.exports=function(p,y,m,b,x){var P=u(y);if(P.curve){if(b!=="ecdsa"&&b!=="ecdsa/rsa")throw new Error("wrong private key type");return function(j,H){var W=f[H.curve.join(".")];if(!W)throw new Error("unknown curve "+H.curve.join("."));var G=new l(W).keyFromPrivate(H.privateKey).sign(j);return s.from(G.toDER())}(p,P)}if(P.type==="dsa"){if(b!=="dsa")throw new Error("wrong private key type");return function(j,H,W){for(var G,M=H.params.priv_key,k=H.params.p,E=H.params.q,w=H.params.g,C=new c(0),S=h(j,E).mod(E),R=!1,_=d(M,E,j,W);R===!1;)G=g(E,_,W),C=v(w,G,k,E),(R=G.invm(E).imul(S.add(M.mul(C))).mod(E)).cmpn(0)===0&&(R=!1,C=new c(0));return function(N,B){N=N.toArray(),B=B.toArray(),128&N[0]&&(N=[0].concat(N)),128&B[0]&&(B=[0].concat(B));var V=[48,N.length+B.length+4,2,N.length];return V=V.concat(N,[2,B.length],B),s.from(V)}(C,R)}(p,P,m)}if(b!=="rsa"&&b!=="ecdsa/rsa")throw new Error("wrong private key type");p=s.concat([x,p]);for(var F=P.modulus.byteLength(),D=[0,1];p.length+D.length+1<F;)D.push(255);D.push(0);for(var O=-1;++O<p.length;)D.push(p[O]);return a(D,P)},n.exports.getKey=d,n.exports.makeKey=g},{"./curves.json":212,"bn.js":186,"browserify-rsa":209,"create-hmac":388,elliptic:405,"parse-asn1":459,"safe-buffer":494}],215:[function(r,n,i){var s=r("safe-buffer").Buffer,o=r("bn.js"),a=r("elliptic").ec,l=r("parse-asn1"),c=r("./curves.json");function u(f,d){if(f.cmpn(0)<=0)throw new Error("invalid sig");if(f.cmp(d)>=d)throw new Error("invalid sig")}n.exports=function(f,d,h,g,v){var p=l(h);if(p.type==="ec"){if(g!=="ecdsa"&&g!=="ecdsa/rsa")throw new Error("wrong public key type");return function(D,O,j){var H=c[j.data.algorithm.curve.join(".")];if(!H)throw new Error("unknown curve "+j.data.algorithm.curve.join("."));var W=new a(H),G=j.data.subjectPrivateKey.data;return W.verify(O,D,G)}(f,d,p)}if(p.type==="dsa"){if(g!=="dsa")throw new Error("wrong public key type");return function(D,O,j){var H=j.data.p,W=j.data.q,G=j.data.g,M=j.data.pub_key,k=l.signature.decode(D,"der"),E=k.s,w=k.r;u(E,W),u(w,W);var C=o.mont(H),S=E.invm(W);return G.toRed(C).redPow(new o(O).mul(S).mod(W)).fromRed().mul(M.toRed(C).redPow(w.mul(S).mod(W)).fromRed()).mod(H).mod(W).cmp(w)===0}(f,d,p)}if(g!=="rsa"&&g!=="ecdsa/rsa")throw new Error("wrong public key type");d=s.concat([v,d]);for(var y=p.modulus.byteLength(),m=[1],b=0;d.length+m.length+2<y;)m.push(255),b++;m.push(0);for(var x=-1;++x<d.length;)m.push(d[x]);m=s.from(m);var P=o.mont(p.modulus);f=(f=new o(f).toRed(P)).redPow(new o(p.publicExponent)),f=s.from(f.fromRed().toArray());var F=b<8?1:0;for(y=Math.min(f.length,m.length),f.length!==m.length&&(F=1),x=-1;++x<y;)F|=f[x]^m[x];return F===0}},{"./curves.json":212,"bn.js":186,elliptic:405,"parse-asn1":459,"safe-buffer":494}],216:[function(r,n,i){},{}],217:[function(r,n,i){var s=r("buffer"),o=s.Buffer;function a(c,u){for(var f in c)u[f]=c[f]}function l(c,u,f){return o(c,u,f)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?n.exports=s:(a(s,i),i.Buffer=l),a(o,l),l.from=function(c,u,f){if(typeof c=="number")throw new TypeError("Argument must not be a number");return o(c,u,f)},l.alloc=function(c,u,f){if(typeof c!="number")throw new TypeError("Argument must be a number");var d=o(c);return u!==void 0?typeof f=="string"?d.fill(u,f):d.fill(u):d.fill(0),d},l.allocUnsafe=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return o(c)},l.allocUnsafeSlow=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return s.SlowBuffer(c)}},{buffer:220}],218:[function(r,n,i){var s=r("safe-buffer").Buffer,o=s.isEncoding||function(p){switch((p=""+p)&&p.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function a(p){var y;switch(this.encoding=function(m){var b=function(x){if(!x)return"utf8";for(var P;;)switch(x){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return x;default:if(P)return;x=(""+x).toLowerCase(),P=!0}}(m);if(typeof b!="string"&&(s.isEncoding===o||!o(m)))throw new Error("Unknown encoding: "+m);return b||m}(p),this.encoding){case"utf16le":this.text=u,this.end=f,y=4;break;case"utf8":this.fillLast=c,y=4;break;case"base64":this.text=d,this.end=h,y=3;break;default:return this.write=g,void(this.end=v)}this.lastNeed=0,this.lastTotal=0,this.lastChar=s.allocUnsafe(y)}function l(p){return p<=127?0:p>>5==6?2:p>>4==14?3:p>>3==30?4:p>>6==2?-1:-2}function c(p){var y=this.lastTotal-this.lastNeed,m=function(b,x,P){if((192&x[0])!=128)return b.lastNeed=0,"�";if(b.lastNeed>1&&x.length>1){if((192&x[1])!=128)return b.lastNeed=1,"�";if(b.lastNeed>2&&x.length>2&&(192&x[2])!=128)return b.lastNeed=2,"�"}}(this,p);return m!==void 0?m:this.lastNeed<=p.length?(p.copy(this.lastChar,y,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(p.copy(this.lastChar,y,0,p.length),void(this.lastNeed-=p.length))}function u(p,y){if((p.length-y)%2==0){var m=p.toString("utf16le",y);if(m){var b=m.charCodeAt(m.length-1);if(b>=55296&&b<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=p[p.length-2],this.lastChar[1]=p[p.length-1],m.slice(0,-1)}return m}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=p[p.length-1],p.toString("utf16le",y,p.length-1)}function f(p){var y=p&&p.length?this.write(p):"";if(this.lastNeed){var m=this.lastTotal-this.lastNeed;return y+this.lastChar.toString("utf16le",0,m)}return y}function d(p,y){var m=(p.length-y)%3;return m===0?p.toString("base64",y):(this.lastNeed=3-m,this.lastTotal=3,m===1?this.lastChar[0]=p[p.length-1]:(this.lastChar[0]=p[p.length-2],this.lastChar[1]=p[p.length-1]),p.toString("base64",y,p.length-m))}function h(p){var y=p&&p.length?this.write(p):"";return this.lastNeed?y+this.lastChar.toString("base64",0,3-this.lastNeed):y}function g(p){return p.toString(this.encoding)}function v(p){return p&&p.length?this.write(p):""}i.StringDecoder=a,a.prototype.write=function(p){if(p.length===0)return"";var y,m;if(this.lastNeed){if((y=this.fillLast(p))===void 0)return"";m=this.lastNeed,this.lastNeed=0}else m=0;return m<p.length?y?y+this.text(p,m):this.text(p,m):y||""},a.prototype.end=function(p){var y=p&&p.length?this.write(p):"";return this.lastNeed?y+"�":y},a.prototype.text=function(p,y){var m=function(x,P,F){var D=P.length-1;if(D<F)return 0;var O=l(P[D]);return O>=0?(O>0&&(x.lastNeed=O-1),O):--D<F||O===-2?0:(O=l(P[D]))>=0?(O>0&&(x.lastNeed=O-2),O):--D<F||O===-2?0:(O=l(P[D]))>=0?(O>0&&(O===2?O=0:x.lastNeed=O-3),O):0}(this,p,y);if(!this.lastNeed)return p.toString("utf8",y);this.lastTotal=m;var b=p.length-(m-this.lastNeed);return p.copy(this.lastChar,0,b),p.toString("utf8",y,b)},a.prototype.fillLast=function(p){if(this.lastNeed<=p.length)return p.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);p.copy(this.lastChar,this.lastTotal-this.lastNeed,0,p.length),this.lastNeed-=p.length}},{"safe-buffer":217}],219:[function(r,n,i){(function(s){(function(){n.exports=function(o,a){for(var l=Math.min(o.length,a.length),c=new s(l),u=0;u<l;++u)c[u]=o[u]^a[u];return c}}).call(this)}).call(this,r("buffer").Buffer)},{buffer:220}],220:[function(r,n,i){(function(s){(function(){var o=r("base64-js"),a=r("ieee754");i.Buffer=c,i.SlowBuffer=function(I){return+I!=I&&(I=0),c.alloc(+I)},i.INSPECT_MAX_BYTES=50;function l(I){if(I>2147483647)throw new RangeError('The value "'+I+'" is invalid for option "size"');var A=new Uint8Array(I);return A.__proto__=c.prototype,A}function c(I,A,z){if(typeof I=="number"){if(typeof A=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return d(I)}return u(I,A,z)}function u(I,A,z){if(typeof I=="string")return function(X,Z){if(typeof Z=="string"&&Z!==""||(Z="utf8"),!c.isEncoding(Z))throw new TypeError("Unknown encoding: "+Z);var ie=0|v(X,Z),se=l(ie),Q=se.write(X,Z);return Q!==ie&&(se=se.slice(0,Q)),se}(I,A);if(ArrayBuffer.isView(I))return h(I);if(I==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof I);if(L(I,ArrayBuffer)||I&&L(I.buffer,ArrayBuffer))return function(X,Z,ie){if(Z<0||X.byteLength<Z)throw new RangeError('"offset" is outside of buffer bounds');if(X.byteLength<Z+(ie||0))throw new RangeError('"length" is outside of buffer bounds');var se;return se=Z===void 0&&ie===void 0?new Uint8Array(X):ie===void 0?new Uint8Array(X,Z):new Uint8Array(X,Z,ie),se.__proto__=c.prototype,se}(I,A,z);if(typeof I=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var q=I.valueOf&&I.valueOf();if(q!=null&&q!==I)return c.from(q,A,z);var J=function(X){if(c.isBuffer(X)){var Z=0|g(X.length),ie=l(Z);return ie.length===0||X.copy(ie,0,0,Z),ie}if(X.length!==void 0)return typeof X.length!="number"||K(X.length)?l(0):h(X);if(X.type==="Buffer"&&Array.isArray(X.data))return h(X.data)}(I);if(J)return J;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof I[Symbol.toPrimitive]=="function")return c.from(I[Symbol.toPrimitive]("string"),A,z);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof I)}function f(I){if(typeof I!="number")throw new TypeError('"size" argument must be of type number');if(I<0)throw new RangeError('The value "'+I+'" is invalid for option "size"')}function d(I){return f(I),l(I<0?0:0|g(I))}function h(I){for(var A=I.length<0?0:0|g(I.length),z=l(A),q=0;q<A;q+=1)z[q]=255&I[q];return z}function g(I){if(I>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+2147483647 .toString(16)+" bytes");return 0|I}function v(I,A){if(c.isBuffer(I))return I.length;if(ArrayBuffer.isView(I)||L(I,ArrayBuffer))return I.byteLength;if(typeof I!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof I);var z=I.length,q=arguments.length>2&&arguments[2]===!0;if(!q&&z===0)return 0;for(var J=!1;;)switch(A){case"ascii":case"latin1":case"binary":return z;case"utf8":case"utf-8":return V(I).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*z;case"hex":return z>>>1;case"base64":return $(I).length;default:if(J)return q?-1:V(I).length;A=(""+A).toLowerCase(),J=!0}}function p(I,A,z){var q=!1;if((A===void 0||A<0)&&(A=0),A>this.length||((z===void 0||z>this.length)&&(z=this.length),z<=0)||(z>>>=0)<=(A>>>=0))return"";for(I||(I="utf8");;)switch(I){case"hex":return k(this,A,z);case"utf8":case"utf-8":return W(this,A,z);case"ascii":return G(this,A,z);case"latin1":case"binary":return M(this,A,z);case"base64":return H(this,A,z);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,A,z);default:if(q)throw new TypeError("Unknown encoding: "+I);I=(I+"").toLowerCase(),q=!0}}function y(I,A,z){var q=I[A];I[A]=I[z],I[z]=q}function m(I,A,z,q,J){if(I.length===0)return-1;if(typeof z=="string"?(q=z,z=0):z>2147483647?z=2147483647:z<-2147483648&&(z=-2147483648),K(z=+z)&&(z=J?0:I.length-1),z<0&&(z=I.length+z),z>=I.length){if(J)return-1;z=I.length-1}else if(z<0){if(!J)return-1;z=0}if(typeof A=="string"&&(A=c.from(A,q)),c.isBuffer(A))return A.length===0?-1:b(I,A,z,q,J);if(typeof A=="number")return A&=255,typeof Uint8Array.prototype.indexOf=="function"?J?Uint8Array.prototype.indexOf.call(I,A,z):Uint8Array.prototype.lastIndexOf.call(I,A,z):b(I,[A],z,q,J);throw new TypeError("val must be string, number or Buffer")}function b(I,A,z,q,J){var X,Z=1,ie=I.length,se=A.length;if(q!==void 0&&((q=String(q).toLowerCase())==="ucs2"||q==="ucs-2"||q==="utf16le"||q==="utf-16le")){if(I.length<2||A.length<2)return-1;Z=2,ie/=2,se/=2,z/=2}function Q(de,ge){return Z===1?de[ge]:de.readUInt16BE(ge*Z)}if(J){var re=-1;for(X=z;X<ie;X++)if(Q(I,X)===Q(A,re===-1?0:X-re)){if(re===-1&&(re=X),X-re+1===se)return re*Z}else re!==-1&&(X-=X-re),re=-1}else for(z+se>ie&&(z=ie-se),X=z;X>=0;X--){for(var ne=!0,ue=0;ue<se;ue++)if(Q(I,X+ue)!==Q(A,ue)){ne=!1;break}if(ne)return X}return-1}function x(I,A,z,q){z=Number(z)||0;var J=I.length-z;q?(q=Number(q))>J&&(q=J):q=J;var X=A.length;q>X/2&&(q=X/2);for(var Z=0;Z<q;++Z){var ie=parseInt(A.substr(2*Z,2),16);if(K(ie))return Z;I[z+Z]=ie}return Z}function P(I,A,z,q){return Y(V(A,I.length-z),I,z,q)}function F(I,A,z,q){return Y(function(J){for(var X=[],Z=0;Z<J.length;++Z)X.push(255&J.charCodeAt(Z));return X}(A),I,z,q)}function D(I,A,z,q){return F(I,A,z,q)}function O(I,A,z,q){return Y($(A),I,z,q)}function j(I,A,z,q){return Y(function(J,X){for(var Z,ie,se,Q=[],re=0;re<J.length&&!((X-=2)<0);++re)Z=J.charCodeAt(re),ie=Z>>8,se=Z%256,Q.push(se),Q.push(ie);return Q}(A,I.length-z),I,z,q)}function H(I,A,z){return A===0&&z===I.length?o.fromByteArray(I):o.fromByteArray(I.slice(A,z))}function W(I,A,z){z=Math.min(I.length,z);for(var q=[],J=A;J<z;){var X,Z,ie,se,Q=I[J],re=null,ne=Q>239?4:Q>223?3:Q>191?2:1;if(J+ne<=z)switch(ne){case 1:Q<128&&(re=Q);break;case 2:(192&(X=I[J+1]))==128&&(se=(31&Q)<<6|63&X)>127&&(re=se);break;case 3:X=I[J+1],Z=I[J+2],(192&X)==128&&(192&Z)==128&&(se=(15&Q)<<12|(63&X)<<6|63&Z)>2047&&(se<55296||se>57343)&&(re=se);break;case 4:X=I[J+1],Z=I[J+2],ie=I[J+3],(192&X)==128&&(192&Z)==128&&(192&ie)==128&&(se=(15&Q)<<18|(63&X)<<12|(63&Z)<<6|63&ie)>65535&&se<1114112&&(re=se)}re===null?(re=65533,ne=1):re>65535&&(re-=65536,q.push(re>>>10&1023|55296),re=56320|1023&re),q.push(re),J+=ne}return function(ue){var de=ue.length;if(de<=4096)return String.fromCharCode.apply(String,ue);for(var ge="",we=0;we<de;)ge+=String.fromCharCode.apply(String,ue.slice(we,we+=4096));return ge}(q)}i.kMaxLength=2147483647,c.TYPED_ARRAY_SUPPORT=function(){try{var I=new Uint8Array(1);return I.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},I.foo()===42}catch{return!1}}(),c.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),c.poolSize=8192,c.from=function(I,A,z){return u(I,A,z)},c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,c.alloc=function(I,A,z){return function(q,J,X){return f(q),q<=0?l(q):J!==void 0?typeof X=="string"?l(q).fill(J,X):l(q).fill(J):l(q)}(I,A,z)},c.allocUnsafe=function(I){return d(I)},c.allocUnsafeSlow=function(I){return d(I)},c.isBuffer=function(I){return I!=null&&I._isBuffer===!0&&I!==c.prototype},c.compare=function(I,A){if(L(I,Uint8Array)&&(I=c.from(I,I.offset,I.byteLength)),L(A,Uint8Array)&&(A=c.from(A,A.offset,A.byteLength)),!c.isBuffer(I)||!c.isBuffer(A))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(I===A)return 0;for(var z=I.length,q=A.length,J=0,X=Math.min(z,q);J<X;++J)if(I[J]!==A[J]){z=I[J],q=A[J];break}return z<q?-1:q<z?1:0},c.isEncoding=function(I){switch(String(I).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(I,A){if(!Array.isArray(I))throw new TypeError('"list" argument must be an Array of Buffers');if(I.length===0)return c.alloc(0);var z;if(A===void 0)for(A=0,z=0;z<I.length;++z)A+=I[z].length;var q=c.allocUnsafe(A),J=0;for(z=0;z<I.length;++z){var X=I[z];if(L(X,Uint8Array)&&(X=c.from(X)),!c.isBuffer(X))throw new TypeError('"list" argument must be an Array of Buffers');X.copy(q,J),J+=X.length}return q},c.byteLength=v,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var I=this.length;if(I%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var A=0;A<I;A+=2)y(this,A,A+1);return this},c.prototype.swap32=function(){var I=this.length;if(I%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var A=0;A<I;A+=4)y(this,A,A+3),y(this,A+1,A+2);return this},c.prototype.swap64=function(){var I=this.length;if(I%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var A=0;A<I;A+=8)y(this,A,A+7),y(this,A+1,A+6),y(this,A+2,A+5),y(this,A+3,A+4);return this},c.prototype.toString=function(){var I=this.length;return I===0?"":arguments.length===0?W(this,0,I):p.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(I){if(!c.isBuffer(I))throw new TypeError("Argument must be a Buffer");return this===I||c.compare(this,I)===0},c.prototype.inspect=function(){var I="",A=i.INSPECT_MAX_BYTES;return I=this.toString("hex",0,A).replace(/(.{2})/g,"$1 ").trim(),this.length>A&&(I+=" ... "),"<Buffer "+I+">"},c.prototype.compare=function(I,A,z,q,J){if(L(I,Uint8Array)&&(I=c.from(I,I.offset,I.byteLength)),!c.isBuffer(I))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof I);if(A===void 0&&(A=0),z===void 0&&(z=I?I.length:0),q===void 0&&(q=0),J===void 0&&(J=this.length),A<0||z>I.length||q<0||J>this.length)throw new RangeError("out of range index");if(q>=J&&A>=z)return 0;if(q>=J)return-1;if(A>=z)return 1;if(this===I)return 0;for(var X=(J>>>=0)-(q>>>=0),Z=(z>>>=0)-(A>>>=0),ie=Math.min(X,Z),se=this.slice(q,J),Q=I.slice(A,z),re=0;re<ie;++re)if(se[re]!==Q[re]){X=se[re],Z=Q[re];break}return X<Z?-1:Z<X?1:0},c.prototype.includes=function(I,A,z){return this.indexOf(I,A,z)!==-1},c.prototype.indexOf=function(I,A,z){return m(this,I,A,z,!0)},c.prototype.lastIndexOf=function(I,A,z){return m(this,I,A,z,!1)},c.prototype.write=function(I,A,z,q){if(A===void 0)q="utf8",z=this.length,A=0;else if(z===void 0&&typeof A=="string")q=A,z=this.length,A=0;else{if(!isFinite(A))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");A>>>=0,isFinite(z)?(z>>>=0,q===void 0&&(q="utf8")):(q=z,z=void 0)}var J=this.length-A;if((z===void 0||z>J)&&(z=J),I.length>0&&(z<0||A<0)||A>this.length)throw new RangeError("Attempt to write outside buffer bounds");q||(q="utf8");for(var X=!1;;)switch(q){case"hex":return x(this,I,A,z);case"utf8":case"utf-8":return P(this,I,A,z);case"ascii":return F(this,I,A,z);case"latin1":case"binary":return D(this,I,A,z);case"base64":return O(this,I,A,z);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,I,A,z);default:if(X)throw new TypeError("Unknown encoding: "+q);q=(""+q).toLowerCase(),X=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function G(I,A,z){var q="";z=Math.min(I.length,z);for(var J=A;J<z;++J)q+=String.fromCharCode(127&I[J]);return q}function M(I,A,z){var q="";z=Math.min(I.length,z);for(var J=A;J<z;++J)q+=String.fromCharCode(I[J]);return q}function k(I,A,z){var q=I.length;(!A||A<0)&&(A=0),(!z||z<0||z>q)&&(z=q);for(var J="",X=A;X<z;++X)J+=B(I[X]);return J}function E(I,A,z){for(var q=I.slice(A,z),J="",X=0;X<q.length;X+=2)J+=String.fromCharCode(q[X]+256*q[X+1]);return J}function w(I,A,z){if(I%1!=0||I<0)throw new RangeError("offset is not uint");if(I+A>z)throw new RangeError("Trying to access beyond buffer length")}function C(I,A,z,q,J,X){if(!c.isBuffer(I))throw new TypeError('"buffer" argument must be a Buffer instance');if(A>J||A<X)throw new RangeError('"value" argument is out of bounds');if(z+q>I.length)throw new RangeError("Index out of range")}function S(I,A,z,q,J,X){if(z+q>I.length)throw new RangeError("Index out of range");if(z<0)throw new RangeError("Index out of range")}function R(I,A,z,q,J){return A=+A,z>>>=0,J||S(I,0,z,4),a.write(I,A,z,q,23,4),z+4}function _(I,A,z,q,J){return A=+A,z>>>=0,J||S(I,0,z,8),a.write(I,A,z,q,52,8),z+8}c.prototype.slice=function(I,A){var z=this.length;(I=~~I)<0?(I+=z)<0&&(I=0):I>z&&(I=z),(A=A===void 0?z:~~A)<0?(A+=z)<0&&(A=0):A>z&&(A=z),A<I&&(A=I);var q=this.subarray(I,A);return q.__proto__=c.prototype,q},c.prototype.readUIntLE=function(I,A,z){I>>>=0,A>>>=0,z||w(I,A,this.length);for(var q=this[I],J=1,X=0;++X<A&&(J*=256);)q+=this[I+X]*J;return q},c.prototype.readUIntBE=function(I,A,z){I>>>=0,A>>>=0,z||w(I,A,this.length);for(var q=this[I+--A],J=1;A>0&&(J*=256);)q+=this[I+--A]*J;return q},c.prototype.readUInt8=function(I,A){return I>>>=0,A||w(I,1,this.length),this[I]},c.prototype.readUInt16LE=function(I,A){return I>>>=0,A||w(I,2,this.length),this[I]|this[I+1]<<8},c.prototype.readUInt16BE=function(I,A){return I>>>=0,A||w(I,2,this.length),this[I]<<8|this[I+1]},c.prototype.readUInt32LE=function(I,A){return I>>>=0,A||w(I,4,this.length),(this[I]|this[I+1]<<8|this[I+2]<<16)+16777216*this[I+3]},c.prototype.readUInt32BE=function(I,A){return I>>>=0,A||w(I,4,this.length),16777216*this[I]+(this[I+1]<<16|this[I+2]<<8|this[I+3])},c.prototype.readIntLE=function(I,A,z){I>>>=0,A>>>=0,z||w(I,A,this.length);for(var q=this[I],J=1,X=0;++X<A&&(J*=256);)q+=this[I+X]*J;return q>=(J*=128)&&(q-=Math.pow(2,8*A)),q},c.prototype.readIntBE=function(I,A,z){I>>>=0,A>>>=0,z||w(I,A,this.length);for(var q=A,J=1,X=this[I+--q];q>0&&(J*=256);)X+=this[I+--q]*J;return X>=(J*=128)&&(X-=Math.pow(2,8*A)),X},c.prototype.readInt8=function(I,A){return I>>>=0,A||w(I,1,this.length),128&this[I]?-1*(255-this[I]+1):this[I]},c.prototype.readInt16LE=function(I,A){I>>>=0,A||w(I,2,this.length);var z=this[I]|this[I+1]<<8;return 32768&z?4294901760|z:z},c.prototype.readInt16BE=function(I,A){I>>>=0,A||w(I,2,this.length);var z=this[I+1]|this[I]<<8;return 32768&z?4294901760|z:z},c.prototype.readInt32LE=function(I,A){return I>>>=0,A||w(I,4,this.length),this[I]|this[I+1]<<8|this[I+2]<<16|this[I+3]<<24},c.prototype.readInt32BE=function(I,A){return I>>>=0,A||w(I,4,this.length),this[I]<<24|this[I+1]<<16|this[I+2]<<8|this[I+3]},c.prototype.readFloatLE=function(I,A){return I>>>=0,A||w(I,4,this.length),a.read(this,I,!0,23,4)},c.prototype.readFloatBE=function(I,A){return I>>>=0,A||w(I,4,this.length),a.read(this,I,!1,23,4)},c.prototype.readDoubleLE=function(I,A){return I>>>=0,A||w(I,8,this.length),a.read(this,I,!0,52,8)},c.prototype.readDoubleBE=function(I,A){return I>>>=0,A||w(I,8,this.length),a.read(this,I,!1,52,8)},c.prototype.writeUIntLE=function(I,A,z,q){I=+I,A>>>=0,z>>>=0,q||C(this,I,A,z,Math.pow(2,8*z)-1,0);var J=1,X=0;for(this[A]=255&I;++X<z&&(J*=256);)this[A+X]=I/J&255;return A+z},c.prototype.writeUIntBE=function(I,A,z,q){I=+I,A>>>=0,z>>>=0,q||C(this,I,A,z,Math.pow(2,8*z)-1,0);var J=z-1,X=1;for(this[A+J]=255&I;--J>=0&&(X*=256);)this[A+J]=I/X&255;return A+z},c.prototype.writeUInt8=function(I,A,z){return I=+I,A>>>=0,z||C(this,I,A,1,255,0),this[A]=255&I,A+1},c.prototype.writeUInt16LE=function(I,A,z){return I=+I,A>>>=0,z||C(this,I,A,2,65535,0),this[A]=255&I,this[A+1]=I>>>8,A+2},c.prototype.writeUInt16BE=function(I,A,z){return I=+I,A>>>=0,z||C(this,I,A,2,65535,0),this[A]=I>>>8,this[A+1]=255&I,A+2},c.prototype.writeUInt32LE=function(I,A,z){return I=+I,A>>>=0,z||C(this,I,A,4,4294967295,0),this[A+3]=I>>>24,this[A+2]=I>>>16,this[A+1]=I>>>8,this[A]=255&I,A+4},c.prototype.writeUInt32BE=function(I,A,z){return I=+I,A>>>=0,z||C(this,I,A,4,4294967295,0),this[A]=I>>>24,this[A+1]=I>>>16,this[A+2]=I>>>8,this[A+3]=255&I,A+4},c.prototype.writeIntLE=function(I,A,z,q){if(I=+I,A>>>=0,!q){var J=Math.pow(2,8*z-1);C(this,I,A,z,J-1,-J)}var X=0,Z=1,ie=0;for(this[A]=255&I;++X<z&&(Z*=256);)I<0&&ie===0&&this[A+X-1]!==0&&(ie=1),this[A+X]=(I/Z>>0)-ie&255;return A+z},c.prototype.writeIntBE=function(I,A,z,q){if(I=+I,A>>>=0,!q){var J=Math.pow(2,8*z-1);C(this,I,A,z,J-1,-J)}var X=z-1,Z=1,ie=0;for(this[A+X]=255&I;--X>=0&&(Z*=256);)I<0&&ie===0&&this[A+X+1]!==0&&(ie=1),this[A+X]=(I/Z>>0)-ie&255;return A+z},c.prototype.writeInt8=function(I,A,z){return I=+I,A>>>=0,z||C(this,I,A,1,127,-128),I<0&&(I=255+I+1),this[A]=255&I,A+1},c.prototype.writeInt16LE=function(I,A,z){return I=+I,A>>>=0,z||C(this,I,A,2,32767,-32768),this[A]=255&I,this[A+1]=I>>>8,A+2},c.prototype.writeInt16BE=function(I,A,z){return I=+I,A>>>=0,z||C(this,I,A,2,32767,-32768),this[A]=I>>>8,this[A+1]=255&I,A+2},c.prototype.writeInt32LE=function(I,A,z){return I=+I,A>>>=0,z||C(this,I,A,4,2147483647,-2147483648),this[A]=255&I,this[A+1]=I>>>8,this[A+2]=I>>>16,this[A+3]=I>>>24,A+4},c.prototype.writeInt32BE=function(I,A,z){return I=+I,A>>>=0,z||C(this,I,A,4,2147483647,-2147483648),I<0&&(I=4294967295+I+1),this[A]=I>>>24,this[A+1]=I>>>16,this[A+2]=I>>>8,this[A+3]=255&I,A+4},c.prototype.writeFloatLE=function(I,A,z){return R(this,I,A,!0,z)},c.prototype.writeFloatBE=function(I,A,z){return R(this,I,A,!1,z)},c.prototype.writeDoubleLE=function(I,A,z){return _(this,I,A,!0,z)},c.prototype.writeDoubleBE=function(I,A,z){return _(this,I,A,!1,z)},c.prototype.copy=function(I,A,z,q){if(!c.isBuffer(I))throw new TypeError("argument should be a Buffer");if(z||(z=0),q||q===0||(q=this.length),A>=I.length&&(A=I.length),A||(A=0),q>0&&q<z&&(q=z),q===z||I.length===0||this.length===0)return 0;if(A<0)throw new RangeError("targetStart out of bounds");if(z<0||z>=this.length)throw new RangeError("Index out of range");if(q<0)throw new RangeError("sourceEnd out of bounds");q>this.length&&(q=this.length),I.length-A<q-z&&(q=I.length-A+z);var J=q-z;if(this===I&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(A,z,q);else if(this===I&&z<A&&A<q)for(var X=J-1;X>=0;--X)I[X+A]=this[X+z];else Uint8Array.prototype.set.call(I,this.subarray(z,q),A);return J},c.prototype.fill=function(I,A,z,q){if(typeof I=="string"){if(typeof A=="string"?(q=A,A=0,z=this.length):typeof z=="string"&&(q=z,z=this.length),q!==void 0&&typeof q!="string")throw new TypeError("encoding must be a string");if(typeof q=="string"&&!c.isEncoding(q))throw new TypeError("Unknown encoding: "+q);if(I.length===1){var J=I.charCodeAt(0);(q==="utf8"&&J<128||q==="latin1")&&(I=J)}}else typeof I=="number"&&(I&=255);if(A<0||this.length<A||this.length<z)throw new RangeError("Out of range index");if(z<=A)return this;var X;if(A>>>=0,z=z===void 0?this.length:z>>>0,I||(I=0),typeof I=="number")for(X=A;X<z;++X)this[X]=I;else{var Z=c.isBuffer(I)?I:c.from(I,q),ie=Z.length;if(ie===0)throw new TypeError('The value "'+I+'" is invalid for argument "value"');for(X=0;X<z-A;++X)this[X+A]=Z[X%ie]}return this};var N=/[^+/0-9A-Za-z-_]/g;function B(I){return I<16?"0"+I.toString(16):I.toString(16)}function V(I,A){var z;A=A||1/0;for(var q=I.length,J=null,X=[],Z=0;Z<q;++Z){if((z=I.charCodeAt(Z))>55295&&z<57344){if(!J){if(z>56319){(A-=3)>-1&&X.push(239,191,189);continue}if(Z+1===q){(A-=3)>-1&&X.push(239,191,189);continue}J=z;continue}if(z<56320){(A-=3)>-1&&X.push(239,191,189),J=z;continue}z=65536+(J-55296<<10|z-56320)}else J&&(A-=3)>-1&&X.push(239,191,189);if(J=null,z<128){if((A-=1)<0)break;X.push(z)}else if(z<2048){if((A-=2)<0)break;X.push(z>>6|192,63&z|128)}else if(z<65536){if((A-=3)<0)break;X.push(z>>12|224,z>>6&63|128,63&z|128)}else{if(!(z<1114112))throw new Error("Invalid code point");if((A-=4)<0)break;X.push(z>>18|240,z>>12&63|128,z>>6&63|128,63&z|128)}}return X}function $(I){return o.toByteArray(function(A){if((A=(A=A.split("=")[0]).trim().replace(N,"")).length<2)return"";for(;A.length%4!=0;)A+="=";return A}(I))}function Y(I,A,z,q){for(var J=0;J<q&&!(J+z>=A.length||J>=I.length);++J)A[J+z]=I[J];return J}function L(I,A){return I instanceof A||I!=null&&I.constructor!=null&&I.constructor.name!=null&&I.constructor.name===A.name}function K(I){return I!=I}}).call(this)}).call(this,r("buffer").Buffer)},{"base64-js":185,buffer:220,ieee754:439}],221:[function(r,n,i){var s=r("safe-buffer").Buffer,o=r("stream").Transform,a=r("string_decoder").StringDecoder;function l(c){o.call(this),this.hashMode=typeof c=="string",this.hashMode?this[c]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}r("inherits")(l,o),l.prototype.update=function(c,u,f){typeof c=="string"&&(c=s.from(c,u));var d=this._update(c);return this.hashMode?this:(f&&(d=this._toString(d,f)),d)},l.prototype.setAutoPadding=function(){},l.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},l.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},l.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},l.prototype._transform=function(c,u,f){var d;try{this.hashMode?this._update(c):this.push(this._update(c))}catch(h){d=h}finally{f(d)}},l.prototype._flush=function(c){var u;try{this.push(this.__final())}catch(f){u=f}c(u)},l.prototype._finalOrDigest=function(c){var u=this.__final()||s.alloc(0);return c&&(u=this._toString(u,c,!0)),u},l.prototype._toString=function(c,u,f){if(this._decoder||(this._decoder=new a(u),this._encoding=u),this._encoding!==u)throw new Error("can't switch encodings");var d=this._decoder.write(c);return f&&(d+=this._decoder.end()),d},n.exports=l},{inherits:440,"safe-buffer":494,stream:505,string_decoder:218}],222:[function(r,n,i){var s=r("../internals/is-callable"),o=r("../internals/try-to-string"),a=TypeError;n.exports=function(l){if(s(l))return l;throw new a(o(l)+" is not a function")}},{"../internals/is-callable":285,"../internals/try-to-string":349}],223:[function(r,n,i){var s=r("../internals/is-constructor"),o=r("../internals/try-to-string"),a=TypeError;n.exports=function(l){if(s(l))return l;throw new a(o(l)+" is not a constructor")}},{"../internals/is-constructor":286,"../internals/try-to-string":349}],224:[function(r,n,i){var s=r("../internals/is-callable"),o=String,a=TypeError;n.exports=function(l){if(typeof l=="object"||s(l))return l;throw new a("Can't set "+o(l)+" as a prototype")}},{"../internals/is-callable":285}],225:[function(r,n,i){var s=r("../internals/well-known-symbol"),o=r("../internals/object-create"),a=r("../internals/object-define-property").f,l=s("unscopables"),c=Array.prototype;c[l]===void 0&&a(c,l,{configurable:!0,value:o(null)}),n.exports=function(u){c[l][u]=!0}},{"../internals/object-create":306,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],226:[function(r,n,i){var s=r("../internals/object-is-prototype-of"),o=TypeError;n.exports=function(a,l){if(s(l,a))return a;throw new o("Incorrect invocation")}},{"../internals/object-is-prototype-of":314}],227:[function(r,n,i){var s=r("../internals/is-object"),o=String,a=TypeError;n.exports=function(l){if(s(l))return l;throw new a(o(l)+" is not an object")}},{"../internals/is-object":289}],228:[function(r,n,i){var s=r("../internals/to-indexed-object"),o=r("../internals/to-absolute-index"),a=r("../internals/length-of-array-like"),l=function(c){return function(u,f,d){var h,g=s(u),v=a(g),p=o(d,v);if(c&&f!=f){for(;v>p;)if((h=g[p++])!=h)return!0}else for(;v>p;p++)if((c||p in g)&&g[p]===f)return c||p||0;return!c&&-1}};n.exports={includes:l(!0),indexOf:l(!1)}},{"../internals/length-of-array-like":299,"../internals/to-absolute-index":340,"../internals/to-indexed-object":341}],229:[function(r,n,i){var s=r("../internals/function-bind-context"),o=r("../internals/function-uncurry-this"),a=r("../internals/indexed-object"),l=r("../internals/to-object"),c=r("../internals/length-of-array-like"),u=r("../internals/array-species-create"),f=o([].push),d=function(h){var g=h===1,v=h===2,p=h===3,y=h===4,m=h===6,b=h===7,x=h===5||m;return function(P,F,D,O){for(var j,H,W=l(P),G=a(W),M=s(F,D),k=c(G),E=0,w=O||u,C=g?w(P,k):v||b?w(P,0):void 0;k>E;E++)if((x||E in G)&&(H=M(j=G[E],E,W),h))if(g)C[E]=H;else if(H)switch(h){case 3:return!0;case 5:return j;case 6:return E;case 2:f(C,j)}else switch(h){case 4:return!1;case 7:f(C,j)}return m?-1:p||y?y:C}};n.exports={forEach:d(0),map:d(1),filter:d(2),some:d(3),every:d(4),find:d(5),findIndex:d(6),filterReject:d(7)}},{"../internals/array-species-create":233,"../internals/function-bind-context":262,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/length-of-array-like":299,"../internals/to-object":344}],230:[function(r,n,i){var s=r("../internals/to-absolute-index"),o=r("../internals/length-of-array-like"),a=r("../internals/create-property"),l=Array,c=Math.max;n.exports=function(u,f,d){for(var h=o(u),g=s(f,h),v=s(d===void 0?h:d,h),p=l(c(v-g,0)),y=0;g<v;g++,y++)a(p,y,u[g]);return p.length=y,p}},{"../internals/create-property":243,"../internals/length-of-array-like":299,"../internals/to-absolute-index":340}],231:[function(r,n,i){var s=r("../internals/function-uncurry-this");n.exports=s([].slice)},{"../internals/function-uncurry-this":268}],232:[function(r,n,i){var s=r("../internals/is-array"),o=r("../internals/is-constructor"),a=r("../internals/is-object"),l=r("../internals/well-known-symbol")("species"),c=Array;n.exports=function(u){var f;return s(u)&&(f=u.constructor,(o(f)&&(f===c||s(f.prototype))||a(f)&&(f=f[l])===null)&&(f=void 0)),f===void 0?c:f}},{"../internals/is-array":284,"../internals/is-constructor":286,"../internals/is-object":289,"../internals/well-known-symbol":357}],233:[function(r,n,i){var s=r("../internals/array-species-constructor");n.exports=function(o,a){return new(s(o))(a===0?0:a)}},{"../internals/array-species-constructor":232}],234:[function(r,n,i){var s=r("../internals/well-known-symbol")("iterator"),o=!1;try{var a=0,l={next:function(){return{done:!!a++}},return:function(){o=!0}};l[s]=function(){return this},Array.from(l,function(){throw 2})}catch{}n.exports=function(c,u){try{if(!u&&!o)return!1}catch{return!1}var f=!1;try{var d={};d[s]=function(){return{next:function(){return{done:f=!0}}}},c(d)}catch{}return f}},{"../internals/well-known-symbol":357}],235:[function(r,n,i){var s=r("../internals/function-uncurry-this"),o=s({}.toString),a=s("".slice);n.exports=function(l){return a(o(l),8,-1)}},{"../internals/function-uncurry-this":268}],236:[function(r,n,i){var s=r("../internals/to-string-tag-support"),o=r("../internals/is-callable"),a=r("../internals/classof-raw"),l=r("../internals/well-known-symbol")("toStringTag"),c=Object,u=a(function(){return arguments}())==="Arguments";n.exports=s?a:function(f){var d,h,g;return f===void 0?"Undefined":f===null?"Null":typeof(h=function(v,p){try{return v[p]}catch{}}(d=c(f),l))=="string"?h:u?a(d):(g=a(d))==="Object"&&o(d.callee)?"Arguments":g}},{"../internals/classof-raw":235,"../internals/is-callable":285,"../internals/to-string-tag-support":347,"../internals/well-known-symbol":357}],237:[function(r,n,i){var s=r("../internals/has-own-property"),o=r("../internals/own-keys"),a=r("../internals/object-get-own-property-descriptor"),l=r("../internals/object-define-property");n.exports=function(c,u,f){for(var d=o(u),h=l.f,g=a.f,v=0;v<d.length;v++){var p=d[v];s(c,p)||f&&s(f,p)||h(c,p,g(u,p))}}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/own-keys":321}],238:[function(r,n,i){var s=r("../internals/well-known-symbol")("match");n.exports=function(o){var a=/./;try{"/./"[o](a)}catch{try{return a[s]=!1,"/./"[o](a)}catch{}}return!1}},{"../internals/well-known-symbol":357}],239:[function(r,n,i){var s=r("../internals/fails");n.exports=!s(function(){function o(){}return o.prototype.constructor=null,Object.getPrototypeOf(new o)!==o.prototype})},{"../internals/fails":260}],240:[function(r,n,i){n.exports=function(s,o){return{value:s,done:o}}},{}],241:[function(r,n,i){var s=r("../internals/descriptors"),o=r("../internals/object-define-property"),a=r("../internals/create-property-descriptor");n.exports=s?function(l,c,u){return o.f(l,c,a(1,u))}:function(l,c,u){return l[c]=u,l}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/object-define-property":308}],242:[function(r,n,i){n.exports=function(s,o){return{enumerable:!(1&s),configurable:!(2&s),writable:!(4&s),value:o}}},{}],243:[function(r,n,i){var s=r("../internals/to-property-key"),o=r("../internals/object-define-property"),a=r("../internals/create-property-descriptor");n.exports=function(l,c,u){var f=s(c);f in l?o.f(l,f,a(0,u)):l[f]=u}},{"../internals/create-property-descriptor":242,"../internals/object-define-property":308,"../internals/to-property-key":346}],244:[function(r,n,i){var s=r("../internals/make-built-in"),o=r("../internals/object-define-property");n.exports=function(a,l,c){return c.get&&s(c.get,l,{getter:!0}),c.set&&s(c.set,l,{setter:!0}),o.f(a,l,c)}},{"../internals/make-built-in":300,"../internals/object-define-property":308}],245:[function(r,n,i){var s=r("../internals/is-callable"),o=r("../internals/object-define-property"),a=r("../internals/make-built-in"),l=r("../internals/define-global-property");n.exports=function(c,u,f,d){d||(d={});var h=d.enumerable,g=d.name!==void 0?d.name:u;if(s(f)&&a(f,g,d),d.global)h?c[u]=f:l(u,f);else{try{d.unsafe?c[u]&&(h=!0):delete c[u]}catch{}h?c[u]=f:o.f(c,u,{value:f,enumerable:!1,configurable:!d.nonConfigurable,writable:!d.nonWritable})}return c}},{"../internals/define-global-property":246,"../internals/is-callable":285,"../internals/make-built-in":300,"../internals/object-define-property":308}],246:[function(r,n,i){var s=r("../internals/global"),o=Object.defineProperty;n.exports=function(a,l){try{o(s,a,{value:l,configurable:!0,writable:!0})}catch{s[a]=l}return l}},{"../internals/global":274}],247:[function(r,n,i){var s=r("../internals/fails");n.exports=!s(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})},{"../internals/fails":260}],248:[function(r,n,i){var s=typeof document=="object"&&document.all,o=s===void 0&&s!==void 0;n.exports={all:s,IS_HTMLDDA:o}},{}],249:[function(r,n,i){var s=r("../internals/global"),o=r("../internals/is-object"),a=s.document,l=o(a)&&o(a.createElement);n.exports=function(c){return l?a.createElement(c):{}}},{"../internals/global":274,"../internals/is-object":289}],250:[function(r,n,i){var s=r("../internals/engine-is-deno"),o=r("../internals/engine-is-node");n.exports=!s&&!o&&typeof window=="object"&&typeof document=="object"},{"../internals/engine-is-deno":251,"../internals/engine-is-node":254}],251:[function(r,n,i){n.exports=typeof Deno=="object"&&Deno&&typeof Deno.version=="object"},{}],252:[function(r,n,i){var s=r("../internals/engine-user-agent");n.exports=/ipad|iphone|ipod/i.test(s)&&typeof Pebble<"u"},{"../internals/engine-user-agent":256}],253:[function(r,n,i){var s=r("../internals/engine-user-agent");n.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(s)},{"../internals/engine-user-agent":256}],254:[function(r,n,i){var s=r("../internals/global"),o=r("../internals/classof-raw");n.exports=o(s.process)==="process"},{"../internals/classof-raw":235,"../internals/global":274}],255:[function(r,n,i){var s=r("../internals/engine-user-agent");n.exports=/web0s(?!.*chrome)/i.test(s)},{"../internals/engine-user-agent":256}],256:[function(r,n,i){n.exports=typeof navigator<"u"&&String(navigator.userAgent)||""},{}],257:[function(r,n,i){var s,o,a=r("../internals/global"),l=r("../internals/engine-user-agent"),c=a.process,u=a.Deno,f=c&&c.versions||u&&u.version,d=f&&f.v8;d&&(o=(s=d.split("."))[0]>0&&s[0]<4?1:+(s[0]+s[1])),!o&&l&&(!(s=l.match(/Edge\/(\d+)/))||s[1]>=74)&&(s=l.match(/Chrome\/(\d+)/))&&(o=+s[1]),n.exports=o},{"../internals/engine-user-agent":256,"../internals/global":274}],258:[function(r,n,i){n.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],259:[function(r,n,i){var s=r("../internals/global"),o=r("../internals/object-get-own-property-descriptor").f,a=r("../internals/create-non-enumerable-property"),l=r("../internals/define-built-in"),c=r("../internals/define-global-property"),u=r("../internals/copy-constructor-properties"),f=r("../internals/is-forced");n.exports=function(d,h){var g,v,p,y,m,b=d.target,x=d.global,P=d.stat;if(g=x?s:P?s[b]||c(b,{}):(s[b]||{}).prototype)for(v in h){if(y=h[v],p=d.dontCallGetSet?(m=o(g,v))&&m.value:g[v],!f(x?v:b+(P?".":"#")+v,d.forced)&&p!==void 0){if(typeof y==typeof p)continue;u(y,p)}(d.sham||p&&p.sham)&&a(y,"sham",!0),l(g,v,y,d)}}},{"../internals/copy-constructor-properties":237,"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/define-global-property":246,"../internals/global":274,"../internals/is-forced":287,"../internals/object-get-own-property-descriptor":309}],260:[function(r,n,i){n.exports=function(s){try{return!!s()}catch{return!0}}},{}],261:[function(r,n,i){var s=r("../internals/function-bind-native"),o=Function.prototype,a=o.apply,l=o.call;n.exports=typeof Reflect=="object"&&Reflect.apply||(s?l.bind(a):function(){return l.apply(a,arguments)})},{"../internals/function-bind-native":263}],262:[function(r,n,i){var s=r("../internals/function-uncurry-this-clause"),o=r("../internals/a-callable"),a=r("../internals/function-bind-native"),l=s(s.bind);n.exports=function(c,u){return o(c),u===void 0?c:a?l(c,u):function(){return c.apply(u,arguments)}}},{"../internals/a-callable":222,"../internals/function-bind-native":263,"../internals/function-uncurry-this-clause":267}],263:[function(r,n,i){var s=r("../internals/fails");n.exports=!s(function(){var o=(function(){}).bind();return typeof o!="function"||o.hasOwnProperty("prototype")})},{"../internals/fails":260}],264:[function(r,n,i){var s=r("../internals/function-bind-native"),o=Function.prototype.call;n.exports=s?o.bind(o):function(){return o.apply(o,arguments)}},{"../internals/function-bind-native":263}],265:[function(r,n,i){var s=r("../internals/descriptors"),o=r("../internals/has-own-property"),a=Function.prototype,l=s&&Object.getOwnPropertyDescriptor,c=o(a,"name"),u=c&&(function(){}).name==="something",f=c&&(!s||s&&l(a,"name").configurable);n.exports={EXISTS:c,PROPER:u,CONFIGURABLE:f}},{"../internals/descriptors":247,"../internals/has-own-property":275}],266:[function(r,n,i){var s=r("../internals/function-uncurry-this"),o=r("../internals/a-callable");n.exports=function(a,l,c){try{return s(o(Object.getOwnPropertyDescriptor(a,l)[c]))}catch{}}},{"../internals/a-callable":222,"../internals/function-uncurry-this":268}],267:[function(r,n,i){var s=r("../internals/classof-raw"),o=r("../internals/function-uncurry-this");n.exports=function(a){if(s(a)==="Function")return o(a)}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268}],268:[function(r,n,i){var s=r("../internals/function-bind-native"),o=Function.prototype,a=o.call,l=s&&o.bind.bind(a,a);n.exports=s?l:function(c){return function(){return a.apply(c,arguments)}}},{"../internals/function-bind-native":263}],269:[function(r,n,i){var s=r("../internals/global"),o=r("../internals/is-callable"),a=function(l){return o(l)?l:void 0};n.exports=function(l,c){return arguments.length<2?a(s[l]):s[l]&&s[l][c]}},{"../internals/global":274,"../internals/is-callable":285}],270:[function(r,n,i){var s=r("../internals/classof"),o=r("../internals/get-method"),a=r("../internals/is-null-or-undefined"),l=r("../internals/iterators"),c=r("../internals/well-known-symbol")("iterator");n.exports=function(u){if(!a(u))return o(u,c)||o(u,"@@iterator")||l[s(u)]}},{"../internals/classof":236,"../internals/get-method":273,"../internals/is-null-or-undefined":288,"../internals/iterators":298,"../internals/well-known-symbol":357}],271:[function(r,n,i){var s=r("../internals/function-call"),o=r("../internals/a-callable"),a=r("../internals/an-object"),l=r("../internals/try-to-string"),c=r("../internals/get-iterator-method"),u=TypeError;n.exports=function(f,d){var h=arguments.length<2?c(f):d;if(o(h))return a(s(h,f));throw new u(l(f)+" is not iterable")}},{"../internals/a-callable":222,"../internals/an-object":227,"../internals/function-call":264,"../internals/get-iterator-method":270,"../internals/try-to-string":349}],272:[function(r,n,i){var s=r("../internals/function-uncurry-this"),o=r("../internals/is-array"),a=r("../internals/is-callable"),l=r("../internals/classof-raw"),c=r("../internals/to-string"),u=s([].push);n.exports=function(f){if(a(f))return f;if(o(f)){for(var d=f.length,h=[],g=0;g<d;g++){var v=f[g];typeof v=="string"?u(h,v):typeof v!="number"&&l(v)!=="Number"&&l(v)!=="String"||u(h,c(v))}var p=h.length,y=!0;return function(m,b){if(y)return y=!1,b;if(o(this))return b;for(var x=0;x<p;x++)if(h[x]===m)return b}}}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268,"../internals/is-array":284,"../internals/is-callable":285,"../internals/to-string":348}],273:[function(r,n,i){var s=r("../internals/a-callable"),o=r("../internals/is-null-or-undefined");n.exports=function(a,l){var c=a[l];return o(c)?void 0:s(c)}},{"../internals/a-callable":222,"../internals/is-null-or-undefined":288}],274:[function(r,n,i){(function(s){(function(){var o=function(a){return a&&a.Math===Math&&a};n.exports=o(typeof globalThis=="object"&&globalThis)||o(typeof window=="object"&&window)||o(typeof self=="object"&&self)||o(typeof s=="object"&&s)||function(){return this}()||this||Function("return this")()}).call(this)}).call(this,typeof Tt<"u"?Tt:typeof self<"u"?self:typeof window<"u"?window:{})},{}],275:[function(r,n,i){var s=r("../internals/function-uncurry-this"),o=r("../internals/to-object"),a=s({}.hasOwnProperty);n.exports=Object.hasOwn||function(l,c){return a(o(l),c)}},{"../internals/function-uncurry-this":268,"../internals/to-object":344}],276:[function(r,n,i){n.exports={}},{}],277:[function(r,n,i){n.exports=function(s,o){try{arguments.length===1?console.error(s):console.error(s,o)}catch{}}},{}],278:[function(r,n,i){var s=r("../internals/get-built-in");n.exports=s("document","documentElement")},{"../internals/get-built-in":269}],279:[function(r,n,i){var s=r("../internals/descriptors"),o=r("../internals/fails"),a=r("../internals/document-create-element");n.exports=!s&&!o(function(){return Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a!==7})},{"../internals/descriptors":247,"../internals/document-create-element":249,"../internals/fails":260}],280:[function(r,n,i){var s=r("../internals/function-uncurry-this"),o=r("../internals/fails"),a=r("../internals/classof-raw"),l=Object,c=s("".split);n.exports=o(function(){return!l("z").propertyIsEnumerable(0)})?function(u){return a(u)==="String"?c(u,""):l(u)}:l},{"../internals/classof-raw":235,"../internals/fails":260,"../internals/function-uncurry-this":268}],281:[function(r,n,i){var s=r("../internals/function-uncurry-this"),o=r("../internals/is-callable"),a=r("../internals/shared-store"),l=s(Function.toString);o(a.inspectSource)||(a.inspectSource=function(c){return l(c)}),n.exports=a.inspectSource},{"../internals/function-uncurry-this":268,"../internals/is-callable":285,"../internals/shared-store":333}],282:[function(r,n,i){var s,o,a,l=r("../internals/weak-map-basic-detection"),c=r("../internals/global"),u=r("../internals/is-object"),f=r("../internals/create-non-enumerable-property"),d=r("../internals/has-own-property"),h=r("../internals/shared-store"),g=r("../internals/shared-key"),v=r("../internals/hidden-keys"),p=c.TypeError,y=c.WeakMap;if(l||h.state){var m=h.state||(h.state=new y);m.get=m.get,m.has=m.has,m.set=m.set,s=function(x,P){if(m.has(x))throw new p("Object already initialized");return P.facade=x,m.set(x,P),P},o=function(x){return m.get(x)||{}},a=function(x){return m.has(x)}}else{var b=g("state");v[b]=!0,s=function(x,P){if(d(x,b))throw new p("Object already initialized");return P.facade=x,f(x,b,P),P},o=function(x){return d(x,b)?x[b]:{}},a=function(x){return d(x,b)}}n.exports={set:s,get:o,has:a,enforce:function(x){return a(x)?o(x):s(x,{})},getterFor:function(x){return function(P){var F;if(!u(P)||(F=o(P)).type!==x)throw new p("Incompatible receiver, "+x+" required");return F}}}},{"../internals/create-non-enumerable-property":241,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/is-object":289,"../internals/shared-key":332,"../internals/shared-store":333,"../internals/weak-map-basic-detection":354}],283:[function(r,n,i){var s=r("../internals/well-known-symbol"),o=r("../internals/iterators"),a=s("iterator"),l=Array.prototype;n.exports=function(c){return c!==void 0&&(o.Array===c||l[a]===c)}},{"../internals/iterators":298,"../internals/well-known-symbol":357}],284:[function(r,n,i){var s=r("../internals/classof-raw");n.exports=Array.isArray||function(o){return s(o)==="Array"}},{"../internals/classof-raw":235}],285:[function(r,n,i){var s=r("../internals/document-all"),o=s.all;n.exports=s.IS_HTMLDDA?function(a){return typeof a=="function"||a===o}:function(a){return typeof a=="function"}},{"../internals/document-all":248}],286:[function(r,n,i){var s=r("../internals/function-uncurry-this"),o=r("../internals/fails"),a=r("../internals/is-callable"),l=r("../internals/classof"),c=r("../internals/get-built-in"),u=r("../internals/inspect-source"),f=function(){},d=[],h=c("Reflect","construct"),g=/^\s*(?:class|function)\b/,v=s(g.exec),p=!g.test(f),y=function(b){if(!a(b))return!1;try{return h(f,d,b),!0}catch{return!1}},m=function(b){if(!a(b))return!1;switch(l(b)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return p||!!v(g,u(b))}catch{return!0}};m.sham=!0,n.exports=!h||o(function(){var b;return y(y.call)||!y(Object)||!y(function(){b=!0})||b})?m:y},{"../internals/classof":236,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/inspect-source":281,"../internals/is-callable":285}],287:[function(r,n,i){var s=r("../internals/fails"),o=r("../internals/is-callable"),a=/#|\.prototype\./,l=function(h,g){var v=u[c(h)];return v===d||v!==f&&(o(g)?s(g):!!g)},c=l.normalize=function(h){return String(h).replace(a,".").toLowerCase()},u=l.data={},f=l.NATIVE="N",d=l.POLYFILL="P";n.exports=l},{"../internals/fails":260,"../internals/is-callable":285}],288:[function(r,n,i){n.exports=function(s){return s==null}},{}],289:[function(r,n,i){var s=r("../internals/is-callable"),o=r("../internals/document-all"),a=o.all;n.exports=o.IS_HTMLDDA?function(l){return typeof l=="object"?l!==null:s(l)||l===a}:function(l){return typeof l=="object"?l!==null:s(l)}},{"../internals/document-all":248,"../internals/is-callable":285}],290:[function(r,n,i){n.exports=!1},{}],291:[function(r,n,i){var s=r("../internals/is-object"),o=r("../internals/classof-raw"),a=r("../internals/well-known-symbol")("match");n.exports=function(l){var c;return s(l)&&((c=l[a])!==void 0?!!c:o(l)==="RegExp")}},{"../internals/classof-raw":235,"../internals/is-object":289,"../internals/well-known-symbol":357}],292:[function(r,n,i){var s=r("../internals/get-built-in"),o=r("../internals/is-callable"),a=r("../internals/object-is-prototype-of"),l=r("../internals/use-symbol-as-uid"),c=Object;n.exports=l?function(u){return typeof u=="symbol"}:function(u){var f=s("Symbol");return o(f)&&a(f.prototype,c(u))}},{"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/object-is-prototype-of":314,"../internals/use-symbol-as-uid":351}],293:[function(r,n,i){var s=r("../internals/function-bind-context"),o=r("../internals/function-call"),a=r("../internals/an-object"),l=r("../internals/try-to-string"),c=r("../internals/is-array-iterator-method"),u=r("../internals/length-of-array-like"),f=r("../internals/object-is-prototype-of"),d=r("../internals/get-iterator"),h=r("../internals/get-iterator-method"),g=r("../internals/iterator-close"),v=TypeError,p=function(m,b){this.stopped=m,this.result=b},y=p.prototype;n.exports=function(m,b,x){var P,F,D,O,j,H,W,G=x&&x.that,M=!(!x||!x.AS_ENTRIES),k=!(!x||!x.IS_RECORD),E=!(!x||!x.IS_ITERATOR),w=!(!x||!x.INTERRUPTED),C=s(b,G),S=function(_){return P&&g(P,"normal",_),new p(!0,_)},R=function(_){return M?(a(_),w?C(_[0],_[1],S):C(_[0],_[1])):w?C(_,S):C(_)};if(k)P=m.iterator;else if(E)P=m;else{if(!(F=h(m)))throw new v(l(m)+" is not iterable");if(c(F)){for(D=0,O=u(m);O>D;D++)if((j=R(m[D]))&&f(y,j))return j;return new p(!1)}P=d(m,F)}for(H=k?m.next:P.next;!(W=o(H,P)).done;){try{j=R(W.value)}catch(_){g(P,"throw",_)}if(typeof j=="object"&&j&&f(y,j))return j}return new p(!1)}},{"../internals/an-object":227,"../internals/function-bind-context":262,"../internals/function-call":264,"../internals/get-iterator":271,"../internals/get-iterator-method":270,"../internals/is-array-iterator-method":283,"../internals/iterator-close":294,"../internals/length-of-array-like":299,"../internals/object-is-prototype-of":314,"../internals/try-to-string":349}],294:[function(r,n,i){var s=r("../internals/function-call"),o=r("../internals/an-object"),a=r("../internals/get-method");n.exports=function(l,c,u){var f,d;o(l);try{if(!(f=a(l,"return"))){if(c==="throw")throw u;return u}f=s(f,l)}catch(h){d=!0,f=h}if(c==="throw")throw u;if(d)throw f;return o(f),u}},{"../internals/an-object":227,"../internals/function-call":264,"../internals/get-method":273}],295:[function(r,n,i){var s=r("../internals/iterators-core").IteratorPrototype,o=r("../internals/object-create"),a=r("../internals/create-property-descriptor"),l=r("../internals/set-to-string-tag"),c=r("../internals/iterators"),u=function(){return this};n.exports=function(f,d,h,g){var v=d+" Iterator";return f.prototype=o(s,{next:a(+!g,h)}),l(f,v,!1,!0),c[v]=u,f}},{"../internals/create-property-descriptor":242,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-create":306,"../internals/set-to-string-tag":331}],296:[function(r,n,i){var s=r("../internals/export"),o=r("../internals/function-call"),a=r("../internals/is-pure"),l=r("../internals/function-name"),c=r("../internals/is-callable"),u=r("../internals/iterator-create-constructor"),f=r("../internals/object-get-prototype-of"),d=r("../internals/object-set-prototype-of"),h=r("../internals/set-to-string-tag"),g=r("../internals/create-non-enumerable-property"),v=r("../internals/define-built-in"),p=r("../internals/well-known-symbol"),y=r("../internals/iterators"),m=r("../internals/iterators-core"),b=l.PROPER,x=l.CONFIGURABLE,P=m.IteratorPrototype,F=m.BUGGY_SAFARI_ITERATORS,D=p("iterator"),O=function(){return this};n.exports=function(j,H,W,G,M,k,E){u(W,H,G);var w,C,S,R=function(L){if(L===M&&$)return $;if(!F&&L&&L in B)return B[L];switch(L){case"keys":case"values":case"entries":return function(){return new W(this,L)}}return function(){return new W(this)}},_=H+" Iterator",N=!1,B=j.prototype,V=B[D]||B["@@iterator"]||M&&B[M],$=!F&&V||R(M),Y=H==="Array"&&B.entries||V;if(Y&&(w=f(Y.call(new j)))!==Object.prototype&&w.next&&(a||f(w)===P||(d?d(w,P):c(w[D])||v(w,D,O)),h(w,_,!0,!0),a&&(y[_]=O)),b&&M==="values"&&V&&V.name!=="values"&&(!a&&x?g(B,"name","values"):(N=!0,$=function(){return o(V,this)})),M)if(C={values:R("values"),keys:k?$:R("keys"),entries:R("entries")},E)for(S in C)(F||N||!(S in B))&&v(B,S,C[S]);else s({target:H,proto:!0,forced:F||N},C);return a&&!E||B[D]===$||v(B,D,$,{name:M}),y[H]=$,C}},{"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/export":259,"../internals/function-call":264,"../internals/function-name":265,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/iterator-create-constructor":295,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-get-prototype-of":313,"../internals/object-set-prototype-of":318,"../internals/set-to-string-tag":331,"../internals/well-known-symbol":357}],297:[function(r,n,i){var s,o,a,l=r("../internals/fails"),c=r("../internals/is-callable"),u=r("../internals/is-object"),f=r("../internals/object-create"),d=r("../internals/object-get-prototype-of"),h=r("../internals/define-built-in"),g=r("../internals/well-known-symbol"),v=r("../internals/is-pure"),p=g("iterator"),y=!1;[].keys&&("next"in(a=[].keys())?(o=d(d(a)))!==Object.prototype&&(s=o):y=!0),!u(s)||l(function(){var m={};return s[p].call(m)!==m})?s={}:v&&(s=f(s)),c(s[p])||h(s,p,function(){return this}),n.exports={IteratorPrototype:s,BUGGY_SAFARI_ITERATORS:y}},{"../internals/define-built-in":245,"../internals/fails":260,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-get-prototype-of":313,"../internals/well-known-symbol":357}],298:[function(r,n,i){arguments[4][276][0].apply(i,arguments)},{dup:276}],299:[function(r,n,i){var s=r("../internals/to-length");n.exports=function(o){return s(o.length)}},{"../internals/to-length":343}],300:[function(r,n,i){var s=r("../internals/function-uncurry-this"),o=r("../internals/fails"),a=r("../internals/is-callable"),l=r("../internals/has-own-property"),c=r("../internals/descriptors"),u=r("../internals/function-name").CONFIGURABLE,f=r("../internals/inspect-source"),d=r("../internals/internal-state"),h=d.enforce,g=d.get,v=String,p=Object.defineProperty,y=s("".slice),m=s("".replace),b=s([].join),x=c&&!o(function(){return p(function(){},"length",{value:8}).length!==8}),P=String(String).split("String"),F=n.exports=function(D,O,j){y(v(O),0,7)==="Symbol("&&(O="["+m(v(O),/^Symbol\(([^)]*)\)/,"$1")+"]"),j&&j.getter&&(O="get "+O),j&&j.setter&&(O="set "+O),(!l(D,"name")||u&&D.name!==O)&&(c?p(D,"name",{value:O,configurable:!0}):D.name=O),x&&j&&l(j,"arity")&&D.length!==j.arity&&p(D,"length",{value:j.arity});try{j&&l(j,"constructor")&&j.constructor?c&&p(D,"prototype",{writable:!1}):D.prototype&&(D.prototype=void 0)}catch{}var H=h(D);return l(H,"source")||(H.source=b(P,typeof O=="string"?O:"")),D};Function.prototype.toString=F(function(){return a(this)&&g(this).source||f(this)},"toString")},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-name":265,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/inspect-source":281,"../internals/internal-state":282,"../internals/is-callable":285}],301:[function(r,n,i){var s=Math.ceil,o=Math.floor;n.exports=Math.trunc||function(a){var l=+a;return(l>0?o:s)(l)}},{}],302:[function(r,n,i){var s,o,a,l,c,u=r("../internals/global"),f=r("../internals/function-bind-context"),d=r("../internals/object-get-own-property-descriptor").f,h=r("../internals/task").set,g=r("../internals/queue"),v=r("../internals/engine-is-ios"),p=r("../internals/engine-is-ios-pebble"),y=r("../internals/engine-is-webos-webkit"),m=r("../internals/engine-is-node"),b=u.MutationObserver||u.WebKitMutationObserver,x=u.document,P=u.process,F=u.Promise,D=d(u,"queueMicrotask"),O=D&&D.value;if(!O){var j=new g,H=function(){var W,G;for(m&&(W=P.domain)&&W.exit();G=j.get();)try{G()}catch(M){throw j.head&&s(),M}W&&W.enter()};v||m||y||!b||!x?!p&&F&&F.resolve?((l=F.resolve(void 0)).constructor=F,c=f(l.then,l),s=function(){c(H)}):m?s=function(){P.nextTick(H)}:(h=f(h,u),s=function(){h(H)}):(o=!0,a=x.createTextNode(""),new b(H).observe(a,{characterData:!0}),s=function(){a.data=o=!o}),O=function(W){j.head||s(),j.add(W)}}n.exports=O},{"../internals/engine-is-ios":253,"../internals/engine-is-ios-pebble":252,"../internals/engine-is-node":254,"../internals/engine-is-webos-webkit":255,"../internals/function-bind-context":262,"../internals/global":274,"../internals/object-get-own-property-descriptor":309,"../internals/queue":328,"../internals/task":339}],303:[function(r,n,i){var s=r("../internals/a-callable"),o=TypeError,a=function(l){var c,u;this.promise=new l(function(f,d){if(c!==void 0||u!==void 0)throw new o("Bad Promise constructor");c=f,u=d}),this.resolve=s(c),this.reject=s(u)};n.exports.f=function(l){return new a(l)}},{"../internals/a-callable":222}],304:[function(r,n,i){var s=r("../internals/is-regexp"),o=TypeError;n.exports=function(a){if(s(a))throw new o("The method doesn't accept regular expressions");return a}},{"../internals/is-regexp":291}],305:[function(r,n,i){var s=r("../internals/descriptors"),o=r("../internals/function-uncurry-this"),a=r("../internals/function-call"),l=r("../internals/fails"),c=r("../internals/object-keys"),u=r("../internals/object-get-own-property-symbols"),f=r("../internals/object-property-is-enumerable"),d=r("../internals/to-object"),h=r("../internals/indexed-object"),g=Object.assign,v=Object.defineProperty,p=o([].concat);n.exports=!g||l(function(){if(s&&g({b:1},g(v({},"a",{enumerable:!0,get:function(){v(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var y={},m={},b=Symbol("assign detection");return y[b]=7,"abcdefghijklmnopqrst".split("").forEach(function(x){m[x]=x}),g({},y)[b]!==7||c(g({},m)).join("")!=="abcdefghijklmnopqrst"})?function(y,m){for(var b=d(y),x=arguments.length,P=1,F=u.f,D=f.f;x>P;)for(var O,j=h(arguments[P++]),H=F?p(c(j),F(j)):c(j),W=H.length,G=0;W>G;)O=H[G++],s&&!a(D,j,O)||(b[O]=j[O]);return b}:g},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/object-get-own-property-symbols":312,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-object":344}],306:[function(r,n,i){var s,o=r("../internals/an-object"),a=r("../internals/object-define-properties"),l=r("../internals/enum-bug-keys"),c=r("../internals/hidden-keys"),u=r("../internals/html"),f=r("../internals/document-create-element"),d=r("../internals/shared-key"),h=d("IE_PROTO"),g=function(){},v=function(m){return"<script>"+m+"<\/script>"},p=function(m){m.write(v("")),m.close();var b=m.parentWindow.Object;return m=null,b},y=function(){try{s=new ActiveXObject("htmlfile")}catch{}var m,b;y=typeof document<"u"?document.domain&&s?p(s):((b=f("iframe")).style.display="none",u.appendChild(b),b.src="javascript:",(m=b.contentWindow.document).open(),m.write(v("document.F=Object")),m.close(),m.F):p(s);for(var x=l.length;x--;)delete y.prototype[l[x]];return y()};c[h]=!0,n.exports=Object.create||function(m,b){var x;return m!==null?(g.prototype=o(m),x=new g,g.prototype=null,x[h]=m):x=y(),b===void 0?x:a.f(x,b)}},{"../internals/an-object":227,"../internals/document-create-element":249,"../internals/enum-bug-keys":258,"../internals/hidden-keys":276,"../internals/html":278,"../internals/object-define-properties":307,"../internals/shared-key":332}],307:[function(r,n,i){var s=r("../internals/descriptors"),o=r("../internals/v8-prototype-define-bug"),a=r("../internals/object-define-property"),l=r("../internals/an-object"),c=r("../internals/to-indexed-object"),u=r("../internals/object-keys");i.f=s&&!o?Object.defineProperties:function(f,d){l(f);for(var h,g=c(d),v=u(d),p=v.length,y=0;p>y;)a.f(f,h=v[y++],g[h]);return f}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/object-define-property":308,"../internals/object-keys":316,"../internals/to-indexed-object":341,"../internals/v8-prototype-define-bug":352}],308:[function(r,n,i){var s=r("../internals/descriptors"),o=r("../internals/ie8-dom-define"),a=r("../internals/v8-prototype-define-bug"),l=r("../internals/an-object"),c=r("../internals/to-property-key"),u=TypeError,f=Object.defineProperty,d=Object.getOwnPropertyDescriptor;i.f=s?a?function(h,g,v){if(l(h),g=c(g),l(v),typeof h=="function"&&g==="prototype"&&"value"in v&&"writable"in v&&!v.writable){var p=d(h,g);p&&p.writable&&(h[g]=v.value,v={configurable:"configurable"in v?v.configurable:p.configurable,enumerable:"enumerable"in v?v.enumerable:p.enumerable,writable:!1})}return f(h,g,v)}:f:function(h,g,v){if(l(h),g=c(g),l(v),o)try{return f(h,g,v)}catch{}if("get"in v||"set"in v)throw new u("Accessors not supported");return"value"in v&&(h[g]=v.value),h}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/ie8-dom-define":279,"../internals/to-property-key":346,"../internals/v8-prototype-define-bug":352}],309:[function(r,n,i){var s=r("../internals/descriptors"),o=r("../internals/function-call"),a=r("../internals/object-property-is-enumerable"),l=r("../internals/create-property-descriptor"),c=r("../internals/to-indexed-object"),u=r("../internals/to-property-key"),f=r("../internals/has-own-property"),d=r("../internals/ie8-dom-define"),h=Object.getOwnPropertyDescriptor;i.f=s?h:function(g,v){if(g=c(g),v=u(v),d)try{return h(g,v)}catch{}if(f(g,v))return l(!o(a.f,g,v),g[v])}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/function-call":264,"../internals/has-own-property":275,"../internals/ie8-dom-define":279,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341,"../internals/to-property-key":346}],310:[function(r,n,i){var s=r("../internals/classof-raw"),o=r("../internals/to-indexed-object"),a=r("../internals/object-get-own-property-names").f,l=r("../internals/array-slice-simple"),c=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];n.exports.f=function(u){return c&&s(u)==="Window"?function(f){try{return a(f)}catch{return l(c)}}(u):a(o(u))}},{"../internals/array-slice-simple":230,"../internals/classof-raw":235,"../internals/object-get-own-property-names":311,"../internals/to-indexed-object":341}],311:[function(r,n,i){var s=r("../internals/object-keys-internal"),o=r("../internals/enum-bug-keys").concat("length","prototype");i.f=Object.getOwnPropertyNames||function(a){return s(a,o)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],312:[function(r,n,i){i.f=Object.getOwnPropertySymbols},{}],313:[function(r,n,i){var s=r("../internals/has-own-property"),o=r("../internals/is-callable"),a=r("../internals/to-object"),l=r("../internals/shared-key"),c=r("../internals/correct-prototype-getter"),u=l("IE_PROTO"),f=Object,d=f.prototype;n.exports=c?f.getPrototypeOf:function(h){var g=a(h);if(s(g,u))return g[u];var v=g.constructor;return o(v)&&g instanceof v?v.prototype:g instanceof f?d:null}},{"../internals/correct-prototype-getter":239,"../internals/has-own-property":275,"../internals/is-callable":285,"../internals/shared-key":332,"../internals/to-object":344}],314:[function(r,n,i){var s=r("../internals/function-uncurry-this");n.exports=s({}.isPrototypeOf)},{"../internals/function-uncurry-this":268}],315:[function(r,n,i){var s=r("../internals/function-uncurry-this"),o=r("../internals/has-own-property"),a=r("../internals/to-indexed-object"),l=r("../internals/array-includes").indexOf,c=r("../internals/hidden-keys"),u=s([].push);n.exports=function(f,d){var h,g=a(f),v=0,p=[];for(h in g)!o(c,h)&&o(g,h)&&u(p,h);for(;d.length>v;)o(g,h=d[v++])&&(~l(p,h)||u(p,h));return p}},{"../internals/array-includes":228,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/to-indexed-object":341}],316:[function(r,n,i){var s=r("../internals/object-keys-internal"),o=r("../internals/enum-bug-keys");n.exports=Object.keys||function(a){return s(a,o)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],317:[function(r,n,i){var s={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,a=o&&!s.call({1:2},1);i.f=a?function(l){var c=o(this,l);return!!c&&c.enumerable}:s},{}],318:[function(r,n,i){var s=r("../internals/function-uncurry-this-accessor"),o=r("../internals/an-object"),a=r("../internals/a-possible-prototype");n.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var l,c=!1,u={};try{(l=s(Object.prototype,"__proto__","set"))(u,[]),c=u instanceof Array}catch{}return function(f,d){return o(f),a(d),c?l(f,d):f.__proto__=d,f}}():void 0)},{"../internals/a-possible-prototype":224,"../internals/an-object":227,"../internals/function-uncurry-this-accessor":266}],319:[function(r,n,i){var s=r("../internals/descriptors"),o=r("../internals/fails"),a=r("../internals/function-uncurry-this"),l=r("../internals/object-get-prototype-of"),c=r("../internals/object-keys"),u=r("../internals/to-indexed-object"),f=a(r("../internals/object-property-is-enumerable").f),d=a([].push),h=s&&o(function(){var v=Object.create(null);return v[2]=2,!f(v,2)}),g=function(v){return function(p){for(var y,m=u(p),b=c(m),x=h&&l(m)===null,P=b.length,F=0,D=[];P>F;)y=b[F++],s&&!(x?y in m:f(m,y))||d(D,v?[y,m[y]]:m[y]);return D}};n.exports={entries:g(!0),values:g(!1)}},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/object-get-prototype-of":313,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341}],320:[function(r,n,i){var s=r("../internals/function-call"),o=r("../internals/is-callable"),a=r("../internals/is-object"),l=TypeError;n.exports=function(c,u){var f,d;if(u==="string"&&o(f=c.toString)&&!a(d=s(f,c))||o(f=c.valueOf)&&!a(d=s(f,c))||u!=="string"&&o(f=c.toString)&&!a(d=s(f,c)))return d;throw new l("Can't convert object to primitive value")}},{"../internals/function-call":264,"../internals/is-callable":285,"../internals/is-object":289}],321:[function(r,n,i){var s=r("../internals/get-built-in"),o=r("../internals/function-uncurry-this"),a=r("../internals/object-get-own-property-names"),l=r("../internals/object-get-own-property-symbols"),c=r("../internals/an-object"),u=o([].concat);n.exports=s("Reflect","ownKeys")||function(f){var d=a.f(c(f)),h=l.f;return h?u(d,h(f)):d}},{"../internals/an-object":227,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-symbols":312}],322:[function(r,n,i){var s=r("../internals/global");n.exports=s},{"../internals/global":274}],323:[function(r,n,i){n.exports=function(s){try{return{error:!1,value:s()}}catch(o){return{error:!0,value:o}}}},{}],324:[function(r,n,i){var s=r("../internals/global"),o=r("../internals/promise-native-constructor"),a=r("../internals/is-callable"),l=r("../internals/is-forced"),c=r("../internals/inspect-source"),u=r("../internals/well-known-symbol"),f=r("../internals/engine-is-browser"),d=r("../internals/engine-is-deno"),h=r("../internals/is-pure"),g=r("../internals/engine-v8-version"),v=o&&o.prototype,p=u("species"),y=!1,m=a(s.PromiseRejectionEvent),b=l("Promise",function(){var x=c(o),P=x!==String(o);if(!P&&g===66||h&&(!v.catch||!v.finally))return!0;if(!g||g<51||!/native code/.test(x)){var F=new o(function(O){O(1)}),D=function(O){O(function(){},function(){})};if((F.constructor={})[p]=D,!(y=F.then(function(){})instanceof D))return!0}return!P&&(f||d)&&!m});n.exports={CONSTRUCTOR:b,REJECTION_EVENT:m,SUBCLASSING:y}},{"../internals/engine-is-browser":250,"../internals/engine-is-deno":251,"../internals/engine-v8-version":257,"../internals/global":274,"../internals/inspect-source":281,"../internals/is-callable":285,"../internals/is-forced":287,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/well-known-symbol":357}],325:[function(r,n,i){var s=r("../internals/global");n.exports=s.Promise},{"../internals/global":274}],326:[function(r,n,i){var s=r("../internals/an-object"),o=r("../internals/is-object"),a=r("../internals/new-promise-capability");n.exports=function(l,c){if(s(l),o(c)&&c.constructor===l)return c;var u=a.f(l);return(0,u.resolve)(c),u.promise}},{"../internals/an-object":227,"../internals/is-object":289,"../internals/new-promise-capability":303}],327:[function(r,n,i){var s=r("../internals/promise-native-constructor"),o=r("../internals/check-correctness-of-iteration"),a=r("../internals/promise-constructor-detection").CONSTRUCTOR;n.exports=a||!o(function(l){s.all(l).then(void 0,function(){})})},{"../internals/check-correctness-of-iteration":234,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],328:[function(r,n,i){var s=function(){this.head=null,this.tail=null};s.prototype={add:function(o){var a={item:o,next:null},l=this.tail;l?l.next=a:this.head=a,this.tail=a},get:function(){var o=this.head;if(o)return(this.head=o.next)===null&&(this.tail=null),o.item}},n.exports=s},{}],329:[function(r,n,i){var s=r("../internals/is-null-or-undefined"),o=TypeError;n.exports=function(a){if(s(a))throw new o("Can't call method on "+a);return a}},{"../internals/is-null-or-undefined":288}],330:[function(r,n,i){var s=r("../internals/get-built-in"),o=r("../internals/define-built-in-accessor"),a=r("../internals/well-known-symbol"),l=r("../internals/descriptors"),c=a("species");n.exports=function(u){var f=s(u);l&&f&&!f[c]&&o(f,c,{configurable:!0,get:function(){return this}})}},{"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],331:[function(r,n,i){var s=r("../internals/object-define-property").f,o=r("../internals/has-own-property"),a=r("../internals/well-known-symbol")("toStringTag");n.exports=function(l,c,u){l&&!u&&(l=l.prototype),l&&!o(l,a)&&s(l,a,{configurable:!0,value:c})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],332:[function(r,n,i){var s=r("../internals/shared"),o=r("../internals/uid"),a=s("keys");n.exports=function(l){return a[l]||(a[l]=o(l))}},{"../internals/shared":334,"../internals/uid":350}],333:[function(r,n,i){var s=r("../internals/global"),o=r("../internals/define-global-property"),a=s["__core-js_shared__"]||o("__core-js_shared__",{});n.exports=a},{"../internals/define-global-property":246,"../internals/global":274}],334:[function(r,n,i){var s=r("../internals/is-pure"),o=r("../internals/shared-store");(n.exports=function(a,l){return o[a]||(o[a]=l!==void 0?l:{})})("versions",[]).push({version:"3.33.0",mode:s?"pure":"global",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.0/LICENSE",source:"https://github.com/zloirock/core-js"})},{"../internals/is-pure":290,"../internals/shared-store":333}],335:[function(r,n,i){var s=r("../internals/an-object"),o=r("../internals/a-constructor"),a=r("../internals/is-null-or-undefined"),l=r("../internals/well-known-symbol")("species");n.exports=function(c,u){var f,d=s(c).constructor;return d===void 0||a(f=s(d)[l])?u:o(f)}},{"../internals/a-constructor":223,"../internals/an-object":227,"../internals/is-null-or-undefined":288,"../internals/well-known-symbol":357}],336:[function(r,n,i){var s=r("../internals/engine-v8-version"),o=r("../internals/fails"),a=r("../internals/global").String;n.exports=!!Object.getOwnPropertySymbols&&!o(function(){var l=Symbol("symbol detection");return!a(l)||!(Object(l)instanceof Symbol)||!Symbol.sham&&s&&s<41})},{"../internals/engine-v8-version":257,"../internals/fails":260,"../internals/global":274}],337:[function(r,n,i){var s=r("../internals/function-call"),o=r("../internals/get-built-in"),a=r("../internals/well-known-symbol"),l=r("../internals/define-built-in");n.exports=function(){var c=o("Symbol"),u=c&&c.prototype,f=u&&u.valueOf,d=a("toPrimitive");u&&!u[d]&&l(u,d,function(h){return s(f,this)},{arity:1})}},{"../internals/define-built-in":245,"../internals/function-call":264,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],338:[function(r,n,i){var s=r("../internals/symbol-constructor-detection");n.exports=s&&!!Symbol.for&&!!Symbol.keyFor},{"../internals/symbol-constructor-detection":336}],339:[function(r,n,i){var s,o,a,l,c=r("../internals/global"),u=r("../internals/function-apply"),f=r("../internals/function-bind-context"),d=r("../internals/is-callable"),h=r("../internals/has-own-property"),g=r("../internals/fails"),v=r("../internals/html"),p=r("../internals/array-slice"),y=r("../internals/document-create-element"),m=r("../internals/validate-arguments-length"),b=r("../internals/engine-is-ios"),x=r("../internals/engine-is-node"),P=c.setImmediate,F=c.clearImmediate,D=c.process,O=c.Dispatch,j=c.Function,H=c.MessageChannel,W=c.String,G=0,M={};g(function(){s=c.location});var k=function(S){if(h(M,S)){var R=M[S];delete M[S],R()}},E=function(S){return function(){k(S)}},w=function(S){k(S.data)},C=function(S){c.postMessage(W(S),s.protocol+"//"+s.host)};P&&F||(P=function(S){m(arguments.length,1);var R=d(S)?S:j(S),_=p(arguments,1);return M[++G]=function(){u(R,void 0,_)},o(G),G},F=function(S){delete M[S]},x?o=function(S){D.nextTick(E(S))}:O&&O.now?o=function(S){O.now(E(S))}:H&&!b?(l=(a=new H).port2,a.port1.onmessage=w,o=f(l.postMessage,l)):c.addEventListener&&d(c.postMessage)&&!c.importScripts&&s&&s.protocol!=="file:"&&!g(C)?(o=C,c.addEventListener("message",w,!1)):o="onreadystatechange"in y("script")?function(S){v.appendChild(y("script")).onreadystatechange=function(){v.removeChild(this),k(S)}}:function(S){setTimeout(E(S),0)}),n.exports={set:P,clear:F}},{"../internals/array-slice":231,"../internals/document-create-element":249,"../internals/engine-is-ios":253,"../internals/engine-is-node":254,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-bind-context":262,"../internals/global":274,"../internals/has-own-property":275,"../internals/html":278,"../internals/is-callable":285,"../internals/validate-arguments-length":353}],340:[function(r,n,i){var s=r("../internals/to-integer-or-infinity"),o=Math.max,a=Math.min;n.exports=function(l,c){var u=s(l);return u<0?o(u+c,0):a(u,c)}},{"../internals/to-integer-or-infinity":342}],341:[function(r,n,i){var s=r("../internals/indexed-object"),o=r("../internals/require-object-coercible");n.exports=function(a){return s(o(a))}},{"../internals/indexed-object":280,"../internals/require-object-coercible":329}],342:[function(r,n,i){var s=r("../internals/math-trunc");n.exports=function(o){var a=+o;return a!=a||a===0?0:s(a)}},{"../internals/math-trunc":301}],343:[function(r,n,i){var s=r("../internals/to-integer-or-infinity"),o=Math.min;n.exports=function(a){return a>0?o(s(a),9007199254740991):0}},{"../internals/to-integer-or-infinity":342}],344:[function(r,n,i){var s=r("../internals/require-object-coercible"),o=Object;n.exports=function(a){return o(s(a))}},{"../internals/require-object-coercible":329}],345:[function(r,n,i){var s=r("../internals/function-call"),o=r("../internals/is-object"),a=r("../internals/is-symbol"),l=r("../internals/get-method"),c=r("../internals/ordinary-to-primitive"),u=r("../internals/well-known-symbol"),f=TypeError,d=u("toPrimitive");n.exports=function(h,g){if(!o(h)||a(h))return h;var v,p=l(h,d);if(p){if(g===void 0&&(g="default"),v=s(p,h,g),!o(v)||a(v))return v;throw new f("Can't convert object to primitive value")}return g===void 0&&(g="number"),c(h,g)}},{"../internals/function-call":264,"../internals/get-method":273,"../internals/is-object":289,"../internals/is-symbol":292,"../internals/ordinary-to-primitive":320,"../internals/well-known-symbol":357}],346:[function(r,n,i){var s=r("../internals/to-primitive"),o=r("../internals/is-symbol");n.exports=function(a){var l=s(a,"string");return o(l)?l:l+""}},{"../internals/is-symbol":292,"../internals/to-primitive":345}],347:[function(r,n,i){var s={};s[r("../internals/well-known-symbol")("toStringTag")]="z",n.exports=String(s)==="[object z]"},{"../internals/well-known-symbol":357}],348:[function(r,n,i){var s=r("../internals/classof"),o=String;n.exports=function(a){if(s(a)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return o(a)}},{"../internals/classof":236}],349:[function(r,n,i){var s=String;n.exports=function(o){try{return s(o)}catch{return"Object"}}},{}],350:[function(r,n,i){var s=r("../internals/function-uncurry-this"),o=0,a=Math.random(),l=s(1 .toString);n.exports=function(c){return"Symbol("+(c===void 0?"":c)+")_"+l(++o+a,36)}},{"../internals/function-uncurry-this":268}],351:[function(r,n,i){var s=r("../internals/symbol-constructor-detection");n.exports=s&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/symbol-constructor-detection":336}],352:[function(r,n,i){var s=r("../internals/descriptors"),o=r("../internals/fails");n.exports=s&&o(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})},{"../internals/descriptors":247,"../internals/fails":260}],353:[function(r,n,i){var s=TypeError;n.exports=function(o,a){if(o<a)throw new s("Not enough arguments");return o}},{}],354:[function(r,n,i){var s=r("../internals/global"),o=r("../internals/is-callable"),a=s.WeakMap;n.exports=o(a)&&/native code/.test(String(a))},{"../internals/global":274,"../internals/is-callable":285}],355:[function(r,n,i){var s=r("../internals/path"),o=r("../internals/has-own-property"),a=r("../internals/well-known-symbol-wrapped"),l=r("../internals/object-define-property").f;n.exports=function(c){var u=s.Symbol||(s.Symbol={});o(u,c)||l(u,c,{value:a.f(c)})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/path":322,"../internals/well-known-symbol-wrapped":356}],356:[function(r,n,i){var s=r("../internals/well-known-symbol");i.f=s},{"../internals/well-known-symbol":357}],357:[function(r,n,i){var s=r("../internals/global"),o=r("../internals/shared"),a=r("../internals/has-own-property"),l=r("../internals/uid"),c=r("../internals/symbol-constructor-detection"),u=r("../internals/use-symbol-as-uid"),f=s.Symbol,d=o("wks"),h=u?f.for||f:f&&f.withoutSetter||l;n.exports=function(g){return a(d,g)||(d[g]=c&&a(f,g)?f[g]:h("Symbol."+g)),d[g]}},{"../internals/global":274,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-constructor-detection":336,"../internals/uid":350,"../internals/use-symbol-as-uid":351}],358:[function(r,n,i){var s=r("../internals/export"),o=r("../internals/array-iteration").findIndex,a=r("../internals/add-to-unscopables"),l=!0;"findIndex"in[]&&Array(1).findIndex(function(){l=!1}),s({target:"Array",proto:!0,forced:l},{findIndex:function(c){return o(this,c,arguments.length>1?arguments[1]:void 0)}}),a("findIndex")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],359:[function(r,n,i){var s=r("../internals/export"),o=r("../internals/array-iteration").find,a=r("../internals/add-to-unscopables"),l=!0;"find"in[]&&Array(1).find(function(){l=!1}),s({target:"Array",proto:!0,forced:l},{find:function(c){return o(this,c,arguments.length>1?arguments[1]:void 0)}}),a("find")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],360:[function(r,n,i){var s=r("../internals/export"),o=r("../internals/array-includes").includes,a=r("../internals/fails"),l=r("../internals/add-to-unscopables");s({target:"Array",proto:!0,forced:a(function(){return!Array(1).includes()})},{includes:function(c){return o(this,c,arguments.length>1?arguments[1]:void 0)}}),l("includes")},{"../internals/add-to-unscopables":225,"../internals/array-includes":228,"../internals/export":259,"../internals/fails":260}],361:[function(r,n,i){var s=r("../internals/to-indexed-object"),o=r("../internals/add-to-unscopables"),a=r("../internals/iterators"),l=r("../internals/internal-state"),c=r("../internals/object-define-property").f,u=r("../internals/iterator-define"),f=r("../internals/create-iter-result-object"),d=r("../internals/is-pure"),h=r("../internals/descriptors"),g=l.set,v=l.getterFor("Array Iterator");n.exports=u(Array,"Array",function(y,m){g(this,{type:"Array Iterator",target:s(y),index:0,kind:m})},function(){var y=v(this),m=y.target,b=y.kind,x=y.index++;if(!m||x>=m.length)return y.target=void 0,f(void 0,!0);switch(b){case"keys":return f(x,!1);case"values":return f(m[x],!1)}return f([x,m[x]],!1)},"values");var p=a.Arguments=a.Array;if(o("keys"),o("values"),o("entries"),!d&&h&&p.name!=="values")try{c(p,"name",{value:"values"})}catch{}},{"../internals/add-to-unscopables":225,"../internals/create-iter-result-object":240,"../internals/descriptors":247,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/iterator-define":296,"../internals/iterators":298,"../internals/object-define-property":308,"../internals/to-indexed-object":341}],362:[function(r,n,i){var s=r("../internals/export"),o=r("../internals/get-built-in"),a=r("../internals/function-apply"),l=r("../internals/function-call"),c=r("../internals/function-uncurry-this"),u=r("../internals/fails"),f=r("../internals/is-callable"),d=r("../internals/is-symbol"),h=r("../internals/array-slice"),g=r("../internals/get-json-replacer-function"),v=r("../internals/symbol-constructor-detection"),p=String,y=o("JSON","stringify"),m=c(/./.exec),b=c("".charAt),x=c("".charCodeAt),P=c("".replace),F=c(1 .toString),D=/[\uD800-\uDFFF]/g,O=/^[\uD800-\uDBFF]$/,j=/^[\uDC00-\uDFFF]$/,H=!v||u(function(){var k=o("Symbol")("stringify detection");return y([k])!=="[null]"||y({a:k})!=="{}"||y(Object(k))!=="{}"}),W=u(function(){return y("\uDF06\uD834")!=='"\\udf06\\ud834"'||y("\uDEAD")!=='"\\udead"'}),G=function(k,E){var w=h(arguments),C=g(E);if(f(C)||k!==void 0&&!d(k))return w[1]=function(S,R){if(f(C)&&(R=l(C,this,p(S),R)),!d(R))return R},a(y,null,w)},M=function(k,E,w){var C=b(w,E-1),S=b(w,E+1);return m(O,k)&&!m(j,S)||m(j,k)&&!m(O,C)?"\\u"+F(x(k,0),16):k};y&&s({target:"JSON",stat:!0,arity:3,forced:H||W},{stringify:function(k,E,w){var C=h(arguments),S=a(H?G:y,null,C);return W&&typeof S=="string"?P(S,D,M):S}})},{"../internals/array-slice":231,"../internals/export":259,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/get-json-replacer-function":272,"../internals/is-callable":285,"../internals/is-symbol":292,"../internals/symbol-constructor-detection":336}],363:[function(r,n,i){r("../internals/export")({target:"Number",stat:!0},{isNaN:function(s){return s!=s}})},{"../internals/export":259}],364:[function(r,n,i){var s=r("../internals/export"),o=r("../internals/object-assign");s({target:"Object",stat:!0,arity:2,forced:Object.assign!==o},{assign:o})},{"../internals/export":259,"../internals/object-assign":305}],365:[function(r,n,i){var s=r("../internals/export"),o=r("../internals/symbol-constructor-detection"),a=r("../internals/fails"),l=r("../internals/object-get-own-property-symbols"),c=r("../internals/to-object");s({target:"Object",stat:!0,forced:!o||a(function(){l.f(1)})},{getOwnPropertySymbols:function(u){var f=l.f;return f?f(c(u)):[]}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-get-own-property-symbols":312,"../internals/symbol-constructor-detection":336,"../internals/to-object":344}],366:[function(r,n,i){var s=r("../internals/export"),o=r("../internals/to-object"),a=r("../internals/object-keys");s({target:"Object",stat:!0,forced:r("../internals/fails")(function(){a(1)})},{keys:function(l){return a(o(l))}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-keys":316,"../internals/to-object":344}],367:[function(r,n,i){var s=r("../internals/export"),o=r("../internals/object-to-array").values;s({target:"Object",stat:!0},{values:function(a){return o(a)}})},{"../internals/export":259,"../internals/object-to-array":319}],368:[function(r,n,i){var s=r("../internals/export"),o=r("../internals/function-call"),a=r("../internals/a-callable"),l=r("../internals/new-promise-capability"),c=r("../internals/perform"),u=r("../internals/iterate");s({target:"Promise",stat:!0,forced:r("../internals/promise-statics-incorrect-iteration")},{all:function(f){var d=this,h=l.f(d),g=h.resolve,v=h.reject,p=c(function(){var y=a(d.resolve),m=[],b=0,x=1;u(f,function(P){var F=b++,D=!1;x++,o(y,d,P).then(function(O){D||(D=!0,m[F]=O,--x||g(m))},v)}),--x||g(m)});return p.error&&v(p.value),h.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],369:[function(r,n,i){var s=r("../internals/export"),o=r("../internals/is-pure"),a=r("../internals/promise-constructor-detection").CONSTRUCTOR,l=r("../internals/promise-native-constructor"),c=r("../internals/get-built-in"),u=r("../internals/is-callable"),f=r("../internals/define-built-in"),d=l&&l.prototype;if(s({target:"Promise",proto:!0,forced:a,real:!0},{catch:function(g){return this.then(void 0,g)}}),!o&&u(l)){var h=c("Promise").prototype.catch;d.catch!==h&&f(d,"catch",h,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],370:[function(r,n,i){var s,o,a,l=r("../internals/export"),c=r("../internals/is-pure"),u=r("../internals/engine-is-node"),f=r("../internals/global"),d=r("../internals/function-call"),h=r("../internals/define-built-in"),g=r("../internals/object-set-prototype-of"),v=r("../internals/set-to-string-tag"),p=r("../internals/set-species"),y=r("../internals/a-callable"),m=r("../internals/is-callable"),b=r("../internals/is-object"),x=r("../internals/an-instance"),P=r("../internals/species-constructor"),F=r("../internals/task").set,D=r("../internals/microtask"),O=r("../internals/host-report-errors"),j=r("../internals/perform"),H=r("../internals/queue"),W=r("../internals/internal-state"),G=r("../internals/promise-native-constructor"),M=r("../internals/promise-constructor-detection"),k=r("../internals/new-promise-capability"),E=M.CONSTRUCTOR,w=M.REJECTION_EVENT,C=M.SUBCLASSING,S=W.getterFor("Promise"),R=W.set,_=G&&G.prototype,N=G,B=_,V=f.TypeError,$=f.document,Y=f.process,L=k.f,K=L,I=!!($&&$.createEvent&&f.dispatchEvent),A=function(ne){var ue;return!(!b(ne)||!m(ue=ne.then))&&ue},z=function(ne,ue){var de,ge,we,xe=ue.value,Fe=ue.state===1,De=Fe?ne.ok:ne.fail,Le=ne.resolve,He=ne.reject,it=ne.domain;try{De?(Fe||(ue.rejection===2&&ie(ue),ue.rejection=1),De===!0?de=xe:(it&&it.enter(),de=De(xe),it&&(it.exit(),we=!0)),de===ne.promise?He(new V("Promise-chain cycle")):(ge=A(de))?d(ge,de,Le,He):Le(de)):He(xe)}catch(Qe){it&&!we&&it.exit(),He(Qe)}},q=function(ne,ue){ne.notified||(ne.notified=!0,D(function(){for(var de,ge=ne.reactions;de=ge.get();)z(de,ne);ne.notified=!1,ue&&!ne.rejection&&X(ne)}))},J=function(ne,ue,de){var ge,we;I?((ge=$.createEvent("Event")).promise=ue,ge.reason=de,ge.initEvent(ne,!1,!0),f.dispatchEvent(ge)):ge={promise:ue,reason:de},!w&&(we=f["on"+ne])?we(ge):ne==="unhandledrejection"&&O("Unhandled promise rejection",de)},X=function(ne){d(F,f,function(){var ue,de=ne.facade,ge=ne.value;if(Z(ne)&&(ue=j(function(){u?Y.emit("unhandledRejection",ge,de):J("unhandledrejection",de,ge)}),ne.rejection=u||Z(ne)?2:1,ue.error))throw ue.value})},Z=function(ne){return ne.rejection!==1&&!ne.parent},ie=function(ne){d(F,f,function(){var ue=ne.facade;u?Y.emit("rejectionHandled",ue):J("rejectionhandled",ue,ne.value)})},se=function(ne,ue,de){return function(ge){ne(ue,ge,de)}},Q=function(ne,ue,de){ne.done||(ne.done=!0,de&&(ne=de),ne.value=ue,ne.state=2,q(ne,!0))},re=function(ne,ue,de){if(!ne.done){ne.done=!0,de&&(ne=de);try{if(ne.facade===ue)throw new V("Promise can't be resolved itself");var ge=A(ue);ge?D(function(){var we={done:!1};try{d(ge,ue,se(re,we,ne),se(Q,we,ne))}catch(xe){Q(we,xe,ne)}}):(ne.value=ue,ne.state=1,q(ne,!1))}catch(we){Q({done:!1},we,ne)}}};if(E&&(B=(N=function(ne){x(this,B),y(ne),d(s,this);var ue=S(this);try{ne(se(re,ue),se(Q,ue))}catch(de){Q(ue,de)}}).prototype,(s=function(ne){R(this,{type:"Promise",done:!1,notified:!1,parent:!1,reactions:new H,rejection:!1,state:0,value:void 0})}).prototype=h(B,"then",function(ne,ue){var de=S(this),ge=L(P(this,N));return de.parent=!0,ge.ok=!m(ne)||ne,ge.fail=m(ue)&&ue,ge.domain=u?Y.domain:void 0,de.state===0?de.reactions.add(ge):D(function(){z(ge,de)}),ge.promise}),o=function(){var ne=new s,ue=S(ne);this.promise=ne,this.resolve=se(re,ue),this.reject=se(Q,ue)},k.f=L=function(ne){return ne===N||ne===void 0?new o(ne):K(ne)},!c&&m(G)&&_!==Object.prototype)){a=_.then,C||h(_,"then",function(ne,ue){var de=this;return new N(function(ge,we){d(a,de,ge,we)}).then(ne,ue)},{unsafe:!0});try{delete _.constructor}catch{}g&&g(_,B)}l({global:!0,constructor:!0,wrap:!0,forced:E},{Promise:N}),v(N,"Promise",!1,!0),p("Promise")},{"../internals/a-callable":222,"../internals/an-instance":226,"../internals/define-built-in":245,"../internals/engine-is-node":254,"../internals/export":259,"../internals/function-call":264,"../internals/global":274,"../internals/host-report-errors":277,"../internals/internal-state":282,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/microtask":302,"../internals/new-promise-capability":303,"../internals/object-set-prototype-of":318,"../internals/perform":323,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/queue":328,"../internals/set-species":330,"../internals/set-to-string-tag":331,"../internals/species-constructor":335,"../internals/task":339}],371:[function(r,n,i){var s=r("../internals/export"),o=r("../internals/is-pure"),a=r("../internals/promise-native-constructor"),l=r("../internals/fails"),c=r("../internals/get-built-in"),u=r("../internals/is-callable"),f=r("../internals/species-constructor"),d=r("../internals/promise-resolve"),h=r("../internals/define-built-in"),g=a&&a.prototype;if(s({target:"Promise",proto:!0,real:!0,forced:!!a&&l(function(){g.finally.call({then:function(){}},function(){})})},{finally:function(p){var y=f(this,c("Promise")),m=u(p);return this.then(m?function(b){return d(y,p()).then(function(){return b})}:p,m?function(b){return d(y,p()).then(function(){throw b})}:p)}}),!o&&u(a)){var v=c("Promise").prototype.finally;g.finally!==v&&h(g,"finally",v,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/fails":260,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326,"../internals/species-constructor":335}],372:[function(r,n,i){r("../modules/es.promise.constructor"),r("../modules/es.promise.all"),r("../modules/es.promise.catch"),r("../modules/es.promise.race"),r("../modules/es.promise.reject"),r("../modules/es.promise.resolve")},{"../modules/es.promise.all":368,"../modules/es.promise.catch":369,"../modules/es.promise.constructor":370,"../modules/es.promise.race":373,"../modules/es.promise.reject":374,"../modules/es.promise.resolve":375}],373:[function(r,n,i){var s=r("../internals/export"),o=r("../internals/function-call"),a=r("../internals/a-callable"),l=r("../internals/new-promise-capability"),c=r("../internals/perform"),u=r("../internals/iterate");s({target:"Promise",stat:!0,forced:r("../internals/promise-statics-incorrect-iteration")},{race:function(f){var d=this,h=l.f(d),g=h.reject,v=c(function(){var p=a(d.resolve);u(f,function(y){o(p,d,y).then(h.resolve,g)})});return v.error&&g(v.value),h.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],374:[function(r,n,i){var s=r("../internals/export"),o=r("../internals/function-call"),a=r("../internals/new-promise-capability");s({target:"Promise",stat:!0,forced:r("../internals/promise-constructor-detection").CONSTRUCTOR},{reject:function(l){var c=a.f(this);return o(c.reject,void 0,l),c.promise}})},{"../internals/export":259,"../internals/function-call":264,"../internals/new-promise-capability":303,"../internals/promise-constructor-detection":324}],375:[function(r,n,i){var s=r("../internals/export"),o=r("../internals/get-built-in"),a=r("../internals/is-pure"),l=r("../internals/promise-native-constructor"),c=r("../internals/promise-constructor-detection").CONSTRUCTOR,u=r("../internals/promise-resolve"),f=o("Promise"),d=a&&!c;s({target:"Promise",stat:!0,forced:a||c},{resolve:function(h){return u(d&&this===f?l:this,h)}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326}],376:[function(r,n,i){var s=r("../internals/export"),o=r("../internals/function-uncurry-this"),a=r("../internals/to-absolute-index"),l=RangeError,c=String.fromCharCode,u=String.fromCodePoint,f=o([].join);s({target:"String",stat:!0,arity:1,forced:!!u&&u.length!==1},{fromCodePoint:function(d){for(var h,g=[],v=arguments.length,p=0;v>p;){if(h=+arguments[p++],a(h,1114111)!==h)throw new l(h+" is not a valid code point");g[p]=h<65536?c(h):c(55296+((h-=65536)>>10),h%1024+56320)}return f(g,"")}})},{"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/to-absolute-index":340}],377:[function(r,n,i){var s=r("../internals/export"),o=r("../internals/function-uncurry-this"),a=r("../internals/not-a-regexp"),l=r("../internals/require-object-coercible"),c=r("../internals/to-string"),u=r("../internals/correct-is-regexp-logic"),f=o("".indexOf);s({target:"String",proto:!0,forced:!u("includes")},{includes:function(d){return!!~f(c(l(this)),c(a(d)),arguments.length>1?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":238,"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/not-a-regexp":304,"../internals/require-object-coercible":329,"../internals/to-string":348}],378:[function(r,n,i){r("../internals/well-known-symbol-define")("asyncIterator")},{"../internals/well-known-symbol-define":355}],379:[function(r,n,i){var s=r("../internals/export"),o=r("../internals/global"),a=r("../internals/function-call"),l=r("../internals/function-uncurry-this"),c=r("../internals/is-pure"),u=r("../internals/descriptors"),f=r("../internals/symbol-constructor-detection"),d=r("../internals/fails"),h=r("../internals/has-own-property"),g=r("../internals/object-is-prototype-of"),v=r("../internals/an-object"),p=r("../internals/to-indexed-object"),y=r("../internals/to-property-key"),m=r("../internals/to-string"),b=r("../internals/create-property-descriptor"),x=r("../internals/object-create"),P=r("../internals/object-keys"),F=r("../internals/object-get-own-property-names"),D=r("../internals/object-get-own-property-names-external"),O=r("../internals/object-get-own-property-symbols"),j=r("../internals/object-get-own-property-descriptor"),H=r("../internals/object-define-property"),W=r("../internals/object-define-properties"),G=r("../internals/object-property-is-enumerable"),M=r("../internals/define-built-in"),k=r("../internals/define-built-in-accessor"),E=r("../internals/shared"),w=r("../internals/shared-key"),C=r("../internals/hidden-keys"),S=r("../internals/uid"),R=r("../internals/well-known-symbol"),_=r("../internals/well-known-symbol-wrapped"),N=r("../internals/well-known-symbol-define"),B=r("../internals/symbol-define-to-primitive"),V=r("../internals/set-to-string-tag"),$=r("../internals/internal-state"),Y=r("../internals/array-iteration").forEach,L=w("hidden"),K=$.set,I=$.getterFor("Symbol"),A=Object.prototype,z=o.Symbol,q=z&&z.prototype,J=o.RangeError,X=o.TypeError,Z=o.QObject,ie=j.f,se=H.f,Q=D.f,re=G.f,ne=l([].push),ue=E("symbols"),de=E("op-symbols"),ge=E("wks"),we=!Z||!Z.prototype||!Z.prototype.findChild,xe=function(Ie,ae,ce){var be=ie(A,ae);be&&delete A[ae],se(Ie,ae,ce),be&&Ie!==A&&se(A,ae,be)},Fe=u&&d(function(){return x(se({},"a",{get:function(){return se(this,"a",{value:7}).a}})).a!==7})?xe:se,De=function(Ie,ae){var ce=ue[Ie]=x(q);return K(ce,{type:"Symbol",tag:Ie,description:ae}),u||(ce.description=ae),ce},Le=function(Ie,ae,ce){Ie===A&&Le(de,ae,ce),v(Ie);var be=y(ae);return v(ce),h(ue,be)?(ce.enumerable?(h(Ie,L)&&Ie[L][be]&&(Ie[L][be]=!1),ce=x(ce,{enumerable:b(0,!1)})):(h(Ie,L)||se(Ie,L,b(1,{})),Ie[L][be]=!0),Fe(Ie,be,ce)):se(Ie,be,ce)},He=function(Ie,ae){v(Ie);var ce=p(ae),be=P(ce).concat(Pe(ce));return Y(be,function(ve){u&&!a(it,ce,ve)||Le(Ie,ve,ce[ve])}),Ie},it=function(Ie){var ae=y(Ie),ce=a(re,this,ae);return!(this===A&&h(ue,ae)&&!h(de,ae))&&(!(ce||!h(this,ae)||!h(ue,ae)||h(this,L)&&this[L][ae])||ce)},Qe=function(Ie,ae){var ce=p(Ie),be=y(ae);if(ce!==A||!h(ue,be)||h(de,be)){var ve=ie(ce,be);return!ve||!h(ue,be)||h(ce,L)&&ce[L][be]||(ve.enumerable=!0),ve}},rt=function(Ie){var ae=Q(p(Ie)),ce=[];return Y(ae,function(be){h(ue,be)||h(C,be)||ne(ce,be)}),ce},Pe=function(Ie){var ae=Ie===A,ce=Q(ae?de:p(Ie)),be=[];return Y(ce,function(ve){!h(ue,ve)||ae&&!h(A,ve)||ne(be,ue[ve])}),be};f||(M(q=(z=function(){if(g(q,this))throw new X("Symbol is not a constructor");var Ie=arguments.length&&arguments[0]!==void 0?m(arguments[0]):void 0,ae=S(Ie),ce=function(be){this===A&&a(ce,de,be),h(this,L)&&h(this[L],ae)&&(this[L][ae]=!1);var ve=b(1,be);try{Fe(this,ae,ve)}catch(qe){if(!(qe instanceof J))throw qe;xe(this,ae,ve)}};return u&&we&&Fe(A,ae,{configurable:!0,set:ce}),De(ae,Ie)}).prototype,"toString",function(){return I(this).tag}),M(z,"withoutSetter",function(Ie){return De(S(Ie),Ie)}),G.f=it,H.f=Le,W.f=He,j.f=Qe,F.f=D.f=rt,O.f=Pe,_.f=function(Ie){return De(R(Ie),Ie)},u&&(k(q,"description",{configurable:!0,get:function(){return I(this).description}}),c||M(A,"propertyIsEnumerable",it,{unsafe:!0}))),s({global:!0,constructor:!0,wrap:!0,forced:!f,sham:!f},{Symbol:z}),Y(P(ge),function(Ie){N(Ie)}),s({target:"Symbol",stat:!0,forced:!f},{useSetter:function(){we=!0},useSimple:function(){we=!1}}),s({target:"Object",stat:!0,forced:!f,sham:!u},{create:function(Ie,ae){return ae===void 0?x(Ie):He(x(Ie),ae)},defineProperty:Le,defineProperties:He,getOwnPropertyDescriptor:Qe}),s({target:"Object",stat:!0,forced:!f},{getOwnPropertyNames:rt}),B(),V(z,"Symbol"),C[L]=!0},{"../internals/an-object":227,"../internals/array-iteration":229,"../internals/create-property-descriptor":242,"../internals/define-built-in":245,"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/export":259,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-define-properties":307,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-names-external":310,"../internals/object-get-own-property-symbols":312,"../internals/object-is-prototype-of":314,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/set-to-string-tag":331,"../internals/shared":334,"../internals/shared-key":332,"../internals/symbol-constructor-detection":336,"../internals/symbol-define-to-primitive":337,"../internals/to-indexed-object":341,"../internals/to-property-key":346,"../internals/to-string":348,"../internals/uid":350,"../internals/well-known-symbol":357,"../internals/well-known-symbol-define":355,"../internals/well-known-symbol-wrapped":356}],380:[function(r,n,i){var s=r("../internals/export"),o=r("../internals/get-built-in"),a=r("../internals/has-own-property"),l=r("../internals/to-string"),c=r("../internals/shared"),u=r("../internals/symbol-registry-detection"),f=c("string-to-symbol-registry"),d=c("symbol-to-string-registry");s({target:"Symbol",stat:!0,forced:!u},{for:function(h){var g=l(h);if(a(f,g))return f[g];var v=o("Symbol")(g);return f[g]=v,d[v]=g,v}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/to-string":348}],381:[function(r,n,i){r("../modules/es.symbol.constructor"),r("../modules/es.symbol.for"),r("../modules/es.symbol.key-for"),r("../modules/es.json.stringify"),r("../modules/es.object.get-own-property-symbols")},{"../modules/es.json.stringify":362,"../modules/es.object.get-own-property-symbols":365,"../modules/es.symbol.constructor":379,"../modules/es.symbol.for":380,"../modules/es.symbol.key-for":382}],382:[function(r,n,i){var s=r("../internals/export"),o=r("../internals/has-own-property"),a=r("../internals/is-symbol"),l=r("../internals/try-to-string"),c=r("../internals/shared"),u=r("../internals/symbol-registry-detection"),f=c("symbol-to-string-registry");s({target:"Symbol",stat:!0,forced:!u},{keyFor:function(d){if(!a(d))throw new TypeError(l(d)+" is not a symbol");if(o(f,d))return f[d]}})},{"../internals/export":259,"../internals/has-own-property":275,"../internals/is-symbol":292,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/try-to-string":349}],383:[function(r,n,i){function s(o){return Object.prototype.toString.call(o)}i.isArray=function(o){return Array.isArray?Array.isArray(o):s(o)==="[object Array]"},i.isBoolean=function(o){return typeof o=="boolean"},i.isNull=function(o){return o===null},i.isNullOrUndefined=function(o){return o==null},i.isNumber=function(o){return typeof o=="number"},i.isString=function(o){return typeof o=="string"},i.isSymbol=function(o){return typeof o=="symbol"},i.isUndefined=function(o){return o===void 0},i.isRegExp=function(o){return s(o)==="[object RegExp]"},i.isObject=function(o){return typeof o=="object"&&o!==null},i.isDate=function(o){return s(o)==="[object Date]"},i.isError=function(o){return s(o)==="[object Error]"||o instanceof Error},i.isFunction=function(o){return typeof o=="function"},i.isPrimitive=function(o){return o===null||typeof o=="boolean"||typeof o=="number"||typeof o=="string"||typeof o=="symbol"||o===void 0},i.isBuffer=r("buffer").Buffer.isBuffer},{buffer:220}],384:[function(r,n,i){(function(s){(function(){var o=r("elliptic"),a=r("bn.js");n.exports=function(f){return new c(f)};var l={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function c(f){this.curveType=l[f],this.curveType||(this.curveType={name:f}),this.curve=new o.ec(this.curveType.name),this.keys=void 0}function u(f,d,h){Array.isArray(f)||(f=f.toArray());var g=new s(f);if(h&&g.length<h){var v=new s(h-g.length);v.fill(0),g=s.concat([v,g])}return d?g.toString(d):g}l.p224=l.secp224r1,l.p256=l.secp256r1=l.prime256v1,l.p192=l.secp192r1=l.prime192v1,l.p384=l.secp384r1,l.p521=l.secp521r1,c.prototype.generateKeys=function(f,d){return this.keys=this.curve.genKeyPair(),this.getPublicKey(f,d)},c.prototype.computeSecret=function(f,d,h){return d=d||"utf8",s.isBuffer(f)||(f=new s(f,d)),u(this.curve.keyFromPublic(f).getPublic().mul(this.keys.getPrivate()).getX(),h,this.curveType.byteLength)},c.prototype.getPublicKey=function(f,d){var h=this.keys.getPublic(d==="compressed",!0);return d==="hybrid"&&(h[h.length-1]%2?h[0]=7:h[0]=6),u(h,f)},c.prototype.getPrivateKey=function(f){return u(this.keys.getPrivate(),f)},c.prototype.setPublicKey=function(f,d){return d=d||"utf8",s.isBuffer(f)||(f=new s(f,d)),this.keys._importPublic(f),this},c.prototype.setPrivateKey=function(f,d){d=d||"utf8",s.isBuffer(f)||(f=new s(f,d));var h=new a(f);return h=h.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(h),this}}).call(this)}).call(this,r("buffer").Buffer)},{"bn.js":385,buffer:220,elliptic:405}],385:[function(r,n,i){arguments[4][184][0].apply(i,arguments)},{buffer:188,dup:184}],386:[function(r,n,i){var s=r("inherits"),o=r("md5.js"),a=r("ripemd160"),l=r("sha.js"),c=r("cipher-base");function u(f){c.call(this,"digest"),this._hash=f}s(u,c),u.prototype._update=function(f){this._hash.update(f)},u.prototype._final=function(){return this._hash.digest()},n.exports=function(f){return(f=f.toLowerCase())==="md5"?new o:f==="rmd160"||f==="ripemd160"?new a:new u(l(f))}},{"cipher-base":221,inherits:440,"md5.js":450,ripemd160:493,"sha.js":498}],387:[function(r,n,i){var s=r("md5.js");n.exports=function(o){return new s().update(o).digest()}},{"md5.js":450}],388:[function(r,n,i){var s=r("inherits"),o=r("./legacy"),a=r("cipher-base"),l=r("safe-buffer").Buffer,c=r("create-hash/md5"),u=r("ripemd160"),f=r("sha.js"),d=l.alloc(128);function h(g,v){a.call(this,"digest"),typeof v=="string"&&(v=l.from(v));var p=g==="sha512"||g==="sha384"?128:64;this._alg=g,this._key=v,v.length>p?v=(g==="rmd160"?new u:f(g)).update(v).digest():v.length<p&&(v=l.concat([v,d],p));for(var y=this._ipad=l.allocUnsafe(p),m=this._opad=l.allocUnsafe(p),b=0;b<p;b++)y[b]=54^v[b],m[b]=92^v[b];this._hash=g==="rmd160"?new u:f(g),this._hash.update(y)}s(h,a),h.prototype._update=function(g){this._hash.update(g)},h.prototype._final=function(){var g=this._hash.digest();return(this._alg==="rmd160"?new u:f(this._alg)).update(this._opad).update(g).digest()},n.exports=function(g,v){return(g=g.toLowerCase())==="rmd160"||g==="ripemd160"?new h("rmd160",v):g==="md5"?new o(c,v):new h(g,v)}},{"./legacy":389,"cipher-base":221,"create-hash/md5":387,inherits:440,ripemd160:493,"safe-buffer":494,"sha.js":498}],389:[function(r,n,i){var s=r("inherits"),o=r("safe-buffer").Buffer,a=r("cipher-base"),l=o.alloc(128);function c(u,f){a.call(this,"digest"),typeof f=="string"&&(f=o.from(f)),this._alg=u,this._key=f,f.length>64?f=u(f):f.length<64&&(f=o.concat([f,l],64));for(var d=this._ipad=o.allocUnsafe(64),h=this._opad=o.allocUnsafe(64),g=0;g<64;g++)d[g]=54^f[g],h[g]=92^f[g];this._hash=[d]}s(c,a),c.prototype._update=function(u){this._hash.push(u)},c.prototype._final=function(){var u=this._alg(o.concat(this._hash));return this._alg(o.concat([this._opad,u]))},n.exports=c},{"cipher-base":221,inherits:440,"safe-buffer":494}],390:[function(r,n,i){i.randomBytes=i.rng=i.pseudoRandomBytes=i.prng=r("randombytes"),i.createHash=i.Hash=r("create-hash"),i.createHmac=i.Hmac=r("create-hmac");var s=r("browserify-sign/algos"),o=Object.keys(s),a=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(o);i.getHashes=function(){return a};var l=r("pbkdf2");i.pbkdf2=l.pbkdf2,i.pbkdf2Sync=l.pbkdf2Sync;var c=r("browserify-cipher");i.Cipher=c.Cipher,i.createCipher=c.createCipher,i.Cipheriv=c.Cipheriv,i.createCipheriv=c.createCipheriv,i.Decipher=c.Decipher,i.createDecipher=c.createDecipher,i.Decipheriv=c.Decipheriv,i.createDecipheriv=c.createDecipheriv,i.getCiphers=c.getCiphers,i.listCiphers=c.listCiphers;var u=r("diffie-hellman");i.DiffieHellmanGroup=u.DiffieHellmanGroup,i.createDiffieHellmanGroup=u.createDiffieHellmanGroup,i.getDiffieHellman=u.getDiffieHellman,i.createDiffieHellman=u.createDiffieHellman,i.DiffieHellman=u.DiffieHellman;var f=r("browserify-sign");i.createSign=f.createSign,i.Sign=f.Sign,i.createVerify=f.createVerify,i.Verify=f.Verify,i.createECDH=r("create-ecdh");var d=r("public-encrypt");i.publicEncrypt=d.publicEncrypt,i.privateEncrypt=d.privateEncrypt,i.publicDecrypt=d.publicDecrypt,i.privateDecrypt=d.privateDecrypt;var h=r("randomfill");i.randomFill=h.randomFill,i.randomFillSync=h.randomFillSync,i.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))},i.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},{"browserify-cipher":206,"browserify-sign":213,"browserify-sign/algos":210,"create-ecdh":384,"create-hash":386,"create-hmac":388,"diffie-hellman":400,pbkdf2:460,"public-encrypt":468,randombytes:475,randomfill:476}],391:[function(r,n,i){(function(s,o){typeof i=="object"&&n!==void 0?n.exports=o():(s=typeof globalThis<"u"?globalThis:s||self).dayjs=o()})(void 0,function(){var s=6e4,o=36e5,a="millisecond",l="second",c="minute",u="hour",f="day",d="week",h="month",g="quarter",v="year",p="date",y="Invalid Date",m=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,b=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,x={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(w){var C=["th","st","nd","rd"],S=w%100;return"["+w+(C[(S-20)%10]||C[S]||C[0])+"]"}},P=function(w,C,S){var R=String(w);return!R||R.length>=C?w:""+Array(C+1-R.length).join(S)+w},F={s:P,z:function(w){var C=-w.utcOffset(),S=Math.abs(C),R=Math.floor(S/60),_=S%60;return(C<=0?"+":"-")+P(R,2,"0")+":"+P(_,2,"0")},m:function w(C,S){if(C.date()<S.date())return-w(S,C);var R=12*(S.year()-C.year())+(S.month()-C.month()),_=C.clone().add(R,h),N=S-_<0,B=C.clone().add(R+(N?-1:1),h);return+(-(R+(S-_)/(N?_-B:B-_))||0)},a:function(w){return w<0?Math.ceil(w)||0:Math.floor(w)},p:function(w){return{M:h,y:v,w:d,d:f,D:p,h:u,m:c,s:l,ms:a,Q:g}[w]||String(w||"").toLowerCase().replace(/s$/,"")},u:function(w){return w===void 0}},D="en",O={};O[D]=x;var j="$isDayjsObject",H=function(w){return w instanceof k||!(!w||!w[j])},W=function w(C,S,R){var _;if(!C)return D;if(typeof C=="string"){var N=C.toLowerCase();O[N]&&(_=N),S&&(O[N]=S,_=N);var B=C.split("-");if(!_&&B.length>1)return w(B[0])}else{var V=C.name;O[V]=C,_=V}return!R&&_&&(D=_),_||!R&&D},G=function(w,C){if(H(w))return w.clone();var S=typeof C=="object"?C:{};return S.date=w,S.args=arguments,new k(S)},M=F;M.l=W,M.i=H,M.w=function(w,C){return G(w,{locale:C.$L,utc:C.$u,x:C.$x,$offset:C.$offset})};var k=function(){function w(S){this.$L=W(S.locale,null,!0),this.parse(S),this.$x=this.$x||S.x||{},this[j]=!0}var C=w.prototype;return C.parse=function(S){this.$d=function(R){var _=R.date,N=R.utc;if(_===null)return new Date(NaN);if(M.u(_))return new Date;if(_ instanceof Date)return new Date(_);if(typeof _=="string"&&!/Z$/i.test(_)){var B=_.match(m);if(B){var V=B[2]-1||0,$=(B[7]||"0").substring(0,3);return N?new Date(Date.UTC(B[1],V,B[3]||1,B[4]||0,B[5]||0,B[6]||0,$)):new Date(B[1],V,B[3]||1,B[4]||0,B[5]||0,B[6]||0,$)}}return new Date(_)}(S),this.init()},C.init=function(){var S=this.$d;this.$y=S.getFullYear(),this.$M=S.getMonth(),this.$D=S.getDate(),this.$W=S.getDay(),this.$H=S.getHours(),this.$m=S.getMinutes(),this.$s=S.getSeconds(),this.$ms=S.getMilliseconds()},C.$utils=function(){return M},C.isValid=function(){return this.$d.toString()!==y},C.isSame=function(S,R){var _=G(S);return this.startOf(R)<=_&&_<=this.endOf(R)},C.isAfter=function(S,R){return G(S)<this.startOf(R)},C.isBefore=function(S,R){return this.endOf(R)<G(S)},C.$g=function(S,R,_){return M.u(S)?this[R]:this.set(_,S)},C.unix=function(){return Math.floor(this.valueOf()/1e3)},C.valueOf=function(){return this.$d.getTime()},C.startOf=function(S,R){var _=this,N=!!M.u(R)||R,B=M.p(S),V=function(q,J){var X=M.w(_.$u?Date.UTC(_.$y,J,q):new Date(_.$y,J,q),_);return N?X:X.endOf(f)},$=function(q,J){return M.w(_.toDate()[q].apply(_.toDate("s"),(N?[0,0,0,0]:[23,59,59,999]).slice(J)),_)},Y=this.$W,L=this.$M,K=this.$D,I="set"+(this.$u?"UTC":"");switch(B){case v:return N?V(1,0):V(31,11);case h:return N?V(1,L):V(0,L+1);case d:var A=this.$locale().weekStart||0,z=(Y<A?Y+7:Y)-A;return V(N?K-z:K+(6-z),L);case f:case p:return $(I+"Hours",0);case u:return $(I+"Minutes",1);case c:return $(I+"Seconds",2);case l:return $(I+"Milliseconds",3);default:return this.clone()}},C.endOf=function(S){return this.startOf(S,!1)},C.$set=function(S,R){var _,N=M.p(S),B="set"+(this.$u?"UTC":""),V=(_={},_[f]=B+"Date",_[p]=B+"Date",_[h]=B+"Month",_[v]=B+"FullYear",_[u]=B+"Hours",_[c]=B+"Minutes",_[l]=B+"Seconds",_[a]=B+"Milliseconds",_)[N],$=N===f?this.$D+(R-this.$W):R;if(N===h||N===v){var Y=this.clone().set(p,1);Y.$d[V]($),Y.init(),this.$d=Y.set(p,Math.min(this.$D,Y.daysInMonth())).$d}else V&&this.$d[V]($);return this.init(),this},C.set=function(S,R){return this.clone().$set(S,R)},C.get=function(S){return this[M.p(S)]()},C.add=function(S,R){var _,N=this;S=Number(S);var B=M.p(R),V=function(L){var K=G(N);return M.w(K.date(K.date()+Math.round(L*S)),N)};if(B===h)return this.set(h,this.$M+S);if(B===v)return this.set(v,this.$y+S);if(B===f)return V(1);if(B===d)return V(7);var $=(_={},_[c]=s,_[u]=o,_[l]=1e3,_)[B]||1,Y=this.$d.getTime()+S*$;return M.w(Y,this)},C.subtract=function(S,R){return this.add(-1*S,R)},C.format=function(S){var R=this,_=this.$locale();if(!this.isValid())return _.invalidDate||y;var N=S||"YYYY-MM-DDTHH:mm:ssZ",B=M.z(this),V=this.$H,$=this.$m,Y=this.$M,L=_.weekdays,K=_.months,I=_.meridiem,A=function(J,X,Z,ie){return J&&(J[X]||J(R,N))||Z[X].slice(0,ie)},z=function(J){return M.s(V%12||12,J,"0")},q=I||function(J,X,Z){var ie=J<12?"AM":"PM";return Z?ie.toLowerCase():ie};return N.replace(b,function(J,X){return X||function(Z){switch(Z){case"YY":return String(R.$y).slice(-2);case"YYYY":return M.s(R.$y,4,"0");case"M":return Y+1;case"MM":return M.s(Y+1,2,"0");case"MMM":return A(_.monthsShort,Y,K,3);case"MMMM":return A(K,Y);case"D":return R.$D;case"DD":return M.s(R.$D,2,"0");case"d":return String(R.$W);case"dd":return A(_.weekdaysMin,R.$W,L,2);case"ddd":return A(_.weekdaysShort,R.$W,L,3);case"dddd":return L[R.$W];case"H":return String(V);case"HH":return M.s(V,2,"0");case"h":return z(1);case"hh":return z(2);case"a":return q(V,$,!0);case"A":return q(V,$,!1);case"m":return String($);case"mm":return M.s($,2,"0");case"s":return String(R.$s);case"ss":return M.s(R.$s,2,"0");case"SSS":return M.s(R.$ms,3,"0");case"Z":return B}return null}(J)||B.replace(":","")})},C.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},C.diff=function(S,R,_){var N,B=this,V=M.p(R),$=G(S),Y=($.utcOffset()-this.utcOffset())*s,L=this-$,K=function(){return M.m(B,$)};switch(V){case v:N=K()/12;break;case h:N=K();break;case g:N=K()/3;break;case d:N=(L-Y)/6048e5;break;case f:N=(L-Y)/864e5;break;case u:N=L/o;break;case c:N=L/s;break;case l:N=L/1e3;break;default:N=L}return _?N:M.a(N)},C.daysInMonth=function(){return this.endOf(h).$D},C.$locale=function(){return O[this.$L]},C.locale=function(S,R){if(!S)return this.$L;var _=this.clone(),N=W(S,R,!0);return N&&(_.$L=N),_},C.clone=function(){return M.w(this.$d,this)},C.toDate=function(){return new Date(this.valueOf())},C.toJSON=function(){return this.isValid()?this.toISOString():null},C.toISOString=function(){return this.$d.toISOString()},C.toString=function(){return this.$d.toUTCString()},w}(),E=k.prototype;return G.prototype=E,[["$ms",a],["$s",l],["$m",c],["$H",u],["$W",f],["$M",h],["$y",v],["$D",p]].forEach(function(w){E[w[1]]=function(C){return this.$g(C,w[0],w[1])}}),G.extend=function(w,C){return w.$i||(w(C,k,G),w.$i=!0),G},G.locale=W,G.isDayjs=H,G.unix=function(w){return G(1e3*w)},G.en=O[D],G.Ls=O,G.p={},G})},{}],392:[function(r,n,i){(function(s,o){typeof i=="object"&&n!==void 0?n.exports=o():(s=typeof globalThis<"u"?globalThis:s||self).dayjs_plugin_customParseFormat=o()})(void 0,function(){var s={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},o=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,a=/\d\d/,l=/\d\d?/,c=/\d*[^-_:/,()\s\d]+/,u={},f=function(m){return(m=+m)+(m>68?1900:2e3)},d=function(m){return function(b){this[m]=+b}},h=[/[+-]\d\d:?(\d\d)?|Z/,function(m){(this.zone||(this.zone={})).offset=function(b){if(!b||b==="Z")return 0;var x=b.match(/([+-]|\d\d)/g),P=60*x[1]+(+x[2]||0);return P===0?0:x[0]==="+"?-P:P}(m)}],g=function(m){var b=u[m];return b&&(b.indexOf?b:b.s.concat(b.f))},v=function(m,b){var x,P=u.meridiem;if(P){for(var F=1;F<=24;F+=1)if(m.indexOf(P(F,0,b))>-1){x=F>12;break}}else x=m===(b?"pm":"PM");return x},p={A:[c,function(m){this.afternoon=v(m,!1)}],a:[c,function(m){this.afternoon=v(m,!0)}],S:[/\d/,function(m){this.milliseconds=100*+m}],SS:[a,function(m){this.milliseconds=10*+m}],SSS:[/\d{3}/,function(m){this.milliseconds=+m}],s:[l,d("seconds")],ss:[l,d("seconds")],m:[l,d("minutes")],mm:[l,d("minutes")],H:[l,d("hours")],h:[l,d("hours")],HH:[l,d("hours")],hh:[l,d("hours")],D:[l,d("day")],DD:[a,d("day")],Do:[c,function(m){var b=u.ordinal,x=m.match(/\d+/);if(this.day=x[0],b)for(var P=1;P<=31;P+=1)b(P).replace(/\[|\]/g,"")===m&&(this.day=P)}],M:[l,d("month")],MM:[a,d("month")],MMM:[c,function(m){var b=g("months"),x=(g("monthsShort")||b.map(function(P){return P.slice(0,3)})).indexOf(m)+1;if(x<1)throw new Error;this.month=x%12||x}],MMMM:[c,function(m){var b=g("months").indexOf(m)+1;if(b<1)throw new Error;this.month=b%12||b}],Y:[/[+-]?\d+/,d("year")],YY:[a,function(m){this.year=f(m)}],YYYY:[/\d{4}/,d("year")],Z:h,ZZ:h};function y(m){var b,x;b=m,x=u&&u.formats;for(var P=(m=b.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(G,M,k){var E=k&&k.toUpperCase();return M||x[k]||s[k]||x[E].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(w,C,S){return C||S.slice(1)})})).match(o),F=P.length,D=0;D<F;D+=1){var O=P[D],j=p[O],H=j&&j[0],W=j&&j[1];P[D]=W?{regex:H,parser:W}:O.replace(/^\[|\]$/g,"")}return function(G){for(var M={},k=0,E=0;k<F;k+=1){var w=P[k];if(typeof w=="string")E+=w.length;else{var C=w.regex,S=w.parser,R=G.slice(E),_=C.exec(R)[0];S.call(M,_),G=G.replace(_,"")}}return function(N){var B=N.afternoon;if(B!==void 0){var V=N.hours;B?V<12&&(N.hours+=12):V===12&&(N.hours=0),delete N.afternoon}}(M),M}}return function(m,b,x){x.p.customParseFormat=!0,m&&m.parseTwoDigitYear&&(f=m.parseTwoDigitYear);var P=b.prototype,F=P.parse;P.parse=function(D){var O=D.date,j=D.utc,H=D.args;this.$u=j;var W=H[1];if(typeof W=="string"){var G=H[2]===!0,M=H[3]===!0,k=G||M,E=H[2];M&&(E=H[2]),u=this.$locale(),!G&&E&&(u=x.Ls[E]),this.$d=function(R,_,N){try{if(["x","X"].indexOf(_)>-1)return new Date((_==="X"?1e3:1)*R);var B=y(_)(R),V=B.year,$=B.month,Y=B.day,L=B.hours,K=B.minutes,I=B.seconds,A=B.milliseconds,z=B.zone,q=new Date,J=Y||(V||$?1:q.getDate()),X=V||q.getFullYear(),Z=0;V&&!$||(Z=$>0?$-1:q.getMonth());var ie=L||0,se=K||0,Q=I||0,re=A||0;return z?new Date(Date.UTC(X,Z,J,ie,se,Q,re+60*z.offset*1e3)):N?new Date(Date.UTC(X,Z,J,ie,se,Q,re)):new Date(X,Z,J,ie,se,Q,re)}catch{return new Date("")}}(O,W,j),this.init(),E&&E!==!0&&(this.$L=this.locale(E).$L),k&&O!=this.format(W)&&(this.$d=new Date("")),u={}}else if(W instanceof Array)for(var w=W.length,C=1;C<=w;C+=1){H[1]=W[C-1];var S=x.apply(this,H);if(S.isValid()){this.$d=S.$d,this.$L=S.$L,this.init();break}C===w&&(this.$d=new Date(""))}else F.call(this,D)}}})},{}],393:[function(r,n,i){(function(s,o){typeof i=="object"&&n!==void 0?n.exports=o():(s=typeof globalThis<"u"?globalThis:s||self).dayjs_plugin_utc=o()})(void 0,function(){var s="minute",o=/[+-]\d\d(?::?\d\d)?/g,a=/([+-]|\d\d)/g;return function(l,c,u){var f=c.prototype;u.utc=function(m){var b={date:m,utc:!0,args:arguments};return new c(b)},f.utc=function(m){var b=u(this.toDate(),{locale:this.$L,utc:!0});return m?b.add(this.utcOffset(),s):b},f.local=function(){return u(this.toDate(),{locale:this.$L,utc:!1})};var d=f.parse;f.parse=function(m){m.utc&&(this.$u=!0),this.$utils().u(m.$offset)||(this.$offset=m.$offset),d.call(this,m)};var h=f.init;f.init=function(){if(this.$u){var m=this.$d;this.$y=m.getUTCFullYear(),this.$M=m.getUTCMonth(),this.$D=m.getUTCDate(),this.$W=m.getUTCDay(),this.$H=m.getUTCHours(),this.$m=m.getUTCMinutes(),this.$s=m.getUTCSeconds(),this.$ms=m.getUTCMilliseconds()}else h.call(this)};var g=f.utcOffset;f.utcOffset=function(m,b){var x=this.$utils().u;if(x(m))return this.$u?0:x(this.$offset)?g.call(this):this.$offset;if(typeof m=="string"&&(m=function(O){O===void 0&&(O="");var j=O.match(o);if(!j)return null;var H=(""+j[0]).match(a)||["-",0,0],W=H[0],G=60*+H[1]+ +H[2];return G===0?0:W==="+"?G:-G}(m))===null)return this;var P=Math.abs(m)<=16?60*m:m,F=this;if(b)return F.$offset=P,F.$u=m===0,F;if(m!==0){var D=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(F=this.local().add(P+D,s)).$offset=P,F.$x.$localOffset=D}else F=this.utc();return F};var v=f.format;f.format=function(m){var b=m||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return v.call(this,b)},f.valueOf=function(){var m=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*m},f.isUTC=function(){return!!this.$u},f.toISOString=function(){return this.toDate().toISOString()},f.toString=function(){return this.toDate().toUTCString()};var p=f.toDate;f.toDate=function(m){return m==="s"&&this.$offset?u(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():p.call(this)};var y=f.diff;f.diff=function(m,b,x){if(m&&this.$u===m.$u)return y.call(this,m,b,x);var P=this.local(),F=u(m).local();return y.call(P,F,b,x)}}})},{}],394:[function(r,n,i){i.utils=r("./des/utils"),i.Cipher=r("./des/cipher"),i.DES=r("./des/des"),i.CBC=r("./des/cbc"),i.EDE=r("./des/ede")},{"./des/cbc":395,"./des/cipher":396,"./des/des":397,"./des/ede":398,"./des/utils":399}],395:[function(r,n,i){var s=r("minimalistic-assert"),o=r("inherits"),a={};function l(c){s.equal(c.length,8,"Invalid IV length"),this.iv=new Array(8);for(var u=0;u<this.iv.length;u++)this.iv[u]=c[u]}i.instantiate=function(c){function u(g){c.call(this,g),this._cbcInit()}o(u,c);for(var f=Object.keys(a),d=0;d<f.length;d++){var h=f[d];u.prototype[h]=a[h]}return u.create=function(g){return new u(g)},u},a._cbcInit=function(){var c=new l(this.options.iv);this._cbcState=c},a._update=function(c,u,f,d){var h=this._cbcState,g=this.constructor.super_.prototype,v=h.iv;if(this.type==="encrypt"){for(var p=0;p<this.blockSize;p++)v[p]^=c[u+p];for(g._update.call(this,v,0,f,d),p=0;p<this.blockSize;p++)v[p]=f[d+p]}else{for(g._update.call(this,c,u,f,d),p=0;p<this.blockSize;p++)f[d+p]^=v[p];for(p=0;p<this.blockSize;p++)v[p]=c[u+p]}}},{inherits:440,"minimalistic-assert":453}],396:[function(r,n,i){var s=r("minimalistic-assert");function o(a){this.options=a,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=a.padding!==!1}n.exports=o,o.prototype._init=function(){},o.prototype.update=function(a){return a.length===0?[]:this.type==="decrypt"?this._updateDecrypt(a):this._updateEncrypt(a)},o.prototype._buffer=function(a,l){for(var c=Math.min(this.buffer.length-this.bufferOff,a.length-l),u=0;u<c;u++)this.buffer[this.bufferOff+u]=a[l+u];return this.bufferOff+=c,c},o.prototype._flushBuffer=function(a,l){return this._update(this.buffer,0,a,l),this.bufferOff=0,this.blockSize},o.prototype._updateEncrypt=function(a){var l=0,c=0,u=(this.bufferOff+a.length)/this.blockSize|0,f=new Array(u*this.blockSize);this.bufferOff!==0&&(l+=this._buffer(a,l),this.bufferOff===this.buffer.length&&(c+=this._flushBuffer(f,c)));for(var d=a.length-(a.length-l)%this.blockSize;l<d;l+=this.blockSize)this._update(a,l,f,c),c+=this.blockSize;for(;l<a.length;l++,this.bufferOff++)this.buffer[this.bufferOff]=a[l];return f},o.prototype._updateDecrypt=function(a){for(var l=0,c=0,u=Math.ceil((this.bufferOff+a.length)/this.blockSize)-1,f=new Array(u*this.blockSize);u>0;u--)l+=this._buffer(a,l),c+=this._flushBuffer(f,c);return l+=this._buffer(a,l),f},o.prototype.final=function(a){var l,c;return a&&(l=this.update(a)),c=this.type==="encrypt"?this._finalEncrypt():this._finalDecrypt(),l?l.concat(c):c},o.prototype._pad=function(a,l){if(l===0)return!1;for(;l<a.length;)a[l++]=0;return!0},o.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var a=new Array(this.blockSize);return this._update(this.buffer,0,a,0),a},o.prototype._unpad=function(a){return a},o.prototype._finalDecrypt=function(){s.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var a=new Array(this.blockSize);return this._flushBuffer(a,0),this._unpad(a)}},{"minimalistic-assert":453}],397:[function(r,n,i){var s=r("minimalistic-assert"),o=r("inherits"),a=r("./utils"),l=r("./cipher");function c(){this.tmp=new Array(2),this.keys=null}function u(d){l.call(this,d);var h=new c;this._desState=h,this.deriveKeys(h,d.key)}o(u,l),n.exports=u,u.create=function(d){return new u(d)};var f=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];u.prototype.deriveKeys=function(d,h){d.keys=new Array(32),s.equal(h.length,this.blockSize,"Invalid key length");var g=a.readUInt32BE(h,0),v=a.readUInt32BE(h,4);a.pc1(g,v,d.tmp,0),g=d.tmp[0],v=d.tmp[1];for(var p=0;p<d.keys.length;p+=2){var y=f[p>>>1];g=a.r28shl(g,y),v=a.r28shl(v,y),a.pc2(g,v,d.keys,p)}},u.prototype._update=function(d,h,g,v){var p=this._desState,y=a.readUInt32BE(d,h),m=a.readUInt32BE(d,h+4);a.ip(y,m,p.tmp,0),y=p.tmp[0],m=p.tmp[1],this.type==="encrypt"?this._encrypt(p,y,m,p.tmp,0):this._decrypt(p,y,m,p.tmp,0),y=p.tmp[0],m=p.tmp[1],a.writeUInt32BE(g,y,v),a.writeUInt32BE(g,m,v+4)},u.prototype._pad=function(d,h){if(this.padding===!1)return!1;for(var g=d.length-h,v=h;v<d.length;v++)d[v]=g;return!0},u.prototype._unpad=function(d){if(this.padding===!1)return d;for(var h=d[d.length-1],g=d.length-h;g<d.length;g++)s.equal(d[g],h);return d.slice(0,d.length-h)},u.prototype._encrypt=function(d,h,g,v,p){for(var y=h,m=g,b=0;b<d.keys.length;b+=2){var x=d.keys[b],P=d.keys[b+1];a.expand(m,d.tmp,0),x^=d.tmp[0],P^=d.tmp[1];var F=a.substitute(x,P),D=m;m=(y^a.permute(F))>>>0,y=D}a.rip(m,y,v,p)},u.prototype._decrypt=function(d,h,g,v,p){for(var y=g,m=h,b=d.keys.length-2;b>=0;b-=2){var x=d.keys[b],P=d.keys[b+1];a.expand(y,d.tmp,0),x^=d.tmp[0],P^=d.tmp[1];var F=a.substitute(x,P),D=y;y=(m^a.permute(F))>>>0,m=D}a.rip(y,m,v,p)}},{"./cipher":396,"./utils":399,inherits:440,"minimalistic-assert":453}],398:[function(r,n,i){var s=r("minimalistic-assert"),o=r("inherits"),a=r("./cipher"),l=r("./des");function c(f,d){s.equal(d.length,24,"Invalid key length");var h=d.slice(0,8),g=d.slice(8,16),v=d.slice(16,24);this.ciphers=f==="encrypt"?[l.create({type:"encrypt",key:h}),l.create({type:"decrypt",key:g}),l.create({type:"encrypt",key:v})]:[l.create({type:"decrypt",key:v}),l.create({type:"encrypt",key:g}),l.create({type:"decrypt",key:h})]}function u(f){a.call(this,f);var d=new c(this.type,this.options.key);this._edeState=d}o(u,a),n.exports=u,u.create=function(f){return new u(f)},u.prototype._update=function(f,d,h,g){var v=this._edeState;v.ciphers[0]._update(f,d,h,g),v.ciphers[1]._update(h,g,h,g),v.ciphers[2]._update(h,g,h,g)},u.prototype._pad=l.prototype._pad,u.prototype._unpad=l.prototype._unpad},{"./cipher":396,"./des":397,inherits:440,"minimalistic-assert":453}],399:[function(r,n,i){i.readUInt32BE=function(l,c){return(l[0+c]<<24|l[1+c]<<16|l[2+c]<<8|l[3+c])>>>0},i.writeUInt32BE=function(l,c,u){l[0+u]=c>>>24,l[1+u]=c>>>16&255,l[2+u]=c>>>8&255,l[3+u]=255&c},i.ip=function(l,c,u,f){for(var d=0,h=0,g=6;g>=0;g-=2){for(var v=0;v<=24;v+=8)d<<=1,d|=c>>>v+g&1;for(v=0;v<=24;v+=8)d<<=1,d|=l>>>v+g&1}for(g=6;g>=0;g-=2){for(v=1;v<=25;v+=8)h<<=1,h|=c>>>v+g&1;for(v=1;v<=25;v+=8)h<<=1,h|=l>>>v+g&1}u[f+0]=d>>>0,u[f+1]=h>>>0},i.rip=function(l,c,u,f){for(var d=0,h=0,g=0;g<4;g++)for(var v=24;v>=0;v-=8)d<<=1,d|=c>>>v+g&1,d<<=1,d|=l>>>v+g&1;for(g=4;g<8;g++)for(v=24;v>=0;v-=8)h<<=1,h|=c>>>v+g&1,h<<=1,h|=l>>>v+g&1;u[f+0]=d>>>0,u[f+1]=h>>>0},i.pc1=function(l,c,u,f){for(var d=0,h=0,g=7;g>=5;g--){for(var v=0;v<=24;v+=8)d<<=1,d|=c>>v+g&1;for(v=0;v<=24;v+=8)d<<=1,d|=l>>v+g&1}for(v=0;v<=24;v+=8)d<<=1,d|=c>>v+g&1;for(g=1;g<=3;g++){for(v=0;v<=24;v+=8)h<<=1,h|=c>>v+g&1;for(v=0;v<=24;v+=8)h<<=1,h|=l>>v+g&1}for(v=0;v<=24;v+=8)h<<=1,h|=l>>v+g&1;u[f+0]=d>>>0,u[f+1]=h>>>0},i.r28shl=function(l,c){return l<<c&268435455|l>>>28-c};var s=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];i.pc2=function(l,c,u,f){for(var d=0,h=0,g=s.length>>>1,v=0;v<g;v++)d<<=1,d|=l>>>s[v]&1;for(v=g;v<s.length;v++)h<<=1,h|=c>>>s[v]&1;u[f+0]=d>>>0,u[f+1]=h>>>0},i.expand=function(l,c,u){var f=0,d=0;f=(1&l)<<5|l>>>27;for(var h=23;h>=15;h-=4)f<<=6,f|=l>>>h&63;for(h=11;h>=3;h-=4)d|=l>>>h&63,d<<=6;d|=(31&l)<<1|l>>>31,c[u+0]=f>>>0,c[u+1]=d>>>0};var o=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];i.substitute=function(l,c){for(var u=0,f=0;f<4;f++)u<<=4,u|=o[64*f+(l>>>18-6*f&63)];for(f=0;f<4;f++)u<<=4,u|=o[256+64*f+(c>>>18-6*f&63)];return u>>>0};var a=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];i.permute=function(l){for(var c=0,u=0;u<a.length;u++)c<<=1,c|=l>>>a[u]&1;return c>>>0},i.padSplit=function(l,c,u){for(var f=l.toString(2);f.length<c;)f="0"+f;for(var d=[],h=0;h<c;h+=u)d.push(f.slice(h,h+u));return d.join(" ")}},{}],400:[function(r,n,i){(function(s){(function(){var o=r("./lib/generatePrime"),a=r("./lib/primes.json"),l=r("./lib/dh"),c={binary:!0,hex:!0,base64:!0};i.DiffieHellmanGroup=i.createDiffieHellmanGroup=i.getDiffieHellman=function(u){var f=new s(a[u].prime,"hex"),d=new s(a[u].gen,"hex");return new l(f,d)},i.createDiffieHellman=i.DiffieHellman=function u(f,d,h,g){return s.isBuffer(d)||c[d]===void 0?u(f,"binary",d,h):(d=d||"binary",g=g||"binary",h=h||new s([2]),s.isBuffer(h)||(h=new s(h,g)),typeof f=="number"?new l(o(f,h),h,!0):(s.isBuffer(f)||(f=new s(f,d)),new l(f,h,!0)))}}).call(this)}).call(this,r("buffer").Buffer)},{"./lib/dh":401,"./lib/generatePrime":402,"./lib/primes.json":403,buffer:220}],401:[function(r,n,i){(function(s){(function(){var o=r("bn.js"),a=new(r("miller-rabin")),l=new o(24),c=new o(11),u=new o(10),f=new o(3),d=new o(7),h=r("./generatePrime"),g=r("randombytes");function v(x,P){return P=P||"utf8",s.isBuffer(x)||(x=new s(x,P)),this._pub=new o(x),this}function p(x,P){return P=P||"utf8",s.isBuffer(x)||(x=new s(x,P)),this._priv=new o(x),this}n.exports=m;var y={};function m(x,P,F){this.setGenerator(P),this.__prime=new o(x),this._prime=o.mont(this.__prime),this._primeLen=x.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,F?(this.setPublicKey=v,this.setPrivateKey=p):this._primeCode=8}function b(x,P){var F=new s(x.toArray());return P?F.toString(P):F}Object.defineProperty(m.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=function(x,P){var F=P.toString("hex"),D=[F,x.toString(16)].join("_");if(D in y)return y[D];var O,j=0;if(x.isEven()||!h.simpleSieve||!h.fermatTest(x)||!a.test(x))return j+=1,j+=F==="02"||F==="05"?8:4,y[D]=j,j;switch(a.test(x.shrn(1))||(j+=2),F){case"02":x.mod(l).cmp(c)&&(j+=8);break;case"05":(O=x.mod(u)).cmp(f)&&O.cmp(d)&&(j+=8);break;default:j+=4}return y[D]=j,j}(this.__prime,this.__gen)),this._primeCode}}),m.prototype.generateKeys=function(){return this._priv||(this._priv=new o(g(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},m.prototype.computeSecret=function(x){var P=(x=(x=new o(x)).toRed(this._prime)).redPow(this._priv).fromRed(),F=new s(P.toArray()),D=this.getPrime();if(F.length<D.length){var O=new s(D.length-F.length);O.fill(0),F=s.concat([O,F])}return F},m.prototype.getPublicKey=function(x){return b(this._pub,x)},m.prototype.getPrivateKey=function(x){return b(this._priv,x)},m.prototype.getPrime=function(x){return b(this.__prime,x)},m.prototype.getGenerator=function(x){return b(this._gen,x)},m.prototype.setGenerator=function(x,P){return P=P||"utf8",s.isBuffer(x)||(x=new s(x,P)),this.__gen=x,this._gen=new o(x),this}}).call(this)}).call(this,r("buffer").Buffer)},{"./generatePrime":402,"bn.js":404,buffer:220,"miller-rabin":451,randombytes:475}],402:[function(r,n,i){var s=r("randombytes");n.exports=x,x.simpleSieve=m,x.fermatTest=b;var o=r("bn.js"),a=new o(24),l=new(r("miller-rabin")),c=new o(1),u=new o(2),f=new o(5),d=(new o(16),new o(8),new o(10)),h=new o(3),g=(new o(7),new o(11)),v=new o(4),p=(new o(12),null);function y(){if(p!==null)return p;var P=[];P[0]=2;for(var F=1,D=3;D<1048576;D+=2){for(var O=Math.ceil(Math.sqrt(D)),j=0;j<F&&P[j]<=O&&D%P[j]!=0;j++);F!==j&&P[j]<=O||(P[F++]=D)}return p=P,P}function m(P){for(var F=y(),D=0;D<F.length;D++)if(P.modn(F[D])===0)return P.cmpn(F[D])===0;return!0}function b(P){var F=o.mont(P);return u.toRed(F).redPow(P.subn(1)).fromRed().cmpn(1)===0}function x(P,F){if(P<16)return new o(F===2||F===5?[140,123]:[140,39]);var D,O;for(F=new o(F);;){for(D=new o(s(Math.ceil(P/8)));D.bitLength()>P;)D.ishrn(1);if(D.isEven()&&D.iadd(c),D.testn(1)||D.iadd(u),F.cmp(u)){if(!F.cmp(f))for(;D.mod(d).cmp(h);)D.iadd(v)}else for(;D.mod(a).cmp(g);)D.iadd(v);if(m(O=D.shrn(1))&&m(D)&&b(O)&&b(D)&&l.test(O)&&l.test(D))return D}}},{"bn.js":404,"miller-rabin":451,randombytes:475}],403:[function(r,n,i){n.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},{}],404:[function(r,n,i){arguments[4][184][0].apply(i,arguments)},{buffer:188,dup:184}],405:[function(r,n,i){var s=i;s.version=r("../package.json").version,s.utils=r("./elliptic/utils"),s.rand=r("brorand"),s.curve=r("./elliptic/curve"),s.curves=r("./elliptic/curves"),s.ec=r("./elliptic/ec"),s.eddsa=r("./elliptic/eddsa")},{"../package.json":421,"./elliptic/curve":408,"./elliptic/curves":411,"./elliptic/ec":412,"./elliptic/eddsa":415,"./elliptic/utils":419,brorand:187}],406:[function(r,n,i){var s=r("bn.js"),o=r("../utils"),a=o.getNAF,l=o.getJSF,c=o.assert;function u(d,h){this.type=d,this.p=new s(h.p,16),this.red=h.prime?s.red(h.prime):s.mont(this.p),this.zero=new s(0).toRed(this.red),this.one=new s(1).toRed(this.red),this.two=new s(2).toRed(this.red),this.n=h.n&&new s(h.n,16),this.g=h.g&&this.pointFromJSON(h.g,h.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var g=this.n&&this.p.div(this.n);!g||g.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function f(d,h){this.curve=d,this.type=h,this.precomputed=null}n.exports=u,u.prototype.point=function(){throw new Error("Not implemented")},u.prototype.validate=function(){throw new Error("Not implemented")},u.prototype._fixedNafMul=function(d,h){c(d.precomputed);var g=d._getDoubles(),v=a(h,1,this._bitLength),p=(1<<g.step+1)-(g.step%2==0?2:1);p/=3;var y,m,b=[];for(y=0;y<v.length;y+=g.step){m=0;for(var x=y+g.step-1;x>=y;x--)m=(m<<1)+v[x];b.push(m)}for(var P=this.jpoint(null,null,null),F=this.jpoint(null,null,null),D=p;D>0;D--){for(y=0;y<b.length;y++)(m=b[y])===D?F=F.mixedAdd(g.points[y]):m===-D&&(F=F.mixedAdd(g.points[y].neg()));P=P.add(F)}return P.toP()},u.prototype._wnafMul=function(d,h){var g=4,v=d._getNAFPoints(g);g=v.wnd;for(var p=v.points,y=a(h,g,this._bitLength),m=this.jpoint(null,null,null),b=y.length-1;b>=0;b--){for(var x=0;b>=0&&y[b]===0;b--)x++;if(b>=0&&x++,m=m.dblp(x),b<0)break;var P=y[b];c(P!==0),m=d.type==="affine"?P>0?m.mixedAdd(p[P-1>>1]):m.mixedAdd(p[-P-1>>1].neg()):P>0?m.add(p[P-1>>1]):m.add(p[-P-1>>1].neg())}return d.type==="affine"?m.toP():m},u.prototype._wnafMulAdd=function(d,h,g,v,p){var y,m,b,x=this._wnafT1,P=this._wnafT2,F=this._wnafT3,D=0;for(y=0;y<v;y++){var O=(b=h[y])._getNAFPoints(d);x[y]=O.wnd,P[y]=O.points}for(y=v-1;y>=1;y-=2){var j=y-1,H=y;if(x[j]===1&&x[H]===1){var W=[h[j],null,null,h[H]];h[j].y.cmp(h[H].y)===0?(W[1]=h[j].add(h[H]),W[2]=h[j].toJ().mixedAdd(h[H].neg())):h[j].y.cmp(h[H].y.redNeg())===0?(W[1]=h[j].toJ().mixedAdd(h[H]),W[2]=h[j].add(h[H].neg())):(W[1]=h[j].toJ().mixedAdd(h[H]),W[2]=h[j].toJ().mixedAdd(h[H].neg()));var G=[-3,-1,-5,-7,0,7,5,1,3],M=l(g[j],g[H]);for(D=Math.max(M[0].length,D),F[j]=new Array(D),F[H]=new Array(D),m=0;m<D;m++){var k=0|M[0][m],E=0|M[1][m];F[j][m]=G[3*(k+1)+(E+1)],F[H][m]=0,P[j]=W}}else F[j]=a(g[j],x[j],this._bitLength),F[H]=a(g[H],x[H],this._bitLength),D=Math.max(F[j].length,D),D=Math.max(F[H].length,D)}var w=this.jpoint(null,null,null),C=this._wnafT4;for(y=D;y>=0;y--){for(var S=0;y>=0;){var R=!0;for(m=0;m<v;m++)C[m]=0|F[m][y],C[m]!==0&&(R=!1);if(!R)break;S++,y--}if(y>=0&&S++,w=w.dblp(S),y<0)break;for(m=0;m<v;m++){var _=C[m];_!==0&&(_>0?b=P[m][_-1>>1]:_<0&&(b=P[m][-_-1>>1].neg()),w=b.type==="affine"?w.mixedAdd(b):w.add(b))}}for(y=0;y<v;y++)P[y]=null;return p?w:w.toP()},u.BasePoint=f,f.prototype.eq=function(){throw new Error("Not implemented")},f.prototype.validate=function(){return this.curve.validate(this)},u.prototype.decodePoint=function(d,h){d=o.toArray(d,h);var g=this.p.byteLength();if((d[0]===4||d[0]===6||d[0]===7)&&d.length-1==2*g)return d[0]===6?c(d[d.length-1]%2==0):d[0]===7&&c(d[d.length-1]%2==1),this.point(d.slice(1,1+g),d.slice(1+g,1+2*g));if((d[0]===2||d[0]===3)&&d.length-1===g)return this.pointFromX(d.slice(1,1+g),d[0]===3);throw new Error("Unknown point format")},f.prototype.encodeCompressed=function(d){return this.encode(d,!0)},f.prototype._encode=function(d){var h=this.curve.p.byteLength(),g=this.getX().toArray("be",h);return d?[this.getY().isEven()?2:3].concat(g):[4].concat(g,this.getY().toArray("be",h))},f.prototype.encode=function(d,h){return o.encode(this._encode(h),d)},f.prototype.precompute=function(d){if(this.precomputed)return this;var h={doubles:null,naf:null,beta:null};return h.naf=this._getNAFPoints(8),h.doubles=this._getDoubles(4,d),h.beta=this._getBeta(),this.precomputed=h,this},f.prototype._hasDoubles=function(d){if(!this.precomputed)return!1;var h=this.precomputed.doubles;return!!h&&h.points.length>=Math.ceil((d.bitLength()+1)/h.step)},f.prototype._getDoubles=function(d,h){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var g=[this],v=this,p=0;p<h;p+=d){for(var y=0;y<d;y++)v=v.dbl();g.push(v)}return{step:d,points:g}},f.prototype._getNAFPoints=function(d){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var h=[this],g=(1<<d)-1,v=g===1?null:this.dbl(),p=1;p<g;p++)h[p]=h[p-1].add(v);return{wnd:d,points:h}},f.prototype._getBeta=function(){return null},f.prototype.dblp=function(d){for(var h=this,g=0;g<d;g++)h=h.dbl();return h}},{"../utils":419,"bn.js":420}],407:[function(r,n,i){var s=r("../utils"),o=r("bn.js"),a=r("inherits"),l=r("./base"),c=s.assert;function u(d){this.twisted=(0|d.a)!=1,this.mOneA=this.twisted&&(0|d.a)==-1,this.extended=this.mOneA,l.call(this,"edwards",d),this.a=new o(d.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new o(d.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new o(d.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),c(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(0|d.c)==1}function f(d,h,g,v,p){l.BasePoint.call(this,d,"projective"),h===null&&g===null&&v===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new o(h,16),this.y=new o(g,16),this.z=v?new o(v,16):this.curve.one,this.t=p&&new o(p,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}a(u,l),n.exports=u,u.prototype._mulA=function(d){return this.mOneA?d.redNeg():this.a.redMul(d)},u.prototype._mulC=function(d){return this.oneC?d:this.c.redMul(d)},u.prototype.jpoint=function(d,h,g,v){return this.point(d,h,g,v)},u.prototype.pointFromX=function(d,h){(d=new o(d,16)).red||(d=d.toRed(this.red));var g=d.redSqr(),v=this.c2.redSub(this.a.redMul(g)),p=this.one.redSub(this.c2.redMul(this.d).redMul(g)),y=v.redMul(p.redInvm()),m=y.redSqrt();if(m.redSqr().redSub(y).cmp(this.zero)!==0)throw new Error("invalid point");var b=m.fromRed().isOdd();return(h&&!b||!h&&b)&&(m=m.redNeg()),this.point(d,m)},u.prototype.pointFromY=function(d,h){(d=new o(d,16)).red||(d=d.toRed(this.red));var g=d.redSqr(),v=g.redSub(this.c2),p=g.redMul(this.d).redMul(this.c2).redSub(this.a),y=v.redMul(p.redInvm());if(y.cmp(this.zero)===0){if(h)throw new Error("invalid point");return this.point(this.zero,d)}var m=y.redSqrt();if(m.redSqr().redSub(y).cmp(this.zero)!==0)throw new Error("invalid point");return m.fromRed().isOdd()!==h&&(m=m.redNeg()),this.point(m,d)},u.prototype.validate=function(d){if(d.isInfinity())return!0;d.normalize();var h=d.x.redSqr(),g=d.y.redSqr(),v=h.redMul(this.a).redAdd(g),p=this.c2.redMul(this.one.redAdd(this.d.redMul(h).redMul(g)));return v.cmp(p)===0},a(f,l.BasePoint),u.prototype.pointFromJSON=function(d){return f.fromJSON(this,d)},u.prototype.point=function(d,h,g,v){return new f(this,d,h,g,v)},f.fromJSON=function(d,h){return new f(d,h[0],h[1],h[2])},f.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},f.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},f.prototype._extDbl=function(){var d=this.x.redSqr(),h=this.y.redSqr(),g=this.z.redSqr();g=g.redIAdd(g);var v=this.curve._mulA(d),p=this.x.redAdd(this.y).redSqr().redISub(d).redISub(h),y=v.redAdd(h),m=y.redSub(g),b=v.redSub(h),x=p.redMul(m),P=y.redMul(b),F=p.redMul(b),D=m.redMul(y);return this.curve.point(x,P,D,F)},f.prototype._projDbl=function(){var d,h,g,v,p,y,m=this.x.redAdd(this.y).redSqr(),b=this.x.redSqr(),x=this.y.redSqr();if(this.curve.twisted){var P=(v=this.curve._mulA(b)).redAdd(x);this.zOne?(d=m.redSub(b).redSub(x).redMul(P.redSub(this.curve.two)),h=P.redMul(v.redSub(x)),g=P.redSqr().redSub(P).redSub(P)):(p=this.z.redSqr(),y=P.redSub(p).redISub(p),d=m.redSub(b).redISub(x).redMul(y),h=P.redMul(v.redSub(x)),g=P.redMul(y))}else v=b.redAdd(x),p=this.curve._mulC(this.z).redSqr(),y=v.redSub(p).redSub(p),d=this.curve._mulC(m.redISub(v)).redMul(y),h=this.curve._mulC(v).redMul(b.redISub(x)),g=v.redMul(y);return this.curve.point(d,h,g)},f.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},f.prototype._extAdd=function(d){var h=this.y.redSub(this.x).redMul(d.y.redSub(d.x)),g=this.y.redAdd(this.x).redMul(d.y.redAdd(d.x)),v=this.t.redMul(this.curve.dd).redMul(d.t),p=this.z.redMul(d.z.redAdd(d.z)),y=g.redSub(h),m=p.redSub(v),b=p.redAdd(v),x=g.redAdd(h),P=y.redMul(m),F=b.redMul(x),D=y.redMul(x),O=m.redMul(b);return this.curve.point(P,F,O,D)},f.prototype._projAdd=function(d){var h,g,v=this.z.redMul(d.z),p=v.redSqr(),y=this.x.redMul(d.x),m=this.y.redMul(d.y),b=this.curve.d.redMul(y).redMul(m),x=p.redSub(b),P=p.redAdd(b),F=this.x.redAdd(this.y).redMul(d.x.redAdd(d.y)).redISub(y).redISub(m),D=v.redMul(x).redMul(F);return this.curve.twisted?(h=v.redMul(P).redMul(m.redSub(this.curve._mulA(y))),g=x.redMul(P)):(h=v.redMul(P).redMul(m.redSub(y)),g=this.curve._mulC(x).redMul(P)),this.curve.point(D,h,g)},f.prototype.add=function(d){return this.isInfinity()?d:d.isInfinity()?this:this.curve.extended?this._extAdd(d):this._projAdd(d)},f.prototype.mul=function(d){return this._hasDoubles(d)?this.curve._fixedNafMul(this,d):this.curve._wnafMul(this,d)},f.prototype.mulAdd=function(d,h,g){return this.curve._wnafMulAdd(1,[this,h],[d,g],2,!1)},f.prototype.jmulAdd=function(d,h,g){return this.curve._wnafMulAdd(1,[this,h],[d,g],2,!0)},f.prototype.normalize=function(){if(this.zOne)return this;var d=this.z.redInvm();return this.x=this.x.redMul(d),this.y=this.y.redMul(d),this.t&&(this.t=this.t.redMul(d)),this.z=this.curve.one,this.zOne=!0,this},f.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},f.prototype.getX=function(){return this.normalize(),this.x.fromRed()},f.prototype.getY=function(){return this.normalize(),this.y.fromRed()},f.prototype.eq=function(d){return this===d||this.getX().cmp(d.getX())===0&&this.getY().cmp(d.getY())===0},f.prototype.eqXToP=function(d){var h=d.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(h)===0)return!0;for(var g=d.clone(),v=this.curve.redN.redMul(this.z);;){if(g.iadd(this.curve.n),g.cmp(this.curve.p)>=0)return!1;if(h.redIAdd(v),this.x.cmp(h)===0)return!0}},f.prototype.toP=f.prototype.normalize,f.prototype.mixedAdd=f.prototype.add},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],408:[function(r,n,i){var s=i;s.base=r("./base"),s.short=r("./short"),s.mont=r("./mont"),s.edwards=r("./edwards")},{"./base":406,"./edwards":407,"./mont":409,"./short":410}],409:[function(r,n,i){var s=r("bn.js"),o=r("inherits"),a=r("./base"),l=r("../utils");function c(f){a.call(this,"mont",f),this.a=new s(f.a,16).toRed(this.red),this.b=new s(f.b,16).toRed(this.red),this.i4=new s(4).toRed(this.red).redInvm(),this.two=new s(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function u(f,d,h){a.BasePoint.call(this,f,"projective"),d===null&&h===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new s(d,16),this.z=new s(h,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}o(c,a),n.exports=c,c.prototype.validate=function(f){var d=f.normalize().x,h=d.redSqr(),g=h.redMul(d).redAdd(h.redMul(this.a)).redAdd(d);return g.redSqrt().redSqr().cmp(g)===0},o(u,a.BasePoint),c.prototype.decodePoint=function(f,d){return this.point(l.toArray(f,d),1)},c.prototype.point=function(f,d){return new u(this,f,d)},c.prototype.pointFromJSON=function(f){return u.fromJSON(this,f)},u.prototype.precompute=function(){},u.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},u.fromJSON=function(f,d){return new u(f,d[0],d[1]||f.one)},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return this.z.cmpn(0)===0},u.prototype.dbl=function(){var f=this.x.redAdd(this.z).redSqr(),d=this.x.redSub(this.z).redSqr(),h=f.redSub(d),g=f.redMul(d),v=h.redMul(d.redAdd(this.curve.a24.redMul(h)));return this.curve.point(g,v)},u.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.diffAdd=function(f,d){var h=this.x.redAdd(this.z),g=this.x.redSub(this.z),v=f.x.redAdd(f.z),p=f.x.redSub(f.z).redMul(h),y=v.redMul(g),m=d.z.redMul(p.redAdd(y).redSqr()),b=d.x.redMul(p.redISub(y).redSqr());return this.curve.point(m,b)},u.prototype.mul=function(f){for(var d=f.clone(),h=this,g=this.curve.point(null,null),v=[];d.cmpn(0)!==0;d.iushrn(1))v.push(d.andln(1));for(var p=v.length-1;p>=0;p--)v[p]===0?(h=h.diffAdd(g,this),g=g.dbl()):(g=h.diffAdd(g,this),h=h.dbl());return g},u.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.eq=function(f){return this.getX().cmp(f.getX())===0},u.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},u.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],410:[function(r,n,i){var s=r("../utils"),o=r("bn.js"),a=r("inherits"),l=r("./base"),c=s.assert;function u(h){l.call(this,"short",h),this.a=new o(h.a,16).toRed(this.red),this.b=new o(h.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(h),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function f(h,g,v,p){l.BasePoint.call(this,h,"affine"),g===null&&v===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new o(g,16),this.y=new o(v,16),p&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function d(h,g,v,p){l.BasePoint.call(this,h,"jacobian"),g===null&&v===null&&p===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new o(0)):(this.x=new o(g,16),this.y=new o(v,16),this.z=new o(p,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}a(u,l),n.exports=u,u.prototype._getEndomorphism=function(h){if(this.zeroA&&this.g&&this.n&&this.p.modn(3)===1){var g,v;if(h.beta)g=new o(h.beta,16).toRed(this.red);else{var p=this._getEndoRoots(this.p);g=(g=p[0].cmp(p[1])<0?p[0]:p[1]).toRed(this.red)}if(h.lambda)v=new o(h.lambda,16);else{var y=this._getEndoRoots(this.n);this.g.mul(y[0]).x.cmp(this.g.x.redMul(g))===0?v=y[0]:(v=y[1],c(this.g.mul(v).x.cmp(this.g.x.redMul(g))===0))}return{beta:g,lambda:v,basis:h.basis?h.basis.map(function(m){return{a:new o(m.a,16),b:new o(m.b,16)}}):this._getEndoBasis(v)}}},u.prototype._getEndoRoots=function(h){var g=h===this.p?this.red:o.mont(h),v=new o(2).toRed(g).redInvm(),p=v.redNeg(),y=new o(3).toRed(g).redNeg().redSqrt().redMul(v);return[p.redAdd(y).fromRed(),p.redSub(y).fromRed()]},u.prototype._getEndoBasis=function(h){for(var g,v,p,y,m,b,x,P,F,D=this.n.ushrn(Math.floor(this.n.bitLength()/2)),O=h,j=this.n.clone(),H=new o(1),W=new o(0),G=new o(0),M=new o(1),k=0;O.cmpn(0)!==0;){var E=j.div(O);P=j.sub(E.mul(O)),F=G.sub(E.mul(H));var w=M.sub(E.mul(W));if(!p&&P.cmp(D)<0)g=x.neg(),v=H,p=P.neg(),y=F;else if(p&&++k==2)break;x=P,j=O,O=P,G=H,H=F,M=W,W=w}m=P.neg(),b=F;var C=p.sqr().add(y.sqr());return m.sqr().add(b.sqr()).cmp(C)>=0&&(m=g,b=v),p.negative&&(p=p.neg(),y=y.neg()),m.negative&&(m=m.neg(),b=b.neg()),[{a:p,b:y},{a:m,b}]},u.prototype._endoSplit=function(h){var g=this.endo.basis,v=g[0],p=g[1],y=p.b.mul(h).divRound(this.n),m=v.b.neg().mul(h).divRound(this.n),b=y.mul(v.a),x=m.mul(p.a),P=y.mul(v.b),F=m.mul(p.b);return{k1:h.sub(b).sub(x),k2:P.add(F).neg()}},u.prototype.pointFromX=function(h,g){(h=new o(h,16)).red||(h=h.toRed(this.red));var v=h.redSqr().redMul(h).redIAdd(h.redMul(this.a)).redIAdd(this.b),p=v.redSqrt();if(p.redSqr().redSub(v).cmp(this.zero)!==0)throw new Error("invalid point");var y=p.fromRed().isOdd();return(g&&!y||!g&&y)&&(p=p.redNeg()),this.point(h,p)},u.prototype.validate=function(h){if(h.inf)return!0;var g=h.x,v=h.y,p=this.a.redMul(g),y=g.redSqr().redMul(g).redIAdd(p).redIAdd(this.b);return v.redSqr().redISub(y).cmpn(0)===0},u.prototype._endoWnafMulAdd=function(h,g,v){for(var p=this._endoWnafT1,y=this._endoWnafT2,m=0;m<h.length;m++){var b=this._endoSplit(g[m]),x=h[m],P=x._getBeta();b.k1.negative&&(b.k1.ineg(),x=x.neg(!0)),b.k2.negative&&(b.k2.ineg(),P=P.neg(!0)),p[2*m]=x,p[2*m+1]=P,y[2*m]=b.k1,y[2*m+1]=b.k2}for(var F=this._wnafMulAdd(1,p,y,2*m,v),D=0;D<2*m;D++)p[D]=null,y[D]=null;return F},a(f,l.BasePoint),u.prototype.point=function(h,g,v){return new f(this,h,g,v)},u.prototype.pointFromJSON=function(h,g){return f.fromJSON(this,h,g)},f.prototype._getBeta=function(){if(this.curve.endo){var h=this.precomputed;if(h&&h.beta)return h.beta;var g=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(h){var v=this.curve,p=function(y){return v.point(y.x.redMul(v.endo.beta),y.y)};h.beta=g,g.precomputed={beta:null,naf:h.naf&&{wnd:h.naf.wnd,points:h.naf.points.map(p)},doubles:h.doubles&&{step:h.doubles.step,points:h.doubles.points.map(p)}}}return g}},f.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},f.fromJSON=function(h,g,v){typeof g=="string"&&(g=JSON.parse(g));var p=h.point(g[0],g[1],v);if(!g[2])return p;function y(b){return h.point(b[0],b[1],v)}var m=g[2];return p.precomputed={beta:null,doubles:m.doubles&&{step:m.doubles.step,points:[p].concat(m.doubles.points.map(y))},naf:m.naf&&{wnd:m.naf.wnd,points:[p].concat(m.naf.points.map(y))}},p},f.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},f.prototype.isInfinity=function(){return this.inf},f.prototype.add=function(h){if(this.inf)return h;if(h.inf)return this;if(this.eq(h))return this.dbl();if(this.neg().eq(h))return this.curve.point(null,null);if(this.x.cmp(h.x)===0)return this.curve.point(null,null);var g=this.y.redSub(h.y);g.cmpn(0)!==0&&(g=g.redMul(this.x.redSub(h.x).redInvm()));var v=g.redSqr().redISub(this.x).redISub(h.x),p=g.redMul(this.x.redSub(v)).redISub(this.y);return this.curve.point(v,p)},f.prototype.dbl=function(){if(this.inf)return this;var h=this.y.redAdd(this.y);if(h.cmpn(0)===0)return this.curve.point(null,null);var g=this.curve.a,v=this.x.redSqr(),p=h.redInvm(),y=v.redAdd(v).redIAdd(v).redIAdd(g).redMul(p),m=y.redSqr().redISub(this.x.redAdd(this.x)),b=y.redMul(this.x.redSub(m)).redISub(this.y);return this.curve.point(m,b)},f.prototype.getX=function(){return this.x.fromRed()},f.prototype.getY=function(){return this.y.fromRed()},f.prototype.mul=function(h){return h=new o(h,16),this.isInfinity()?this:this._hasDoubles(h)?this.curve._fixedNafMul(this,h):this.curve.endo?this.curve._endoWnafMulAdd([this],[h]):this.curve._wnafMul(this,h)},f.prototype.mulAdd=function(h,g,v){var p=[this,g],y=[h,v];return this.curve.endo?this.curve._endoWnafMulAdd(p,y):this.curve._wnafMulAdd(1,p,y,2)},f.prototype.jmulAdd=function(h,g,v){var p=[this,g],y=[h,v];return this.curve.endo?this.curve._endoWnafMulAdd(p,y,!0):this.curve._wnafMulAdd(1,p,y,2,!0)},f.prototype.eq=function(h){return this===h||this.inf===h.inf&&(this.inf||this.x.cmp(h.x)===0&&this.y.cmp(h.y)===0)},f.prototype.neg=function(h){if(this.inf)return this;var g=this.curve.point(this.x,this.y.redNeg());if(h&&this.precomputed){var v=this.precomputed,p=function(y){return y.neg()};g.precomputed={naf:v.naf&&{wnd:v.naf.wnd,points:v.naf.points.map(p)},doubles:v.doubles&&{step:v.doubles.step,points:v.doubles.points.map(p)}}}return g},f.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},a(d,l.BasePoint),u.prototype.jpoint=function(h,g,v){return new d(this,h,g,v)},d.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var h=this.z.redInvm(),g=h.redSqr(),v=this.x.redMul(g),p=this.y.redMul(g).redMul(h);return this.curve.point(v,p)},d.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},d.prototype.add=function(h){if(this.isInfinity())return h;if(h.isInfinity())return this;var g=h.z.redSqr(),v=this.z.redSqr(),p=this.x.redMul(g),y=h.x.redMul(v),m=this.y.redMul(g.redMul(h.z)),b=h.y.redMul(v.redMul(this.z)),x=p.redSub(y),P=m.redSub(b);if(x.cmpn(0)===0)return P.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var F=x.redSqr(),D=F.redMul(x),O=p.redMul(F),j=P.redSqr().redIAdd(D).redISub(O).redISub(O),H=P.redMul(O.redISub(j)).redISub(m.redMul(D)),W=this.z.redMul(h.z).redMul(x);return this.curve.jpoint(j,H,W)},d.prototype.mixedAdd=function(h){if(this.isInfinity())return h.toJ();if(h.isInfinity())return this;var g=this.z.redSqr(),v=this.x,p=h.x.redMul(g),y=this.y,m=h.y.redMul(g).redMul(this.z),b=v.redSub(p),x=y.redSub(m);if(b.cmpn(0)===0)return x.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var P=b.redSqr(),F=P.redMul(b),D=v.redMul(P),O=x.redSqr().redIAdd(F).redISub(D).redISub(D),j=x.redMul(D.redISub(O)).redISub(y.redMul(F)),H=this.z.redMul(b);return this.curve.jpoint(O,j,H)},d.prototype.dblp=function(h){if(h===0)return this;if(this.isInfinity())return this;if(!h)return this.dbl();var g;if(this.curve.zeroA||this.curve.threeA){var v=this;for(g=0;g<h;g++)v=v.dbl();return v}var p=this.curve.a,y=this.curve.tinv,m=this.x,b=this.y,x=this.z,P=x.redSqr().redSqr(),F=b.redAdd(b);for(g=0;g<h;g++){var D=m.redSqr(),O=F.redSqr(),j=O.redSqr(),H=D.redAdd(D).redIAdd(D).redIAdd(p.redMul(P)),W=m.redMul(O),G=H.redSqr().redISub(W.redAdd(W)),M=W.redISub(G),k=H.redMul(M);k=k.redIAdd(k).redISub(j);var E=F.redMul(x);g+1<h&&(P=P.redMul(j)),m=G,x=E,F=k}return this.curve.jpoint(m,F.redMul(y),x)},d.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},d.prototype._zeroDbl=function(){var h,g,v;if(this.zOne){var p=this.x.redSqr(),y=this.y.redSqr(),m=y.redSqr(),b=this.x.redAdd(y).redSqr().redISub(p).redISub(m);b=b.redIAdd(b);var x=p.redAdd(p).redIAdd(p),P=x.redSqr().redISub(b).redISub(b),F=m.redIAdd(m);F=(F=F.redIAdd(F)).redIAdd(F),h=P,g=x.redMul(b.redISub(P)).redISub(F),v=this.y.redAdd(this.y)}else{var D=this.x.redSqr(),O=this.y.redSqr(),j=O.redSqr(),H=this.x.redAdd(O).redSqr().redISub(D).redISub(j);H=H.redIAdd(H);var W=D.redAdd(D).redIAdd(D),G=W.redSqr(),M=j.redIAdd(j);M=(M=M.redIAdd(M)).redIAdd(M),h=G.redISub(H).redISub(H),g=W.redMul(H.redISub(h)).redISub(M),v=(v=this.y.redMul(this.z)).redIAdd(v)}return this.curve.jpoint(h,g,v)},d.prototype._threeDbl=function(){var h,g,v;if(this.zOne){var p=this.x.redSqr(),y=this.y.redSqr(),m=y.redSqr(),b=this.x.redAdd(y).redSqr().redISub(p).redISub(m);b=b.redIAdd(b);var x=p.redAdd(p).redIAdd(p).redIAdd(this.curve.a),P=x.redSqr().redISub(b).redISub(b);h=P;var F=m.redIAdd(m);F=(F=F.redIAdd(F)).redIAdd(F),g=x.redMul(b.redISub(P)).redISub(F),v=this.y.redAdd(this.y)}else{var D=this.z.redSqr(),O=this.y.redSqr(),j=this.x.redMul(O),H=this.x.redSub(D).redMul(this.x.redAdd(D));H=H.redAdd(H).redIAdd(H);var W=j.redIAdd(j),G=(W=W.redIAdd(W)).redAdd(W);h=H.redSqr().redISub(G),v=this.y.redAdd(this.z).redSqr().redISub(O).redISub(D);var M=O.redSqr();M=(M=(M=M.redIAdd(M)).redIAdd(M)).redIAdd(M),g=H.redMul(W.redISub(h)).redISub(M)}return this.curve.jpoint(h,g,v)},d.prototype._dbl=function(){var h=this.curve.a,g=this.x,v=this.y,p=this.z,y=p.redSqr().redSqr(),m=g.redSqr(),b=v.redSqr(),x=m.redAdd(m).redIAdd(m).redIAdd(h.redMul(y)),P=g.redAdd(g),F=(P=P.redIAdd(P)).redMul(b),D=x.redSqr().redISub(F.redAdd(F)),O=F.redISub(D),j=b.redSqr();j=(j=(j=j.redIAdd(j)).redIAdd(j)).redIAdd(j);var H=x.redMul(O).redISub(j),W=v.redAdd(v).redMul(p);return this.curve.jpoint(D,H,W)},d.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var h=this.x.redSqr(),g=this.y.redSqr(),v=this.z.redSqr(),p=g.redSqr(),y=h.redAdd(h).redIAdd(h),m=y.redSqr(),b=this.x.redAdd(g).redSqr().redISub(h).redISub(p),x=(b=(b=(b=b.redIAdd(b)).redAdd(b).redIAdd(b)).redISub(m)).redSqr(),P=p.redIAdd(p);P=(P=(P=P.redIAdd(P)).redIAdd(P)).redIAdd(P);var F=y.redIAdd(b).redSqr().redISub(m).redISub(x).redISub(P),D=g.redMul(F);D=(D=D.redIAdd(D)).redIAdd(D);var O=this.x.redMul(x).redISub(D);O=(O=O.redIAdd(O)).redIAdd(O);var j=this.y.redMul(F.redMul(P.redISub(F)).redISub(b.redMul(x)));j=(j=(j=j.redIAdd(j)).redIAdd(j)).redIAdd(j);var H=this.z.redAdd(b).redSqr().redISub(v).redISub(x);return this.curve.jpoint(O,j,H)},d.prototype.mul=function(h,g){return h=new o(h,g),this.curve._wnafMul(this,h)},d.prototype.eq=function(h){if(h.type==="affine")return this.eq(h.toJ());if(this===h)return!0;var g=this.z.redSqr(),v=h.z.redSqr();if(this.x.redMul(v).redISub(h.x.redMul(g)).cmpn(0)!==0)return!1;var p=g.redMul(this.z),y=v.redMul(h.z);return this.y.redMul(y).redISub(h.y.redMul(p)).cmpn(0)===0},d.prototype.eqXToP=function(h){var g=this.z.redSqr(),v=h.toRed(this.curve.red).redMul(g);if(this.x.cmp(v)===0)return!0;for(var p=h.clone(),y=this.curve.redN.redMul(g);;){if(p.iadd(this.curve.n),p.cmp(this.curve.p)>=0)return!1;if(v.redIAdd(y),this.x.cmp(v)===0)return!0}},d.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},d.prototype.isInfinity=function(){return this.z.cmpn(0)===0}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],411:[function(r,n,i){var s,o=i,a=r("hash.js"),l=r("./curve"),c=r("./utils").assert;function u(d){d.type==="short"?this.curve=new l.short(d):d.type==="edwards"?this.curve=new l.edwards(d):this.curve=new l.mont(d),this.g=this.curve.g,this.n=this.curve.n,this.hash=d.hash,c(this.g.validate(),"Invalid curve"),c(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function f(d,h){Object.defineProperty(o,d,{configurable:!0,enumerable:!0,get:function(){var g=new u(h);return Object.defineProperty(o,d,{configurable:!0,enumerable:!0,value:g}),g}})}o.PresetCurve=u,f("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:a.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),f("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:a.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),f("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:a.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),f("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:a.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),f("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:a.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),f("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:a.sha256,gRed:!1,g:["9"]}),f("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:a.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{s=r("./precomputed/secp256k1")}catch{s=void 0}f("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:a.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",s]})},{"./curve":408,"./precomputed/secp256k1":418,"./utils":419,"hash.js":426}],412:[function(r,n,i){var s=r("bn.js"),o=r("hmac-drbg"),a=r("../utils"),l=r("../curves"),c=r("brorand"),u=a.assert,f=r("./key"),d=r("./signature");function h(g){if(!(this instanceof h))return new h(g);typeof g=="string"&&(u(Object.prototype.hasOwnProperty.call(l,g),"Unknown curve "+g),g=l[g]),g instanceof l.PresetCurve&&(g={curve:g}),this.curve=g.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=g.curve.g,this.g.precompute(g.curve.n.bitLength()+1),this.hash=g.hash||g.curve.hash}n.exports=h,h.prototype.keyPair=function(g){return new f(this,g)},h.prototype.keyFromPrivate=function(g,v){return f.fromPrivate(this,g,v)},h.prototype.keyFromPublic=function(g,v){return f.fromPublic(this,g,v)},h.prototype.genKeyPair=function(g){g||(g={});for(var v=new o({hash:this.hash,pers:g.pers,persEnc:g.persEnc||"utf8",entropy:g.entropy||c(this.hash.hmacStrength),entropyEnc:g.entropy&&g.entropyEnc||"utf8",nonce:this.n.toArray()}),p=this.n.byteLength(),y=this.n.sub(new s(2));;){var m=new s(v.generate(p));if(!(m.cmp(y)>0))return m.iaddn(1),this.keyFromPrivate(m)}},h.prototype._truncateToN=function(g,v){var p=8*g.byteLength()-this.n.bitLength();return p>0&&(g=g.ushrn(p)),!v&&g.cmp(this.n)>=0?g.sub(this.n):g},h.prototype.sign=function(g,v,p,y){typeof p=="object"&&(y=p,p=null),y||(y={}),v=this.keyFromPrivate(v,p),g=this._truncateToN(new s(g,16));for(var m=this.n.byteLength(),b=v.getPrivate().toArray("be",m),x=g.toArray("be",m),P=new o({hash:this.hash,entropy:b,nonce:x,pers:y.pers,persEnc:y.persEnc||"utf8"}),F=this.n.sub(new s(1)),D=0;;D++){var O=y.k?y.k(D):new s(P.generate(this.n.byteLength()));if(!((O=this._truncateToN(O,!0)).cmpn(1)<=0||O.cmp(F)>=0)){var j=this.g.mul(O);if(!j.isInfinity()){var H=j.getX(),W=H.umod(this.n);if(W.cmpn(0)!==0){var G=O.invm(this.n).mul(W.mul(v.getPrivate()).iadd(g));if((G=G.umod(this.n)).cmpn(0)!==0){var M=(j.getY().isOdd()?1:0)|(H.cmp(W)!==0?2:0);return y.canonical&&G.cmp(this.nh)>0&&(G=this.n.sub(G),M^=1),new d({r:W,s:G,recoveryParam:M})}}}}}},h.prototype.verify=function(g,v,p,y){g=this._truncateToN(new s(g,16)),p=this.keyFromPublic(p,y);var m=(v=new d(v,"hex")).r,b=v.s;if(m.cmpn(1)<0||m.cmp(this.n)>=0||b.cmpn(1)<0||b.cmp(this.n)>=0)return!1;var x,P=b.invm(this.n),F=P.mul(g).umod(this.n),D=P.mul(m).umod(this.n);return this.curve._maxwellTrick?!(x=this.g.jmulAdd(F,p.getPublic(),D)).isInfinity()&&x.eqXToP(m):!(x=this.g.mulAdd(F,p.getPublic(),D)).isInfinity()&&x.getX().umod(this.n).cmp(m)===0},h.prototype.recoverPubKey=function(g,v,p,y){u((3&p)===p,"The recovery param is more than two bits"),v=new d(v,y);var m=this.n,b=new s(g),x=v.r,P=v.s,F=1&p,D=p>>1;if(x.cmp(this.curve.p.umod(this.curve.n))>=0&&D)throw new Error("Unable to find sencond key candinate");x=D?this.curve.pointFromX(x.add(this.curve.n),F):this.curve.pointFromX(x,F);var O=v.r.invm(m),j=m.sub(b).mul(O).umod(m),H=P.mul(O).umod(m);return this.g.mulAdd(j,x,H)},h.prototype.getKeyRecoveryParam=function(g,v,p,y){if((v=new d(v,y)).recoveryParam!==null)return v.recoveryParam;for(var m=0;m<4;m++){var b;try{b=this.recoverPubKey(g,v,m)}catch{continue}if(b.eq(p))return m}throw new Error("Unable to find valid recovery factor")}},{"../curves":411,"../utils":419,"./key":413,"./signature":414,"bn.js":420,brorand:187,"hmac-drbg":438}],413:[function(r,n,i){var s=r("bn.js"),o=r("../utils").assert;function a(l,c){this.ec=l,this.priv=null,this.pub=null,c.priv&&this._importPrivate(c.priv,c.privEnc),c.pub&&this._importPublic(c.pub,c.pubEnc)}n.exports=a,a.fromPublic=function(l,c,u){return c instanceof a?c:new a(l,{pub:c,pubEnc:u})},a.fromPrivate=function(l,c,u){return c instanceof a?c:new a(l,{priv:c,privEnc:u})},a.prototype.validate=function(){var l=this.getPublic();return l.isInfinity()?{result:!1,reason:"Invalid public key"}:l.validate()?l.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},a.prototype.getPublic=function(l,c){return typeof l=="string"&&(c=l,l=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),c?this.pub.encode(c,l):this.pub},a.prototype.getPrivate=function(l){return l==="hex"?this.priv.toString(16,2):this.priv},a.prototype._importPrivate=function(l,c){this.priv=new s(l,c||16),this.priv=this.priv.umod(this.ec.curve.n)},a.prototype._importPublic=function(l,c){if(l.x||l.y)return this.ec.curve.type==="mont"?o(l.x,"Need x coordinate"):this.ec.curve.type!=="short"&&this.ec.curve.type!=="edwards"||o(l.x&&l.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(l.x,l.y));this.pub=this.ec.curve.decodePoint(l,c)},a.prototype.derive=function(l){return l.validate()||o(l.validate(),"public point not validated"),l.mul(this.priv).getX()},a.prototype.sign=function(l,c,u){return this.ec.sign(l,this,c,u)},a.prototype.verify=function(l,c){return this.ec.verify(l,c,this)},a.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},{"../utils":419,"bn.js":420}],414:[function(r,n,i){var s=r("bn.js"),o=r("../utils"),a=o.assert;function l(h,g){if(h instanceof l)return h;this._importDER(h,g)||(a(h.r&&h.s,"Signature without r or s"),this.r=new s(h.r,16),this.s=new s(h.s,16),h.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=h.recoveryParam)}function c(){this.place=0}function u(h,g){var v=h[g.place++];if(!(128&v))return v;var p=15&v;if(p===0||p>4)return!1;for(var y=0,m=0,b=g.place;m<p;m++,b++)y<<=8,y|=h[b],y>>>=0;return!(y<=127)&&(g.place=b,y)}function f(h){for(var g=0,v=h.length-1;!h[g]&&!(128&h[g+1])&&g<v;)g++;return g===0?h:h.slice(g)}function d(h,g){if(g<128)h.push(g);else{var v=1+(Math.log(g)/Math.LN2>>>3);for(h.push(128|v);--v;)h.push(g>>>(v<<3)&255);h.push(g)}}n.exports=l,l.prototype._importDER=function(h,g){h=o.toArray(h,g);var v=new c;if(h[v.place++]!==48)return!1;var p=u(h,v);if(p===!1||p+v.place!==h.length||h[v.place++]!==2)return!1;var y=u(h,v);if(y===!1)return!1;var m=h.slice(v.place,y+v.place);if(v.place+=y,h[v.place++]!==2)return!1;var b=u(h,v);if(b===!1||h.length!==b+v.place)return!1;var x=h.slice(v.place,b+v.place);if(m[0]===0){if(!(128&m[1]))return!1;m=m.slice(1)}if(x[0]===0){if(!(128&x[1]))return!1;x=x.slice(1)}return this.r=new s(m),this.s=new s(x),this.recoveryParam=null,!0},l.prototype.toDER=function(h){var g=this.r.toArray(),v=this.s.toArray();for(128&g[0]&&(g=[0].concat(g)),128&v[0]&&(v=[0].concat(v)),g=f(g),v=f(v);!(v[0]||128&v[1]);)v=v.slice(1);var p=[2];d(p,g.length),(p=p.concat(g)).push(2),d(p,v.length);var y=p.concat(v),m=[48];return d(m,y.length),m=m.concat(y),o.encode(m,h)}},{"../utils":419,"bn.js":420}],415:[function(r,n,i){var s=r("hash.js"),o=r("../curves"),a=r("../utils"),l=a.assert,c=a.parseBytes,u=r("./key"),f=r("./signature");function d(h){if(l(h==="ed25519","only tested with ed25519 so far"),!(this instanceof d))return new d(h);h=o[h].curve,this.curve=h,this.g=h.g,this.g.precompute(h.n.bitLength()+1),this.pointClass=h.point().constructor,this.encodingLength=Math.ceil(h.n.bitLength()/8),this.hash=s.sha512}n.exports=d,d.prototype.sign=function(h,g){h=c(h);var v=this.keyFromSecret(g),p=this.hashInt(v.messagePrefix(),h),y=this.g.mul(p),m=this.encodePoint(y),b=this.hashInt(m,v.pubBytes(),h).mul(v.priv()),x=p.add(b).umod(this.curve.n);return this.makeSignature({R:y,S:x,Rencoded:m})},d.prototype.verify=function(h,g,v){h=c(h),g=this.makeSignature(g);var p=this.keyFromPublic(v),y=this.hashInt(g.Rencoded(),p.pubBytes(),h),m=this.g.mul(g.S());return g.R().add(p.pub().mul(y)).eq(m)},d.prototype.hashInt=function(){for(var h=this.hash(),g=0;g<arguments.length;g++)h.update(arguments[g]);return a.intFromLE(h.digest()).umod(this.curve.n)},d.prototype.keyFromPublic=function(h){return u.fromPublic(this,h)},d.prototype.keyFromSecret=function(h){return u.fromSecret(this,h)},d.prototype.makeSignature=function(h){return h instanceof f?h:new f(this,h)},d.prototype.encodePoint=function(h){var g=h.getY().toArray("le",this.encodingLength);return g[this.encodingLength-1]|=h.getX().isOdd()?128:0,g},d.prototype.decodePoint=function(h){var g=(h=a.parseBytes(h)).length-1,v=h.slice(0,g).concat(-129&h[g]),p=(128&h[g])!=0,y=a.intFromLE(v);return this.curve.pointFromY(y,p)},d.prototype.encodeInt=function(h){return h.toArray("le",this.encodingLength)},d.prototype.decodeInt=function(h){return a.intFromLE(h)},d.prototype.isPoint=function(h){return h instanceof this.pointClass}},{"../curves":411,"../utils":419,"./key":416,"./signature":417,"hash.js":426}],416:[function(r,n,i){var s=r("../utils"),o=s.assert,a=s.parseBytes,l=s.cachedProperty;function c(u,f){this.eddsa=u,this._secret=a(f.secret),u.isPoint(f.pub)?this._pub=f.pub:this._pubBytes=a(f.pub)}c.fromPublic=function(u,f){return f instanceof c?f:new c(u,{pub:f})},c.fromSecret=function(u,f){return f instanceof c?f:new c(u,{secret:f})},c.prototype.secret=function(){return this._secret},l(c,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),l(c,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),l(c,"privBytes",function(){var u=this.eddsa,f=this.hash(),d=u.encodingLength-1,h=f.slice(0,u.encodingLength);return h[0]&=248,h[d]&=127,h[d]|=64,h}),l(c,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),l(c,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),l(c,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),c.prototype.sign=function(u){return o(this._secret,"KeyPair can only verify"),this.eddsa.sign(u,this)},c.prototype.verify=function(u,f){return this.eddsa.verify(u,f,this)},c.prototype.getSecret=function(u){return o(this._secret,"KeyPair is public only"),s.encode(this.secret(),u)},c.prototype.getPublic=function(u){return s.encode(this.pubBytes(),u)},n.exports=c},{"../utils":419}],417:[function(r,n,i){var s=r("bn.js"),o=r("../utils"),a=o.assert,l=o.cachedProperty,c=o.parseBytes;function u(f,d){this.eddsa=f,typeof d!="object"&&(d=c(d)),Array.isArray(d)&&(d={R:d.slice(0,f.encodingLength),S:d.slice(f.encodingLength)}),a(d.R&&d.S,"Signature without R or S"),f.isPoint(d.R)&&(this._R=d.R),d.S instanceof s&&(this._S=d.S),this._Rencoded=Array.isArray(d.R)?d.R:d.Rencoded,this._Sencoded=Array.isArray(d.S)?d.S:d.Sencoded}l(u,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),l(u,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),l(u,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),l(u,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),u.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},u.prototype.toHex=function(){return o.encode(this.toBytes(),"hex").toUpperCase()},n.exports=u},{"../utils":419,"bn.js":420}],418:[function(r,n,i){n.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},{}],419:[function(r,n,i){var s=i,o=r("bn.js"),a=r("minimalistic-assert"),l=r("minimalistic-crypto-utils");s.assert=a,s.toArray=l.toArray,s.zero2=l.zero2,s.toHex=l.toHex,s.encode=l.encode,s.getNAF=function(c,u,f){var d=new Array(Math.max(c.bitLength(),f)+1);d.fill(0);for(var h=1<<u+1,g=c.clone(),v=0;v<d.length;v++){var p,y=g.andln(h-1);g.isOdd()?(p=y>(h>>1)-1?(h>>1)-y:y,g.isubn(p)):p=0,d[v]=p,g.iushrn(1)}return d},s.getJSF=function(c,u){var f=[[],[]];c=c.clone(),u=u.clone();for(var d,h=0,g=0;c.cmpn(-h)>0||u.cmpn(-g)>0;){var v,p,y=c.andln(3)+h&3,m=u.andln(3)+g&3;y===3&&(y=-1),m===3&&(m=-1),v=1&y?(d=c.andln(7)+h&7)!==3&&d!==5||m!==2?y:-y:0,f[0].push(v),p=1&m?(d=u.andln(7)+g&7)!==3&&d!==5||y!==2?m:-m:0,f[1].push(p),2*h===v+1&&(h=1-h),2*g===p+1&&(g=1-g),c.iushrn(1),u.iushrn(1)}return f},s.cachedProperty=function(c,u,f){var d="_"+u;c.prototype[u]=function(){return this[d]!==void 0?this[d]:this[d]=f.call(this)}},s.parseBytes=function(c){return typeof c=="string"?s.toArray(c,"hex"):c},s.intFromLE=function(c){return new o(c,"hex","le")}},{"bn.js":420,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],420:[function(r,n,i){arguments[4][184][0].apply(i,arguments)},{buffer:188,dup:184}],421:[function(r,n,i){n.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}},{}],422:[function(r,n,i){var s=Object.create||function(O){var j=function(){};return j.prototype=O,new j},o=Object.keys||function(O){var j=[];for(var H in O)Object.prototype.hasOwnProperty.call(O,H)&&j.push(H);return H},a=Function.prototype.bind||function(O){var j=this;return function(){return j.apply(O,arguments)}};function l(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=s(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}n.exports=l,l.EventEmitter=l,l.prototype._events=void 0,l.prototype._maxListeners=void 0;var c,u=10;try{var f={};Object.defineProperty&&Object.defineProperty(f,"x",{value:0}),c=f.x===0}catch{c=!1}function d(O){return O._maxListeners===void 0?l.defaultMaxListeners:O._maxListeners}function h(O,j,H){if(j)O.call(H);else for(var W=O.length,G=D(O,W),M=0;M<W;++M)G[M].call(H)}function g(O,j,H,W){if(j)O.call(H,W);else for(var G=O.length,M=D(O,G),k=0;k<G;++k)M[k].call(H,W)}function v(O,j,H,W,G){if(j)O.call(H,W,G);else for(var M=O.length,k=D(O,M),E=0;E<M;++E)k[E].call(H,W,G)}function p(O,j,H,W,G,M){if(j)O.call(H,W,G,M);else for(var k=O.length,E=D(O,k),w=0;w<k;++w)E[w].call(H,W,G,M)}function y(O,j,H,W){if(j)O.apply(H,W);else for(var G=O.length,M=D(O,G),k=0;k<G;++k)M[k].apply(H,W)}function m(O,j,H,W){var G,M,k;if(typeof H!="function")throw new TypeError('"listener" argument must be a function');if((M=O._events)?(M.newListener&&(O.emit("newListener",j,H.listener?H.listener:H),M=O._events),k=M[j]):(M=O._events=s(null),O._eventsCount=0),k){if(typeof k=="function"?k=M[j]=W?[H,k]:[k,H]:W?k.unshift(H):k.push(H),!k.warned&&(G=d(O))&&G>0&&k.length>G){k.warned=!0;var E=new Error("Possible EventEmitter memory leak detected. "+k.length+' "'+String(j)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');E.name="MaxListenersExceededWarning",E.emitter=O,E.type=j,E.count=k.length,typeof console=="object"&&console.warn&&console.warn("%s: %s",E.name,E.message)}}else k=M[j]=H,++O._eventsCount;return O}function b(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var O=new Array(arguments.length),j=0;j<O.length;++j)O[j]=arguments[j];this.listener.apply(this.target,O)}}function x(O,j,H){var W={fired:!1,wrapFn:void 0,target:O,type:j,listener:H},G=a.call(b,W);return G.listener=H,W.wrapFn=G,G}function P(O,j,H){var W=O._events;if(!W)return[];var G=W[j];return G?typeof G=="function"?H?[G.listener||G]:[G]:H?function(M){for(var k=new Array(M.length),E=0;E<k.length;++E)k[E]=M[E].listener||M[E];return k}(G):D(G,G.length):[]}function F(O){var j=this._events;if(j){var H=j[O];if(typeof H=="function")return 1;if(H)return H.length}return 0}function D(O,j){for(var H=new Array(j),W=0;W<j;++W)H[W]=O[W];return H}c?Object.defineProperty(l,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(O){if(typeof O!="number"||O<0||O!=O)throw new TypeError('"defaultMaxListeners" must be a positive number');u=O}}):l.defaultMaxListeners=u,l.prototype.setMaxListeners=function(O){if(typeof O!="number"||O<0||isNaN(O))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=O,this},l.prototype.getMaxListeners=function(){return d(this)},l.prototype.emit=function(O){var j,H,W,G,M,k,E=O==="error";if(k=this._events)E=E&&k.error==null;else if(!E)return!1;if(E){if(arguments.length>1&&(j=arguments[1]),j instanceof Error)throw j;var w=new Error('Unhandled "error" event. ('+j+")");throw w.context=j,w}if(!(H=k[O]))return!1;var C=typeof H=="function";switch(W=arguments.length){case 1:h(H,C,this);break;case 2:g(H,C,this,arguments[1]);break;case 3:v(H,C,this,arguments[1],arguments[2]);break;case 4:p(H,C,this,arguments[1],arguments[2],arguments[3]);break;default:for(G=new Array(W-1),M=1;M<W;M++)G[M-1]=arguments[M];y(H,C,this,G)}return!0},l.prototype.addListener=function(O,j){return m(this,O,j,!1)},l.prototype.on=l.prototype.addListener,l.prototype.prependListener=function(O,j){return m(this,O,j,!0)},l.prototype.once=function(O,j){if(typeof j!="function")throw new TypeError('"listener" argument must be a function');return this.on(O,x(this,O,j)),this},l.prototype.prependOnceListener=function(O,j){if(typeof j!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(O,x(this,O,j)),this},l.prototype.removeListener=function(O,j){var H,W,G,M,k;if(typeof j!="function")throw new TypeError('"listener" argument must be a function');if(!(W=this._events))return this;if(!(H=W[O]))return this;if(H===j||H.listener===j)--this._eventsCount==0?this._events=s(null):(delete W[O],W.removeListener&&this.emit("removeListener",O,H.listener||j));else if(typeof H!="function"){for(G=-1,M=H.length-1;M>=0;M--)if(H[M]===j||H[M].listener===j){k=H[M].listener,G=M;break}if(G<0)return this;G===0?H.shift():function(E,w){for(var C=w,S=C+1,R=E.length;S<R;C+=1,S+=1)E[C]=E[S];E.pop()}(H,G),H.length===1&&(W[O]=H[0]),W.removeListener&&this.emit("removeListener",O,k||j)}return this},l.prototype.removeAllListeners=function(O){var j,H,W;if(!(H=this._events))return this;if(!H.removeListener)return arguments.length===0?(this._events=s(null),this._eventsCount=0):H[O]&&(--this._eventsCount==0?this._events=s(null):delete H[O]),this;if(arguments.length===0){var G,M=o(H);for(W=0;W<M.length;++W)(G=M[W])!=="removeListener"&&this.removeAllListeners(G);return this.removeAllListeners("removeListener"),this._events=s(null),this._eventsCount=0,this}if(typeof(j=H[O])=="function")this.removeListener(O,j);else if(j)for(W=j.length-1;W>=0;W--)this.removeListener(O,j[W]);return this},l.prototype.listeners=function(O){return P(this,O,!0)},l.prototype.rawListeners=function(O){return P(this,O,!1)},l.listenerCount=function(O,j){return typeof O.listenerCount=="function"?O.listenerCount(j):F.call(O,j)},l.prototype.listenerCount=F,l.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}},{}],423:[function(r,n,i){var s=r("safe-buffer").Buffer,o=r("md5.js");n.exports=function(a,l,c,u){if(s.isBuffer(a)||(a=s.from(a,"binary")),l&&(s.isBuffer(l)||(l=s.from(l,"binary")),l.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var f=c/8,d=s.alloc(f),h=s.alloc(u||0),g=s.alloc(0);f>0||u>0;){var v=new o;v.update(g),v.update(a),l&&v.update(l),g=v.digest();var p=0;if(f>0){var y=d.length-f;p=Math.min(f,g.length),g.copy(d,y,0,p),f-=p}if(p<g.length&&u>0){var m=h.length-u,b=Math.min(u,g.length-p);g.copy(h,m,p,p+b),u-=b}}return g.fill(0),{key:d,iv:h}}},{"md5.js":450,"safe-buffer":494}],424:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.CsvParserStream=i.ParserOptions=i.parseFile=i.parseStream=i.parseString=i.parse=i.FormatterOptions=i.CsvFormatterStream=i.writeToPath=i.writeToString=i.writeToBuffer=i.writeToStream=i.write=i.format=void 0;var s=r("@fast-csv/format");Object.defineProperty(i,"format",{enumerable:!0,get:function(){return s.format}}),Object.defineProperty(i,"write",{enumerable:!0,get:function(){return s.write}}),Object.defineProperty(i,"writeToStream",{enumerable:!0,get:function(){return s.writeToStream}}),Object.defineProperty(i,"writeToBuffer",{enumerable:!0,get:function(){return s.writeToBuffer}}),Object.defineProperty(i,"writeToString",{enumerable:!0,get:function(){return s.writeToString}}),Object.defineProperty(i,"writeToPath",{enumerable:!0,get:function(){return s.writeToPath}}),Object.defineProperty(i,"CsvFormatterStream",{enumerable:!0,get:function(){return s.CsvFormatterStream}}),Object.defineProperty(i,"FormatterOptions",{enumerable:!0,get:function(){return s.FormatterOptions}});var o=r("@fast-csv/parse");Object.defineProperty(i,"parse",{enumerable:!0,get:function(){return o.parse}}),Object.defineProperty(i,"parseString",{enumerable:!0,get:function(){return o.parseString}}),Object.defineProperty(i,"parseStream",{enumerable:!0,get:function(){return o.parseStream}}),Object.defineProperty(i,"parseFile",{enumerable:!0,get:function(){return o.parseFile}}),Object.defineProperty(i,"ParserOptions",{enumerable:!0,get:function(){return o.ParserOptions}}),Object.defineProperty(i,"CsvParserStream",{enumerable:!0,get:function(){return o.CsvParserStream}})},{"@fast-csv/format":151,"@fast-csv/parse":155}],425:[function(r,n,i){var s=r("safe-buffer").Buffer,o=r("readable-stream").Transform;function a(l){o.call(this),this._block=s.allocUnsafe(l),this._blockSize=l,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}r("inherits")(a,o),a.prototype._transform=function(l,c,u){var f=null;try{this.update(l,c)}catch(d){f=d}u(f)},a.prototype._flush=function(l){var c=null;try{this.push(this.digest())}catch(u){c=u}l(c)},a.prototype.update=function(l,c){if(function(v,p){if(!s.isBuffer(v)&&typeof v!="string")throw new TypeError(p+" must be a string or a buffer")}(l,"Data"),this._finalized)throw new Error("Digest already called");s.isBuffer(l)||(l=s.from(l,c));for(var u=this._block,f=0;this._blockOffset+l.length-f>=this._blockSize;){for(var d=this._blockOffset;d<this._blockSize;)u[d++]=l[f++];this._update(),this._blockOffset=0}for(;f<l.length;)u[this._blockOffset++]=l[f++];for(var h=0,g=8*l.length;g>0;++h)this._length[h]+=g,(g=this._length[h]/4294967296|0)>0&&(this._length[h]-=4294967296*g);return this},a.prototype._update=function(){throw new Error("_update is not implemented")},a.prototype.digest=function(l){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var c=this._digest();l!==void 0&&(c=c.toString(l)),this._block.fill(0),this._blockOffset=0;for(var u=0;u<4;++u)this._length[u]=0;return c},a.prototype._digest=function(){throw new Error("_digest is not implemented")},n.exports=a},{inherits:440,"readable-stream":491,"safe-buffer":494}],426:[function(r,n,i){var s=i;s.utils=r("./hash/utils"),s.common=r("./hash/common"),s.sha=r("./hash/sha"),s.ripemd=r("./hash/ripemd"),s.hmac=r("./hash/hmac"),s.sha1=s.sha.sha1,s.sha256=s.sha.sha256,s.sha224=s.sha.sha224,s.sha384=s.sha.sha384,s.sha512=s.sha.sha512,s.ripemd160=s.ripemd.ripemd160},{"./hash/common":427,"./hash/hmac":428,"./hash/ripemd":429,"./hash/sha":430,"./hash/utils":437}],427:[function(r,n,i){var s=r("./utils"),o=r("minimalistic-assert");function a(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}i.BlockHash=a,a.prototype.update=function(l,c){if(l=s.toArray(l,c),this.pending?this.pending=this.pending.concat(l):this.pending=l,this.pendingTotal+=l.length,this.pending.length>=this._delta8){var u=(l=this.pending).length%this._delta8;this.pending=l.slice(l.length-u,l.length),this.pending.length===0&&(this.pending=null),l=s.join32(l,0,l.length-u,this.endian);for(var f=0;f<l.length;f+=this._delta32)this._update(l,f,f+this._delta32)}return this},a.prototype.digest=function(l){return this.update(this._pad()),o(this.pending===null),this._digest(l)},a.prototype._pad=function(){var l=this.pendingTotal,c=this._delta8,u=c-(l+this.padLength)%c,f=new Array(u+this.padLength);f[0]=128;for(var d=1;d<u;d++)f[d]=0;if(l<<=3,this.endian==="big"){for(var h=8;h<this.padLength;h++)f[d++]=0;f[d++]=0,f[d++]=0,f[d++]=0,f[d++]=0,f[d++]=l>>>24&255,f[d++]=l>>>16&255,f[d++]=l>>>8&255,f[d++]=255&l}else for(f[d++]=255&l,f[d++]=l>>>8&255,f[d++]=l>>>16&255,f[d++]=l>>>24&255,f[d++]=0,f[d++]=0,f[d++]=0,f[d++]=0,h=8;h<this.padLength;h++)f[d++]=0;return f}},{"./utils":437,"minimalistic-assert":453}],428:[function(r,n,i){var s=r("./utils"),o=r("minimalistic-assert");function a(l,c,u){if(!(this instanceof a))return new a(l,c,u);this.Hash=l,this.blockSize=l.blockSize/8,this.outSize=l.outSize/8,this.inner=null,this.outer=null,this._init(s.toArray(c,u))}n.exports=a,a.prototype._init=function(l){l.length>this.blockSize&&(l=new this.Hash().update(l).digest()),o(l.length<=this.blockSize);for(var c=l.length;c<this.blockSize;c++)l.push(0);for(c=0;c<l.length;c++)l[c]^=54;for(this.inner=new this.Hash().update(l),c=0;c<l.length;c++)l[c]^=106;this.outer=new this.Hash().update(l)},a.prototype.update=function(l,c){return this.inner.update(l,c),this},a.prototype.digest=function(l){return this.outer.update(this.inner.digest()),this.outer.digest(l)}},{"./utils":437,"minimalistic-assert":453}],429:[function(r,n,i){var s=r("./utils"),o=r("./common"),a=s.rotl32,l=s.sum32,c=s.sum32_3,u=s.sum32_4,f=o.BlockHash;function d(){if(!(this instanceof d))return new d;f.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function h(x,P,F,D){return x<=15?P^F^D:x<=31?P&F|~P&D:x<=47?(P|~F)^D:x<=63?P&D|F&~D:P^(F|~D)}function g(x){return x<=15?0:x<=31?1518500249:x<=47?1859775393:x<=63?2400959708:2840853838}function v(x){return x<=15?1352829926:x<=31?1548603684:x<=47?1836072691:x<=63?2053994217:0}s.inherits(d,f),i.ripemd160=d,d.blockSize=512,d.outSize=160,d.hmacStrength=192,d.padLength=64,d.prototype._update=function(x,P){for(var F=this.h[0],D=this.h[1],O=this.h[2],j=this.h[3],H=this.h[4],W=F,G=D,M=O,k=j,E=H,w=0;w<80;w++){var C=l(a(u(F,h(w,D,O,j),x[p[w]+P],g(w)),m[w]),H);F=H,H=j,j=a(O,10),O=D,D=C,C=l(a(u(W,h(79-w,G,M,k),x[y[w]+P],v(w)),b[w]),E),W=E,E=k,k=a(M,10),M=G,G=C}C=c(this.h[1],O,k),this.h[1]=c(this.h[2],j,E),this.h[2]=c(this.h[3],H,W),this.h[3]=c(this.h[4],F,G),this.h[4]=c(this.h[0],D,M),this.h[0]=C},d.prototype._digest=function(x){return x==="hex"?s.toHex32(this.h,"little"):s.split32(this.h,"little")};var p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],y=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],m=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],b=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},{"./common":427,"./utils":437}],430:[function(r,n,i){i.sha1=r("./sha/1"),i.sha224=r("./sha/224"),i.sha256=r("./sha/256"),i.sha384=r("./sha/384"),i.sha512=r("./sha/512")},{"./sha/1":431,"./sha/224":432,"./sha/256":433,"./sha/384":434,"./sha/512":435}],431:[function(r,n,i){var s=r("../utils"),o=r("../common"),a=r("./common"),l=s.rotl32,c=s.sum32,u=s.sum32_5,f=a.ft_1,d=o.BlockHash,h=[1518500249,1859775393,2400959708,3395469782];function g(){if(!(this instanceof g))return new g;d.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}s.inherits(g,d),n.exports=g,g.blockSize=512,g.outSize=160,g.hmacStrength=80,g.padLength=64,g.prototype._update=function(v,p){for(var y=this.W,m=0;m<16;m++)y[m]=v[p+m];for(;m<y.length;m++)y[m]=l(y[m-3]^y[m-8]^y[m-14]^y[m-16],1);var b=this.h[0],x=this.h[1],P=this.h[2],F=this.h[3],D=this.h[4];for(m=0;m<y.length;m++){var O=~~(m/20),j=u(l(b,5),f(O,x,P,F),D,y[m],h[O]);D=F,F=P,P=l(x,30),x=b,b=j}this.h[0]=c(this.h[0],b),this.h[1]=c(this.h[1],x),this.h[2]=c(this.h[2],P),this.h[3]=c(this.h[3],F),this.h[4]=c(this.h[4],D)},g.prototype._digest=function(v){return v==="hex"?s.toHex32(this.h,"big"):s.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436}],432:[function(r,n,i){var s=r("../utils"),o=r("./256");function a(){if(!(this instanceof a))return new a;o.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}s.inherits(a,o),n.exports=a,a.blockSize=512,a.outSize=224,a.hmacStrength=192,a.padLength=64,a.prototype._digest=function(l){return l==="hex"?s.toHex32(this.h.slice(0,7),"big"):s.split32(this.h.slice(0,7),"big")}},{"../utils":437,"./256":433}],433:[function(r,n,i){var s=r("../utils"),o=r("../common"),a=r("./common"),l=r("minimalistic-assert"),c=s.sum32,u=s.sum32_4,f=s.sum32_5,d=a.ch32,h=a.maj32,g=a.s0_256,v=a.s1_256,p=a.g0_256,y=a.g1_256,m=o.BlockHash,b=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function x(){if(!(this instanceof x))return new x;m.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=b,this.W=new Array(64)}s.inherits(x,m),n.exports=x,x.blockSize=512,x.outSize=256,x.hmacStrength=192,x.padLength=64,x.prototype._update=function(P,F){for(var D=this.W,O=0;O<16;O++)D[O]=P[F+O];for(;O<D.length;O++)D[O]=u(y(D[O-2]),D[O-7],p(D[O-15]),D[O-16]);var j=this.h[0],H=this.h[1],W=this.h[2],G=this.h[3],M=this.h[4],k=this.h[5],E=this.h[6],w=this.h[7];for(l(this.k.length===D.length),O=0;O<D.length;O++){var C=f(w,v(M),d(M,k,E),this.k[O],D[O]),S=c(g(j),h(j,H,W));w=E,E=k,k=M,M=c(G,C),G=W,W=H,H=j,j=c(C,S)}this.h[0]=c(this.h[0],j),this.h[1]=c(this.h[1],H),this.h[2]=c(this.h[2],W),this.h[3]=c(this.h[3],G),this.h[4]=c(this.h[4],M),this.h[5]=c(this.h[5],k),this.h[6]=c(this.h[6],E),this.h[7]=c(this.h[7],w)},x.prototype._digest=function(P){return P==="hex"?s.toHex32(this.h,"big"):s.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436,"minimalistic-assert":453}],434:[function(r,n,i){var s=r("../utils"),o=r("./512");function a(){if(!(this instanceof a))return new a;o.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}s.inherits(a,o),n.exports=a,a.blockSize=1024,a.outSize=384,a.hmacStrength=192,a.padLength=128,a.prototype._digest=function(l){return l==="hex"?s.toHex32(this.h.slice(0,12),"big"):s.split32(this.h.slice(0,12),"big")}},{"../utils":437,"./512":435}],435:[function(r,n,i){var s=r("../utils"),o=r("../common"),a=r("minimalistic-assert"),l=s.rotr64_hi,c=s.rotr64_lo,u=s.shr64_hi,f=s.shr64_lo,d=s.sum64,h=s.sum64_hi,g=s.sum64_lo,v=s.sum64_4_hi,p=s.sum64_4_lo,y=s.sum64_5_hi,m=s.sum64_5_lo,b=o.BlockHash,x=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function P(){if(!(this instanceof P))return new P;b.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=x,this.W=new Array(160)}function F(S,R,_,N,B){var V=S&_^~S&B;return V<0&&(V+=4294967296),V}function D(S,R,_,N,B,V){var $=R&N^~R&V;return $<0&&($+=4294967296),$}function O(S,R,_,N,B){var V=S&_^S&B^_&B;return V<0&&(V+=4294967296),V}function j(S,R,_,N,B,V){var $=R&N^R&V^N&V;return $<0&&($+=4294967296),$}function H(S,R){var _=l(S,R,28)^l(R,S,2)^l(R,S,7);return _<0&&(_+=4294967296),_}function W(S,R){var _=c(S,R,28)^c(R,S,2)^c(R,S,7);return _<0&&(_+=4294967296),_}function G(S,R){var _=l(S,R,14)^l(S,R,18)^l(R,S,9);return _<0&&(_+=4294967296),_}function M(S,R){var _=c(S,R,14)^c(S,R,18)^c(R,S,9);return _<0&&(_+=4294967296),_}function k(S,R){var _=l(S,R,1)^l(S,R,8)^u(S,R,7);return _<0&&(_+=4294967296),_}function E(S,R){var _=c(S,R,1)^c(S,R,8)^f(S,R,7);return _<0&&(_+=4294967296),_}function w(S,R){var _=l(S,R,19)^l(R,S,29)^u(S,R,6);return _<0&&(_+=4294967296),_}function C(S,R){var _=c(S,R,19)^c(R,S,29)^f(S,R,6);return _<0&&(_+=4294967296),_}s.inherits(P,b),n.exports=P,P.blockSize=1024,P.outSize=512,P.hmacStrength=192,P.padLength=128,P.prototype._prepareBlock=function(S,R){for(var _=this.W,N=0;N<32;N++)_[N]=S[R+N];for(;N<_.length;N+=2){var B=w(_[N-4],_[N-3]),V=C(_[N-4],_[N-3]),$=_[N-14],Y=_[N-13],L=k(_[N-30],_[N-29]),K=E(_[N-30],_[N-29]),I=_[N-32],A=_[N-31];_[N]=v(B,V,$,Y,L,K,I,A),_[N+1]=p(B,V,$,Y,L,K,I,A)}},P.prototype._update=function(S,R){this._prepareBlock(S,R);var _=this.W,N=this.h[0],B=this.h[1],V=this.h[2],$=this.h[3],Y=this.h[4],L=this.h[5],K=this.h[6],I=this.h[7],A=this.h[8],z=this.h[9],q=this.h[10],J=this.h[11],X=this.h[12],Z=this.h[13],ie=this.h[14],se=this.h[15];a(this.k.length===_.length);for(var Q=0;Q<_.length;Q+=2){var re=ie,ne=se,ue=G(A,z),de=M(A,z),ge=F(A,z,q,J,X),we=D(A,z,q,J,X,Z),xe=this.k[Q],Fe=this.k[Q+1],De=_[Q],Le=_[Q+1],He=y(re,ne,ue,de,ge,we,xe,Fe,De,Le),it=m(re,ne,ue,de,ge,we,xe,Fe,De,Le);re=H(N,B),ne=W(N,B),ue=O(N,B,V,$,Y),de=j(N,B,V,$,Y,L);var Qe=h(re,ne,ue,de),rt=g(re,ne,ue,de);ie=X,se=Z,X=q,Z=J,q=A,J=z,A=h(K,I,He,it),z=g(I,I,He,it),K=Y,I=L,Y=V,L=$,V=N,$=B,N=h(He,it,Qe,rt),B=g(He,it,Qe,rt)}d(this.h,0,N,B),d(this.h,2,V,$),d(this.h,4,Y,L),d(this.h,6,K,I),d(this.h,8,A,z),d(this.h,10,q,J),d(this.h,12,X,Z),d(this.h,14,ie,se)},P.prototype._digest=function(S){return S==="hex"?s.toHex32(this.h,"big"):s.split32(this.h,"big")}},{"../common":427,"../utils":437,"minimalistic-assert":453}],436:[function(r,n,i){var s=r("../utils").rotr32;function o(c,u,f){return c&u^~c&f}function a(c,u,f){return c&u^c&f^u&f}function l(c,u,f){return c^u^f}i.ft_1=function(c,u,f,d){return c===0?o(u,f,d):c===1||c===3?l(u,f,d):c===2?a(u,f,d):void 0},i.ch32=o,i.maj32=a,i.p32=l,i.s0_256=function(c){return s(c,2)^s(c,13)^s(c,22)},i.s1_256=function(c){return s(c,6)^s(c,11)^s(c,25)},i.g0_256=function(c){return s(c,7)^s(c,18)^c>>>3},i.g1_256=function(c){return s(c,17)^s(c,19)^c>>>10}},{"../utils":437}],437:[function(r,n,i){var s=r("minimalistic-assert"),o=r("inherits");function a(f,d){return(64512&f.charCodeAt(d))==55296&&!(d<0||d+1>=f.length)&&(64512&f.charCodeAt(d+1))==56320}function l(f){return(f>>>24|f>>>8&65280|f<<8&16711680|(255&f)<<24)>>>0}function c(f){return f.length===1?"0"+f:f}function u(f){return f.length===7?"0"+f:f.length===6?"00"+f:f.length===5?"000"+f:f.length===4?"0000"+f:f.length===3?"00000"+f:f.length===2?"000000"+f:f.length===1?"0000000"+f:f}i.inherits=o,i.toArray=function(f,d){if(Array.isArray(f))return f.slice();if(!f)return[];var h=[];if(typeof f=="string")if(d){if(d==="hex")for((f=f.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(f="0"+f),v=0;v<f.length;v+=2)h.push(parseInt(f[v]+f[v+1],16))}else for(var g=0,v=0;v<f.length;v++){var p=f.charCodeAt(v);p<128?h[g++]=p:p<2048?(h[g++]=p>>6|192,h[g++]=63&p|128):a(f,v)?(p=65536+((1023&p)<<10)+(1023&f.charCodeAt(++v)),h[g++]=p>>18|240,h[g++]=p>>12&63|128,h[g++]=p>>6&63|128,h[g++]=63&p|128):(h[g++]=p>>12|224,h[g++]=p>>6&63|128,h[g++]=63&p|128)}else for(v=0;v<f.length;v++)h[v]=0|f[v];return h},i.toHex=function(f){for(var d="",h=0;h<f.length;h++)d+=c(f[h].toString(16));return d},i.htonl=l,i.toHex32=function(f,d){for(var h="",g=0;g<f.length;g++){var v=f[g];d==="little"&&(v=l(v)),h+=u(v.toString(16))}return h},i.zero2=c,i.zero8=u,i.join32=function(f,d,h,g){var v=h-d;s(v%4==0);for(var p=new Array(v/4),y=0,m=d;y<p.length;y++,m+=4){var b;b=g==="big"?f[m]<<24|f[m+1]<<16|f[m+2]<<8|f[m+3]:f[m+3]<<24|f[m+2]<<16|f[m+1]<<8|f[m],p[y]=b>>>0}return p},i.split32=function(f,d){for(var h=new Array(4*f.length),g=0,v=0;g<f.length;g++,v+=4){var p=f[g];d==="big"?(h[v]=p>>>24,h[v+1]=p>>>16&255,h[v+2]=p>>>8&255,h[v+3]=255&p):(h[v+3]=p>>>24,h[v+2]=p>>>16&255,h[v+1]=p>>>8&255,h[v]=255&p)}return h},i.rotr32=function(f,d){return f>>>d|f<<32-d},i.rotl32=function(f,d){return f<<d|f>>>32-d},i.sum32=function(f,d){return f+d>>>0},i.sum32_3=function(f,d,h){return f+d+h>>>0},i.sum32_4=function(f,d,h,g){return f+d+h+g>>>0},i.sum32_5=function(f,d,h,g,v){return f+d+h+g+v>>>0},i.sum64=function(f,d,h,g){var v=f[d],p=g+f[d+1]>>>0,y=(p<g?1:0)+h+v;f[d]=y>>>0,f[d+1]=p},i.sum64_hi=function(f,d,h,g){return(d+g>>>0<d?1:0)+f+h>>>0},i.sum64_lo=function(f,d,h,g){return d+g>>>0},i.sum64_4_hi=function(f,d,h,g,v,p,y,m){var b=0,x=d;return b+=(x=x+g>>>0)<d?1:0,b+=(x=x+p>>>0)<p?1:0,f+h+v+y+(b+=(x=x+m>>>0)<m?1:0)>>>0},i.sum64_4_lo=function(f,d,h,g,v,p,y,m){return d+g+p+m>>>0},i.sum64_5_hi=function(f,d,h,g,v,p,y,m,b,x){var P=0,F=d;return P+=(F=F+g>>>0)<d?1:0,P+=(F=F+p>>>0)<p?1:0,P+=(F=F+m>>>0)<m?1:0,f+h+v+y+b+(P+=(F=F+x>>>0)<x?1:0)>>>0},i.sum64_5_lo=function(f,d,h,g,v,p,y,m,b,x){return d+g+p+m+x>>>0},i.rotr64_hi=function(f,d,h){return(d<<32-h|f>>>h)>>>0},i.rotr64_lo=function(f,d,h){return(f<<32-h|d>>>h)>>>0},i.shr64_hi=function(f,d,h){return f>>>h},i.shr64_lo=function(f,d,h){return(f<<32-h|d>>>h)>>>0}},{inherits:440,"minimalistic-assert":453}],438:[function(r,n,i){var s=r("hash.js"),o=r("minimalistic-crypto-utils"),a=r("minimalistic-assert");function l(c){if(!(this instanceof l))return new l(c);this.hash=c.hash,this.predResist=!!c.predResist,this.outLen=this.hash.outSize,this.minEntropy=c.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var u=o.toArray(c.entropy,c.entropyEnc||"hex"),f=o.toArray(c.nonce,c.nonceEnc||"hex"),d=o.toArray(c.pers,c.persEnc||"hex");a(u.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(u,f,d)}n.exports=l,l.prototype._init=function(c,u,f){var d=c.concat(u).concat(f);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var h=0;h<this.V.length;h++)this.K[h]=0,this.V[h]=1;this._update(d),this._reseed=1,this.reseedInterval=281474976710656},l.prototype._hmac=function(){return new s.hmac(this.hash,this.K)},l.prototype._update=function(c){var u=this._hmac().update(this.V).update([0]);c&&(u=u.update(c)),this.K=u.digest(),this.V=this._hmac().update(this.V).digest(),c&&(this.K=this._hmac().update(this.V).update([1]).update(c).digest(),this.V=this._hmac().update(this.V).digest())},l.prototype.reseed=function(c,u,f,d){typeof u!="string"&&(d=f,f=u,u=null),c=o.toArray(c,u),f=o.toArray(f,d),a(c.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(c.concat(f||[])),this._reseed=1},l.prototype.generate=function(c,u,f,d){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof u!="string"&&(d=f,f=u,u=null),f&&(f=o.toArray(f,d||"hex"),this._update(f));for(var h=[];h.length<c;)this.V=this._hmac().update(this.V).digest(),h=h.concat(this.V);var g=h.slice(0,c);return this._update(f),this._reseed++,o.encode(g,u)}},{"hash.js":426,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],439:[function(r,n,i){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */i.read=function(s,o,a,l,c){var u,f,d=8*c-l-1,h=(1<<d)-1,g=h>>1,v=-7,p=a?c-1:0,y=a?-1:1,m=s[o+p];for(p+=y,u=m&(1<<-v)-1,m>>=-v,v+=d;v>0;u=256*u+s[o+p],p+=y,v-=8);for(f=u&(1<<-v)-1,u>>=-v,v+=l;v>0;f=256*f+s[o+p],p+=y,v-=8);if(u===0)u=1-g;else{if(u===h)return f?NaN:1/0*(m?-1:1);f+=Math.pow(2,l),u-=g}return(m?-1:1)*f*Math.pow(2,u-l)},i.write=function(s,o,a,l,c,u){var f,d,h,g=8*u-c-1,v=(1<<g)-1,p=v>>1,y=c===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=l?0:u-1,b=l?1:-1,x=o<0||o===0&&1/o<0?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(d=isNaN(o)?1:0,f=v):(f=Math.floor(Math.log(o)/Math.LN2),o*(h=Math.pow(2,-f))<1&&(f--,h*=2),(o+=f+p>=1?y/h:y*Math.pow(2,1-p))*h>=2&&(f++,h/=2),f+p>=v?(d=0,f=v):f+p>=1?(d=(o*h-1)*Math.pow(2,c),f+=p):(d=o*Math.pow(2,p-1)*Math.pow(2,c),f=0));c>=8;s[a+m]=255&d,m+=b,d/=256,c-=8);for(f=f<<c|d,g+=c;g>0;s[a+m]=255&f,m+=b,f/=256,g-=8);s[a+m-b]|=128*x}},{}],440:[function(r,n,i){typeof Object.create=="function"?n.exports=function(s,o){o&&(s.super_=o,s.prototype=Object.create(o.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}))}:n.exports=function(s,o){if(o){s.super_=o;var a=function(){};a.prototype=o.prototype,s.prototype=new a,s.prototype.constructor=s}}},{}],441:[function(r,n,i){(function(s,o,a,l,c,u,f,d){(function(){/*!

	JSZip v3.10.1 - A JavaScript class for generating and reading zip files
	<http://stuartk.com/jszip>

	(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
	Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

	JSZip uses the library pako released under the MIT license :
	https://github.com/nodeca/pako/blob/main/LICENSE
	*/(function(h){typeof i=="object"&&n!==void 0?n.exports=h():(typeof window<"u"?window:o!==void 0?o:typeof self<"u"?self:this).JSZip=h()})(function(){return function h(g,v,p){function y(x,P){if(!v[x]){if(!g[x]){var F=typeof r=="function"&&r;if(!P&&F)return F(x,!0);if(m)return m(x,!0);var D=new Error("Cannot find module '"+x+"'");throw D.code="MODULE_NOT_FOUND",D}var O=v[x]={exports:{}};g[x][0].call(O.exports,function(j){return y(g[x][1][j]||j)},O,O.exports,h,g,v,p)}return v[x].exports}for(var m=typeof r=="function"&&r,b=0;b<p.length;b++)y(p[b]);return y}({1:[function(h,g,v){var p=h("./utils"),y=h("./support"),m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";v.encode=function(b){for(var x,P,F,D,O,j,H,W=[],G=0,M=b.length,k=M,E=p.getTypeOf(b)!=="string";G<b.length;)k=M-G,F=E?(x=b[G++],P=G<M?b[G++]:0,G<M?b[G++]:0):(x=b.charCodeAt(G++),P=G<M?b.charCodeAt(G++):0,G<M?b.charCodeAt(G++):0),D=x>>2,O=(3&x)<<4|P>>4,j=1<k?(15&P)<<2|F>>6:64,H=2<k?63&F:64,W.push(m.charAt(D)+m.charAt(O)+m.charAt(j)+m.charAt(H));return W.join("")},v.decode=function(b){var x,P,F,D,O,j,H=0,W=0,G="data:";if(b.substr(0,G.length)===G)throw new Error("Invalid base64 input, it looks like a data url.");var M,k=3*(b=b.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(b.charAt(b.length-1)===m.charAt(64)&&k--,b.charAt(b.length-2)===m.charAt(64)&&k--,k%1!=0)throw new Error("Invalid base64 input, bad content length.");for(M=y.uint8array?new Uint8Array(0|k):new Array(0|k);H<b.length;)x=m.indexOf(b.charAt(H++))<<2|(D=m.indexOf(b.charAt(H++)))>>4,P=(15&D)<<4|(O=m.indexOf(b.charAt(H++)))>>2,F=(3&O)<<6|(j=m.indexOf(b.charAt(H++))),M[W++]=x,O!==64&&(M[W++]=P),j!==64&&(M[W++]=F);return M}},{"./support":30,"./utils":32}],2:[function(h,g,v){var p=h("./external"),y=h("./stream/DataWorker"),m=h("./stream/Crc32Probe"),b=h("./stream/DataLengthProbe");function x(P,F,D,O,j){this.compressedSize=P,this.uncompressedSize=F,this.crc32=D,this.compression=O,this.compressedContent=j}x.prototype={getContentWorker:function(){var P=new y(p.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new b("data_length")),F=this;return P.on("end",function(){if(this.streamInfo.data_length!==F.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),P},getCompressedWorker:function(){return new y(p.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},x.createWorkerFrom=function(P,F,D){return P.pipe(new m).pipe(new b("uncompressedSize")).pipe(F.compressWorker(D)).pipe(new b("compressedSize")).withStreamInfo("compression",F)},g.exports=x},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(h,g,v){var p=h("./stream/GenericWorker");v.STORE={magic:"\0\0",compressWorker:function(){return new p("STORE compression")},uncompressWorker:function(){return new p("STORE decompression")}},v.DEFLATE=h("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(h,g,v){var p=h("./utils"),y=function(){for(var m,b=[],x=0;x<256;x++){m=x;for(var P=0;P<8;P++)m=1&m?3988292384^m>>>1:m>>>1;b[x]=m}return b}();g.exports=function(m,b){return m!==void 0&&m.length?p.getTypeOf(m)!=="string"?function(x,P,F,D){var O=y,j=0+F;x^=-1;for(var H=0;H<j;H++)x=x>>>8^O[255&(x^P[H])];return-1^x}(0|b,m,m.length):function(x,P,F,D){var O=y,j=0+F;x^=-1;for(var H=0;H<j;H++)x=x>>>8^O[255&(x^P.charCodeAt(H))];return-1^x}(0|b,m,m.length):0}},{"./utils":32}],5:[function(h,g,v){v.base64=!1,v.binary=!1,v.dir=!1,v.createFolders=!0,v.date=null,v.compression=null,v.compressionOptions=null,v.comment=null,v.unixPermissions=null,v.dosPermissions=null},{}],6:[function(h,g,v){var p;p=typeof Promise<"u"?Promise:h("lie"),g.exports={Promise:p}},{lie:37}],7:[function(h,g,v){var p=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",y=h("pako"),m=h("./utils"),b=h("./stream/GenericWorker"),x=p?"uint8array":"array";function P(F,D){b.call(this,"FlateWorker/"+F),this._pako=null,this._pakoAction=F,this._pakoOptions=D,this.meta={}}v.magic="\b\0",m.inherits(P,b),P.prototype.processChunk=function(F){this.meta=F.meta,this._pako===null&&this._createPako(),this._pako.push(m.transformTo(x,F.data),!1)},P.prototype.flush=function(){b.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},P.prototype.cleanUp=function(){b.prototype.cleanUp.call(this),this._pako=null},P.prototype._createPako=function(){this._pako=new y[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var F=this;this._pako.onData=function(D){F.push({data:D,meta:F.meta})}},v.compressWorker=function(F){return new P("Deflate",F)},v.uncompressWorker=function(){return new P("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(h,g,v){function p(O,j){var H,W="";for(H=0;H<j;H++)W+=String.fromCharCode(255&O),O>>>=8;return W}function y(O,j,H,W,G,M){var k,E,w=O.file,C=O.compression,S=M!==x.utf8encode,R=m.transformTo("string",M(w.name)),_=m.transformTo("string",x.utf8encode(w.name)),N=w.comment,B=m.transformTo("string",M(N)),V=m.transformTo("string",x.utf8encode(N)),$=_.length!==w.name.length,Y=V.length!==N.length,L="",K="",I="",A=w.dir,z=w.date,q={crc32:0,compressedSize:0,uncompressedSize:0};j&&!H||(q.crc32=O.crc32,q.compressedSize=O.compressedSize,q.uncompressedSize=O.uncompressedSize);var J=0;j&&(J|=8),S||!$&&!Y||(J|=2048);var X=0,Z=0;A&&(X|=16),G==="UNIX"?(Z=798,X|=function(se,Q){var re=se;return se||(re=Q?16893:33204),(65535&re)<<16}(w.unixPermissions,A)):(Z=20,X|=function(se){return 63&(se||0)}(w.dosPermissions)),k=z.getUTCHours(),k<<=6,k|=z.getUTCMinutes(),k<<=5,k|=z.getUTCSeconds()/2,E=z.getUTCFullYear()-1980,E<<=4,E|=z.getUTCMonth()+1,E<<=5,E|=z.getUTCDate(),$&&(K=p(1,1)+p(P(R),4)+_,L+="up"+p(K.length,2)+K),Y&&(I=p(1,1)+p(P(B),4)+V,L+="uc"+p(I.length,2)+I);var ie="";return ie+=`
\0`,ie+=p(J,2),ie+=C.magic,ie+=p(k,2),ie+=p(E,2),ie+=p(q.crc32,4),ie+=p(q.compressedSize,4),ie+=p(q.uncompressedSize,4),ie+=p(R.length,2),ie+=p(L.length,2),{fileRecord:F.LOCAL_FILE_HEADER+ie+R+L,dirRecord:F.CENTRAL_FILE_HEADER+p(Z,2)+ie+p(B.length,2)+"\0\0\0\0"+p(X,4)+p(W,4)+R+L+B}}var m=h("../utils"),b=h("../stream/GenericWorker"),x=h("../utf8"),P=h("../crc32"),F=h("../signature");function D(O,j,H,W){b.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=j,this.zipPlatform=H,this.encodeFileName=W,this.streamFiles=O,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}m.inherits(D,b),D.prototype.push=function(O){var j=O.meta.percent||0,H=this.entriesCount,W=this._sources.length;this.accumulate?this.contentBuffer.push(O):(this.bytesWritten+=O.data.length,b.prototype.push.call(this,{data:O.data,meta:{currentFile:this.currentFile,percent:H?(j+100*(H-W-1))/H:100}}))},D.prototype.openedSource=function(O){this.currentSourceOffset=this.bytesWritten,this.currentFile=O.file.name;var j=this.streamFiles&&!O.file.dir;if(j){var H=y(O,j,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:H.fileRecord,meta:{percent:0}})}else this.accumulate=!0},D.prototype.closedSource=function(O){this.accumulate=!1;var j=this.streamFiles&&!O.file.dir,H=y(O,j,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(H.dirRecord),j)this.push({data:function(W){return F.DATA_DESCRIPTOR+p(W.crc32,4)+p(W.compressedSize,4)+p(W.uncompressedSize,4)}(O),meta:{percent:100}});else for(this.push({data:H.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},D.prototype.flush=function(){for(var O=this.bytesWritten,j=0;j<this.dirRecords.length;j++)this.push({data:this.dirRecords[j],meta:{percent:100}});var H=this.bytesWritten-O,W=function(G,M,k,E,w){var C=m.transformTo("string",w(E));return F.CENTRAL_DIRECTORY_END+"\0\0\0\0"+p(G,2)+p(G,2)+p(M,4)+p(k,4)+p(C.length,2)+C}(this.dirRecords.length,H,O,this.zipComment,this.encodeFileName);this.push({data:W,meta:{percent:100}})},D.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},D.prototype.registerPrevious=function(O){this._sources.push(O);var j=this;return O.on("data",function(H){j.processChunk(H)}),O.on("end",function(){j.closedSource(j.previous.streamInfo),j._sources.length?j.prepareNextSource():j.end()}),O.on("error",function(H){j.error(H)}),this},D.prototype.resume=function(){return!!b.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},D.prototype.error=function(O){var j=this._sources;if(!b.prototype.error.call(this,O))return!1;for(var H=0;H<j.length;H++)try{j[H].error(O)}catch{}return!0},D.prototype.lock=function(){b.prototype.lock.call(this);for(var O=this._sources,j=0;j<O.length;j++)O[j].lock()},g.exports=D},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(h,g,v){var p=h("../compressions"),y=h("./ZipFileWorker");v.generateWorker=function(m,b,x){var P=new y(b.streamFiles,x,b.platform,b.encodeFileName),F=0;try{m.forEach(function(D,O){F++;var j=function(M,k){var E=M||k,w=p[E];if(!w)throw new Error(E+" is not a valid compression method !");return w}(O.options.compression,b.compression),H=O.options.compressionOptions||b.compressionOptions||{},W=O.dir,G=O.date;O._compressWorker(j,H).withStreamInfo("file",{name:D,dir:W,date:G,comment:O.comment||"",unixPermissions:O.unixPermissions,dosPermissions:O.dosPermissions}).pipe(P)}),P.entriesCount=F}catch(D){P.error(D)}return P}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(h,g,v){function p(){if(!(this instanceof p))return new p;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var y=new p;for(var m in this)typeof this[m]!="function"&&(y[m]=this[m]);return y}}(p.prototype=h("./object")).loadAsync=h("./load"),p.support=h("./support"),p.defaults=h("./defaults"),p.version="3.10.1",p.loadAsync=function(y,m){return new p().loadAsync(y,m)},p.external=h("./external"),g.exports=p},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(h,g,v){var p=h("./utils"),y=h("./external"),m=h("./utf8"),b=h("./zipEntries"),x=h("./stream/Crc32Probe"),P=h("./nodejsUtils");function F(D){return new y.Promise(function(O,j){var H=D.decompressed.getContentWorker().pipe(new x);H.on("error",function(W){j(W)}).on("end",function(){H.streamInfo.crc32!==D.decompressed.crc32?j(new Error("Corrupted zip : CRC32 mismatch")):O()}).resume()})}g.exports=function(D,O){var j=this;return O=p.extend(O||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:m.utf8decode}),P.isNode&&P.isStream(D)?y.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):p.prepareContent("the loaded zip file",D,!0,O.optimizedBinaryString,O.base64).then(function(H){var W=new b(O);return W.load(H),W}).then(function(H){var W=[y.Promise.resolve(H)],G=H.files;if(O.checkCRC32)for(var M=0;M<G.length;M++)W.push(F(G[M]));return y.Promise.all(W)}).then(function(H){for(var W=H.shift(),G=W.files,M=0;M<G.length;M++){var k=G[M],E=k.fileNameStr,w=p.resolve(k.fileNameStr);j.file(w,k.decompressed,{binary:!0,optimizedBinaryString:!0,date:k.date,dir:k.dir,comment:k.fileCommentStr.length?k.fileCommentStr:null,unixPermissions:k.unixPermissions,dosPermissions:k.dosPermissions,createFolders:O.createFolders}),k.dir||(j.file(w).unsafeOriginalName=E)}return W.zipComment.length&&(j.comment=W.zipComment),j})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(h,g,v){var p=h("../utils"),y=h("../stream/GenericWorker");function m(b,x){y.call(this,"Nodejs stream input adapter for "+b),this._upstreamEnded=!1,this._bindStream(x)}p.inherits(m,y),m.prototype._bindStream=function(b){var x=this;(this._stream=b).pause(),b.on("data",function(P){x.push({data:P,meta:{percent:0}})}).on("error",function(P){x.isPaused?this.generatedError=P:x.error(P)}).on("end",function(){x.isPaused?x._upstreamEnded=!0:x.end()})},m.prototype.pause=function(){return!!y.prototype.pause.call(this)&&(this._stream.pause(),!0)},m.prototype.resume=function(){return!!y.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},g.exports=m},{"../stream/GenericWorker":28,"../utils":32}],13:[function(h,g,v){var p=h("readable-stream").Readable;function y(m,b,x){p.call(this,b),this._helper=m;var P=this;m.on("data",function(F,D){P.push(F)||P._helper.pause(),x&&x(D)}).on("error",function(F){P.emit("error",F)}).on("end",function(){P.push(null)})}h("../utils").inherits(y,p),y.prototype._read=function(){this._helper.resume()},g.exports=y},{"../utils":32,"readable-stream":16}],14:[function(h,g,v){g.exports={isNode:a!==void 0,newBufferFrom:function(p,y){if(a.from&&a.from!==Uint8Array.from)return a.from(p,y);if(typeof p=="number")throw new Error('The "data" argument must not be a number');return new a(p,y)},allocBuffer:function(p){if(a.alloc)return a.alloc(p);var y=new a(p);return y.fill(0),y},isBuffer:function(p){return a.isBuffer(p)},isStream:function(p){return p&&typeof p.on=="function"&&typeof p.pause=="function"&&typeof p.resume=="function"}}},{}],15:[function(h,g,v){function p(w,C,S){var R,_=m.getTypeOf(C),N=m.extend(S||{},P);N.date=N.date||new Date,N.compression!==null&&(N.compression=N.compression.toUpperCase()),typeof N.unixPermissions=="string"&&(N.unixPermissions=parseInt(N.unixPermissions,8)),N.unixPermissions&&16384&N.unixPermissions&&(N.dir=!0),N.dosPermissions&&16&N.dosPermissions&&(N.dir=!0),N.dir&&(w=G(w)),N.createFolders&&(R=W(w))&&M.call(this,R,!0);var B=_==="string"&&N.binary===!1&&N.base64===!1;S&&S.binary!==void 0||(N.binary=!B),(C instanceof F&&C.uncompressedSize===0||N.dir||!C||C.length===0)&&(N.base64=!1,N.binary=!0,C="",N.compression="STORE",_="string");var V;V=C instanceof F||C instanceof b?C:j.isNode&&j.isStream(C)?new H(w,C):m.prepareContent(w,C,N.binary,N.optimizedBinaryString,N.base64);var $=new D(w,V,N);this.files[w]=$}var y=h("./utf8"),m=h("./utils"),b=h("./stream/GenericWorker"),x=h("./stream/StreamHelper"),P=h("./defaults"),F=h("./compressedObject"),D=h("./zipObject"),O=h("./generate"),j=h("./nodejsUtils"),H=h("./nodejs/NodejsStreamInputAdapter"),W=function(w){w.slice(-1)==="/"&&(w=w.substring(0,w.length-1));var C=w.lastIndexOf("/");return 0<C?w.substring(0,C):""},G=function(w){return w.slice(-1)!=="/"&&(w+="/"),w},M=function(w,C){return C=C!==void 0?C:P.createFolders,w=G(w),this.files[w]||p.call(this,w,null,{dir:!0,createFolders:C}),this.files[w]};function k(w){return Object.prototype.toString.call(w)==="[object RegExp]"}var E={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(w){var C,S,R;for(C in this.files)R=this.files[C],(S=C.slice(this.root.length,C.length))&&C.slice(0,this.root.length)===this.root&&w(S,R)},filter:function(w){var C=[];return this.forEach(function(S,R){w(S,R)&&C.push(R)}),C},file:function(w,C,S){if(arguments.length!==1)return w=this.root+w,p.call(this,w,C,S),this;if(k(w)){var R=w;return this.filter(function(N,B){return!B.dir&&R.test(N)})}var _=this.files[this.root+w];return _&&!_.dir?_:null},folder:function(w){if(!w)return this;if(k(w))return this.filter(function(_,N){return N.dir&&w.test(_)});var C=this.root+w,S=M.call(this,C),R=this.clone();return R.root=S.name,R},remove:function(w){w=this.root+w;var C=this.files[w];if(C||(w.slice(-1)!=="/"&&(w+="/"),C=this.files[w]),C&&!C.dir)delete this.files[w];else for(var S=this.filter(function(_,N){return N.name.slice(0,w.length)===w}),R=0;R<S.length;R++)delete this.files[S[R].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(w){var C,S={};try{if((S=m.extend(w||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:y.utf8encode})).type=S.type.toLowerCase(),S.compression=S.compression.toUpperCase(),S.type==="binarystring"&&(S.type="string"),!S.type)throw new Error("No output type specified.");m.checkSupport(S.type),S.platform!=="darwin"&&S.platform!=="freebsd"&&S.platform!=="linux"&&S.platform!=="sunos"||(S.platform="UNIX"),S.platform==="win32"&&(S.platform="DOS");var R=S.comment||this.comment||"";C=O.generateWorker(this,S,R)}catch(_){(C=new b("error")).error(_)}return new x(C,S.type||"string",S.mimeType)},generateAsync:function(w,C){return this.generateInternalStream(w).accumulate(C)},generateNodeStream:function(w,C){return(w=w||{}).type||(w.type="nodebuffer"),this.generateInternalStream(w).toNodejsStream(C)}};g.exports=E},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(h,g,v){g.exports=h("stream")},{stream:void 0}],17:[function(h,g,v){var p=h("./DataReader");function y(m){p.call(this,m);for(var b=0;b<this.data.length;b++)m[b]=255&m[b]}h("../utils").inherits(y,p),y.prototype.byteAt=function(m){return this.data[this.zero+m]},y.prototype.lastIndexOfSignature=function(m){for(var b=m.charCodeAt(0),x=m.charCodeAt(1),P=m.charCodeAt(2),F=m.charCodeAt(3),D=this.length-4;0<=D;--D)if(this.data[D]===b&&this.data[D+1]===x&&this.data[D+2]===P&&this.data[D+3]===F)return D-this.zero;return-1},y.prototype.readAndCheckSignature=function(m){var b=m.charCodeAt(0),x=m.charCodeAt(1),P=m.charCodeAt(2),F=m.charCodeAt(3),D=this.readData(4);return b===D[0]&&x===D[1]&&P===D[2]&&F===D[3]},y.prototype.readData=function(m){if(this.checkOffset(m),m===0)return[];var b=this.data.slice(this.zero+this.index,this.zero+this.index+m);return this.index+=m,b},g.exports=y},{"../utils":32,"./DataReader":18}],18:[function(h,g,v){var p=h("../utils");function y(m){this.data=m,this.length=m.length,this.index=0,this.zero=0}y.prototype={checkOffset:function(m){this.checkIndex(this.index+m)},checkIndex:function(m){if(this.length<this.zero+m||m<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+m+"). Corrupted zip ?")},setIndex:function(m){this.checkIndex(m),this.index=m},skip:function(m){this.setIndex(this.index+m)},byteAt:function(){},readInt:function(m){var b,x=0;for(this.checkOffset(m),b=this.index+m-1;b>=this.index;b--)x=(x<<8)+this.byteAt(b);return this.index+=m,x},readString:function(m){return p.transformTo("string",this.readData(m))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var m=this.readInt(4);return new Date(Date.UTC(1980+(m>>25&127),(m>>21&15)-1,m>>16&31,m>>11&31,m>>5&63,(31&m)<<1))}},g.exports=y},{"../utils":32}],19:[function(h,g,v){var p=h("./Uint8ArrayReader");function y(m){p.call(this,m)}h("../utils").inherits(y,p),y.prototype.readData=function(m){this.checkOffset(m);var b=this.data.slice(this.zero+this.index,this.zero+this.index+m);return this.index+=m,b},g.exports=y},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(h,g,v){var p=h("./DataReader");function y(m){p.call(this,m)}h("../utils").inherits(y,p),y.prototype.byteAt=function(m){return this.data.charCodeAt(this.zero+m)},y.prototype.lastIndexOfSignature=function(m){return this.data.lastIndexOf(m)-this.zero},y.prototype.readAndCheckSignature=function(m){return m===this.readData(4)},y.prototype.readData=function(m){this.checkOffset(m);var b=this.data.slice(this.zero+this.index,this.zero+this.index+m);return this.index+=m,b},g.exports=y},{"../utils":32,"./DataReader":18}],21:[function(h,g,v){var p=h("./ArrayReader");function y(m){p.call(this,m)}h("../utils").inherits(y,p),y.prototype.readData=function(m){if(this.checkOffset(m),m===0)return new Uint8Array(0);var b=this.data.subarray(this.zero+this.index,this.zero+this.index+m);return this.index+=m,b},g.exports=y},{"../utils":32,"./ArrayReader":17}],22:[function(h,g,v){var p=h("../utils"),y=h("../support"),m=h("./ArrayReader"),b=h("./StringReader"),x=h("./NodeBufferReader"),P=h("./Uint8ArrayReader");g.exports=function(F){var D=p.getTypeOf(F);return p.checkSupport(D),D!=="string"||y.uint8array?D==="nodebuffer"?new x(F):y.uint8array?new P(p.transformTo("uint8array",F)):new m(p.transformTo("array",F)):new b(F)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(h,g,v){v.LOCAL_FILE_HEADER="PK",v.CENTRAL_FILE_HEADER="PK",v.CENTRAL_DIRECTORY_END="PK",v.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",v.ZIP64_CENTRAL_DIRECTORY_END="PK",v.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(h,g,v){var p=h("./GenericWorker"),y=h("../utils");function m(b){p.call(this,"ConvertWorker to "+b),this.destType=b}y.inherits(m,p),m.prototype.processChunk=function(b){this.push({data:y.transformTo(this.destType,b.data),meta:b.meta})},g.exports=m},{"../utils":32,"./GenericWorker":28}],25:[function(h,g,v){var p=h("./GenericWorker"),y=h("../crc32");function m(){p.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}h("../utils").inherits(m,p),m.prototype.processChunk=function(b){this.streamInfo.crc32=y(b.data,this.streamInfo.crc32||0),this.push(b)},g.exports=m},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(h,g,v){var p=h("../utils"),y=h("./GenericWorker");function m(b){y.call(this,"DataLengthProbe for "+b),this.propName=b,this.withStreamInfo(b,0)}p.inherits(m,y),m.prototype.processChunk=function(b){if(b){var x=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=x+b.data.length}y.prototype.processChunk.call(this,b)},g.exports=m},{"../utils":32,"./GenericWorker":28}],27:[function(h,g,v){var p=h("../utils"),y=h("./GenericWorker");function m(b){y.call(this,"DataWorker");var x=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,b.then(function(P){x.dataIsReady=!0,x.data=P,x.max=P&&P.length||0,x.type=p.getTypeOf(P),x.isPaused||x._tickAndRepeat()},function(P){x.error(P)})}p.inherits(m,y),m.prototype.cleanUp=function(){y.prototype.cleanUp.call(this),this.data=null},m.prototype.resume=function(){return!!y.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,p.delay(this._tickAndRepeat,[],this)),!0)},m.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(p.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},m.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var b=null,x=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":b=this.data.substring(this.index,x);break;case"uint8array":b=this.data.subarray(this.index,x);break;case"array":case"nodebuffer":b=this.data.slice(this.index,x)}return this.index=x,this.push({data:b,meta:{percent:this.max?this.index/this.max*100:0}})},g.exports=m},{"../utils":32,"./GenericWorker":28}],28:[function(h,g,v){function p(y){this.name=y||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}p.prototype={push:function(y){this.emit("data",y)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(y){this.emit("error",y)}return!0},error:function(y){return!this.isFinished&&(this.isPaused?this.generatedError=y:(this.isFinished=!0,this.emit("error",y),this.previous&&this.previous.error(y),this.cleanUp()),!0)},on:function(y,m){return this._listeners[y].push(m),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(y,m){if(this._listeners[y])for(var b=0;b<this._listeners[y].length;b++)this._listeners[y][b].call(this,m)},pipe:function(y){return y.registerPrevious(this)},registerPrevious:function(y){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=y.streamInfo,this.mergeStreamInfo(),this.previous=y;var m=this;return y.on("data",function(b){m.processChunk(b)}),y.on("end",function(){m.end()}),y.on("error",function(b){m.error(b)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var y=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),y=!0),this.previous&&this.previous.resume(),!y},flush:function(){},processChunk:function(y){this.push(y)},withStreamInfo:function(y,m){return this.extraStreamInfo[y]=m,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var y in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,y)&&(this.streamInfo[y]=this.extraStreamInfo[y])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var y="Worker "+this.name;return this.previous?this.previous+" -> "+y:y}},g.exports=p},{}],29:[function(h,g,v){var p=h("../utils"),y=h("./ConvertWorker"),m=h("./GenericWorker"),b=h("../base64"),x=h("../support"),P=h("../external"),F=null;if(x.nodestream)try{F=h("../nodejs/NodejsStreamOutputAdapter")}catch{}function D(O,j,H){var W=j;switch(j){case"blob":case"arraybuffer":W="uint8array";break;case"base64":W="string"}try{this._internalType=W,this._outputType=j,this._mimeType=H,p.checkSupport(W),this._worker=O.pipe(new y(W)),O.lock()}catch(G){this._worker=new m("error"),this._worker.error(G)}}D.prototype={accumulate:function(O){return function(j,H){return new P.Promise(function(W,G){var M=[],k=j._internalType,E=j._outputType,w=j._mimeType;j.on("data",function(C,S){M.push(C),H&&H(S)}).on("error",function(C){M=[],G(C)}).on("end",function(){try{var C=function(S,R,_){switch(S){case"blob":return p.newBlob(p.transformTo("arraybuffer",R),_);case"base64":return b.encode(R);default:return p.transformTo(S,R)}}(E,function(S,R){var _,N=0,B=null,V=0;for(_=0;_<R.length;_++)V+=R[_].length;switch(S){case"string":return R.join("");case"array":return Array.prototype.concat.apply([],R);case"uint8array":for(B=new Uint8Array(V),_=0;_<R.length;_++)B.set(R[_],N),N+=R[_].length;return B;case"nodebuffer":return a.concat(R);default:throw new Error("concat : unsupported type '"+S+"'")}}(k,M),w);W(C)}catch(S){G(S)}M=[]}).resume()})}(this,O)},on:function(O,j){var H=this;return O==="data"?this._worker.on(O,function(W){j.call(H,W.data,W.meta)}):this._worker.on(O,function(){p.delay(j,arguments,H)}),this},resume:function(){return p.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(O){if(p.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new F(this,{objectMode:this._outputType!=="nodebuffer"},O)}},g.exports=D},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(h,g,v){if(v.base64=!0,v.array=!0,v.string=!0,v.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",v.nodebuffer=a!==void 0,v.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")v.blob=!1;else{var p=new ArrayBuffer(0);try{v.blob=new Blob([p],{type:"application/zip"}).size===0}catch{try{var y=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);y.append(p),v.blob=y.getBlob("application/zip").size===0}catch{v.blob=!1}}}try{v.nodestream=!!h("readable-stream").Readable}catch{v.nodestream=!1}},{"readable-stream":16}],31:[function(h,g,v){for(var p=h("./utils"),y=h("./support"),m=h("./nodejsUtils"),b=h("./stream/GenericWorker"),x=new Array(256),P=0;P<256;P++)x[P]=252<=P?6:248<=P?5:240<=P?4:224<=P?3:192<=P?2:1;function F(){b.call(this,"utf-8 decode"),this.leftOver=null}function D(){b.call(this,"utf-8 encode")}x[254]=x[254]=1,v.utf8encode=function(O){return y.nodebuffer?m.newBufferFrom(O,"utf-8"):function(j){var H,W,G,M,k,E=j.length,w=0;for(M=0;M<E;M++)(64512&(W=j.charCodeAt(M)))==55296&&M+1<E&&(64512&(G=j.charCodeAt(M+1)))==56320&&(W=65536+(W-55296<<10)+(G-56320),M++),w+=W<128?1:W<2048?2:W<65536?3:4;for(H=y.uint8array?new Uint8Array(w):new Array(w),M=k=0;k<w;M++)(64512&(W=j.charCodeAt(M)))==55296&&M+1<E&&(64512&(G=j.charCodeAt(M+1)))==56320&&(W=65536+(W-55296<<10)+(G-56320),M++),W<128?H[k++]=W:(W<2048?H[k++]=192|W>>>6:(W<65536?H[k++]=224|W>>>12:(H[k++]=240|W>>>18,H[k++]=128|W>>>12&63),H[k++]=128|W>>>6&63),H[k++]=128|63&W);return H}(O)},v.utf8decode=function(O){return y.nodebuffer?p.transformTo("nodebuffer",O).toString("utf-8"):function(j){var H,W,G,M,k=j.length,E=new Array(2*k);for(H=W=0;H<k;)if((G=j[H++])<128)E[W++]=G;else if(4<(M=x[G]))E[W++]=65533,H+=M-1;else{for(G&=M===2?31:M===3?15:7;1<M&&H<k;)G=G<<6|63&j[H++],M--;1<M?E[W++]=65533:G<65536?E[W++]=G:(G-=65536,E[W++]=55296|G>>10&1023,E[W++]=56320|1023&G)}return E.length!==W&&(E.subarray?E=E.subarray(0,W):E.length=W),p.applyFromCharCode(E)}(O=p.transformTo(y.uint8array?"uint8array":"array",O))},p.inherits(F,b),F.prototype.processChunk=function(O){var j=p.transformTo(y.uint8array?"uint8array":"array",O.data);if(this.leftOver&&this.leftOver.length){if(y.uint8array){var H=j;(j=new Uint8Array(H.length+this.leftOver.length)).set(this.leftOver,0),j.set(H,this.leftOver.length)}else j=this.leftOver.concat(j);this.leftOver=null}var W=function(M,k){var E;for((k=k||M.length)>M.length&&(k=M.length),E=k-1;0<=E&&(192&M[E])==128;)E--;return E<0||E===0?k:E+x[M[E]]>k?E:k}(j),G=j;W!==j.length&&(y.uint8array?(G=j.subarray(0,W),this.leftOver=j.subarray(W,j.length)):(G=j.slice(0,W),this.leftOver=j.slice(W,j.length))),this.push({data:v.utf8decode(G),meta:O.meta})},F.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:v.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},v.Utf8DecodeWorker=F,p.inherits(D,b),D.prototype.processChunk=function(O){this.push({data:v.utf8encode(O.data),meta:O.meta})},v.Utf8EncodeWorker=D},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(h,g,v){var p=h("./support"),y=h("./base64"),m=h("./nodejsUtils"),b=h("./external");function x(H){return H}function P(H,W){for(var G=0;G<H.length;++G)W[G]=255&H.charCodeAt(G);return W}h("setimmediate"),v.newBlob=function(H,W){v.checkSupport("blob");try{return new Blob([H],{type:W})}catch{try{var G=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return G.append(H),G.getBlob(W)}catch{throw new Error("Bug : can't construct the Blob.")}}};var F={stringifyByChunk:function(H,W,G){var M=[],k=0,E=H.length;if(E<=G)return String.fromCharCode.apply(null,H);for(;k<E;)W==="array"||W==="nodebuffer"?M.push(String.fromCharCode.apply(null,H.slice(k,Math.min(k+G,E)))):M.push(String.fromCharCode.apply(null,H.subarray(k,Math.min(k+G,E)))),k+=G;return M.join("")},stringifyByChar:function(H){for(var W="",G=0;G<H.length;G++)W+=String.fromCharCode(H[G]);return W},applyCanBeUsed:{uint8array:function(){try{return p.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return p.nodebuffer&&String.fromCharCode.apply(null,m.allocBuffer(1)).length===1}catch{return!1}}()}};function D(H){var W=65536,G=v.getTypeOf(H),M=!0;if(G==="uint8array"?M=F.applyCanBeUsed.uint8array:G==="nodebuffer"&&(M=F.applyCanBeUsed.nodebuffer),M)for(;1<W;)try{return F.stringifyByChunk(H,G,W)}catch{W=Math.floor(W/2)}return F.stringifyByChar(H)}function O(H,W){for(var G=0;G<H.length;G++)W[G]=H[G];return W}v.applyFromCharCode=D;var j={};j.string={string:x,array:function(H){return P(H,new Array(H.length))},arraybuffer:function(H){return j.string.uint8array(H).buffer},uint8array:function(H){return P(H,new Uint8Array(H.length))},nodebuffer:function(H){return P(H,m.allocBuffer(H.length))}},j.array={string:D,array:x,arraybuffer:function(H){return new Uint8Array(H).buffer},uint8array:function(H){return new Uint8Array(H)},nodebuffer:function(H){return m.newBufferFrom(H)}},j.arraybuffer={string:function(H){return D(new Uint8Array(H))},array:function(H){return O(new Uint8Array(H),new Array(H.byteLength))},arraybuffer:x,uint8array:function(H){return new Uint8Array(H)},nodebuffer:function(H){return m.newBufferFrom(new Uint8Array(H))}},j.uint8array={string:D,array:function(H){return O(H,new Array(H.length))},arraybuffer:function(H){return H.buffer},uint8array:x,nodebuffer:function(H){return m.newBufferFrom(H)}},j.nodebuffer={string:D,array:function(H){return O(H,new Array(H.length))},arraybuffer:function(H){return j.nodebuffer.uint8array(H).buffer},uint8array:function(H){return O(H,new Uint8Array(H.length))},nodebuffer:x},v.transformTo=function(H,W){if(W=W||"",!H)return W;v.checkSupport(H);var G=v.getTypeOf(W);return j[G][H](W)},v.resolve=function(H){for(var W=H.split("/"),G=[],M=0;M<W.length;M++){var k=W[M];k==="."||k===""&&M!==0&&M!==W.length-1||(k===".."?G.pop():G.push(k))}return G.join("/")},v.getTypeOf=function(H){return typeof H=="string"?"string":Object.prototype.toString.call(H)==="[object Array]"?"array":p.nodebuffer&&m.isBuffer(H)?"nodebuffer":p.uint8array&&H instanceof Uint8Array?"uint8array":p.arraybuffer&&H instanceof ArrayBuffer?"arraybuffer":void 0},v.checkSupport=function(H){if(!p[H.toLowerCase()])throw new Error(H+" is not supported by this platform")},v.MAX_VALUE_16BITS=65535,v.MAX_VALUE_32BITS=-1,v.pretty=function(H){var W,G,M="";for(G=0;G<(H||"").length;G++)M+="\\x"+((W=H.charCodeAt(G))<16?"0":"")+W.toString(16).toUpperCase();return M},v.delay=function(H,W,G){d(function(){H.apply(G||null,W||[])})},v.inherits=function(H,W){function G(){}G.prototype=W.prototype,H.prototype=new G},v.extend=function(){var H,W,G={};for(H=0;H<arguments.length;H++)for(W in arguments[H])Object.prototype.hasOwnProperty.call(arguments[H],W)&&G[W]===void 0&&(G[W]=arguments[H][W]);return G},v.prepareContent=function(H,W,G,M,k){return b.Promise.resolve(W).then(function(E){return p.blob&&(E instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(E))!==-1)&&typeof FileReader<"u"?new b.Promise(function(w,C){var S=new FileReader;S.onload=function(R){w(R.target.result)},S.onerror=function(R){C(R.target.error)},S.readAsArrayBuffer(E)}):E}).then(function(E){var w=v.getTypeOf(E);return w?(w==="arraybuffer"?E=v.transformTo("uint8array",E):w==="string"&&(k?E=y.decode(E):G&&M!==!0&&(E=function(C){return P(C,p.uint8array?new Uint8Array(C.length):new Array(C.length))}(E))),E):b.Promise.reject(new Error("Can't read the data of '"+H+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(h,g,v){var p=h("./reader/readerFor"),y=h("./utils"),m=h("./signature"),b=h("./zipEntry"),x=h("./support");function P(F){this.files=[],this.loadOptions=F}P.prototype={checkSignature:function(F){if(!this.reader.readAndCheckSignature(F)){this.reader.index-=4;var D=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+y.pretty(D)+", expected "+y.pretty(F)+")")}},isSignature:function(F,D){var O=this.reader.index;this.reader.setIndex(F);var j=this.reader.readString(4)===D;return this.reader.setIndex(O),j},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var F=this.reader.readData(this.zipCommentLength),D=x.uint8array?"uint8array":"array",O=y.transformTo(D,F);this.zipComment=this.loadOptions.decodeFileName(O)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var F,D,O,j=this.zip64EndOfCentralSize-44;0<j;)F=this.reader.readInt(2),D=this.reader.readInt(4),O=this.reader.readData(D),this.zip64ExtensibleData[F]={id:F,length:D,value:O}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var F,D;for(F=0;F<this.files.length;F++)D=this.files[F],this.reader.setIndex(D.localHeaderOffset),this.checkSignature(m.LOCAL_FILE_HEADER),D.readLocalPart(this.reader),D.handleUTF8(),D.processAttributes()},readCentralDir:function(){var F;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(m.CENTRAL_FILE_HEADER);)(F=new b({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(F);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var F=this.reader.lastIndexOfSignature(m.CENTRAL_DIRECTORY_END);if(F<0)throw this.isSignature(0,m.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(F);var D=F;if(this.checkSignature(m.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===y.MAX_VALUE_16BITS||this.diskWithCentralDirStart===y.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===y.MAX_VALUE_16BITS||this.centralDirRecords===y.MAX_VALUE_16BITS||this.centralDirSize===y.MAX_VALUE_32BITS||this.centralDirOffset===y.MAX_VALUE_32BITS){if(this.zip64=!0,(F=this.reader.lastIndexOfSignature(m.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(F),this.checkSignature(m.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,m.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(m.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(m.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var O=this.centralDirOffset+this.centralDirSize;this.zip64&&(O+=20,O+=12+this.zip64EndOfCentralSize);var j=D-O;if(0<j)this.isSignature(D,m.CENTRAL_FILE_HEADER)||(this.reader.zero=j);else if(j<0)throw new Error("Corrupted zip: missing "+Math.abs(j)+" bytes.")},prepareReader:function(F){this.reader=p(F)},load:function(F){this.prepareReader(F),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},g.exports=P},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(h,g,v){var p=h("./reader/readerFor"),y=h("./utils"),m=h("./compressedObject"),b=h("./crc32"),x=h("./utf8"),P=h("./compressions"),F=h("./support");function D(O,j){this.options=O,this.loadOptions=j}D.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(O){var j,H;if(O.skip(22),this.fileNameLength=O.readInt(2),H=O.readInt(2),this.fileName=O.readData(this.fileNameLength),O.skip(H),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((j=function(W){for(var G in P)if(Object.prototype.hasOwnProperty.call(P,G)&&P[G].magic===W)return P[G];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+y.pretty(this.compressionMethod)+" unknown (inner file : "+y.transformTo("string",this.fileName)+")");this.decompressed=new m(this.compressedSize,this.uncompressedSize,this.crc32,j,O.readData(this.compressedSize))},readCentralPart:function(O){this.versionMadeBy=O.readInt(2),O.skip(2),this.bitFlag=O.readInt(2),this.compressionMethod=O.readString(2),this.date=O.readDate(),this.crc32=O.readInt(4),this.compressedSize=O.readInt(4),this.uncompressedSize=O.readInt(4);var j=O.readInt(2);if(this.extraFieldsLength=O.readInt(2),this.fileCommentLength=O.readInt(2),this.diskNumberStart=O.readInt(2),this.internalFileAttributes=O.readInt(2),this.externalFileAttributes=O.readInt(4),this.localHeaderOffset=O.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");O.skip(j),this.readExtraFields(O),this.parseZIP64ExtraField(O),this.fileComment=O.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var O=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),O==0&&(this.dosPermissions=63&this.externalFileAttributes),O==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var O=p(this.extraFields[1].value);this.uncompressedSize===y.MAX_VALUE_32BITS&&(this.uncompressedSize=O.readInt(8)),this.compressedSize===y.MAX_VALUE_32BITS&&(this.compressedSize=O.readInt(8)),this.localHeaderOffset===y.MAX_VALUE_32BITS&&(this.localHeaderOffset=O.readInt(8)),this.diskNumberStart===y.MAX_VALUE_32BITS&&(this.diskNumberStart=O.readInt(4))}},readExtraFields:function(O){var j,H,W,G=O.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});O.index+4<G;)j=O.readInt(2),H=O.readInt(2),W=O.readData(H),this.extraFields[j]={id:j,length:H,value:W};O.setIndex(G)},handleUTF8:function(){var O=F.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=x.utf8decode(this.fileName),this.fileCommentStr=x.utf8decode(this.fileComment);else{var j=this.findExtraFieldUnicodePath();if(j!==null)this.fileNameStr=j;else{var H=y.transformTo(O,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(H)}var W=this.findExtraFieldUnicodeComment();if(W!==null)this.fileCommentStr=W;else{var G=y.transformTo(O,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(G)}}},findExtraFieldUnicodePath:function(){var O=this.extraFields[28789];if(O){var j=p(O.value);return j.readInt(1)!==1||b(this.fileName)!==j.readInt(4)?null:x.utf8decode(j.readData(O.length-5))}return null},findExtraFieldUnicodeComment:function(){var O=this.extraFields[25461];if(O){var j=p(O.value);return j.readInt(1)!==1||b(this.fileComment)!==j.readInt(4)?null:x.utf8decode(j.readData(O.length-5))}return null}},g.exports=D},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(h,g,v){function p(j,H,W){this.name=j,this.dir=W.dir,this.date=W.date,this.comment=W.comment,this.unixPermissions=W.unixPermissions,this.dosPermissions=W.dosPermissions,this._data=H,this._dataBinary=W.binary,this.options={compression:W.compression,compressionOptions:W.compressionOptions}}var y=h("./stream/StreamHelper"),m=h("./stream/DataWorker"),b=h("./utf8"),x=h("./compressedObject"),P=h("./stream/GenericWorker");p.prototype={internalStream:function(j){var H=null,W="string";try{if(!j)throw new Error("No output type specified.");var G=(W=j.toLowerCase())==="string"||W==="text";W!=="binarystring"&&W!=="text"||(W="string"),H=this._decompressWorker();var M=!this._dataBinary;M&&!G&&(H=H.pipe(new b.Utf8EncodeWorker)),!M&&G&&(H=H.pipe(new b.Utf8DecodeWorker))}catch(k){(H=new P("error")).error(k)}return new y(H,W,"")},async:function(j,H){return this.internalStream(j).accumulate(H)},nodeStream:function(j,H){return this.internalStream(j||"nodebuffer").toNodejsStream(H)},_compressWorker:function(j,H){if(this._data instanceof x&&this._data.compression.magic===j.magic)return this._data.getCompressedWorker();var W=this._decompressWorker();return this._dataBinary||(W=W.pipe(new b.Utf8EncodeWorker)),x.createWorkerFrom(W,j,H)},_decompressWorker:function(){return this._data instanceof x?this._data.getContentWorker():this._data instanceof P?this._data:new m(this._data)}};for(var F=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],D=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},O=0;O<F.length;O++)p.prototype[F[O]]=D;g.exports=p},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(h,g,v){(function(p){var y,m,b=p.MutationObserver||p.WebKitMutationObserver;if(b){var x=0,P=new b(j),F=p.document.createTextNode("");P.observe(F,{characterData:!0}),y=function(){F.data=x=++x%2}}else if(p.setImmediate||p.MessageChannel===void 0)y="document"in p&&"onreadystatechange"in p.document.createElement("script")?function(){var H=p.document.createElement("script");H.onreadystatechange=function(){j(),H.onreadystatechange=null,H.parentNode.removeChild(H),H=null},p.document.documentElement.appendChild(H)}:function(){setTimeout(j,0)};else{var D=new p.MessageChannel;D.port1.onmessage=j,y=function(){D.port2.postMessage(0)}}var O=[];function j(){var H,W;m=!0;for(var G=O.length;G;){for(W=O,O=[],H=-1;++H<G;)W[H]();G=O.length}m=!1}g.exports=function(H){O.push(H)!==1||m||y()}}).call(this,o!==void 0?o:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(h,g,v){var p=h("immediate");function y(){}var m={},b=["REJECTED"],x=["FULFILLED"],P=["PENDING"];function F(G){if(typeof G!="function")throw new TypeError("resolver must be a function");this.state=P,this.queue=[],this.outcome=void 0,G!==y&&H(this,G)}function D(G,M,k){this.promise=G,typeof M=="function"&&(this.onFulfilled=M,this.callFulfilled=this.otherCallFulfilled),typeof k=="function"&&(this.onRejected=k,this.callRejected=this.otherCallRejected)}function O(G,M,k){p(function(){var E;try{E=M(k)}catch(w){return m.reject(G,w)}E===G?m.reject(G,new TypeError("Cannot resolve promise with itself")):m.resolve(G,E)})}function j(G){var M=G&&G.then;if(G&&(typeof G=="object"||typeof G=="function")&&typeof M=="function")return function(){M.apply(G,arguments)}}function H(G,M){var k=!1;function E(S){k||(k=!0,m.reject(G,S))}function w(S){k||(k=!0,m.resolve(G,S))}var C=W(function(){M(w,E)});C.status==="error"&&E(C.value)}function W(G,M){var k={};try{k.value=G(M),k.status="success"}catch(E){k.status="error",k.value=E}return k}(g.exports=F).prototype.finally=function(G){if(typeof G!="function")return this;var M=this.constructor;return this.then(function(k){return M.resolve(G()).then(function(){return k})},function(k){return M.resolve(G()).then(function(){throw k})})},F.prototype.catch=function(G){return this.then(null,G)},F.prototype.then=function(G,M){if(typeof G!="function"&&this.state===x||typeof M!="function"&&this.state===b)return this;var k=new this.constructor(y);return this.state!==P?O(k,this.state===x?G:M,this.outcome):this.queue.push(new D(k,G,M)),k},D.prototype.callFulfilled=function(G){m.resolve(this.promise,G)},D.prototype.otherCallFulfilled=function(G){O(this.promise,this.onFulfilled,G)},D.prototype.callRejected=function(G){m.reject(this.promise,G)},D.prototype.otherCallRejected=function(G){O(this.promise,this.onRejected,G)},m.resolve=function(G,M){var k=W(j,M);if(k.status==="error")return m.reject(G,k.value);var E=k.value;if(E)H(G,E);else{G.state=x,G.outcome=M;for(var w=-1,C=G.queue.length;++w<C;)G.queue[w].callFulfilled(M)}return G},m.reject=function(G,M){G.state=b,G.outcome=M;for(var k=-1,E=G.queue.length;++k<E;)G.queue[k].callRejected(M);return G},F.resolve=function(G){return G instanceof this?G:m.resolve(new this(y),G)},F.reject=function(G){var M=new this(y);return m.reject(M,G)},F.all=function(G){var M=this;if(Object.prototype.toString.call(G)!=="[object Array]")return this.reject(new TypeError("must be an array"));var k=G.length,E=!1;if(!k)return this.resolve([]);for(var w=new Array(k),C=0,S=-1,R=new this(y);++S<k;)_(G[S],S);return R;function _(N,B){M.resolve(N).then(function(V){w[B]=V,++C!==k||E||(E=!0,m.resolve(R,w))},function(V){E||(E=!0,m.reject(R,V))})}},F.race=function(G){if(Object.prototype.toString.call(G)!=="[object Array]")return this.reject(new TypeError("must be an array"));var M=G.length,k=!1;if(!M)return this.resolve([]);for(var E,w=-1,C=new this(y);++w<M;)E=G[w],this.resolve(E).then(function(S){k||(k=!0,m.resolve(C,S))},function(S){k||(k=!0,m.reject(C,S))});return C}},{immediate:36}],38:[function(h,g,v){var p={};(0,h("./lib/utils/common").assign)(p,h("./lib/deflate"),h("./lib/inflate"),h("./lib/zlib/constants")),g.exports=p},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(h,g,v){var p=h("./zlib/deflate"),y=h("./utils/common"),m=h("./utils/strings"),b=h("./zlib/messages"),x=h("./zlib/zstream"),P=Object.prototype.toString;function F(O){if(!(this instanceof F))return new F(O);this.options=y.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},O||{});var j=this.options;j.raw&&0<j.windowBits?j.windowBits=-j.windowBits:j.gzip&&0<j.windowBits&&j.windowBits<16&&(j.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new x,this.strm.avail_out=0;var H=p.deflateInit2(this.strm,j.level,j.method,j.windowBits,j.memLevel,j.strategy);if(H!==0)throw new Error(b[H]);if(j.header&&p.deflateSetHeader(this.strm,j.header),j.dictionary){var W;if(W=typeof j.dictionary=="string"?m.string2buf(j.dictionary):P.call(j.dictionary)==="[object ArrayBuffer]"?new Uint8Array(j.dictionary):j.dictionary,(H=p.deflateSetDictionary(this.strm,W))!==0)throw new Error(b[H]);this._dict_set=!0}}function D(O,j){var H=new F(j);if(H.push(O,!0),H.err)throw H.msg||b[H.err];return H.result}F.prototype.push=function(O,j){var H,W,G=this.strm,M=this.options.chunkSize;if(this.ended)return!1;W=j===~~j?j:j===!0?4:0,typeof O=="string"?G.input=m.string2buf(O):P.call(O)==="[object ArrayBuffer]"?G.input=new Uint8Array(O):G.input=O,G.next_in=0,G.avail_in=G.input.length;do{if(G.avail_out===0&&(G.output=new y.Buf8(M),G.next_out=0,G.avail_out=M),(H=p.deflate(G,W))!==1&&H!==0)return this.onEnd(H),!(this.ended=!0);G.avail_out!==0&&(G.avail_in!==0||W!==4&&W!==2)||(this.options.to==="string"?this.onData(m.buf2binstring(y.shrinkBuf(G.output,G.next_out))):this.onData(y.shrinkBuf(G.output,G.next_out)))}while((0<G.avail_in||G.avail_out===0)&&H!==1);return W===4?(H=p.deflateEnd(this.strm),this.onEnd(H),this.ended=!0,H===0):W!==2||(this.onEnd(0),!(G.avail_out=0))},F.prototype.onData=function(O){this.chunks.push(O)},F.prototype.onEnd=function(O){O===0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=y.flattenChunks(this.chunks)),this.chunks=[],this.err=O,this.msg=this.strm.msg},v.Deflate=F,v.deflate=D,v.deflateRaw=function(O,j){return(j=j||{}).raw=!0,D(O,j)},v.gzip=function(O,j){return(j=j||{}).gzip=!0,D(O,j)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(h,g,v){var p=h("./zlib/inflate"),y=h("./utils/common"),m=h("./utils/strings"),b=h("./zlib/constants"),x=h("./zlib/messages"),P=h("./zlib/zstream"),F=h("./zlib/gzheader"),D=Object.prototype.toString;function O(H){if(!(this instanceof O))return new O(H);this.options=y.assign({chunkSize:16384,windowBits:0,to:""},H||{});var W=this.options;W.raw&&0<=W.windowBits&&W.windowBits<16&&(W.windowBits=-W.windowBits,W.windowBits===0&&(W.windowBits=-15)),!(0<=W.windowBits&&W.windowBits<16)||H&&H.windowBits||(W.windowBits+=32),15<W.windowBits&&W.windowBits<48&&!(15&W.windowBits)&&(W.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new P,this.strm.avail_out=0;var G=p.inflateInit2(this.strm,W.windowBits);if(G!==b.Z_OK)throw new Error(x[G]);this.header=new F,p.inflateGetHeader(this.strm,this.header)}function j(H,W){var G=new O(W);if(G.push(H,!0),G.err)throw G.msg||x[G.err];return G.result}O.prototype.push=function(H,W){var G,M,k,E,w,C,S=this.strm,R=this.options.chunkSize,_=this.options.dictionary,N=!1;if(this.ended)return!1;M=W===~~W?W:W===!0?b.Z_FINISH:b.Z_NO_FLUSH,typeof H=="string"?S.input=m.binstring2buf(H):D.call(H)==="[object ArrayBuffer]"?S.input=new Uint8Array(H):S.input=H,S.next_in=0,S.avail_in=S.input.length;do{if(S.avail_out===0&&(S.output=new y.Buf8(R),S.next_out=0,S.avail_out=R),(G=p.inflate(S,b.Z_NO_FLUSH))===b.Z_NEED_DICT&&_&&(C=typeof _=="string"?m.string2buf(_):D.call(_)==="[object ArrayBuffer]"?new Uint8Array(_):_,G=p.inflateSetDictionary(this.strm,C)),G===b.Z_BUF_ERROR&&N===!0&&(G=b.Z_OK,N=!1),G!==b.Z_STREAM_END&&G!==b.Z_OK)return this.onEnd(G),!(this.ended=!0);S.next_out&&(S.avail_out!==0&&G!==b.Z_STREAM_END&&(S.avail_in!==0||M!==b.Z_FINISH&&M!==b.Z_SYNC_FLUSH)||(this.options.to==="string"?(k=m.utf8border(S.output,S.next_out),E=S.next_out-k,w=m.buf2string(S.output,k),S.next_out=E,S.avail_out=R-E,E&&y.arraySet(S.output,S.output,k,E,0),this.onData(w)):this.onData(y.shrinkBuf(S.output,S.next_out)))),S.avail_in===0&&S.avail_out===0&&(N=!0)}while((0<S.avail_in||S.avail_out===0)&&G!==b.Z_STREAM_END);return G===b.Z_STREAM_END&&(M=b.Z_FINISH),M===b.Z_FINISH?(G=p.inflateEnd(this.strm),this.onEnd(G),this.ended=!0,G===b.Z_OK):M!==b.Z_SYNC_FLUSH||(this.onEnd(b.Z_OK),!(S.avail_out=0))},O.prototype.onData=function(H){this.chunks.push(H)},O.prototype.onEnd=function(H){H===b.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=y.flattenChunks(this.chunks)),this.chunks=[],this.err=H,this.msg=this.strm.msg},v.Inflate=O,v.inflate=j,v.inflateRaw=function(H,W){return(W=W||{}).raw=!0,j(H,W)},v.ungzip=j},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(h,g,v){var p=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";v.assign=function(b){for(var x=Array.prototype.slice.call(arguments,1);x.length;){var P=x.shift();if(P){if(typeof P!="object")throw new TypeError(P+"must be non-object");for(var F in P)P.hasOwnProperty(F)&&(b[F]=P[F])}}return b},v.shrinkBuf=function(b,x){return b.length===x?b:b.subarray?b.subarray(0,x):(b.length=x,b)};var y={arraySet:function(b,x,P,F,D){if(x.subarray&&b.subarray)b.set(x.subarray(P,P+F),D);else for(var O=0;O<F;O++)b[D+O]=x[P+O]},flattenChunks:function(b){var x,P,F,D,O,j;for(x=F=0,P=b.length;x<P;x++)F+=b[x].length;for(j=new Uint8Array(F),x=D=0,P=b.length;x<P;x++)O=b[x],j.set(O,D),D+=O.length;return j}},m={arraySet:function(b,x,P,F,D){for(var O=0;O<F;O++)b[D+O]=x[P+O]},flattenChunks:function(b){return[].concat.apply([],b)}};v.setTyped=function(b){b?(v.Buf8=Uint8Array,v.Buf16=Uint16Array,v.Buf32=Int32Array,v.assign(v,y)):(v.Buf8=Array,v.Buf16=Array,v.Buf32=Array,v.assign(v,m))},v.setTyped(p)},{}],42:[function(h,g,v){var p=h("./common"),y=!0,m=!0;try{String.fromCharCode.apply(null,[0])}catch{y=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{m=!1}for(var b=new p.Buf8(256),x=0;x<256;x++)b[x]=252<=x?6:248<=x?5:240<=x?4:224<=x?3:192<=x?2:1;function P(F,D){if(D<65537&&(F.subarray&&m||!F.subarray&&y))return String.fromCharCode.apply(null,p.shrinkBuf(F,D));for(var O="",j=0;j<D;j++)O+=String.fromCharCode(F[j]);return O}b[254]=b[254]=1,v.string2buf=function(F){var D,O,j,H,W,G=F.length,M=0;for(H=0;H<G;H++)(64512&(O=F.charCodeAt(H)))==55296&&H+1<G&&(64512&(j=F.charCodeAt(H+1)))==56320&&(O=65536+(O-55296<<10)+(j-56320),H++),M+=O<128?1:O<2048?2:O<65536?3:4;for(D=new p.Buf8(M),H=W=0;W<M;H++)(64512&(O=F.charCodeAt(H)))==55296&&H+1<G&&(64512&(j=F.charCodeAt(H+1)))==56320&&(O=65536+(O-55296<<10)+(j-56320),H++),O<128?D[W++]=O:(O<2048?D[W++]=192|O>>>6:(O<65536?D[W++]=224|O>>>12:(D[W++]=240|O>>>18,D[W++]=128|O>>>12&63),D[W++]=128|O>>>6&63),D[W++]=128|63&O);return D},v.buf2binstring=function(F){return P(F,F.length)},v.binstring2buf=function(F){for(var D=new p.Buf8(F.length),O=0,j=D.length;O<j;O++)D[O]=F.charCodeAt(O);return D},v.buf2string=function(F,D){var O,j,H,W,G=D||F.length,M=new Array(2*G);for(O=j=0;O<G;)if((H=F[O++])<128)M[j++]=H;else if(4<(W=b[H]))M[j++]=65533,O+=W-1;else{for(H&=W===2?31:W===3?15:7;1<W&&O<G;)H=H<<6|63&F[O++],W--;1<W?M[j++]=65533:H<65536?M[j++]=H:(H-=65536,M[j++]=55296|H>>10&1023,M[j++]=56320|1023&H)}return P(M,j)},v.utf8border=function(F,D){var O;for((D=D||F.length)>F.length&&(D=F.length),O=D-1;0<=O&&(192&F[O])==128;)O--;return O<0||O===0?D:O+b[F[O]]>D?O:D}},{"./common":41}],43:[function(h,g,v){g.exports=function(p,y,m,b){for(var x=65535&p|0,P=p>>>16&65535|0,F=0;m!==0;){for(m-=F=2e3<m?2e3:m;P=P+(x=x+y[b++]|0)|0,--F;);x%=65521,P%=65521}return x|P<<16|0}},{}],44:[function(h,g,v){g.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(h,g,v){var p=function(){for(var y,m=[],b=0;b<256;b++){y=b;for(var x=0;x<8;x++)y=1&y?3988292384^y>>>1:y>>>1;m[b]=y}return m}();g.exports=function(y,m,b,x){var P=p,F=x+b;y^=-1;for(var D=x;D<F;D++)y=y>>>8^P[255&(y^m[D])];return-1^y}},{}],46:[function(h,g,v){var p,y=h("../utils/common"),m=h("./trees"),b=h("./adler32"),x=h("./crc32"),P=h("./messages"),F=-2,D=258,O=262,j=113;function H(L,K){return L.msg=P[K],K}function W(L){return(L<<1)-(4<L?9:0)}function G(L){for(var K=L.length;0<=--K;)L[K]=0}function M(L){var K=L.state,I=K.pending;I>L.avail_out&&(I=L.avail_out),I!==0&&(y.arraySet(L.output,K.pending_buf,K.pending_out,I,L.next_out),L.next_out+=I,K.pending_out+=I,L.total_out+=I,L.avail_out-=I,K.pending-=I,K.pending===0&&(K.pending_out=0))}function k(L,K){m._tr_flush_block(L,0<=L.block_start?L.block_start:-1,L.strstart-L.block_start,K),L.block_start=L.strstart,M(L.strm)}function E(L,K){L.pending_buf[L.pending++]=K}function w(L,K){L.pending_buf[L.pending++]=K>>>8&255,L.pending_buf[L.pending++]=255&K}function C(L,K){var I,A,z=L.max_chain_length,q=L.strstart,J=L.prev_length,X=L.nice_match,Z=L.strstart>L.w_size-O?L.strstart-(L.w_size-O):0,ie=L.window,se=L.w_mask,Q=L.prev,re=L.strstart+D,ne=ie[q+J-1],ue=ie[q+J];L.prev_length>=L.good_match&&(z>>=2),X>L.lookahead&&(X=L.lookahead);do if(ie[(I=K)+J]===ue&&ie[I+J-1]===ne&&ie[I]===ie[q]&&ie[++I]===ie[q+1]){q+=2,I++;do;while(ie[++q]===ie[++I]&&ie[++q]===ie[++I]&&ie[++q]===ie[++I]&&ie[++q]===ie[++I]&&ie[++q]===ie[++I]&&ie[++q]===ie[++I]&&ie[++q]===ie[++I]&&ie[++q]===ie[++I]&&q<re);if(A=D-(re-q),q=re-D,J<A){if(L.match_start=K,X<=(J=A))break;ne=ie[q+J-1],ue=ie[q+J]}}while((K=Q[K&se])>Z&&--z!=0);return J<=L.lookahead?J:L.lookahead}function S(L){var K,I,A,z,q,J,X,Z,ie,se,Q=L.w_size;do{if(z=L.window_size-L.lookahead-L.strstart,L.strstart>=Q+(Q-O)){for(y.arraySet(L.window,L.window,Q,Q,0),L.match_start-=Q,L.strstart-=Q,L.block_start-=Q,K=I=L.hash_size;A=L.head[--K],L.head[K]=Q<=A?A-Q:0,--I;);for(K=I=Q;A=L.prev[--K],L.prev[K]=Q<=A?A-Q:0,--I;);z+=Q}if(L.strm.avail_in===0)break;if(J=L.strm,X=L.window,Z=L.strstart+L.lookahead,se=void 0,(ie=z)<(se=J.avail_in)&&(se=ie),I=se===0?0:(J.avail_in-=se,y.arraySet(X,J.input,J.next_in,se,Z),J.state.wrap===1?J.adler=b(J.adler,X,se,Z):J.state.wrap===2&&(J.adler=x(J.adler,X,se,Z)),J.next_in+=se,J.total_in+=se,se),L.lookahead+=I,L.lookahead+L.insert>=3)for(q=L.strstart-L.insert,L.ins_h=L.window[q],L.ins_h=(L.ins_h<<L.hash_shift^L.window[q+1])&L.hash_mask;L.insert&&(L.ins_h=(L.ins_h<<L.hash_shift^L.window[q+3-1])&L.hash_mask,L.prev[q&L.w_mask]=L.head[L.ins_h],L.head[L.ins_h]=q,q++,L.insert--,!(L.lookahead+L.insert<3)););}while(L.lookahead<O&&L.strm.avail_in!==0)}function R(L,K){for(var I,A;;){if(L.lookahead<O){if(S(L),L.lookahead<O&&K===0)return 1;if(L.lookahead===0)break}if(I=0,L.lookahead>=3&&(L.ins_h=(L.ins_h<<L.hash_shift^L.window[L.strstart+3-1])&L.hash_mask,I=L.prev[L.strstart&L.w_mask]=L.head[L.ins_h],L.head[L.ins_h]=L.strstart),I!==0&&L.strstart-I<=L.w_size-O&&(L.match_length=C(L,I)),L.match_length>=3)if(A=m._tr_tally(L,L.strstart-L.match_start,L.match_length-3),L.lookahead-=L.match_length,L.match_length<=L.max_lazy_match&&L.lookahead>=3){for(L.match_length--;L.strstart++,L.ins_h=(L.ins_h<<L.hash_shift^L.window[L.strstart+3-1])&L.hash_mask,I=L.prev[L.strstart&L.w_mask]=L.head[L.ins_h],L.head[L.ins_h]=L.strstart,--L.match_length!=0;);L.strstart++}else L.strstart+=L.match_length,L.match_length=0,L.ins_h=L.window[L.strstart],L.ins_h=(L.ins_h<<L.hash_shift^L.window[L.strstart+1])&L.hash_mask;else A=m._tr_tally(L,0,L.window[L.strstart]),L.lookahead--,L.strstart++;if(A&&(k(L,!1),L.strm.avail_out===0))return 1}return L.insert=L.strstart<2?L.strstart:2,K===4?(k(L,!0),L.strm.avail_out===0?3:4):L.last_lit&&(k(L,!1),L.strm.avail_out===0)?1:2}function _(L,K){for(var I,A,z;;){if(L.lookahead<O){if(S(L),L.lookahead<O&&K===0)return 1;if(L.lookahead===0)break}if(I=0,L.lookahead>=3&&(L.ins_h=(L.ins_h<<L.hash_shift^L.window[L.strstart+3-1])&L.hash_mask,I=L.prev[L.strstart&L.w_mask]=L.head[L.ins_h],L.head[L.ins_h]=L.strstart),L.prev_length=L.match_length,L.prev_match=L.match_start,L.match_length=2,I!==0&&L.prev_length<L.max_lazy_match&&L.strstart-I<=L.w_size-O&&(L.match_length=C(L,I),L.match_length<=5&&(L.strategy===1||L.match_length===3&&4096<L.strstart-L.match_start)&&(L.match_length=2)),L.prev_length>=3&&L.match_length<=L.prev_length){for(z=L.strstart+L.lookahead-3,A=m._tr_tally(L,L.strstart-1-L.prev_match,L.prev_length-3),L.lookahead-=L.prev_length-1,L.prev_length-=2;++L.strstart<=z&&(L.ins_h=(L.ins_h<<L.hash_shift^L.window[L.strstart+3-1])&L.hash_mask,I=L.prev[L.strstart&L.w_mask]=L.head[L.ins_h],L.head[L.ins_h]=L.strstart),--L.prev_length!=0;);if(L.match_available=0,L.match_length=2,L.strstart++,A&&(k(L,!1),L.strm.avail_out===0))return 1}else if(L.match_available){if((A=m._tr_tally(L,0,L.window[L.strstart-1]))&&k(L,!1),L.strstart++,L.lookahead--,L.strm.avail_out===0)return 1}else L.match_available=1,L.strstart++,L.lookahead--}return L.match_available&&(A=m._tr_tally(L,0,L.window[L.strstart-1]),L.match_available=0),L.insert=L.strstart<2?L.strstart:2,K===4?(k(L,!0),L.strm.avail_out===0?3:4):L.last_lit&&(k(L,!1),L.strm.avail_out===0)?1:2}function N(L,K,I,A,z){this.good_length=L,this.max_lazy=K,this.nice_length=I,this.max_chain=A,this.func=z}function B(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new y.Buf16(1146),this.dyn_dtree=new y.Buf16(122),this.bl_tree=new y.Buf16(78),G(this.dyn_ltree),G(this.dyn_dtree),G(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new y.Buf16(16),this.heap=new y.Buf16(573),G(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new y.Buf16(573),G(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function V(L){var K;return L&&L.state?(L.total_in=L.total_out=0,L.data_type=2,(K=L.state).pending=0,K.pending_out=0,K.wrap<0&&(K.wrap=-K.wrap),K.status=K.wrap?42:j,L.adler=K.wrap===2?0:1,K.last_flush=0,m._tr_init(K),0):H(L,F)}function $(L){var K=V(L);return K===0&&function(I){I.window_size=2*I.w_size,G(I.head),I.max_lazy_match=p[I.level].max_lazy,I.good_match=p[I.level].good_length,I.nice_match=p[I.level].nice_length,I.max_chain_length=p[I.level].max_chain,I.strstart=0,I.block_start=0,I.lookahead=0,I.insert=0,I.match_length=I.prev_length=2,I.match_available=0,I.ins_h=0}(L.state),K}function Y(L,K,I,A,z,q){if(!L)return F;var J=1;if(K===-1&&(K=6),A<0?(J=0,A=-A):15<A&&(J=2,A-=16),z<1||9<z||I!==8||A<8||15<A||K<0||9<K||q<0||4<q)return H(L,F);A===8&&(A=9);var X=new B;return(L.state=X).strm=L,X.wrap=J,X.gzhead=null,X.w_bits=A,X.w_size=1<<X.w_bits,X.w_mask=X.w_size-1,X.hash_bits=z+7,X.hash_size=1<<X.hash_bits,X.hash_mask=X.hash_size-1,X.hash_shift=~~((X.hash_bits+3-1)/3),X.window=new y.Buf8(2*X.w_size),X.head=new y.Buf16(X.hash_size),X.prev=new y.Buf16(X.w_size),X.lit_bufsize=1<<z+6,X.pending_buf_size=4*X.lit_bufsize,X.pending_buf=new y.Buf8(X.pending_buf_size),X.d_buf=1*X.lit_bufsize,X.l_buf=3*X.lit_bufsize,X.level=K,X.strategy=q,X.method=I,$(L)}p=[new N(0,0,0,0,function(L,K){var I=65535;for(I>L.pending_buf_size-5&&(I=L.pending_buf_size-5);;){if(L.lookahead<=1){if(S(L),L.lookahead===0&&K===0)return 1;if(L.lookahead===0)break}L.strstart+=L.lookahead,L.lookahead=0;var A=L.block_start+I;if((L.strstart===0||L.strstart>=A)&&(L.lookahead=L.strstart-A,L.strstart=A,k(L,!1),L.strm.avail_out===0)||L.strstart-L.block_start>=L.w_size-O&&(k(L,!1),L.strm.avail_out===0))return 1}return L.insert=0,K===4?(k(L,!0),L.strm.avail_out===0?3:4):(L.strstart>L.block_start&&(k(L,!1),L.strm.avail_out),1)}),new N(4,4,8,4,R),new N(4,5,16,8,R),new N(4,6,32,32,R),new N(4,4,16,16,_),new N(8,16,32,32,_),new N(8,16,128,128,_),new N(8,32,128,256,_),new N(32,128,258,1024,_),new N(32,258,258,4096,_)],v.deflateInit=function(L,K){return Y(L,K,8,15,8,0)},v.deflateInit2=Y,v.deflateReset=$,v.deflateResetKeep=V,v.deflateSetHeader=function(L,K){return L&&L.state?L.state.wrap!==2?F:(L.state.gzhead=K,0):F},v.deflate=function(L,K){var I,A,z,q;if(!L||!L.state||5<K||K<0)return L?H(L,F):F;if(A=L.state,!L.output||!L.input&&L.avail_in!==0||A.status===666&&K!==4)return H(L,L.avail_out===0?-5:F);if(A.strm=L,I=A.last_flush,A.last_flush=K,A.status===42)if(A.wrap===2)L.adler=0,E(A,31),E(A,139),E(A,8),A.gzhead?(E(A,(A.gzhead.text?1:0)+(A.gzhead.hcrc?2:0)+(A.gzhead.extra?4:0)+(A.gzhead.name?8:0)+(A.gzhead.comment?16:0)),E(A,255&A.gzhead.time),E(A,A.gzhead.time>>8&255),E(A,A.gzhead.time>>16&255),E(A,A.gzhead.time>>24&255),E(A,A.level===9?2:2<=A.strategy||A.level<2?4:0),E(A,255&A.gzhead.os),A.gzhead.extra&&A.gzhead.extra.length&&(E(A,255&A.gzhead.extra.length),E(A,A.gzhead.extra.length>>8&255)),A.gzhead.hcrc&&(L.adler=x(L.adler,A.pending_buf,A.pending,0)),A.gzindex=0,A.status=69):(E(A,0),E(A,0),E(A,0),E(A,0),E(A,0),E(A,A.level===9?2:2<=A.strategy||A.level<2?4:0),E(A,3),A.status=j);else{var J=8+(A.w_bits-8<<4)<<8;J|=(2<=A.strategy||A.level<2?0:A.level<6?1:A.level===6?2:3)<<6,A.strstart!==0&&(J|=32),J+=31-J%31,A.status=j,w(A,J),A.strstart!==0&&(w(A,L.adler>>>16),w(A,65535&L.adler)),L.adler=1}if(A.status===69)if(A.gzhead.extra){for(z=A.pending;A.gzindex<(65535&A.gzhead.extra.length)&&(A.pending!==A.pending_buf_size||(A.gzhead.hcrc&&A.pending>z&&(L.adler=x(L.adler,A.pending_buf,A.pending-z,z)),M(L),z=A.pending,A.pending!==A.pending_buf_size));)E(A,255&A.gzhead.extra[A.gzindex]),A.gzindex++;A.gzhead.hcrc&&A.pending>z&&(L.adler=x(L.adler,A.pending_buf,A.pending-z,z)),A.gzindex===A.gzhead.extra.length&&(A.gzindex=0,A.status=73)}else A.status=73;if(A.status===73)if(A.gzhead.name){z=A.pending;do{if(A.pending===A.pending_buf_size&&(A.gzhead.hcrc&&A.pending>z&&(L.adler=x(L.adler,A.pending_buf,A.pending-z,z)),M(L),z=A.pending,A.pending===A.pending_buf_size)){q=1;break}q=A.gzindex<A.gzhead.name.length?255&A.gzhead.name.charCodeAt(A.gzindex++):0,E(A,q)}while(q!==0);A.gzhead.hcrc&&A.pending>z&&(L.adler=x(L.adler,A.pending_buf,A.pending-z,z)),q===0&&(A.gzindex=0,A.status=91)}else A.status=91;if(A.status===91)if(A.gzhead.comment){z=A.pending;do{if(A.pending===A.pending_buf_size&&(A.gzhead.hcrc&&A.pending>z&&(L.adler=x(L.adler,A.pending_buf,A.pending-z,z)),M(L),z=A.pending,A.pending===A.pending_buf_size)){q=1;break}q=A.gzindex<A.gzhead.comment.length?255&A.gzhead.comment.charCodeAt(A.gzindex++):0,E(A,q)}while(q!==0);A.gzhead.hcrc&&A.pending>z&&(L.adler=x(L.adler,A.pending_buf,A.pending-z,z)),q===0&&(A.status=103)}else A.status=103;if(A.status===103&&(A.gzhead.hcrc?(A.pending+2>A.pending_buf_size&&M(L),A.pending+2<=A.pending_buf_size&&(E(A,255&L.adler),E(A,L.adler>>8&255),L.adler=0,A.status=j)):A.status=j),A.pending!==0){if(M(L),L.avail_out===0)return A.last_flush=-1,0}else if(L.avail_in===0&&W(K)<=W(I)&&K!==4)return H(L,-5);if(A.status===666&&L.avail_in!==0)return H(L,-5);if(L.avail_in!==0||A.lookahead!==0||K!==0&&A.status!==666){var X=A.strategy===2?function(Z,ie){for(var se;;){if(Z.lookahead===0&&(S(Z),Z.lookahead===0)){if(ie===0)return 1;break}if(Z.match_length=0,se=m._tr_tally(Z,0,Z.window[Z.strstart]),Z.lookahead--,Z.strstart++,se&&(k(Z,!1),Z.strm.avail_out===0))return 1}return Z.insert=0,ie===4?(k(Z,!0),Z.strm.avail_out===0?3:4):Z.last_lit&&(k(Z,!1),Z.strm.avail_out===0)?1:2}(A,K):A.strategy===3?function(Z,ie){for(var se,Q,re,ne,ue=Z.window;;){if(Z.lookahead<=D){if(S(Z),Z.lookahead<=D&&ie===0)return 1;if(Z.lookahead===0)break}if(Z.match_length=0,Z.lookahead>=3&&0<Z.strstart&&(Q=ue[re=Z.strstart-1])===ue[++re]&&Q===ue[++re]&&Q===ue[++re]){ne=Z.strstart+D;do;while(Q===ue[++re]&&Q===ue[++re]&&Q===ue[++re]&&Q===ue[++re]&&Q===ue[++re]&&Q===ue[++re]&&Q===ue[++re]&&Q===ue[++re]&&re<ne);Z.match_length=D-(ne-re),Z.match_length>Z.lookahead&&(Z.match_length=Z.lookahead)}if(Z.match_length>=3?(se=m._tr_tally(Z,1,Z.match_length-3),Z.lookahead-=Z.match_length,Z.strstart+=Z.match_length,Z.match_length=0):(se=m._tr_tally(Z,0,Z.window[Z.strstart]),Z.lookahead--,Z.strstart++),se&&(k(Z,!1),Z.strm.avail_out===0))return 1}return Z.insert=0,ie===4?(k(Z,!0),Z.strm.avail_out===0?3:4):Z.last_lit&&(k(Z,!1),Z.strm.avail_out===0)?1:2}(A,K):p[A.level].func(A,K);if(X!==3&&X!==4||(A.status=666),X===1||X===3)return L.avail_out===0&&(A.last_flush=-1),0;if(X===2&&(K===1?m._tr_align(A):K!==5&&(m._tr_stored_block(A,0,0,!1),K===3&&(G(A.head),A.lookahead===0&&(A.strstart=0,A.block_start=0,A.insert=0))),M(L),L.avail_out===0))return A.last_flush=-1,0}return K!==4?0:A.wrap<=0?1:(A.wrap===2?(E(A,255&L.adler),E(A,L.adler>>8&255),E(A,L.adler>>16&255),E(A,L.adler>>24&255),E(A,255&L.total_in),E(A,L.total_in>>8&255),E(A,L.total_in>>16&255),E(A,L.total_in>>24&255)):(w(A,L.adler>>>16),w(A,65535&L.adler)),M(L),0<A.wrap&&(A.wrap=-A.wrap),A.pending!==0?0:1)},v.deflateEnd=function(L){var K;return L&&L.state?(K=L.state.status)!==42&&K!==69&&K!==73&&K!==91&&K!==103&&K!==j&&K!==666?H(L,F):(L.state=null,K===j?H(L,-3):0):F},v.deflateSetDictionary=function(L,K){var I,A,z,q,J,X,Z,ie,se=K.length;if(!L||!L.state||(q=(I=L.state).wrap)===2||q===1&&I.status!==42||I.lookahead)return F;for(q===1&&(L.adler=b(L.adler,K,se,0)),I.wrap=0,se>=I.w_size&&(q===0&&(G(I.head),I.strstart=0,I.block_start=0,I.insert=0),ie=new y.Buf8(I.w_size),y.arraySet(ie,K,se-I.w_size,I.w_size,0),K=ie,se=I.w_size),J=L.avail_in,X=L.next_in,Z=L.input,L.avail_in=se,L.next_in=0,L.input=K,S(I);I.lookahead>=3;){for(A=I.strstart,z=I.lookahead-2;I.ins_h=(I.ins_h<<I.hash_shift^I.window[A+3-1])&I.hash_mask,I.prev[A&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=A,A++,--z;);I.strstart=A,I.lookahead=2,S(I)}return I.strstart+=I.lookahead,I.block_start=I.strstart,I.insert=I.lookahead,I.lookahead=0,I.match_length=I.prev_length=2,I.match_available=0,L.next_in=X,L.input=Z,L.avail_in=J,I.wrap=q,0},v.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(h,g,v){g.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(h,g,v){g.exports=function(p,y){var m,b,x,P,F,D,O,j,H,W,G,M,k,E,w,C,S,R,_,N,B,V,$,Y,L;m=p.state,b=p.next_in,Y=p.input,x=b+(p.avail_in-5),P=p.next_out,L=p.output,F=P-(y-p.avail_out),D=P+(p.avail_out-257),O=m.dmax,j=m.wsize,H=m.whave,W=m.wnext,G=m.window,M=m.hold,k=m.bits,E=m.lencode,w=m.distcode,C=(1<<m.lenbits)-1,S=(1<<m.distbits)-1;e:do{k<15&&(M+=Y[b++]<<k,k+=8,M+=Y[b++]<<k,k+=8),R=E[M&C];t:for(;;){if(M>>>=_=R>>>24,k-=_,(_=R>>>16&255)==0)L[P++]=65535&R;else{if(!(16&_)){if(!(64&_)){R=E[(65535&R)+(M&(1<<_)-1)];continue t}if(32&_){m.mode=12;break e}p.msg="invalid literal/length code",m.mode=30;break e}N=65535&R,(_&=15)&&(k<_&&(M+=Y[b++]<<k,k+=8),N+=M&(1<<_)-1,M>>>=_,k-=_),k<15&&(M+=Y[b++]<<k,k+=8,M+=Y[b++]<<k,k+=8),R=w[M&S];r:for(;;){if(M>>>=_=R>>>24,k-=_,!(16&(_=R>>>16&255))){if(!(64&_)){R=w[(65535&R)+(M&(1<<_)-1)];continue r}p.msg="invalid distance code",m.mode=30;break e}if(B=65535&R,k<(_&=15)&&(M+=Y[b++]<<k,(k+=8)<_&&(M+=Y[b++]<<k,k+=8)),O<(B+=M&(1<<_)-1)){p.msg="invalid distance too far back",m.mode=30;break e}if(M>>>=_,k-=_,(_=P-F)<B){if(H<(_=B-_)&&m.sane){p.msg="invalid distance too far back",m.mode=30;break e}if($=G,(V=0)===W){if(V+=j-_,_<N){for(N-=_;L[P++]=G[V++],--_;);V=P-B,$=L}}else if(W<_){if(V+=j+W-_,(_-=W)<N){for(N-=_;L[P++]=G[V++],--_;);if(V=0,W<N){for(N-=_=W;L[P++]=G[V++],--_;);V=P-B,$=L}}}else if(V+=W-_,_<N){for(N-=_;L[P++]=G[V++],--_;);V=P-B,$=L}for(;2<N;)L[P++]=$[V++],L[P++]=$[V++],L[P++]=$[V++],N-=3;N&&(L[P++]=$[V++],1<N&&(L[P++]=$[V++]))}else{for(V=P-B;L[P++]=L[V++],L[P++]=L[V++],L[P++]=L[V++],2<(N-=3););N&&(L[P++]=L[V++],1<N&&(L[P++]=L[V++]))}break}}break}}while(b<x&&P<D);b-=N=k>>3,M&=(1<<(k-=N<<3))-1,p.next_in=b,p.next_out=P,p.avail_in=b<x?x-b+5:5-(b-x),p.avail_out=P<D?D-P+257:257-(P-D),m.hold=M,m.bits=k}},{}],49:[function(h,g,v){var p=h("../utils/common"),y=h("./adler32"),m=h("./crc32"),b=h("./inffast"),x=h("./inftrees"),P=-2;function F(C){return(C>>>24&255)+(C>>>8&65280)+((65280&C)<<8)+((255&C)<<24)}function D(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new p.Buf16(320),this.work=new p.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function O(C){var S;return C&&C.state?(S=C.state,C.total_in=C.total_out=S.total=0,C.msg="",S.wrap&&(C.adler=1&S.wrap),S.mode=1,S.last=0,S.havedict=0,S.dmax=32768,S.head=null,S.hold=0,S.bits=0,S.lencode=S.lendyn=new p.Buf32(852),S.distcode=S.distdyn=new p.Buf32(592),S.sane=1,S.back=-1,0):P}function j(C){var S;return C&&C.state?((S=C.state).wsize=0,S.whave=0,S.wnext=0,O(C)):P}function H(C,S){var R,_;return C&&C.state?(_=C.state,S<0?(R=0,S=-S):(R=1+(S>>4),S<48&&(S&=15)),S&&(S<8||15<S)?P:(_.window!==null&&_.wbits!==S&&(_.window=null),_.wrap=R,_.wbits=S,j(C))):P}function W(C,S){var R,_;return C?(_=new D,(C.state=_).window=null,(R=H(C,S))!==0&&(C.state=null),R):P}var G,M,k=!0;function E(C){if(k){var S;for(G=new p.Buf32(512),M=new p.Buf32(32),S=0;S<144;)C.lens[S++]=8;for(;S<256;)C.lens[S++]=9;for(;S<280;)C.lens[S++]=7;for(;S<288;)C.lens[S++]=8;for(x(1,C.lens,0,288,G,0,C.work,{bits:9}),S=0;S<32;)C.lens[S++]=5;x(2,C.lens,0,32,M,0,C.work,{bits:5}),k=!1}C.lencode=G,C.lenbits=9,C.distcode=M,C.distbits=5}function w(C,S,R,_){var N,B=C.state;return B.window===null&&(B.wsize=1<<B.wbits,B.wnext=0,B.whave=0,B.window=new p.Buf8(B.wsize)),_>=B.wsize?(p.arraySet(B.window,S,R-B.wsize,B.wsize,0),B.wnext=0,B.whave=B.wsize):(_<(N=B.wsize-B.wnext)&&(N=_),p.arraySet(B.window,S,R-_,N,B.wnext),(_-=N)?(p.arraySet(B.window,S,R-_,_,0),B.wnext=_,B.whave=B.wsize):(B.wnext+=N,B.wnext===B.wsize&&(B.wnext=0),B.whave<B.wsize&&(B.whave+=N))),0}v.inflateReset=j,v.inflateReset2=H,v.inflateResetKeep=O,v.inflateInit=function(C){return W(C,15)},v.inflateInit2=W,v.inflate=function(C,S){var R,_,N,B,V,$,Y,L,K,I,A,z,q,J,X,Z,ie,se,Q,re,ne,ue,de,ge,we=0,xe=new p.Buf8(4),Fe=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!C||!C.state||!C.output||!C.input&&C.avail_in!==0)return P;(R=C.state).mode===12&&(R.mode=13),V=C.next_out,N=C.output,Y=C.avail_out,B=C.next_in,_=C.input,$=C.avail_in,L=R.hold,K=R.bits,I=$,A=Y,ue=0;e:for(;;)switch(R.mode){case 1:if(R.wrap===0){R.mode=13;break}for(;K<16;){if($===0)break e;$--,L+=_[B++]<<K,K+=8}if(2&R.wrap&&L===35615){xe[R.check=0]=255&L,xe[1]=L>>>8&255,R.check=m(R.check,xe,2,0),K=L=0,R.mode=2;break}if(R.flags=0,R.head&&(R.head.done=!1),!(1&R.wrap)||(((255&L)<<8)+(L>>8))%31){C.msg="incorrect header check",R.mode=30;break}if((15&L)!=8){C.msg="unknown compression method",R.mode=30;break}if(K-=4,ne=8+(15&(L>>>=4)),R.wbits===0)R.wbits=ne;else if(ne>R.wbits){C.msg="invalid window size",R.mode=30;break}R.dmax=1<<ne,C.adler=R.check=1,R.mode=512&L?10:12,K=L=0;break;case 2:for(;K<16;){if($===0)break e;$--,L+=_[B++]<<K,K+=8}if(R.flags=L,(255&R.flags)!=8){C.msg="unknown compression method",R.mode=30;break}if(57344&R.flags){C.msg="unknown header flags set",R.mode=30;break}R.head&&(R.head.text=L>>8&1),512&R.flags&&(xe[0]=255&L,xe[1]=L>>>8&255,R.check=m(R.check,xe,2,0)),K=L=0,R.mode=3;case 3:for(;K<32;){if($===0)break e;$--,L+=_[B++]<<K,K+=8}R.head&&(R.head.time=L),512&R.flags&&(xe[0]=255&L,xe[1]=L>>>8&255,xe[2]=L>>>16&255,xe[3]=L>>>24&255,R.check=m(R.check,xe,4,0)),K=L=0,R.mode=4;case 4:for(;K<16;){if($===0)break e;$--,L+=_[B++]<<K,K+=8}R.head&&(R.head.xflags=255&L,R.head.os=L>>8),512&R.flags&&(xe[0]=255&L,xe[1]=L>>>8&255,R.check=m(R.check,xe,2,0)),K=L=0,R.mode=5;case 5:if(1024&R.flags){for(;K<16;){if($===0)break e;$--,L+=_[B++]<<K,K+=8}R.length=L,R.head&&(R.head.extra_len=L),512&R.flags&&(xe[0]=255&L,xe[1]=L>>>8&255,R.check=m(R.check,xe,2,0)),K=L=0}else R.head&&(R.head.extra=null);R.mode=6;case 6:if(1024&R.flags&&($<(z=R.length)&&(z=$),z&&(R.head&&(ne=R.head.extra_len-R.length,R.head.extra||(R.head.extra=new Array(R.head.extra_len)),p.arraySet(R.head.extra,_,B,z,ne)),512&R.flags&&(R.check=m(R.check,_,z,B)),$-=z,B+=z,R.length-=z),R.length))break e;R.length=0,R.mode=7;case 7:if(2048&R.flags){if($===0)break e;for(z=0;ne=_[B+z++],R.head&&ne&&R.length<65536&&(R.head.name+=String.fromCharCode(ne)),ne&&z<$;);if(512&R.flags&&(R.check=m(R.check,_,z,B)),$-=z,B+=z,ne)break e}else R.head&&(R.head.name=null);R.length=0,R.mode=8;case 8:if(4096&R.flags){if($===0)break e;for(z=0;ne=_[B+z++],R.head&&ne&&R.length<65536&&(R.head.comment+=String.fromCharCode(ne)),ne&&z<$;);if(512&R.flags&&(R.check=m(R.check,_,z,B)),$-=z,B+=z,ne)break e}else R.head&&(R.head.comment=null);R.mode=9;case 9:if(512&R.flags){for(;K<16;){if($===0)break e;$--,L+=_[B++]<<K,K+=8}if(L!==(65535&R.check)){C.msg="header crc mismatch",R.mode=30;break}K=L=0}R.head&&(R.head.hcrc=R.flags>>9&1,R.head.done=!0),C.adler=R.check=0,R.mode=12;break;case 10:for(;K<32;){if($===0)break e;$--,L+=_[B++]<<K,K+=8}C.adler=R.check=F(L),K=L=0,R.mode=11;case 11:if(R.havedict===0)return C.next_out=V,C.avail_out=Y,C.next_in=B,C.avail_in=$,R.hold=L,R.bits=K,2;C.adler=R.check=1,R.mode=12;case 12:if(S===5||S===6)break e;case 13:if(R.last){L>>>=7&K,K-=7&K,R.mode=27;break}for(;K<3;){if($===0)break e;$--,L+=_[B++]<<K,K+=8}switch(R.last=1&L,K-=1,3&(L>>>=1)){case 0:R.mode=14;break;case 1:if(E(R),R.mode=20,S!==6)break;L>>>=2,K-=2;break e;case 2:R.mode=17;break;case 3:C.msg="invalid block type",R.mode=30}L>>>=2,K-=2;break;case 14:for(L>>>=7&K,K-=7&K;K<32;){if($===0)break e;$--,L+=_[B++]<<K,K+=8}if((65535&L)!=(L>>>16^65535)){C.msg="invalid stored block lengths",R.mode=30;break}if(R.length=65535&L,K=L=0,R.mode=15,S===6)break e;case 15:R.mode=16;case 16:if(z=R.length){if($<z&&(z=$),Y<z&&(z=Y),z===0)break e;p.arraySet(N,_,B,z,V),$-=z,B+=z,Y-=z,V+=z,R.length-=z;break}R.mode=12;break;case 17:for(;K<14;){if($===0)break e;$--,L+=_[B++]<<K,K+=8}if(R.nlen=257+(31&L),L>>>=5,K-=5,R.ndist=1+(31&L),L>>>=5,K-=5,R.ncode=4+(15&L),L>>>=4,K-=4,286<R.nlen||30<R.ndist){C.msg="too many length or distance symbols",R.mode=30;break}R.have=0,R.mode=18;case 18:for(;R.have<R.ncode;){for(;K<3;){if($===0)break e;$--,L+=_[B++]<<K,K+=8}R.lens[Fe[R.have++]]=7&L,L>>>=3,K-=3}for(;R.have<19;)R.lens[Fe[R.have++]]=0;if(R.lencode=R.lendyn,R.lenbits=7,de={bits:R.lenbits},ue=x(0,R.lens,0,19,R.lencode,0,R.work,de),R.lenbits=de.bits,ue){C.msg="invalid code lengths set",R.mode=30;break}R.have=0,R.mode=19;case 19:for(;R.have<R.nlen+R.ndist;){for(;Z=(we=R.lencode[L&(1<<R.lenbits)-1])>>>16&255,ie=65535&we,!((X=we>>>24)<=K);){if($===0)break e;$--,L+=_[B++]<<K,K+=8}if(ie<16)L>>>=X,K-=X,R.lens[R.have++]=ie;else{if(ie===16){for(ge=X+2;K<ge;){if($===0)break e;$--,L+=_[B++]<<K,K+=8}if(L>>>=X,K-=X,R.have===0){C.msg="invalid bit length repeat",R.mode=30;break}ne=R.lens[R.have-1],z=3+(3&L),L>>>=2,K-=2}else if(ie===17){for(ge=X+3;K<ge;){if($===0)break e;$--,L+=_[B++]<<K,K+=8}K-=X,ne=0,z=3+(7&(L>>>=X)),L>>>=3,K-=3}else{for(ge=X+7;K<ge;){if($===0)break e;$--,L+=_[B++]<<K,K+=8}K-=X,ne=0,z=11+(127&(L>>>=X)),L>>>=7,K-=7}if(R.have+z>R.nlen+R.ndist){C.msg="invalid bit length repeat",R.mode=30;break}for(;z--;)R.lens[R.have++]=ne}}if(R.mode===30)break;if(R.lens[256]===0){C.msg="invalid code -- missing end-of-block",R.mode=30;break}if(R.lenbits=9,de={bits:R.lenbits},ue=x(1,R.lens,0,R.nlen,R.lencode,0,R.work,de),R.lenbits=de.bits,ue){C.msg="invalid literal/lengths set",R.mode=30;break}if(R.distbits=6,R.distcode=R.distdyn,de={bits:R.distbits},ue=x(2,R.lens,R.nlen,R.ndist,R.distcode,0,R.work,de),R.distbits=de.bits,ue){C.msg="invalid distances set",R.mode=30;break}if(R.mode=20,S===6)break e;case 20:R.mode=21;case 21:if(6<=$&&258<=Y){C.next_out=V,C.avail_out=Y,C.next_in=B,C.avail_in=$,R.hold=L,R.bits=K,b(C,A),V=C.next_out,N=C.output,Y=C.avail_out,B=C.next_in,_=C.input,$=C.avail_in,L=R.hold,K=R.bits,R.mode===12&&(R.back=-1);break}for(R.back=0;Z=(we=R.lencode[L&(1<<R.lenbits)-1])>>>16&255,ie=65535&we,!((X=we>>>24)<=K);){if($===0)break e;$--,L+=_[B++]<<K,K+=8}if(Z&&!(240&Z)){for(se=X,Q=Z,re=ie;Z=(we=R.lencode[re+((L&(1<<se+Q)-1)>>se)])>>>16&255,ie=65535&we,!(se+(X=we>>>24)<=K);){if($===0)break e;$--,L+=_[B++]<<K,K+=8}L>>>=se,K-=se,R.back+=se}if(L>>>=X,K-=X,R.back+=X,R.length=ie,Z===0){R.mode=26;break}if(32&Z){R.back=-1,R.mode=12;break}if(64&Z){C.msg="invalid literal/length code",R.mode=30;break}R.extra=15&Z,R.mode=22;case 22:if(R.extra){for(ge=R.extra;K<ge;){if($===0)break e;$--,L+=_[B++]<<K,K+=8}R.length+=L&(1<<R.extra)-1,L>>>=R.extra,K-=R.extra,R.back+=R.extra}R.was=R.length,R.mode=23;case 23:for(;Z=(we=R.distcode[L&(1<<R.distbits)-1])>>>16&255,ie=65535&we,!((X=we>>>24)<=K);){if($===0)break e;$--,L+=_[B++]<<K,K+=8}if(!(240&Z)){for(se=X,Q=Z,re=ie;Z=(we=R.distcode[re+((L&(1<<se+Q)-1)>>se)])>>>16&255,ie=65535&we,!(se+(X=we>>>24)<=K);){if($===0)break e;$--,L+=_[B++]<<K,K+=8}L>>>=se,K-=se,R.back+=se}if(L>>>=X,K-=X,R.back+=X,64&Z){C.msg="invalid distance code",R.mode=30;break}R.offset=ie,R.extra=15&Z,R.mode=24;case 24:if(R.extra){for(ge=R.extra;K<ge;){if($===0)break e;$--,L+=_[B++]<<K,K+=8}R.offset+=L&(1<<R.extra)-1,L>>>=R.extra,K-=R.extra,R.back+=R.extra}if(R.offset>R.dmax){C.msg="invalid distance too far back",R.mode=30;break}R.mode=25;case 25:if(Y===0)break e;if(z=A-Y,R.offset>z){if((z=R.offset-z)>R.whave&&R.sane){C.msg="invalid distance too far back",R.mode=30;break}q=z>R.wnext?(z-=R.wnext,R.wsize-z):R.wnext-z,z>R.length&&(z=R.length),J=R.window}else J=N,q=V-R.offset,z=R.length;for(Y<z&&(z=Y),Y-=z,R.length-=z;N[V++]=J[q++],--z;);R.length===0&&(R.mode=21);break;case 26:if(Y===0)break e;N[V++]=R.length,Y--,R.mode=21;break;case 27:if(R.wrap){for(;K<32;){if($===0)break e;$--,L|=_[B++]<<K,K+=8}if(A-=Y,C.total_out+=A,R.total+=A,A&&(C.adler=R.check=R.flags?m(R.check,N,A,V-A):y(R.check,N,A,V-A)),A=Y,(R.flags?L:F(L))!==R.check){C.msg="incorrect data check",R.mode=30;break}K=L=0}R.mode=28;case 28:if(R.wrap&&R.flags){for(;K<32;){if($===0)break e;$--,L+=_[B++]<<K,K+=8}if(L!==(4294967295&R.total)){C.msg="incorrect length check",R.mode=30;break}K=L=0}R.mode=29;case 29:ue=1;break e;case 30:ue=-3;break e;case 31:return-4;case 32:default:return P}return C.next_out=V,C.avail_out=Y,C.next_in=B,C.avail_in=$,R.hold=L,R.bits=K,(R.wsize||A!==C.avail_out&&R.mode<30&&(R.mode<27||S!==4))&&w(C,C.output,C.next_out,A-C.avail_out)?(R.mode=31,-4):(I-=C.avail_in,A-=C.avail_out,C.total_in+=I,C.total_out+=A,R.total+=A,R.wrap&&A&&(C.adler=R.check=R.flags?m(R.check,N,A,C.next_out-A):y(R.check,N,A,C.next_out-A)),C.data_type=R.bits+(R.last?64:0)+(R.mode===12?128:0)+(R.mode===20||R.mode===15?256:0),(I==0&&A===0||S===4)&&ue===0&&(ue=-5),ue)},v.inflateEnd=function(C){if(!C||!C.state)return P;var S=C.state;return S.window&&(S.window=null),C.state=null,0},v.inflateGetHeader=function(C,S){var R;return C&&C.state&&2&(R=C.state).wrap?((R.head=S).done=!1,0):P},v.inflateSetDictionary=function(C,S){var R,_=S.length;return C&&C.state?(R=C.state).wrap!==0&&R.mode!==11?P:R.mode===11&&y(1,S,_,0)!==R.check?-3:w(C,S,_,_)?(R.mode=31,-4):(R.havedict=1,0):P},v.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(h,g,v){var p=h("../utils/common"),y=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],m=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],b=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],x=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];g.exports=function(P,F,D,O,j,H,W,G){var M,k,E,w,C,S,R,_,N,B=G.bits,V=0,$=0,Y=0,L=0,K=0,I=0,A=0,z=0,q=0,J=0,X=null,Z=0,ie=new p.Buf16(16),se=new p.Buf16(16),Q=null,re=0;for(V=0;V<=15;V++)ie[V]=0;for($=0;$<O;$++)ie[F[D+$]]++;for(K=B,L=15;1<=L&&ie[L]===0;L--);if(L<K&&(K=L),L===0)return j[H++]=20971520,j[H++]=20971520,G.bits=1,0;for(Y=1;Y<L&&ie[Y]===0;Y++);for(K<Y&&(K=Y),V=z=1;V<=15;V++)if(z<<=1,(z-=ie[V])<0)return-1;if(0<z&&(P===0||L!==1))return-1;for(se[1]=0,V=1;V<15;V++)se[V+1]=se[V]+ie[V];for($=0;$<O;$++)F[D+$]!==0&&(W[se[F[D+$]]++]=$);if(S=P===0?(X=Q=W,19):P===1?(X=y,Z-=257,Q=m,re-=257,256):(X=b,Q=x,-1),V=Y,C=H,A=$=J=0,E=-1,w=(q=1<<(I=K))-1,P===1&&852<q||P===2&&592<q)return 1;for(;;){for(R=V-A,N=W[$]<S?(_=0,W[$]):W[$]>S?(_=Q[re+W[$]],X[Z+W[$]]):(_=96,0),M=1<<V-A,Y=k=1<<I;j[C+(J>>A)+(k-=M)]=R<<24|_<<16|N|0,k!==0;);for(M=1<<V-1;J&M;)M>>=1;if(M!==0?(J&=M-1,J+=M):J=0,$++,--ie[V]==0){if(V===L)break;V=F[D+W[$]]}if(K<V&&(J&w)!==E){for(A===0&&(A=K),C+=Y,z=1<<(I=V-A);I+A<L&&!((z-=ie[I+A])<=0);)I++,z<<=1;if(q+=1<<I,P===1&&852<q||P===2&&592<q)return 1;j[E=J&w]=K<<24|I<<16|C-H|0}}return J!==0&&(j[C+J]=V-A<<24|64<<16|0),G.bits=K,0}},{"../utils/common":41}],51:[function(h,g,v){g.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(h,g,v){var p=h("../utils/common");function y(Q){for(var re=Q.length;0<=--re;)Q[re]=0}var m=256,b=286,x=30,P=15,F=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],D=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],O=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],j=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],H=new Array(576);y(H);var W=new Array(60);y(W);var G=new Array(512);y(G);var M=new Array(256);y(M);var k=new Array(29);y(k);var E,w,C,S=new Array(x);function R(Q,re,ne,ue,de){this.static_tree=Q,this.extra_bits=re,this.extra_base=ne,this.elems=ue,this.max_length=de,this.has_stree=Q&&Q.length}function _(Q,re){this.dyn_tree=Q,this.max_code=0,this.stat_desc=re}function N(Q){return Q<256?G[Q]:G[256+(Q>>>7)]}function B(Q,re){Q.pending_buf[Q.pending++]=255&re,Q.pending_buf[Q.pending++]=re>>>8&255}function V(Q,re,ne){Q.bi_valid>16-ne?(Q.bi_buf|=re<<Q.bi_valid&65535,B(Q,Q.bi_buf),Q.bi_buf=re>>16-Q.bi_valid,Q.bi_valid+=ne-16):(Q.bi_buf|=re<<Q.bi_valid&65535,Q.bi_valid+=ne)}function $(Q,re,ne){V(Q,ne[2*re],ne[2*re+1])}function Y(Q,re){for(var ne=0;ne|=1&Q,Q>>>=1,ne<<=1,0<--re;);return ne>>>1}function L(Q,re,ne){var ue,de,ge=new Array(16),we=0;for(ue=1;ue<=P;ue++)ge[ue]=we=we+ne[ue-1]<<1;for(de=0;de<=re;de++){var xe=Q[2*de+1];xe!==0&&(Q[2*de]=Y(ge[xe]++,xe))}}function K(Q){var re;for(re=0;re<b;re++)Q.dyn_ltree[2*re]=0;for(re=0;re<x;re++)Q.dyn_dtree[2*re]=0;for(re=0;re<19;re++)Q.bl_tree[2*re]=0;Q.dyn_ltree[512]=1,Q.opt_len=Q.static_len=0,Q.last_lit=Q.matches=0}function I(Q){8<Q.bi_valid?B(Q,Q.bi_buf):0<Q.bi_valid&&(Q.pending_buf[Q.pending++]=Q.bi_buf),Q.bi_buf=0,Q.bi_valid=0}function A(Q,re,ne,ue){var de=2*re,ge=2*ne;return Q[de]<Q[ge]||Q[de]===Q[ge]&&ue[re]<=ue[ne]}function z(Q,re,ne){for(var ue=Q.heap[ne],de=ne<<1;de<=Q.heap_len&&(de<Q.heap_len&&A(re,Q.heap[de+1],Q.heap[de],Q.depth)&&de++,!A(re,ue,Q.heap[de],Q.depth));)Q.heap[ne]=Q.heap[de],ne=de,de<<=1;Q.heap[ne]=ue}function q(Q,re,ne){var ue,de,ge,we,xe=0;if(Q.last_lit!==0)for(;ue=Q.pending_buf[Q.d_buf+2*xe]<<8|Q.pending_buf[Q.d_buf+2*xe+1],de=Q.pending_buf[Q.l_buf+xe],xe++,ue===0?$(Q,de,re):($(Q,(ge=M[de])+m+1,re),(we=F[ge])!==0&&V(Q,de-=k[ge],we),$(Q,ge=N(--ue),ne),(we=D[ge])!==0&&V(Q,ue-=S[ge],we)),xe<Q.last_lit;);$(Q,256,re)}function J(Q,re){var ne,ue,de,ge=re.dyn_tree,we=re.stat_desc.static_tree,xe=re.stat_desc.has_stree,Fe=re.stat_desc.elems,De=-1;for(Q.heap_len=0,Q.heap_max=573,ne=0;ne<Fe;ne++)ge[2*ne]!==0?(Q.heap[++Q.heap_len]=De=ne,Q.depth[ne]=0):ge[2*ne+1]=0;for(;Q.heap_len<2;)ge[2*(de=Q.heap[++Q.heap_len]=De<2?++De:0)]=1,Q.depth[de]=0,Q.opt_len--,xe&&(Q.static_len-=we[2*de+1]);for(re.max_code=De,ne=Q.heap_len>>1;1<=ne;ne--)z(Q,ge,ne);for(de=Fe;ne=Q.heap[1],Q.heap[1]=Q.heap[Q.heap_len--],z(Q,ge,1),ue=Q.heap[1],Q.heap[--Q.heap_max]=ne,Q.heap[--Q.heap_max]=ue,ge[2*de]=ge[2*ne]+ge[2*ue],Q.depth[de]=(Q.depth[ne]>=Q.depth[ue]?Q.depth[ne]:Q.depth[ue])+1,ge[2*ne+1]=ge[2*ue+1]=de,Q.heap[1]=de++,z(Q,ge,1),2<=Q.heap_len;);Q.heap[--Q.heap_max]=Q.heap[1],function(Le,He){var it,Qe,rt,Pe,Ie,ae,ce=He.dyn_tree,be=He.max_code,ve=He.stat_desc.static_tree,qe=He.stat_desc.has_stree,Ce=He.stat_desc.extra_bits,Ne=He.stat_desc.extra_base,Ue=He.stat_desc.max_length,Ge=0;for(Pe=0;Pe<=P;Pe++)Le.bl_count[Pe]=0;for(ce[2*Le.heap[Le.heap_max]+1]=0,it=Le.heap_max+1;it<573;it++)Ue<(Pe=ce[2*ce[2*(Qe=Le.heap[it])+1]+1]+1)&&(Pe=Ue,Ge++),ce[2*Qe+1]=Pe,be<Qe||(Le.bl_count[Pe]++,Ie=0,Ne<=Qe&&(Ie=Ce[Qe-Ne]),ae=ce[2*Qe],Le.opt_len+=ae*(Pe+Ie),qe&&(Le.static_len+=ae*(ve[2*Qe+1]+Ie)));if(Ge!==0){do{for(Pe=Ue-1;Le.bl_count[Pe]===0;)Pe--;Le.bl_count[Pe]--,Le.bl_count[Pe+1]+=2,Le.bl_count[Ue]--,Ge-=2}while(0<Ge);for(Pe=Ue;Pe!==0;Pe--)for(Qe=Le.bl_count[Pe];Qe!==0;)be<(rt=Le.heap[--it])||(ce[2*rt+1]!==Pe&&(Le.opt_len+=(Pe-ce[2*rt+1])*ce[2*rt],ce[2*rt+1]=Pe),Qe--)}}(Q,re),L(ge,De,Q.bl_count)}function X(Q,re,ne){var ue,de,ge=-1,we=re[1],xe=0,Fe=7,De=4;for(we===0&&(Fe=138,De=3),re[2*(ne+1)+1]=65535,ue=0;ue<=ne;ue++)de=we,we=re[2*(ue+1)+1],++xe<Fe&&de===we||(xe<De?Q.bl_tree[2*de]+=xe:de!==0?(de!==ge&&Q.bl_tree[2*de]++,Q.bl_tree[32]++):xe<=10?Q.bl_tree[34]++:Q.bl_tree[36]++,ge=de,De=(xe=0)===we?(Fe=138,3):de===we?(Fe=6,3):(Fe=7,4))}function Z(Q,re,ne){var ue,de,ge=-1,we=re[1],xe=0,Fe=7,De=4;for(we===0&&(Fe=138,De=3),ue=0;ue<=ne;ue++)if(de=we,we=re[2*(ue+1)+1],!(++xe<Fe&&de===we)){if(xe<De)for(;$(Q,de,Q.bl_tree),--xe!=0;);else de!==0?(de!==ge&&($(Q,de,Q.bl_tree),xe--),$(Q,16,Q.bl_tree),V(Q,xe-3,2)):xe<=10?($(Q,17,Q.bl_tree),V(Q,xe-3,3)):($(Q,18,Q.bl_tree),V(Q,xe-11,7));ge=de,De=(xe=0)===we?(Fe=138,3):de===we?(Fe=6,3):(Fe=7,4)}}y(S);var ie=!1;function se(Q,re,ne,ue){V(Q,0+(ue?1:0),3),function(de,ge,we,xe){I(de),B(de,we),B(de,~we),p.arraySet(de.pending_buf,de.window,ge,we,de.pending),de.pending+=we}(Q,re,ne)}v._tr_init=function(Q){ie||(function(){var re,ne,ue,de,ge,we=new Array(16);for(de=ue=0;de<28;de++)for(k[de]=ue,re=0;re<1<<F[de];re++)M[ue++]=de;for(M[ue-1]=de,de=ge=0;de<16;de++)for(S[de]=ge,re=0;re<1<<D[de];re++)G[ge++]=de;for(ge>>=7;de<x;de++)for(S[de]=ge<<7,re=0;re<1<<D[de]-7;re++)G[256+ge++]=de;for(ne=0;ne<=P;ne++)we[ne]=0;for(re=0;re<=143;)H[2*re+1]=8,re++,we[8]++;for(;re<=255;)H[2*re+1]=9,re++,we[9]++;for(;re<=279;)H[2*re+1]=7,re++,we[7]++;for(;re<=287;)H[2*re+1]=8,re++,we[8]++;for(L(H,287,we),re=0;re<x;re++)W[2*re+1]=5,W[2*re]=Y(re,5);E=new R(H,F,257,b,P),w=new R(W,D,0,x,P),C=new R(new Array(0),O,0,19,7)}(),ie=!0),Q.l_desc=new _(Q.dyn_ltree,E),Q.d_desc=new _(Q.dyn_dtree,w),Q.bl_desc=new _(Q.bl_tree,C),Q.bi_buf=0,Q.bi_valid=0,K(Q)},v._tr_stored_block=se,v._tr_flush_block=function(Q,re,ne,ue){var de,ge,we=0;0<Q.level?(Q.strm.data_type===2&&(Q.strm.data_type=function(xe){var Fe,De=4093624447;for(Fe=0;Fe<=31;Fe++,De>>>=1)if(1&De&&xe.dyn_ltree[2*Fe]!==0)return 0;if(xe.dyn_ltree[18]!==0||xe.dyn_ltree[20]!==0||xe.dyn_ltree[26]!==0)return 1;for(Fe=32;Fe<m;Fe++)if(xe.dyn_ltree[2*Fe]!==0)return 1;return 0}(Q)),J(Q,Q.l_desc),J(Q,Q.d_desc),we=function(xe){var Fe;for(X(xe,xe.dyn_ltree,xe.l_desc.max_code),X(xe,xe.dyn_dtree,xe.d_desc.max_code),J(xe,xe.bl_desc),Fe=18;3<=Fe&&xe.bl_tree[2*j[Fe]+1]===0;Fe--);return xe.opt_len+=3*(Fe+1)+5+5+4,Fe}(Q),de=Q.opt_len+3+7>>>3,(ge=Q.static_len+3+7>>>3)<=de&&(de=ge)):de=ge=ne+5,ne+4<=de&&re!==-1?se(Q,re,ne,ue):Q.strategy===4||ge===de?(V(Q,2+(ue?1:0),3),q(Q,H,W)):(V(Q,4+(ue?1:0),3),function(xe,Fe,De,Le){var He;for(V(xe,Fe-257,5),V(xe,De-1,5),V(xe,Le-4,4),He=0;He<Le;He++)V(xe,xe.bl_tree[2*j[He]+1],3);Z(xe,xe.dyn_ltree,Fe-1),Z(xe,xe.dyn_dtree,De-1)}(Q,Q.l_desc.max_code+1,Q.d_desc.max_code+1,we+1),q(Q,Q.dyn_ltree,Q.dyn_dtree)),K(Q),ue&&I(Q)},v._tr_tally=function(Q,re,ne){return Q.pending_buf[Q.d_buf+2*Q.last_lit]=re>>>8&255,Q.pending_buf[Q.d_buf+2*Q.last_lit+1]=255&re,Q.pending_buf[Q.l_buf+Q.last_lit]=255&ne,Q.last_lit++,re===0?Q.dyn_ltree[2*ne]++:(Q.matches++,re--,Q.dyn_ltree[2*(M[ne]+m+1)]++,Q.dyn_dtree[2*N(re)]++),Q.last_lit===Q.lit_bufsize-1},v._tr_align=function(Q){V(Q,2,3),$(Q,256,H),function(re){re.bi_valid===16?(B(re,re.bi_buf),re.bi_buf=0,re.bi_valid=0):8<=re.bi_valid&&(re.pending_buf[re.pending++]=255&re.bi_buf,re.bi_buf>>=8,re.bi_valid-=8)}(Q)}},{"../utils/common":41}],53:[function(h,g,v){g.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(h,g,v){(function(p){(function(y,m){if(!y.setImmediate){var b,x,P,F,D=1,O={},j=!1,H=y.document,W=Object.getPrototypeOf&&Object.getPrototypeOf(y);W=W&&W.setTimeout?W:y,b={}.toString.call(y.process)==="[object process]"?function(E){s.nextTick(function(){M(E)})}:function(){if(y.postMessage&&!y.importScripts){var E=!0,w=y.onmessage;return y.onmessage=function(){E=!1},y.postMessage("","*"),y.onmessage=w,E}}()?(F="setImmediate$"+Math.random()+"$",y.addEventListener?y.addEventListener("message",k,!1):y.attachEvent("onmessage",k),function(E){y.postMessage(F+E,"*")}):y.MessageChannel?((P=new MessageChannel).port1.onmessage=function(E){M(E.data)},function(E){P.port2.postMessage(E)}):H&&"onreadystatechange"in H.createElement("script")?(x=H.documentElement,function(E){var w=H.createElement("script");w.onreadystatechange=function(){M(E),w.onreadystatechange=null,x.removeChild(w),w=null},x.appendChild(w)}):function(E){setTimeout(M,0,E)},W.setImmediate=function(E){typeof E!="function"&&(E=new Function(""+E));for(var w=new Array(arguments.length-1),C=0;C<w.length;C++)w[C]=arguments[C+1];var S={callback:E,args:w};return O[D]=S,b(D),D++},W.clearImmediate=G}function G(E){delete O[E]}function M(E){if(j)setTimeout(M,0,E);else{var w=O[E];if(w){j=!0;try{(function(C){var S=C.callback,R=C.args;switch(R.length){case 0:S();break;case 1:S(R[0]);break;case 2:S(R[0],R[1]);break;case 3:S(R[0],R[1],R[2]);break;default:S.apply(void 0,R)}})(w)}finally{G(E),j=!1}}}}function k(E){E.source===y&&typeof E.data=="string"&&E.data.indexOf(F)===0&&M(+E.data.slice(F.length))}})(typeof self>"u"?p===void 0?this:p:self)}).call(this,o!==void 0?o:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}).call(this)}).call(this,r("_process"),typeof Tt<"u"?Tt:typeof self<"u"?self:typeof window<"u"?window:{},r("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],r("timers").setImmediate)},{_process:467,buffer:220,timers:523}],442:[function(r,n,i){(function(s){(function(){var o=/[\\^$.*+?()[\]{}|]/g,a=RegExp(o.source),l=typeof s=="object"&&s&&s.Object===Object&&s,c=typeof self=="object"&&self&&self.Object===Object&&self,u=l||c||Function("return this")(),f=Object.prototype.toString,d=u.Symbol,h=d?d.prototype:void 0,g=h?h.toString:void 0;function v(p){if(typeof p=="string")return p;if(function(m){return typeof m=="symbol"||function(b){return!!b&&typeof b=="object"}(m)&&f.call(m)=="[object Symbol]"}(p))return g?g.call(p):"";var y=p+"";return y=="0"&&1/p==-1/0?"-0":y}n.exports=function(p){var y;return(p=(y=p)==null?"":v(y))&&a.test(p)?p.replace(o,"\\$&"):p}}).call(this)}).call(this,typeof Tt<"u"?Tt:typeof self<"u"?self:typeof window<"u"?window:{})},{}],443:[function(r,n,i){(function(s){(function(){var o="[object Arguments]",a="[object Map]",l="[object Object]",c="[object Set]",u=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,f=/^\w*$/,d=/^\./,h=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,g=/\\(\\)?/g,v=/^\[object .+?Constructor\]$/,p=/^(?:0|[1-9]\d*)$/,y={};y["[object Float32Array]"]=y["[object Float64Array]"]=y["[object Int8Array]"]=y["[object Int16Array]"]=y["[object Int32Array]"]=y["[object Uint8Array]"]=y["[object Uint8ClampedArray]"]=y["[object Uint16Array]"]=y["[object Uint32Array]"]=!0,y[o]=y["[object Array]"]=y["[object ArrayBuffer]"]=y["[object Boolean]"]=y["[object DataView]"]=y["[object Date]"]=y["[object Error]"]=y["[object Function]"]=y[a]=y["[object Number]"]=y[l]=y["[object RegExp]"]=y[c]=y["[object String]"]=y["[object WeakMap]"]=!1;var m=typeof s=="object"&&s&&s.Object===Object&&s,b=typeof self=="object"&&self&&self.Object===Object&&self,x=m||b||Function("return this")(),P=typeof i=="object"&&i&&!i.nodeType&&i,F=P&&typeof n=="object"&&n&&!n.nodeType&&n,D=F&&F.exports===P&&m.process,O=function(){try{return D&&D.binding("util")}catch{}}(),j=O&&O.isTypedArray;function H(te,ye,Ae,Be){for(var st=-1,$e=te?te.length:0;++st<$e;){var Ke=te[st];ye(Be,Ke,Ae(Ke),te)}return Be}function W(te,ye){for(var Ae=-1,Be=te?te.length:0;++Ae<Be;)if(ye(te[Ae],Ae,te))return!0;return!1}function G(te){var ye=!1;if(te!=null&&typeof te.toString!="function")try{ye=!!(te+"")}catch{}return ye}function M(te){var ye=-1,Ae=Array(te.size);return te.forEach(function(Be,st){Ae[++ye]=[st,Be]}),Ae}function k(te){var ye=-1,Ae=Array(te.size);return te.forEach(function(Be){Ae[++ye]=Be}),Ae}var E,w,C,S=Array.prototype,R=Function.prototype,_=Object.prototype,N=x["__core-js_shared__"],B=(E=/[^.]+$/.exec(N&&N.keys&&N.keys.IE_PROTO||""))?"Symbol(src)_1."+E:"",V=R.toString,$=_.hasOwnProperty,Y=_.toString,L=RegExp("^"+V.call($).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),K=x.Symbol,I=x.Uint8Array,A=_.propertyIsEnumerable,z=S.splice,q=(w=Object.keys,C=Object,function(te){return w(C(te))}),J=_e(x,"DataView"),X=_e(x,"Map"),Z=_e(x,"Promise"),ie=_e(x,"Set"),se=_e(x,"WeakMap"),Q=_e(Object,"create"),re=me(J),ne=me(X),ue=me(Z),de=me(ie),ge=me(se),we=K?K.prototype:void 0,xe=we?we.valueOf:void 0,Fe=we?we.toString:void 0;function De(te){var ye=-1,Ae=te?te.length:0;for(this.clear();++ye<Ae;){var Be=te[ye];this.set(Be[0],Be[1])}}function Le(te){var ye=-1,Ae=te?te.length:0;for(this.clear();++ye<Ae;){var Be=te[ye];this.set(Be[0],Be[1])}}function He(te){var ye=-1,Ae=te?te.length:0;for(this.clear();++ye<Ae;){var Be=te[ye];this.set(Be[0],Be[1])}}function it(te){var ye=-1,Ae=te?te.length:0;for(this.__data__=new He;++ye<Ae;)this.add(te[ye])}function Qe(te){this.__data__=new Le(te)}function rt(te,ye){var Ae=Xe(te)||Ze(te)?function(Ke,Mt){for(var Et=-1,xt=Array(Ke);++Et<Ke;)xt[Et]=Mt(Et);return xt}(te.length,String):[],Be=Ae.length,st=!!Be;for(var $e in te)!ye&&!$.call(te,$e)||st&&($e=="length"||ft($e,Be))||Ae.push($e);return Ae}function Pe(te,ye){for(var Ae=te.length;Ae--;)if(Oe(te[Ae][0],ye))return Ae;return-1}function Ie(te,ye,Ae,Be){return ce(te,function(st,$e,Ke){ye(Be,st,Ae(st),Ke)}),Be}De.prototype.clear=function(){this.__data__=Q?Q(null):{}},De.prototype.delete=function(te){return this.has(te)&&delete this.__data__[te]},De.prototype.get=function(te){var ye=this.__data__;if(Q){var Ae=ye[te];return Ae==="__lodash_hash_undefined__"?void 0:Ae}return $.call(ye,te)?ye[te]:void 0},De.prototype.has=function(te){var ye=this.__data__;return Q?ye[te]!==void 0:$.call(ye,te)},De.prototype.set=function(te,ye){return this.__data__[te]=Q&&ye===void 0?"__lodash_hash_undefined__":ye,this},Le.prototype.clear=function(){this.__data__=[]},Le.prototype.delete=function(te){var ye=this.__data__,Ae=Pe(ye,te);return!(Ae<0)&&(Ae==ye.length-1?ye.pop():z.call(ye,Ae,1),!0)},Le.prototype.get=function(te){var ye=this.__data__,Ae=Pe(ye,te);return Ae<0?void 0:ye[Ae][1]},Le.prototype.has=function(te){return Pe(this.__data__,te)>-1},Le.prototype.set=function(te,ye){var Ae=this.__data__,Be=Pe(Ae,te);return Be<0?Ae.push([te,ye]):Ae[Be][1]=ye,this},He.prototype.clear=function(){this.__data__={hash:new De,map:new(X||Le),string:new De}},He.prototype.delete=function(te){return oe(this,te).delete(te)},He.prototype.get=function(te){return oe(this,te).get(te)},He.prototype.has=function(te){return oe(this,te).has(te)},He.prototype.set=function(te,ye){return oe(this,te).set(te,ye),this},it.prototype.add=it.prototype.push=function(te){return this.__data__.set(te,"__lodash_hash_undefined__"),this},it.prototype.has=function(te){return this.__data__.has(te)},Qe.prototype.clear=function(){this.__data__=new Le},Qe.prototype.delete=function(te){return this.__data__.delete(te)},Qe.prototype.get=function(te){return this.__data__.get(te)},Qe.prototype.has=function(te){return this.__data__.has(te)},Qe.prototype.set=function(te,ye){var Ae=this.__data__;if(Ae instanceof Le){var Be=Ae.__data__;if(!X||Be.length<199)return Be.push([te,ye]),this;Ae=this.__data__=new He(Be)}return Ae.set(te,ye),this};var ae,ce=(ae=function(te,ye){return te&&be(te,ye,tr)},function(te,ye){if(te==null)return te;if(!Je(te))return ae(te,ye);for(var Ae=te.length,Be=-1,st=Object(te);++Be<Ae&&ye(st[Be],Be,st)!==!1;);return te}),be=function(te){return function(ye,Ae,Be){for(var st=-1,$e=Object(ye),Ke=Be(ye),Mt=Ke.length;Mt--;){var Et=Ke[te?Mt:++st];if(Ae($e[Et],Et,$e)===!1)break}return ye}}();function ve(te,ye){for(var Ae=0,Be=(ye=ot(ye,te)?[ye]:Ee(ye)).length;te!=null&&Ae<Be;)te=te[le(ye[Ae++])];return Ae&&Ae==Be?te:void 0}function qe(te,ye){return te!=null&&ye in Object(te)}function Ce(te,ye,Ae,Be,st){return te===ye||(te==null||ye==null||!bt(te)&&!Wt(ye)?te!=te&&ye!=ye:function($e,Ke,Mt,Et,xt,pt){var $t=Xe($e),rr=Xe(Ke),It="[object Array]",lr="[object Array]";$t||(It=(It=Ve($e))==o?l:It),rr||(lr=(lr=Ve(Ke))==o?l:lr);var Er=It==l&&!G($e),Kr=lr==l&&!G(Ke),si=It==lr;if(si&&!Er)return pt||(pt=new Qe),$t||er($e)?yt($e,Ke,Mt,Et,xt,pt):function(Ut,Nt,Cs,ho,Bu,Rn,Ui){switch(Cs){case"[object DataView]":if(Ut.byteLength!=Nt.byteLength||Ut.byteOffset!=Nt.byteOffset)return!1;Ut=Ut.buffer,Nt=Nt.buffer;case"[object ArrayBuffer]":return!(Ut.byteLength!=Nt.byteLength||!ho(new I(Ut),new I(Nt)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Oe(+Ut,+Nt);case"[object Error]":return Ut.name==Nt.name&&Ut.message==Nt.message;case"[object RegExp]":case"[object String]":return Ut==Nt+"";case a:var Ss=M;case c:var Vl=2&Rn;if(Ss||(Ss=k),Ut.size!=Nt.size&&!Vl)return!1;var Hu=Ui.get(Ut);if(Hu)return Hu==Nt;Rn|=1,Ui.set(Ut,Nt);var pa=yt(Ss(Ut),Ss(Nt),ho,Bu,Rn,Ui);return Ui.delete(Ut),pa;case"[object Symbol]":if(xe)return xe.call(Ut)==xe.call(Nt)}return!1}($e,Ke,It,Mt,Et,xt,pt);if(!(2&xt)){var _i=Er&&$.call($e,"__wrapped__"),da=Kr&&$.call(Ke,"__wrapped__");if(_i||da){var ha=_i?$e.value():$e,fa=da?Ke.value():Ke;return pt||(pt=new Qe),Mt(ha,fa,Et,xt,pt)}}return si?(pt||(pt=new Qe),function(Ut,Nt,Cs,ho,Bu,Rn){var Ui=2&Bu,Ss=tr(Ut),Vl=Ss.length,Hu=tr(Nt).length;if(Vl!=Hu&&!Ui)return!1;for(var pa=Vl;pa--;){var xs=Ss[pa];if(!(Ui?xs in Nt:$.call(Nt,xs)))return!1}var Ny=Rn.get(Ut);if(Ny&&Rn.get(Nt))return Ny==Nt;var Gu=!0;Rn.set(Ut,Nt),Rn.set(Nt,Ut);for(var Hf=Ui;++pa<Vl;){xs=Ss[pa];var Vu=Ut[xs],zu=Nt[xs];if(ho)var Ly=Ui?ho(zu,Vu,xs,Nt,Ut,Rn):ho(Vu,zu,xs,Ut,Nt,Rn);if(!(Ly===void 0?Vu===zu||Cs(Vu,zu,ho,Bu,Rn):Ly)){Gu=!1;break}Hf||(Hf=xs=="constructor")}if(Gu&&!Hf){var Wu=Ut.constructor,$u=Nt.constructor;Wu==$u||!("constructor"in Ut)||!("constructor"in Nt)||typeof Wu=="function"&&Wu instanceof Wu&&typeof $u=="function"&&$u instanceof $u||(Gu=!1)}return Rn.delete(Ut),Rn.delete(Nt),Gu}($e,Ke,Mt,Et,xt,pt)):!1}(te,ye,Ce,Ae,Be,st))}function Ne(te){return!(!bt(te)||function(ye){return!!B&&B in ye}(te))&&(Ye(te)||G(te)?L:v).test(me(te))}function Ue(te){return typeof te=="function"?te:te==null?Rr:typeof te=="object"?Xe(te)?function(Be,st){return ot(Be)&&St(st)?Pt(le(Be),st):function($e){var Ke=function(Mt,Et,xt){var pt=Mt==null?void 0:ve(Mt,Et);return pt===void 0?xt:pt}($e,Be);return Ke===void 0&&Ke===st?function(Mt,Et){return Mt!=null&&function(xt,pt,$t){pt=ot(pt,xt)?[pt]:Ee(pt);for(var rr,It=-1,lr=pt.length;++It<lr;){var Er=le(pt[It]);if(!(rr=xt!=null&&$t(xt,Er)))break;xt=xt[Er]}return rr||!!(lr=xt?xt.length:0)&&ut(lr)&&ft(Er,lr)&&(Xe(xt)||Ze(xt))}(Mt,Et,qe)}($e,Be):Ce(st,Ke,void 0,3)}}(te[0],te[1]):function(Be){var st=function($e){for(var Ke=tr($e),Mt=Ke.length;Mt--;){var Et=Ke[Mt],xt=$e[Et];Ke[Mt]=[Et,xt,St(xt)]}return Ke}(Be);return st.length==1&&st[0][2]?Pt(st[0][0],st[0][1]):function($e){return $e===Be||function(Ke,Mt,Et,xt){var pt=Et.length,$t=pt,rr=!xt;if(Ke==null)return!$t;for(Ke=Object(Ke);pt--;){var It=Et[pt];if(rr&&It[2]?It[1]!==Ke[It[0]]:!(It[0]in Ke))return!1}for(;++pt<$t;){var lr=(It=Et[pt])[0],Er=Ke[lr],Kr=It[1];if(rr&&It[2]){if(Er===void 0&&!(lr in Ke))return!1}else{var si=new Qe;if(xt)var _i=xt(Er,Kr,lr,Ke,Mt,si);if(!(_i===void 0?Ce(Kr,Er,xt,3,si):_i))return!1}}return!0}($e,Be,st)}}(te):ot(ye=te)?(Ae=le(ye),function(Be){return Be==null?void 0:Be[Ae]}):function(Be){return function(st){return ve(st,Be)}}(ye);var ye,Ae}function Ge(te){if(Ae=(ye=te)&&ye.constructor,Be=typeof Ae=="function"&&Ae.prototype||_,ye!==Be)return q(te);var ye,Ae,Be,st=[];for(var $e in Object(te))$.call(te,$e)&&$e!="constructor"&&st.push($e);return st}function Ee(te){return Xe(te)?te:lt(te)}function yt(te,ye,Ae,Be,st,$e){var Ke=2&st,Mt=te.length,Et=ye.length;if(Mt!=Et&&!(Ke&&Et>Mt))return!1;var xt=$e.get(te);if(xt&&$e.get(ye))return xt==ye;var pt=-1,$t=!0,rr=1&st?new it:void 0;for($e.set(te,ye),$e.set(ye,te);++pt<Mt;){var It=te[pt],lr=ye[pt];if(Be)var Er=Ke?Be(lr,It,pt,ye,te,$e):Be(It,lr,pt,te,ye,$e);if(Er!==void 0){if(Er)continue;$t=!1;break}if(rr){if(!W(ye,function(Kr,si){if(!rr.has(si)&&(It===Kr||Ae(It,Kr,Be,st,$e)))return rr.add(si)})){$t=!1;break}}else if(It!==lr&&!Ae(It,lr,Be,st,$e)){$t=!1;break}}return $e.delete(te),$e.delete(ye),$t}function oe(te,ye){var Ae,Be,st=te.__data__;return((Be=typeof(Ae=ye))=="string"||Be=="number"||Be=="symbol"||Be=="boolean"?Ae!=="__proto__":Ae===null)?st[typeof ye=="string"?"string":"hash"]:st.map}function _e(te,ye){var Ae=function(Be,st){return Be==null?void 0:Be[st]}(te,ye);return Ne(Ae)?Ae:void 0}var Ve=function(te){return Y.call(te)};function ft(te,ye){return!!(ye=ye??9007199254740991)&&(typeof te=="number"||p.test(te))&&te>-1&&te%1==0&&te<ye}function ot(te,ye){if(Xe(te))return!1;var Ae=typeof te;return!(Ae!="number"&&Ae!="symbol"&&Ae!="boolean"&&te!=null&&!Lt(te))||f.test(te)||!u.test(te)||ye!=null&&te in Object(ye)}function St(te){return te==te&&!bt(te)}function Pt(te,ye){return function(Ae){return Ae!=null&&Ae[te]===ye&&(ye!==void 0||te in Object(Ae))}}(J&&Ve(new J(new ArrayBuffer(1)))!="[object DataView]"||X&&Ve(new X)!=a||Z&&Ve(Z.resolve())!="[object Promise]"||ie&&Ve(new ie)!=c||se&&Ve(new se)!="[object WeakMap]")&&(Ve=function(te){var ye=Y.call(te),Ae=ye==l?te.constructor:void 0,Be=Ae?me(Ae):void 0;if(Be)switch(Be){case re:return"[object DataView]";case ne:return a;case ue:return"[object Promise]";case de:return c;case ge:return"[object WeakMap]"}return ye});var lt=at(function(te){var ye;te=(ye=te)==null?"":function(Be){if(typeof Be=="string")return Be;if(Lt(Be))return Fe?Fe.call(Be):"";var st=Be+"";return st=="0"&&1/Be==-1/0?"-0":st}(ye);var Ae=[];return d.test(te)&&Ae.push(""),te.replace(h,function(Be,st,$e,Ke){Ae.push($e?Ke.replace(g,"$1"):st||Be)}),Ae});function le(te){if(typeof te=="string"||Lt(te))return te;var ye=te+"";return ye=="0"&&1/te==-1/0?"-0":ye}function me(te){if(te!=null){try{return V.call(te)}catch{}try{return te+""}catch{}}return""}var Te,ze=(Te=function(te,ye,Ae){$.call(te,Ae)?te[Ae].push(ye):te[Ae]=[ye]},function(te,ye){var Ae=Xe(te)?H:Ie,Be={};return Ae(te,Te,Ue(ye),Be)});function at(te,ye){if(typeof te!="function"||ye&&typeof ye!="function")throw new TypeError("Expected a function");var Ae=function(){var Be=arguments,st=ye?ye.apply(this,Be):Be[0],$e=Ae.cache;if($e.has(st))return $e.get(st);var Ke=te.apply(this,Be);return Ae.cache=$e.set(st,Ke),Ke};return Ae.cache=new(at.Cache||He),Ae}function Oe(te,ye){return te===ye||te!=te&&ye!=ye}function Ze(te){return function(ye){return Wt(ye)&&Je(ye)}(te)&&$.call(te,"callee")&&(!A.call(te,"callee")||Y.call(te)==o)}at.Cache=He;var Xe=Array.isArray;function Je(te){return te!=null&&ut(te.length)&&!Ye(te)}function Ye(te){var ye=bt(te)?Y.call(te):"";return ye=="[object Function]"||ye=="[object GeneratorFunction]"}function ut(te){return typeof te=="number"&&te>-1&&te%1==0&&te<=9007199254740991}function bt(te){var ye=typeof te;return!!te&&(ye=="object"||ye=="function")}function Wt(te){return!!te&&typeof te=="object"}function Lt(te){return typeof te=="symbol"||Wt(te)&&Y.call(te)=="[object Symbol]"}var er=j?function(te){return function(ye){return te(ye)}}(j):function(te){return Wt(te)&&ut(te.length)&&!!y[Y.call(te)]};function tr(te){return Je(te)?rt(te):Ge(te)}function Rr(te){return te}n.exports=ze}).call(this)}).call(this,typeof Tt<"u"?Tt:typeof self<"u"?self:typeof window<"u"?window:{})},{}],444:[function(r,n,i){var s=Object.prototype.toString;n.exports=function(o){return o===!0||o===!1||function(a){return!!a&&typeof a=="object"}(o)&&s.call(o)=="[object Boolean]"}},{}],445:[function(r,n,i){(function(s){(function(){var o="[object Arguments]",a="[object Map]",l="[object Object]",c="[object Set]",u=/^\[object .+?Constructor\]$/,f=/^(?:0|[1-9]\d*)$/,d={};d["[object Float32Array]"]=d["[object Float64Array]"]=d["[object Int8Array]"]=d["[object Int16Array]"]=d["[object Int32Array]"]=d["[object Uint8Array]"]=d["[object Uint8ClampedArray]"]=d["[object Uint16Array]"]=d["[object Uint32Array]"]=!0,d[o]=d["[object Array]"]=d["[object ArrayBuffer]"]=d["[object Boolean]"]=d["[object DataView]"]=d["[object Date]"]=d["[object Error]"]=d["[object Function]"]=d[a]=d["[object Number]"]=d[l]=d["[object RegExp]"]=d[c]=d["[object String]"]=d["[object WeakMap]"]=!1;var h=typeof s=="object"&&s&&s.Object===Object&&s,g=typeof self=="object"&&self&&self.Object===Object&&self,v=h||g||Function("return this")(),p=typeof i=="object"&&i&&!i.nodeType&&i,y=p&&typeof n=="object"&&n&&!n.nodeType&&n,m=y&&y.exports===p,b=m&&h.process,x=function(){try{return b&&b.binding&&b.binding("util")}catch{}}(),P=x&&x.isTypedArray;function F(le,me){for(var Te=-1,ze=le==null?0:le.length;++Te<ze;)if(me(le[Te],Te,le))return!0;return!1}function D(le){var me=-1,Te=Array(le.size);return le.forEach(function(ze,at){Te[++me]=[at,ze]}),Te}function O(le){var me=-1,Te=Array(le.size);return le.forEach(function(ze){Te[++me]=ze}),Te}var j,H,W,G=Array.prototype,M=Function.prototype,k=Object.prototype,E=v["__core-js_shared__"],w=M.toString,C=k.hasOwnProperty,S=(j=/[^.]+$/.exec(E&&E.keys&&E.keys.IE_PROTO||""))?"Symbol(src)_1."+j:"",R=k.toString,_=RegExp("^"+w.call(C).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),N=m?v.Buffer:void 0,B=v.Symbol,V=v.Uint8Array,$=k.propertyIsEnumerable,Y=G.splice,L=B?B.toStringTag:void 0,K=Object.getOwnPropertySymbols,I=N?N.isBuffer:void 0,A=(H=Object.keys,W=Object,function(le){return H(W(le))}),z=qe(v,"DataView"),q=qe(v,"Map"),J=qe(v,"Promise"),X=qe(v,"Set"),Z=qe(v,"WeakMap"),ie=qe(Object,"create"),se=Ge(z),Q=Ge(q),re=Ge(J),ne=Ge(X),ue=Ge(Z),de=B?B.prototype:void 0,ge=de?de.valueOf:void 0;function we(le){var me=-1,Te=le==null?0:le.length;for(this.clear();++me<Te;){var ze=le[me];this.set(ze[0],ze[1])}}function xe(le){var me=-1,Te=le==null?0:le.length;for(this.clear();++me<Te;){var ze=le[me];this.set(ze[0],ze[1])}}function Fe(le){var me=-1,Te=le==null?0:le.length;for(this.clear();++me<Te;){var ze=le[me];this.set(ze[0],ze[1])}}function De(le){var me=-1,Te=le==null?0:le.length;for(this.__data__=new Fe;++me<Te;)this.add(le[me])}function Le(le){var me=this.__data__=new xe(le);this.size=me.size}function He(le,me){var Te=oe(le),ze=!Te&&yt(le),at=!Te&&!ze&&_e(le),Oe=!Te&&!ze&&!at&&Pt(le),Ze=Te||ze||at||Oe,Xe=Ze?function(ut,bt){for(var Wt=-1,Lt=Array(ut);++Wt<ut;)Lt[Wt]=bt(Wt);return Lt}(le.length,String):[],Je=Xe.length;for(var Ye in le)!me&&!C.call(le,Ye)||Ze&&(Ye=="length"||at&&(Ye=="offset"||Ye=="parent")||Oe&&(Ye=="buffer"||Ye=="byteLength"||Ye=="byteOffset")||Ue(Ye,Je))||Xe.push(Ye);return Xe}function it(le,me){for(var Te=le.length;Te--;)if(Ee(le[Te][0],me))return Te;return-1}function Qe(le){return le==null?le===void 0?"[object Undefined]":"[object Null]":L&&L in Object(le)?function(me){var Te=C.call(me,L),ze=me[L];try{me[L]=void 0;var at=!0}catch{}var Oe=R.call(me);return at&&(Te?me[L]=ze:delete me[L]),Oe}(le):function(me){return R.call(me)}(le)}function rt(le){return St(le)&&Qe(le)==o}function Pe(le,me,Te,ze,at){return le===me||(le==null||me==null||!St(le)&&!St(me)?le!=le&&me!=me:function(Oe,Ze,Xe,Je,Ye,ut){var bt=oe(Oe),Wt=oe(Ze),Lt=bt?"[object Array]":Ne(Oe),er=Wt?"[object Array]":Ne(Ze),tr=(Lt=Lt==o?l:Lt)==l,Rr=(er=er==o?l:er)==l,te=Lt==er;if(te&&_e(Oe)){if(!_e(Ze))return!1;bt=!0,tr=!1}if(te&&!tr)return ut||(ut=new Le),bt||Pt(Oe)?ce(Oe,Ze,Xe,Je,Ye,ut):function($e,Ke,Mt,Et,xt,pt,$t){switch(Mt){case"[object DataView]":if($e.byteLength!=Ke.byteLength||$e.byteOffset!=Ke.byteOffset)return!1;$e=$e.buffer,Ke=Ke.buffer;case"[object ArrayBuffer]":return!($e.byteLength!=Ke.byteLength||!pt(new V($e),new V(Ke)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Ee(+$e,+Ke);case"[object Error]":return $e.name==Ke.name&&$e.message==Ke.message;case"[object RegExp]":case"[object String]":return $e==Ke+"";case a:var rr=D;case c:var It=1&Et;if(rr||(rr=O),$e.size!=Ke.size&&!It)return!1;var lr=$t.get($e);if(lr)return lr==Ke;Et|=2,$t.set($e,Ke);var Er=ce(rr($e),rr(Ke),Et,xt,pt,$t);return $t.delete($e),Er;case"[object Symbol]":if(ge)return ge.call($e)==ge.call(Ke)}return!1}(Oe,Ze,Lt,Xe,Je,Ye,ut);if(!(1&Xe)){var ye=tr&&C.call(Oe,"__wrapped__"),Ae=Rr&&C.call(Ze,"__wrapped__");if(ye||Ae){var Be=ye?Oe.value():Oe,st=Ae?Ze.value():Ze;return ut||(ut=new Le),Ye(Be,st,Xe,Je,ut)}}return te?(ut||(ut=new Le),function($e,Ke,Mt,Et,xt,pt){var $t=1&Mt,rr=be($e),It=rr.length,lr=be(Ke).length;if(It!=lr&&!$t)return!1;for(var Er=It;Er--;){var Kr=rr[Er];if(!($t?Kr in Ke:C.call(Ke,Kr)))return!1}var si=pt.get($e);if(si&&pt.get(Ke))return si==Ke;var _i=!0;pt.set($e,Ke),pt.set(Ke,$e);for(var da=$t;++Er<It;){Kr=rr[Er];var ha=$e[Kr],fa=Ke[Kr];if(Et)var Ut=$t?Et(fa,ha,Kr,Ke,$e,pt):Et(ha,fa,Kr,$e,Ke,pt);if(!(Ut===void 0?ha===fa||xt(ha,fa,Mt,Et,pt):Ut)){_i=!1;break}da||(da=Kr=="constructor")}if(_i&&!da){var Nt=$e.constructor,Cs=Ke.constructor;Nt==Cs||!("constructor"in $e)||!("constructor"in Ke)||typeof Nt=="function"&&Nt instanceof Nt&&typeof Cs=="function"&&Cs instanceof Cs||(_i=!1)}return pt.delete($e),pt.delete(Ke),_i}(Oe,Ze,Xe,Je,Ye,ut)):!1}(le,me,Te,ze,Pe,at))}function Ie(le){return!(!ot(le)||function(me){return!!S&&S in me}(le))&&(Ve(le)?_:u).test(Ge(le))}function ae(le){if(Te=(me=le)&&me.constructor,ze=typeof Te=="function"&&Te.prototype||k,me!==ze)return A(le);var me,Te,ze,at=[];for(var Oe in Object(le))C.call(le,Oe)&&Oe!="constructor"&&at.push(Oe);return at}function ce(le,me,Te,ze,at,Oe){var Ze=1&Te,Xe=le.length,Je=me.length;if(Xe!=Je&&!(Ze&&Je>Xe))return!1;var Ye=Oe.get(le);if(Ye&&Oe.get(me))return Ye==me;var ut=-1,bt=!0,Wt=2&Te?new De:void 0;for(Oe.set(le,me),Oe.set(me,le);++ut<Xe;){var Lt=le[ut],er=me[ut];if(ze)var tr=Ze?ze(er,Lt,ut,me,le,Oe):ze(Lt,er,ut,le,me,Oe);if(tr!==void 0){if(tr)continue;bt=!1;break}if(Wt){if(!F(me,function(Rr,te){if(ye=te,!Wt.has(ye)&&(Lt===Rr||at(Lt,Rr,Te,ze,Oe)))return Wt.push(te);var ye})){bt=!1;break}}else if(Lt!==er&&!at(Lt,er,Te,ze,Oe)){bt=!1;break}}return Oe.delete(le),Oe.delete(me),bt}function be(le){return function(me,Te,ze){var at=Te(me);return oe(me)?at:function(Oe,Ze){for(var Xe=-1,Je=Ze.length,Ye=Oe.length;++Xe<Je;)Oe[Ye+Xe]=Ze[Xe];return Oe}(at,ze(me))}(le,lt,Ce)}function ve(le,me){var Te,ze,at=le.__data__;return((ze=typeof(Te=me))=="string"||ze=="number"||ze=="symbol"||ze=="boolean"?Te!=="__proto__":Te===null)?at[typeof me=="string"?"string":"hash"]:at.map}function qe(le,me){var Te=function(ze,at){return ze==null?void 0:ze[at]}(le,me);return Ie(Te)?Te:void 0}we.prototype.clear=function(){this.__data__=ie?ie(null):{},this.size=0},we.prototype.delete=function(le){var me=this.has(le)&&delete this.__data__[le];return this.size-=me?1:0,me},we.prototype.get=function(le){var me=this.__data__;if(ie){var Te=me[le];return Te==="__lodash_hash_undefined__"?void 0:Te}return C.call(me,le)?me[le]:void 0},we.prototype.has=function(le){var me=this.__data__;return ie?me[le]!==void 0:C.call(me,le)},we.prototype.set=function(le,me){var Te=this.__data__;return this.size+=this.has(le)?0:1,Te[le]=ie&&me===void 0?"__lodash_hash_undefined__":me,this},xe.prototype.clear=function(){this.__data__=[],this.size=0},xe.prototype.delete=function(le){var me=this.__data__,Te=it(me,le);return!(Te<0)&&(Te==me.length-1?me.pop():Y.call(me,Te,1),--this.size,!0)},xe.prototype.get=function(le){var me=this.__data__,Te=it(me,le);return Te<0?void 0:me[Te][1]},xe.prototype.has=function(le){return it(this.__data__,le)>-1},xe.prototype.set=function(le,me){var Te=this.__data__,ze=it(Te,le);return ze<0?(++this.size,Te.push([le,me])):Te[ze][1]=me,this},Fe.prototype.clear=function(){this.size=0,this.__data__={hash:new we,map:new(q||xe),string:new we}},Fe.prototype.delete=function(le){var me=ve(this,le).delete(le);return this.size-=me?1:0,me},Fe.prototype.get=function(le){return ve(this,le).get(le)},Fe.prototype.has=function(le){return ve(this,le).has(le)},Fe.prototype.set=function(le,me){var Te=ve(this,le),ze=Te.size;return Te.set(le,me),this.size+=Te.size==ze?0:1,this},De.prototype.add=De.prototype.push=function(le){return this.__data__.set(le,"__lodash_hash_undefined__"),this},De.prototype.has=function(le){return this.__data__.has(le)},Le.prototype.clear=function(){this.__data__=new xe,this.size=0},Le.prototype.delete=function(le){var me=this.__data__,Te=me.delete(le);return this.size=me.size,Te},Le.prototype.get=function(le){return this.__data__.get(le)},Le.prototype.has=function(le){return this.__data__.has(le)},Le.prototype.set=function(le,me){var Te=this.__data__;if(Te instanceof xe){var ze=Te.__data__;if(!q||ze.length<199)return ze.push([le,me]),this.size=++Te.size,this;Te=this.__data__=new Fe(ze)}return Te.set(le,me),this.size=Te.size,this};var Ce=K?function(le){return le==null?[]:(le=Object(le),function(me,Te){for(var ze=-1,at=me==null?0:me.length,Oe=0,Ze=[];++ze<at;){var Xe=me[ze];Te(Xe,ze,me)&&(Ze[Oe++]=Xe)}return Ze}(K(le),function(me){return $.call(le,me)}))}:function(){return[]},Ne=Qe;function Ue(le,me){return!!(me=me??9007199254740991)&&(typeof le=="number"||f.test(le))&&le>-1&&le%1==0&&le<me}function Ge(le){if(le!=null){try{return w.call(le)}catch{}try{return le+""}catch{}}return""}function Ee(le,me){return le===me||le!=le&&me!=me}(z&&Ne(new z(new ArrayBuffer(1)))!="[object DataView]"||q&&Ne(new q)!=a||J&&Ne(J.resolve())!="[object Promise]"||X&&Ne(new X)!=c||Z&&Ne(new Z)!="[object WeakMap]")&&(Ne=function(le){var me=Qe(le),Te=me==l?le.constructor:void 0,ze=Te?Ge(Te):"";if(ze)switch(ze){case se:return"[object DataView]";case Q:return a;case re:return"[object Promise]";case ne:return c;case ue:return"[object WeakMap]"}return me});var yt=rt(function(){return arguments}())?rt:function(le){return St(le)&&C.call(le,"callee")&&!$.call(le,"callee")},oe=Array.isArray,_e=I||function(){return!1};function Ve(le){if(!ot(le))return!1;var me=Qe(le);return me=="[object Function]"||me=="[object GeneratorFunction]"||me=="[object AsyncFunction]"||me=="[object Proxy]"}function ft(le){return typeof le=="number"&&le>-1&&le%1==0&&le<=9007199254740991}function ot(le){var me=typeof le;return le!=null&&(me=="object"||me=="function")}function St(le){return le!=null&&typeof le=="object"}var Pt=P?function(le){return function(me){return le(me)}}(P):function(le){return St(le)&&ft(le.length)&&!!d[Qe(le)]};function lt(le){return(me=le)!=null&&ft(me.length)&&!Ve(me)?He(le):ae(le);var me}n.exports=function(le,me){return Pe(le,me)}}).call(this)}).call(this,typeof Tt<"u"?Tt:typeof self<"u"?self:typeof window<"u"?window:{})},{}],446:[function(r,n,i){(function(s){(function(){var o=typeof s=="object"&&s&&s.Object===Object&&s,a=typeof self=="object"&&self&&self.Object===Object&&self,l=o||a||Function("return this")(),c=Object.prototype,u=c.hasOwnProperty,f=c.toString,d=l.Symbol,h=d?d.toStringTag:void 0;function g(v){return v==null?v===void 0?"[object Undefined]":"[object Null]":h&&h in Object(v)?function(p){var y=u.call(p,h),m=p[h];try{p[h]=void 0;var b=!0}catch{}var x=f.call(p);return b&&(y?p[h]=m:delete p[h]),x}(v):function(p){return f.call(p)}(v)}n.exports=function(v){if(!function(y){var m=typeof y;return y!=null&&(m=="object"||m=="function")}(v))return!1;var p=g(v);return p=="[object Function]"||p=="[object GeneratorFunction]"||p=="[object AsyncFunction]"||p=="[object Proxy]"}}).call(this)}).call(this,typeof Tt<"u"?Tt:typeof self<"u"?self:typeof window<"u"?window:{})},{}],447:[function(r,n,i){n.exports=function(s){return s==null}},{}],448:[function(r,n,i){n.exports=function(s){return s===void 0}},{}],449:[function(r,n,i){(function(s){(function(){var o=/^\[object .+?Constructor\]$/,a=typeof s=="object"&&s&&s.Object===Object&&s,l=typeof self=="object"&&self&&self.Object===Object&&self,c=a||l||Function("return this")();function u(V,$){return!!(V&&V.length)&&function(Y,L,K){if(L!=L)return function(z,q,J,X){for(var Z=z.length,ie=J+(X?1:-1);X?ie--:++ie<Z;)if(q(z[ie],ie,z))return ie;return-1}(Y,d,K);for(var I=K-1,A=Y.length;++I<A;)if(Y[I]===L)return I;return-1}(V,$,0)>-1}function f(V,$,Y){for(var L=-1,K=V?V.length:0;++L<K;)if(Y($,V[L]))return!0;return!1}function d(V){return V!=V}function h(V,$){return V.has($)}function g(V){var $=-1,Y=Array(V.size);return V.forEach(function(L){Y[++$]=L}),Y}var v,p=Array.prototype,y=Function.prototype,m=Object.prototype,b=c["__core-js_shared__"],x=(v=/[^.]+$/.exec(b&&b.keys&&b.keys.IE_PROTO||""))?"Symbol(src)_1."+v:"",P=y.toString,F=m.hasOwnProperty,D=m.toString,O=RegExp("^"+P.call(F).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),j=p.splice,H=N(c,"Map"),W=N(c,"Set"),G=N(Object,"create");function M(V){var $=-1,Y=V?V.length:0;for(this.clear();++$<Y;){var L=V[$];this.set(L[0],L[1])}}function k(V){var $=-1,Y=V?V.length:0;for(this.clear();++$<Y;){var L=V[$];this.set(L[0],L[1])}}function E(V){var $=-1,Y=V?V.length:0;for(this.clear();++$<Y;){var L=V[$];this.set(L[0],L[1])}}function w(V){var $=-1,Y=V?V.length:0;for(this.__data__=new E;++$<Y;)this.add(V[$])}function C(V,$){for(var Y,L,K=V.length;K--;)if((Y=V[K][0])===(L=$)||Y!=Y&&L!=L)return K;return-1}function S(V){return!(!B(V)||($=V,x&&x in $))&&(function(Y){var L=B(Y)?D.call(Y):"";return L=="[object Function]"||L=="[object GeneratorFunction]"}(V)||function(Y){var L=!1;if(Y!=null&&typeof Y.toString!="function")try{L=!!(Y+"")}catch{}return L}(V)?O:o).test(function(Y){if(Y!=null){try{return P.call(Y)}catch{}try{return Y+""}catch{}}return""}(V));var $}M.prototype.clear=function(){this.__data__=G?G(null):{}},M.prototype.delete=function(V){return this.has(V)&&delete this.__data__[V]},M.prototype.get=function(V){var $=this.__data__;if(G){var Y=$[V];return Y==="__lodash_hash_undefined__"?void 0:Y}return F.call($,V)?$[V]:void 0},M.prototype.has=function(V){var $=this.__data__;return G?$[V]!==void 0:F.call($,V)},M.prototype.set=function(V,$){return this.__data__[V]=G&&$===void 0?"__lodash_hash_undefined__":$,this},k.prototype.clear=function(){this.__data__=[]},k.prototype.delete=function(V){var $=this.__data__,Y=C($,V);return!(Y<0)&&(Y==$.length-1?$.pop():j.call($,Y,1),!0)},k.prototype.get=function(V){var $=this.__data__,Y=C($,V);return Y<0?void 0:$[Y][1]},k.prototype.has=function(V){return C(this.__data__,V)>-1},k.prototype.set=function(V,$){var Y=this.__data__,L=C(Y,V);return L<0?Y.push([V,$]):Y[L][1]=$,this},E.prototype.clear=function(){this.__data__={hash:new M,map:new(H||k),string:new M}},E.prototype.delete=function(V){return _(this,V).delete(V)},E.prototype.get=function(V){return _(this,V).get(V)},E.prototype.has=function(V){return _(this,V).has(V)},E.prototype.set=function(V,$){return _(this,V).set(V,$),this},w.prototype.add=w.prototype.push=function(V){return this.__data__.set(V,"__lodash_hash_undefined__"),this},w.prototype.has=function(V){return this.__data__.has(V)};var R=W&&1/g(new W([,-0]))[1]==1/0?function(V){return new W(V)}:function(){};function _(V,$){var Y,L,K=V.__data__;return((L=typeof(Y=$))=="string"||L=="number"||L=="symbol"||L=="boolean"?Y!=="__proto__":Y===null)?K[typeof $=="string"?"string":"hash"]:K.map}function N(V,$){var Y=function(L,K){return L==null?void 0:L[K]}(V,$);return S(Y)?Y:void 0}function B(V){var $=typeof V;return!!V&&($=="object"||$=="function")}n.exports=function(V){return V&&V.length?function($,Y,L){var K=-1,I=u,A=$.length,z=!0,q=[],J=q;if(L)z=!1,I=f;else if(A>=200){var X=Y?null:R($);if(X)return g(X);z=!1,I=h,J=new w}else J=Y?[]:q;e:for(;++K<A;){var Z=$[K],ie=Y?Y(Z):Z;if(Z=L||Z!==0?Z:0,z&&ie==ie){for(var se=J.length;se--;)if(J[se]===ie)continue e;Y&&J.push(ie),q.push(Z)}else I(J,ie,L)||(J!==q&&J.push(ie),q.push(Z))}return q}(V):[]}}).call(this)}).call(this,typeof Tt<"u"?Tt:typeof self<"u"?self:typeof window<"u"?window:{})},{}],450:[function(r,n,i){var s=r("inherits"),o=r("hash-base"),a=r("safe-buffer").Buffer,l=new Array(16);function c(){o.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function u(v,p){return v<<p|v>>>32-p}function f(v,p,y,m,b,x,P){return u(v+(p&y|~p&m)+b+x|0,P)+p|0}function d(v,p,y,m,b,x,P){return u(v+(p&m|y&~m)+b+x|0,P)+p|0}function h(v,p,y,m,b,x,P){return u(v+(p^y^m)+b+x|0,P)+p|0}function g(v,p,y,m,b,x,P){return u(v+(y^(p|~m))+b+x|0,P)+p|0}s(c,o),c.prototype._update=function(){for(var v=l,p=0;p<16;++p)v[p]=this._block.readInt32LE(4*p);var y=this._a,m=this._b,b=this._c,x=this._d;y=f(y,m,b,x,v[0],3614090360,7),x=f(x,y,m,b,v[1],3905402710,12),b=f(b,x,y,m,v[2],606105819,17),m=f(m,b,x,y,v[3],3250441966,22),y=f(y,m,b,x,v[4],4118548399,7),x=f(x,y,m,b,v[5],1200080426,12),b=f(b,x,y,m,v[6],2821735955,17),m=f(m,b,x,y,v[7],4249261313,22),y=f(y,m,b,x,v[8],1770035416,7),x=f(x,y,m,b,v[9],2336552879,12),b=f(b,x,y,m,v[10],4294925233,17),m=f(m,b,x,y,v[11],2304563134,22),y=f(y,m,b,x,v[12],1804603682,7),x=f(x,y,m,b,v[13],4254626195,12),b=f(b,x,y,m,v[14],2792965006,17),y=d(y,m=f(m,b,x,y,v[15],1236535329,22),b,x,v[1],4129170786,5),x=d(x,y,m,b,v[6],3225465664,9),b=d(b,x,y,m,v[11],643717713,14),m=d(m,b,x,y,v[0],3921069994,20),y=d(y,m,b,x,v[5],3593408605,5),x=d(x,y,m,b,v[10],38016083,9),b=d(b,x,y,m,v[15],3634488961,14),m=d(m,b,x,y,v[4],3889429448,20),y=d(y,m,b,x,v[9],568446438,5),x=d(x,y,m,b,v[14],3275163606,9),b=d(b,x,y,m,v[3],4107603335,14),m=d(m,b,x,y,v[8],1163531501,20),y=d(y,m,b,x,v[13],2850285829,5),x=d(x,y,m,b,v[2],4243563512,9),b=d(b,x,y,m,v[7],1735328473,14),y=h(y,m=d(m,b,x,y,v[12],2368359562,20),b,x,v[5],4294588738,4),x=h(x,y,m,b,v[8],2272392833,11),b=h(b,x,y,m,v[11],1839030562,16),m=h(m,b,x,y,v[14],4259657740,23),y=h(y,m,b,x,v[1],2763975236,4),x=h(x,y,m,b,v[4],1272893353,11),b=h(b,x,y,m,v[7],4139469664,16),m=h(m,b,x,y,v[10],3200236656,23),y=h(y,m,b,x,v[13],681279174,4),x=h(x,y,m,b,v[0],3936430074,11),b=h(b,x,y,m,v[3],3572445317,16),m=h(m,b,x,y,v[6],76029189,23),y=h(y,m,b,x,v[9],3654602809,4),x=h(x,y,m,b,v[12],3873151461,11),b=h(b,x,y,m,v[15],530742520,16),y=g(y,m=h(m,b,x,y,v[2],3299628645,23),b,x,v[0],4096336452,6),x=g(x,y,m,b,v[7],1126891415,10),b=g(b,x,y,m,v[14],2878612391,15),m=g(m,b,x,y,v[5],4237533241,21),y=g(y,m,b,x,v[12],1700485571,6),x=g(x,y,m,b,v[3],2399980690,10),b=g(b,x,y,m,v[10],4293915773,15),m=g(m,b,x,y,v[1],2240044497,21),y=g(y,m,b,x,v[8],1873313359,6),x=g(x,y,m,b,v[15],4264355552,10),b=g(b,x,y,m,v[6],2734768916,15),m=g(m,b,x,y,v[13],1309151649,21),y=g(y,m,b,x,v[4],4149444226,6),x=g(x,y,m,b,v[11],3174756917,10),b=g(b,x,y,m,v[2],718787259,15),m=g(m,b,x,y,v[9],3951481745,21),this._a=this._a+y|0,this._b=this._b+m|0,this._c=this._c+b|0,this._d=this._d+x|0},c.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var v=a.allocUnsafe(16);return v.writeInt32LE(this._a,0),v.writeInt32LE(this._b,4),v.writeInt32LE(this._c,8),v.writeInt32LE(this._d,12),v},n.exports=c},{"hash-base":425,inherits:440,"safe-buffer":494}],451:[function(r,n,i){var s=r("bn.js"),o=r("brorand");function a(l){this.rand=l||new o.Rand}n.exports=a,a.create=function(l){return new a(l)},a.prototype._randbelow=function(l){var c=l.bitLength(),u=Math.ceil(c/8);do var f=new s(this.rand.generate(u));while(f.cmp(l)>=0);return f},a.prototype._randrange=function(l,c){var u=c.sub(l);return l.add(this._randbelow(u))},a.prototype.test=function(l,c,u){var f=l.bitLength(),d=s.mont(l),h=new s(1).toRed(d);c||(c=Math.max(1,f/48|0));for(var g=l.subn(1),v=0;!g.testn(v);v++);for(var p=l.shrn(v),y=g.toRed(d);c>0;c--){var m=this._randrange(new s(2),g);u&&u(m);var b=m.toRed(d).redPow(p);if(b.cmp(h)!==0&&b.cmp(y)!==0){for(var x=1;x<v;x++){if((b=b.redSqr()).cmp(h)===0)return!1;if(b.cmp(y)===0)break}if(x===v)return!1}}return!0},a.prototype.getDivisor=function(l,c){var u=l.bitLength(),f=s.mont(l),d=new s(1).toRed(f);c||(c=Math.max(1,u/48|0));for(var h=l.subn(1),g=0;!h.testn(g);g++);for(var v=l.shrn(g),p=h.toRed(f);c>0;c--){var y=this._randrange(new s(2),h),m=l.gcd(y);if(m.cmpn(1)!==0)return m;var b=y.toRed(f).redPow(v);if(b.cmp(d)!==0&&b.cmp(p)!==0){for(var x=1;x<g;x++){if((b=b.redSqr()).cmp(d)===0)return b.fromRed().subn(1).gcd(l);if(b.cmp(p)===0)break}if(x===g)return(b=b.redSqr()).fromRed().subn(1).gcd(l)}}return!1}},{"bn.js":452,brorand:187}],452:[function(r,n,i){arguments[4][184][0].apply(i,arguments)},{buffer:188,dup:184}],453:[function(r,n,i){function s(o,a){if(!o)throw new Error(a||"Assertion failed")}n.exports=s,s.equal=function(o,a,l){if(o!=a)throw new Error(l||"Assertion failed: "+o+" != "+a)}},{}],454:[function(r,n,i){var s=i;function o(l){return l.length===1?"0"+l:l}function a(l){for(var c="",u=0;u<l.length;u++)c+=o(l[u].toString(16));return c}s.toArray=function(l,c){if(Array.isArray(l))return l.slice();if(!l)return[];var u=[];if(typeof l!="string"){for(var f=0;f<l.length;f++)u[f]=0|l[f];return u}if(c==="hex")for((l=l.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(l="0"+l),f=0;f<l.length;f+=2)u.push(parseInt(l[f]+l[f+1],16));else for(f=0;f<l.length;f++){var d=l.charCodeAt(f),h=d>>8,g=255&d;h?u.push(h,g):u.push(g)}return u},s.zero2=o,s.toHex=a,s.encode=function(l,c){return c==="hex"?a(l):l}},{}],455:[function(r,n,i){n.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},{}],456:[function(r,n,i){var s=r("asn1.js");i.certificate=r("./certificate");var o=s.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});i.RSAPrivateKey=o;var a=s.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});i.RSAPublicKey=a;var l=s.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(c),this.key("subjectPublicKey").bitstr())});i.PublicKey=l;var c=s.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),u=s.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(c),this.key("subjectPrivateKey").octstr())});i.PrivateKey=u;var f=s.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});i.EncryptedPrivateKey=f;var d=s.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});i.DSAPrivateKey=d,i.DSAparam=s.define("DSAparam",function(){this.int()});var h=s.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(g),this.key("publicKey").optional().explicit(1).bitstr())});i.ECPrivateKey=h;var g=s.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});i.signature=s.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},{"./certificate":457,"asn1.js":170}],457:[function(r,n,i){var s=r("asn1.js"),o=s.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),a=s.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),l=s.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),c=s.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(l),this.key("subjectPublicKey").bitstr())}),u=s.define("RelativeDistinguishedName",function(){this.setof(a)}),f=s.define("RDNSequence",function(){this.seqof(u)}),d=s.define("Name",function(){this.choice({rdnSequence:this.use(f)})}),h=s.define("Validity",function(){this.seq().obj(this.key("notBefore").use(o),this.key("notAfter").use(o))}),g=s.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),v=s.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(l),this.key("issuer").use(d),this.key("validity").use(h),this.key("subject").use(d),this.key("subjectPublicKeyInfo").use(c),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(g).optional())}),p=s.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(v),this.key("signatureAlgorithm").use(l),this.key("signatureValue").bitstr())});n.exports=p},{"asn1.js":170}],458:[function(r,n,i){var s=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,o=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,a=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,l=r("evp_bytestokey"),c=r("browserify-aes"),u=r("safe-buffer").Buffer;n.exports=function(f,d){var h,g=f.toString(),v=g.match(s);if(v){var p="aes"+v[1],y=u.from(v[2],"hex"),m=u.from(v[3].replace(/[\r\n]/g,""),"base64"),b=l(d,y.slice(0,8),parseInt(v[1],10)).key,x=[],P=c.createDecipheriv(p,b,y);x.push(P.update(m)),x.push(P.final()),h=u.concat(x)}else{var F=g.match(a);h=u.from(F[2].replace(/[\r\n]/g,""),"base64")}return{tag:g.match(o)[1],data:h}}},{"browserify-aes":191,evp_bytestokey:423,"safe-buffer":494}],459:[function(r,n,i){var s=r("./asn1"),o=r("./aesid.json"),a=r("./fixProc"),l=r("browserify-aes"),c=r("pbkdf2"),u=r("safe-buffer").Buffer;function f(d){var h;typeof d!="object"||u.isBuffer(d)||(h=d.passphrase,d=d.key),typeof d=="string"&&(d=u.from(d));var g,v,p=a(d,h),y=p.tag,m=p.data;switch(y){case"CERTIFICATE":v=s.certificate.decode(m,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(v||(v=s.PublicKey.decode(m,"der")),g=v.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return s.RSAPublicKey.decode(v.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return v.subjectPrivateKey=v.subjectPublicKey,{type:"ec",data:v};case"1.2.840.10040.4.1":return v.algorithm.params.pub_key=s.DSAparam.decode(v.subjectPublicKey.data,"der"),{type:"dsa",data:v.algorithm.params};default:throw new Error("unknown key id "+g)}case"ENCRYPTED PRIVATE KEY":m=function(b,x){var P=b.algorithm.decrypt.kde.kdeparams.salt,F=parseInt(b.algorithm.decrypt.kde.kdeparams.iters.toString(),10),D=o[b.algorithm.decrypt.cipher.algo.join(".")],O=b.algorithm.decrypt.cipher.iv,j=b.subjectPrivateKey,H=parseInt(D.split("-")[1],10)/8,W=c.pbkdf2Sync(x,P,F,H,"sha1"),G=l.createDecipheriv(D,W,O),M=[];return M.push(G.update(j)),M.push(G.final()),u.concat(M)}(m=s.EncryptedPrivateKey.decode(m,"der"),h);case"PRIVATE KEY":switch(g=(v=s.PrivateKey.decode(m,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return s.RSAPrivateKey.decode(v.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:v.algorithm.curve,privateKey:s.ECPrivateKey.decode(v.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return v.algorithm.params.priv_key=s.DSAparam.decode(v.subjectPrivateKey,"der"),{type:"dsa",params:v.algorithm.params};default:throw new Error("unknown key id "+g)}case"RSA PUBLIC KEY":return s.RSAPublicKey.decode(m,"der");case"RSA PRIVATE KEY":return s.RSAPrivateKey.decode(m,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:s.DSAPrivateKey.decode(m,"der")};case"EC PRIVATE KEY":return{curve:(m=s.ECPrivateKey.decode(m,"der")).parameters.value,privateKey:m.privateKey};default:throw new Error("unknown key type "+y)}}n.exports=f,f.signature=s.signature},{"./aesid.json":455,"./asn1":456,"./fixProc":458,"browserify-aes":191,pbkdf2:460,"safe-buffer":494}],460:[function(r,n,i){i.pbkdf2=r("./lib/async"),i.pbkdf2Sync=r("./lib/sync")},{"./lib/async":461,"./lib/sync":464}],461:[function(r,n,i){(function(s){(function(){var o,a,l=r("safe-buffer").Buffer,c=r("./precondition"),u=r("./default-encoding"),f=r("./sync"),d=r("./to-buffer"),h=s.crypto&&s.crypto.subtle,g={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},v=[];function p(){return a||(a=s.process&&s.process.nextTick?s.process.nextTick:s.queueMicrotask?s.queueMicrotask:s.setImmediate?s.setImmediate:s.setTimeout)}function y(m,b,x,P,F){return h.importKey("raw",m,{name:"PBKDF2"},!1,["deriveBits"]).then(function(D){return h.deriveBits({name:"PBKDF2",salt:b,iterations:x,hash:{name:F}},D,P<<3)}).then(function(D){return l.from(D)})}n.exports=function(m,b,x,P,F,D){typeof F=="function"&&(D=F,F=void 0);var O=g[(F=F||"sha1").toLowerCase()];if(O&&typeof s.Promise=="function"){if(c(x,P),m=d(m,u,"Password"),b=d(b,u,"Salt"),typeof D!="function")throw new Error("No callback provided to pbkdf2");(function(j,H){j.then(function(W){p()(function(){H(null,W)})},function(W){p()(function(){H(W)})})})(function(j){if(s.process&&!s.process.browser||!h||!h.importKey||!h.deriveBits)return Promise.resolve(!1);if(v[j]!==void 0)return v[j];var H=y(o=o||l.alloc(8),o,10,128,j).then(function(){return!0}).catch(function(){return!1});return v[j]=H,H}(O).then(function(j){return j?y(m,b,x,P,O):f(m,b,x,P,F)}),D)}else p()(function(){var j;try{j=f(m,b,x,P,F)}catch(H){return D(H)}D(null,j)})}}).call(this)}).call(this,typeof Tt<"u"?Tt:typeof self<"u"?self:typeof window<"u"?window:{})},{"./default-encoding":462,"./precondition":463,"./sync":464,"./to-buffer":465,"safe-buffer":494}],462:[function(r,n,i){(function(s,o){(function(){var a;o.process&&o.process.browser?a="utf-8":o.process&&o.process.version?a=parseInt(s.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary":a="utf-8",n.exports=a}).call(this)}).call(this,r("_process"),typeof Tt<"u"?Tt:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467}],463:[function(r,n,i){var s=Math.pow(2,30)-1;n.exports=function(o,a){if(typeof o!="number")throw new TypeError("Iterations not a number");if(o<0)throw new TypeError("Bad iterations");if(typeof a!="number")throw new TypeError("Key length not a number");if(a<0||a>s||a!=a)throw new TypeError("Bad key length")}},{}],464:[function(r,n,i){var s=r("create-hash/md5"),o=r("ripemd160"),a=r("sha.js"),l=r("safe-buffer").Buffer,c=r("./precondition"),u=r("./default-encoding"),f=r("./to-buffer"),d=l.alloc(128),h={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function g(v,p,y){var m=function(O){function j(H){return a(O).update(H).digest()}return O==="rmd160"||O==="ripemd160"?function(H){return new o().update(H).digest()}:O==="md5"?s:j}(v),b=v==="sha512"||v==="sha384"?128:64;p.length>b?p=m(p):p.length<b&&(p=l.concat([p,d],b));for(var x=l.allocUnsafe(b+h[v]),P=l.allocUnsafe(b+h[v]),F=0;F<b;F++)x[F]=54^p[F],P[F]=92^p[F];var D=l.allocUnsafe(b+y+4);x.copy(D,0,0,b),this.ipad1=D,this.ipad2=x,this.opad=P,this.alg=v,this.blocksize=b,this.hash=m,this.size=h[v]}g.prototype.run=function(v,p){return v.copy(p,this.blocksize),this.hash(p).copy(this.opad,this.blocksize),this.hash(this.opad)},n.exports=function(v,p,y,m,b){c(y,m);var x=new g(b=b||"sha1",v=f(v,u,"Password"),(p=f(p,u,"Salt")).length),P=l.allocUnsafe(m),F=l.allocUnsafe(p.length+4);p.copy(F,0,0,p.length);for(var D=0,O=h[b],j=Math.ceil(m/O),H=1;H<=j;H++){F.writeUInt32BE(H,p.length);for(var W=x.run(F,x.ipad1),G=W,M=1;M<y;M++){G=x.run(G,x.ipad2);for(var k=0;k<O;k++)W[k]^=G[k]}W.copy(P,D),D+=O}return P}},{"./default-encoding":462,"./precondition":463,"./to-buffer":465,"create-hash/md5":387,ripemd160:493,"safe-buffer":494,"sha.js":498}],465:[function(r,n,i){var s=r("safe-buffer").Buffer;n.exports=function(o,a,l){if(s.isBuffer(o))return o;if(typeof o=="string")return s.from(o,a);if(ArrayBuffer.isView(o))return s.from(o.buffer);throw new TypeError(l+" must be a string, a Buffer, a typed array or a DataView")}},{"safe-buffer":494}],466:[function(r,n,i){(function(s){(function(){s===void 0||!s.version||s.version.indexOf("v0.")===0||s.version.indexOf("v1.")===0&&s.version.indexOf("v1.8.")!==0?n.exports={nextTick:function(o,a,l,c){if(typeof o!="function")throw new TypeError('"callback" argument must be a function');var u,f,d=arguments.length;switch(d){case 0:case 1:return s.nextTick(o);case 2:return s.nextTick(function(){o.call(null,a)});case 3:return s.nextTick(function(){o.call(null,a,l)});case 4:return s.nextTick(function(){o.call(null,a,l,c)});default:for(u=new Array(d-1),f=0;f<u.length;)u[f++]=arguments[f];return s.nextTick(function(){o.apply(null,u)})}}}:n.exports=s}).call(this)}).call(this,r("_process"))},{_process:467}],467:[function(r,n,i){var s,o,a=n.exports={};function l(){throw new Error("setTimeout has not been defined")}function c(){throw new Error("clearTimeout has not been defined")}function u(b){if(s===setTimeout)return setTimeout(b,0);if((s===l||!s)&&setTimeout)return s=setTimeout,setTimeout(b,0);try{return s(b,0)}catch{try{return s.call(null,b,0)}catch{return s.call(this,b,0)}}}(function(){try{s=typeof setTimeout=="function"?setTimeout:l}catch{s=l}try{o=typeof clearTimeout=="function"?clearTimeout:c}catch{o=c}})();var f,d=[],h=!1,g=-1;function v(){h&&f&&(h=!1,f.length?d=f.concat(d):g=-1,d.length&&p())}function p(){if(!h){var b=u(v);h=!0;for(var x=d.length;x;){for(f=d,d=[];++g<x;)f&&f[g].run();g=-1,x=d.length}f=null,h=!1,function(P){if(o===clearTimeout)return clearTimeout(P);if((o===c||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(P);try{o(P)}catch{try{return o.call(null,P)}catch{return o.call(this,P)}}}(b)}}function y(b,x){this.fun=b,this.array=x}function m(){}a.nextTick=function(b){var x=new Array(arguments.length-1);if(arguments.length>1)for(var P=1;P<arguments.length;P++)x[P-1]=arguments[P];d.push(new y(b,x)),d.length!==1||h||u(p)},y.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=m,a.addListener=m,a.once=m,a.off=m,a.removeListener=m,a.removeAllListeners=m,a.emit=m,a.prependListener=m,a.prependOnceListener=m,a.listeners=function(b){return[]},a.binding=function(b){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(b){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},{}],468:[function(r,n,i){i.publicEncrypt=r("./publicEncrypt"),i.privateDecrypt=r("./privateDecrypt"),i.privateEncrypt=function(s,o){return i.publicEncrypt(s,o,!0)},i.publicDecrypt=function(s,o){return i.privateDecrypt(s,o,!0)}},{"./privateDecrypt":471,"./publicEncrypt":472}],469:[function(r,n,i){var s=r("create-hash"),o=r("safe-buffer").Buffer;function a(l){var c=o.allocUnsafe(4);return c.writeUInt32BE(l,0),c}n.exports=function(l,c){for(var u,f=o.alloc(0),d=0;f.length<c;)u=a(d++),f=o.concat([f,s("sha1").update(l).update(u).digest()]);return f.slice(0,c)}},{"create-hash":386,"safe-buffer":494}],470:[function(r,n,i){arguments[4][184][0].apply(i,arguments)},{buffer:188,dup:184}],471:[function(r,n,i){var s=r("parse-asn1"),o=r("./mgf"),a=r("./xor"),l=r("bn.js"),c=r("browserify-rsa"),u=r("create-hash"),f=r("./withPublic"),d=r("safe-buffer").Buffer;n.exports=function(h,g,v){var p;p=h.padding?h.padding:v?1:4;var y,m=s(h),b=m.modulus.byteLength();if(g.length>b||new l(g).cmp(m.modulus)>=0)throw new Error("decryption error");y=v?f(new l(g),m):c(g,m);var x=d.alloc(b-y.length);if(y=d.concat([x,y],b),p===4)return function(P,F){var D=P.modulus.byteLength(),O=u("sha1").update(d.alloc(0)).digest(),j=O.length;if(F[0]!==0)throw new Error("decryption error");var H=F.slice(1,j+1),W=F.slice(j+1),G=a(H,o(W,j)),M=a(W,o(G,D-j-1));if(function(E,w){E=d.from(E),w=d.from(w);var C=0,S=E.length;E.length!==w.length&&(C++,S=Math.min(E.length,w.length));for(var R=-1;++R<S;)C+=E[R]^w[R];return C}(O,M.slice(0,j)))throw new Error("decryption error");for(var k=j;M[k]===0;)k++;if(M[k++]!==1)throw new Error("decryption error");return M.slice(k)}(m,y);if(p===1)return function(P,F,D){for(var O=F.slice(0,2),j=2,H=0;F[j++]!==0;)if(j>=F.length){H++;break}var W=F.slice(2,j-1);if((O.toString("hex")!=="0002"&&!D||O.toString("hex")!=="0001"&&D)&&H++,W.length<8&&H++,H)throw new Error("decryption error");return F.slice(j)}(0,y,v);if(p===3)return y;throw new Error("unknown padding")}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,"safe-buffer":494}],472:[function(r,n,i){var s=r("parse-asn1"),o=r("randombytes"),a=r("create-hash"),l=r("./mgf"),c=r("./xor"),u=r("bn.js"),f=r("./withPublic"),d=r("browserify-rsa"),h=r("safe-buffer").Buffer;n.exports=function(g,v,p){var y;y=g.padding?g.padding:p?1:4;var m,b=s(g);if(y===4)m=function(x,P){var F=x.modulus.byteLength(),D=P.length,O=a("sha1").update(h.alloc(0)).digest(),j=O.length,H=2*j;if(D>F-H-2)throw new Error("message too long");var W=h.alloc(F-D-H-2),G=F-j-1,M=o(j),k=c(h.concat([O,W,h.alloc(1,1),P],G),l(M,G)),E=c(M,l(k,j));return new u(h.concat([h.alloc(1),E,k],F))}(b,v);else if(y===1)m=function(x,P,F){var D,O=P.length,j=x.modulus.byteLength();if(O>j-11)throw new Error("message too long");return D=F?h.alloc(j-O-3,255):function(H){for(var W,G=h.allocUnsafe(H),M=0,k=o(2*H),E=0;M<H;)E===k.length&&(k=o(2*H),E=0),(W=k[E++])&&(G[M++]=W);return G}(j-O-3),new u(h.concat([h.from([0,F?1:2]),D,h.alloc(1),P],j))}(b,v,p);else{if(y!==3)throw new Error("unknown padding");if((m=new u(v)).cmp(b.modulus)>=0)throw new Error("data too long for modulus")}return p?d(m,b):f(m,b)}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,randombytes:475,"safe-buffer":494}],473:[function(r,n,i){var s=r("bn.js"),o=r("safe-buffer").Buffer;n.exports=function(a,l){return o.from(a.toRed(s.mont(l.modulus)).redPow(new s(l.publicExponent)).fromRed().toArray())}},{"bn.js":470,"safe-buffer":494}],474:[function(r,n,i){n.exports=function(s,o){for(var a=s.length,l=-1;++l<a;)s[l]^=o[l];return s}},{}],475:[function(r,n,i){(function(s,o){(function(){var a=r("safe-buffer").Buffer,l=o.crypto||o.msCrypto;l&&l.getRandomValues?n.exports=function(c,u){if(c>4294967295)throw new RangeError("requested too many random bytes");var f=a.allocUnsafe(c);if(c>0)if(c>65536)for(var d=0;d<c;d+=65536)l.getRandomValues(f.slice(d,d+65536));else l.getRandomValues(f);return typeof u=="function"?s.nextTick(function(){u(null,f)}):f}:n.exports=function(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}}).call(this)}).call(this,r("_process"),typeof Tt<"u"?Tt:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,"safe-buffer":494}],476:[function(r,n,i){(function(s,o){(function(){function a(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var l=r("safe-buffer"),c=r("randombytes"),u=l.Buffer,f=l.kMaxLength,d=o.crypto||o.msCrypto,h=Math.pow(2,32)-1;function g(y,m){if(typeof y!="number"||y!=y)throw new TypeError("offset must be a number");if(y>h||y<0)throw new TypeError("offset must be a uint32");if(y>f||y>m)throw new RangeError("offset out of range")}function v(y,m,b){if(typeof y!="number"||y!=y)throw new TypeError("size must be a number");if(y>h||y<0)throw new TypeError("size must be a uint32");if(y+m>b||y>f)throw new RangeError("buffer too small")}function p(y,m,b,x){if(s.browser){var P=y.buffer,F=new Uint8Array(P,m,b);return d.getRandomValues(F),x?void s.nextTick(function(){x(null,y)}):y}if(!x)return c(b).copy(y,m),y;c(b,function(D,O){if(D)return x(D);O.copy(y,m),x(null,y)})}d&&d.getRandomValues||!s.browser?(i.randomFill=function(y,m,b,x){if(!(u.isBuffer(y)||y instanceof o.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof m=="function")x=m,m=0,b=y.length;else if(typeof b=="function")x=b,b=y.length-m;else if(typeof x!="function")throw new TypeError('"cb" argument must be a function');return g(m,y.length),v(b,m,y.length),p(y,m,b,x)},i.randomFillSync=function(y,m,b){if(m===void 0&&(m=0),!(u.isBuffer(y)||y instanceof o.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return g(m,y.length),b===void 0&&(b=y.length-m),v(b,m,y.length),p(y,m,b)}):(i.randomFill=a,i.randomFillSync=a)}).call(this)}).call(this,r("_process"),typeof Tt<"u"?Tt:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,randombytes:475,"safe-buffer":494}],477:[function(r,n,i){var s={};function o(l,c,u){u||(u=Error);var f=function(d){var h,g;function v(p,y,m){return d.call(this,function(b,x,P){return typeof c=="string"?c:c(b,x,P)}(p,y,m))||this}return g=d,(h=v).prototype=Object.create(g.prototype),h.prototype.constructor=h,h.__proto__=g,v}(u);f.prototype.name=u.name,f.prototype.code=l,s[l]=f}function a(l,c){if(Array.isArray(l)){var u=l.length;return l=l.map(function(f){return String(f)}),u>2?"one of ".concat(c," ").concat(l.slice(0,u-1).join(", "),", or ")+l[u-1]:u===2?"one of ".concat(c," ").concat(l[0]," or ").concat(l[1]):"of ".concat(c," ").concat(l[0])}return"of ".concat(c," ").concat(String(l))}o("ERR_INVALID_OPT_VALUE",function(l,c){return'The value "'+c+'" is invalid for option "'+l+'"'},TypeError),o("ERR_INVALID_ARG_TYPE",function(l,c,u){var f,d,h;if(typeof c=="string"&&(d="not ",c.substr(0,d.length)===d)?(f="must not be",c=c.replace(/^not /,"")):f="must be",function(v,p,y){return(y===void 0||y>v.length)&&(y=v.length),v.substring(y-p.length,y)===p}(l," argument"))h="The ".concat(l," ").concat(f," ").concat(a(c,"type"));else{var g=function(v,p,y){return typeof y!="number"&&(y=0),!(y+p.length>v.length)&&v.indexOf(p,y)!==-1}(l,".")?"property":"argument";h='The "'.concat(l,'" ').concat(g," ").concat(f," ").concat(a(c,"type"))}return h+=". Received type ".concat(typeof u)},TypeError),o("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),o("ERR_METHOD_NOT_IMPLEMENTED",function(l){return"The "+l+" method is not implemented"}),o("ERR_STREAM_PREMATURE_CLOSE","Premature close"),o("ERR_STREAM_DESTROYED",function(l){return"Cannot call "+l+" after a stream was destroyed"}),o("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),o("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),o("ERR_STREAM_WRITE_AFTER_END","write after end"),o("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),o("ERR_UNKNOWN_ENCODING",function(l){return"Unknown encoding: "+l},TypeError),o("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),n.exports.codes=s},{}],478:[function(r,n,i){(function(s){(function(){var o=Object.keys||function(v){var p=[];for(var y in v)p.push(y);return p};n.exports=d;var a=r("./_stream_readable"),l=r("./_stream_writable");r("inherits")(d,a);for(var c=o(l.prototype),u=0;u<c.length;u++){var f=c[u];d.prototype[f]||(d.prototype[f]=l.prototype[f])}function d(v){if(!(this instanceof d))return new d(v);a.call(this,v),l.call(this,v),this.allowHalfOpen=!0,v&&(v.readable===!1&&(this.readable=!1),v.writable===!1&&(this.writable=!1),v.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",h)))}function h(){this._writableState.ended||s.nextTick(g,this)}function g(v){v.end()}Object.defineProperty(d.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(d.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(d.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(d.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(v){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=v,this._writableState.destroyed=v)}})}).call(this)}).call(this,r("_process"))},{"./_stream_readable":480,"./_stream_writable":482,_process:467,inherits:440}],479:[function(r,n,i){n.exports=o;var s=r("./_stream_transform");function o(a){if(!(this instanceof o))return new o(a);s.call(this,a)}r("inherits")(o,s),o.prototype._transform=function(a,l,c){c(null,a)}},{"./_stream_transform":481,inherits:440}],480:[function(r,n,i){(function(s,o){(function(){var a;n.exports=G,G.ReadableState=W,r("events").EventEmitter;var l=function(I,A){return I.listeners(A).length},c=r("./internal/streams/stream"),u=r("buffer").Buffer,f=(o!==void 0?o:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},d,h=r("util");d=h&&h.debuglog?h.debuglog("stream"):function(){};var g,v,p,y=r("./internal/streams/buffer_list"),m=r("./internal/streams/destroy"),b=r("./internal/streams/state").getHighWaterMark,x=r("../errors").codes,P=x.ERR_INVALID_ARG_TYPE,F=x.ERR_STREAM_PUSH_AFTER_EOF,D=x.ERR_METHOD_NOT_IMPLEMENTED,O=x.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;r("inherits")(G,c);var j=m.errorOrDestroy,H=["error","close","destroy","pause","resume"];function W(I,A,z){a=a||r("./_stream_duplex"),I=I||{},typeof z!="boolean"&&(z=A instanceof a),this.objectMode=!!I.objectMode,z&&(this.objectMode=this.objectMode||!!I.readableObjectMode),this.highWaterMark=b(this,I,"readableHighWaterMark",z),this.buffer=new y,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=I.emitClose!==!1,this.autoDestroy=!!I.autoDestroy,this.destroyed=!1,this.defaultEncoding=I.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,I.encoding&&(g||(g=r("string_decoder/").StringDecoder),this.decoder=new g(I.encoding),this.encoding=I.encoding)}function G(I){if(a=a||r("./_stream_duplex"),!(this instanceof G))return new G(I);var A=this instanceof a;this._readableState=new W(I,this,A),this.readable=!0,I&&(typeof I.read=="function"&&(this._read=I.read),typeof I.destroy=="function"&&(this._destroy=I.destroy)),c.call(this)}function M(I,A,z,q,J){d("readableAddChunk",A);var X,Z=I._readableState;if(A===null)Z.reading=!1,function(ie,se){if(d("onEofChunk"),!se.ended){if(se.decoder){var Q=se.decoder.end();Q&&Q.length&&(se.buffer.push(Q),se.length+=se.objectMode?1:Q.length)}se.ended=!0,se.sync?w(ie):(se.needReadable=!1,se.emittedReadable||(se.emittedReadable=!0,C(ie)))}}(I,Z);else if(J||(X=function(ie,se){var Q;re=se,u.isBuffer(re)||re instanceof f||typeof se=="string"||se===void 0||ie.objectMode||(Q=new P("chunk",["string","Buffer","Uint8Array"],se));var re;return Q}(Z,A)),X)j(I,X);else if(Z.objectMode||A&&A.length>0)if(typeof A=="string"||Z.objectMode||Object.getPrototypeOf(A)===u.prototype||(A=function(ie){return u.from(ie)}(A)),q)Z.endEmitted?j(I,new O):k(I,Z,A,!0);else if(Z.ended)j(I,new F);else{if(Z.destroyed)return!1;Z.reading=!1,Z.decoder&&!z?(A=Z.decoder.write(A),Z.objectMode||A.length!==0?k(I,Z,A,!1):S(I,Z)):k(I,Z,A,!1)}else q||(Z.reading=!1,S(I,Z));return!Z.ended&&(Z.length<Z.highWaterMark||Z.length===0)}function k(I,A,z,q){A.flowing&&A.length===0&&!A.sync?(A.awaitDrain=0,I.emit("data",z)):(A.length+=A.objectMode?1:z.length,q?A.buffer.unshift(z):A.buffer.push(z),A.needReadable&&w(I)),S(I,A)}Object.defineProperty(G.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(I){this._readableState&&(this._readableState.destroyed=I)}}),G.prototype.destroy=m.destroy,G.prototype._undestroy=m.undestroy,G.prototype._destroy=function(I,A){A(I)},G.prototype.push=function(I,A){var z,q=this._readableState;return q.objectMode?z=!0:typeof I=="string"&&((A=A||q.defaultEncoding)!==q.encoding&&(I=u.from(I,A),A=""),z=!0),M(this,I,A,!1,z)},G.prototype.unshift=function(I){return M(this,I,null,!0,!1)},G.prototype.isPaused=function(){return this._readableState.flowing===!1},G.prototype.setEncoding=function(I){g||(g=r("string_decoder/").StringDecoder);var A=new g(I);this._readableState.decoder=A,this._readableState.encoding=this._readableState.decoder.encoding;for(var z=this._readableState.buffer.head,q="";z!==null;)q+=A.write(z.data),z=z.next;return this._readableState.buffer.clear(),q!==""&&this._readableState.buffer.push(q),this._readableState.length=q.length,this};function E(I,A){return I<=0||A.length===0&&A.ended?0:A.objectMode?1:I!=I?A.flowing&&A.length?A.buffer.head.data.length:A.length:(I>A.highWaterMark&&(A.highWaterMark=function(z){return z>=1073741824?z=1073741824:(z--,z|=z>>>1,z|=z>>>2,z|=z>>>4,z|=z>>>8,z|=z>>>16,z++),z}(I)),I<=A.length?I:A.ended?A.length:(A.needReadable=!0,0))}function w(I){var A=I._readableState;d("emitReadable",A.needReadable,A.emittedReadable),A.needReadable=!1,A.emittedReadable||(d("emitReadable",A.flowing),A.emittedReadable=!0,s.nextTick(C,I))}function C(I){var A=I._readableState;d("emitReadable_",A.destroyed,A.length,A.ended),A.destroyed||!A.length&&!A.ended||(I.emit("readable"),A.emittedReadable=!1),A.needReadable=!A.flowing&&!A.ended&&A.length<=A.highWaterMark,V(I)}function S(I,A){A.readingMore||(A.readingMore=!0,s.nextTick(R,I,A))}function R(I,A){for(;!A.reading&&!A.ended&&(A.length<A.highWaterMark||A.flowing&&A.length===0);){var z=A.length;if(d("maybeReadMore read 0"),I.read(0),z===A.length)break}A.readingMore=!1}function _(I){var A=I._readableState;A.readableListening=I.listenerCount("readable")>0,A.resumeScheduled&&!A.paused?A.flowing=!0:I.listenerCount("data")>0&&I.resume()}function N(I){d("readable nexttick read 0"),I.read(0)}function B(I,A){d("resume",A.reading),A.reading||I.read(0),A.resumeScheduled=!1,I.emit("resume"),V(I),A.flowing&&!A.reading&&I.read(0)}function V(I){var A=I._readableState;for(d("flow",A.flowing);A.flowing&&I.read()!==null;);}function $(I,A){return A.length===0?null:(A.objectMode?z=A.buffer.shift():!I||I>=A.length?(z=A.decoder?A.buffer.join(""):A.buffer.length===1?A.buffer.first():A.buffer.concat(A.length),A.buffer.clear()):z=A.buffer.consume(I,A.decoder),z);var z}function Y(I){var A=I._readableState;d("endReadable",A.endEmitted),A.endEmitted||(A.ended=!0,s.nextTick(L,A,I))}function L(I,A){if(d("endReadableNT",I.endEmitted,I.length),!I.endEmitted&&I.length===0&&(I.endEmitted=!0,A.readable=!1,A.emit("end"),I.autoDestroy)){var z=A._writableState;(!z||z.autoDestroy&&z.finished)&&A.destroy()}}function K(I,A){for(var z=0,q=I.length;z<q;z++)if(I[z]===A)return z;return-1}G.prototype.read=function(I){d("read",I),I=parseInt(I,10);var A=this._readableState,z=I;if(I!==0&&(A.emittedReadable=!1),I===0&&A.needReadable&&((A.highWaterMark!==0?A.length>=A.highWaterMark:A.length>0)||A.ended))return d("read: emitReadable",A.length,A.ended),A.length===0&&A.ended?Y(this):w(this),null;if((I=E(I,A))===0&&A.ended)return A.length===0&&Y(this),null;var q,J=A.needReadable;return d("need readable",J),(A.length===0||A.length-I<A.highWaterMark)&&d("length less than watermark",J=!0),A.ended||A.reading?d("reading or ended",J=!1):J&&(d("do read"),A.reading=!0,A.sync=!0,A.length===0&&(A.needReadable=!0),this._read(A.highWaterMark),A.sync=!1,A.reading||(I=E(z,A))),(q=I>0?$(I,A):null)===null?(A.needReadable=A.length<=A.highWaterMark,I=0):(A.length-=I,A.awaitDrain=0),A.length===0&&(A.ended||(A.needReadable=!0),z!==I&&A.ended&&Y(this)),q!==null&&this.emit("data",q),q},G.prototype._read=function(I){j(this,new D("_read()"))},G.prototype.pipe=function(I,A){var z=this,q=this._readableState;switch(q.pipesCount){case 0:q.pipes=I;break;case 1:q.pipes=[q.pipes,I];break;default:q.pipes.push(I)}q.pipesCount+=1,d("pipe count=%d opts=%j",q.pipesCount,A);var J=(!A||A.end!==!1)&&I!==s.stdout&&I!==s.stderr?Z:de;function X(ge,we){d("onunpipe"),ge===z&&we&&we.hasUnpiped===!1&&(we.hasUnpiped=!0,d("cleanup"),I.removeListener("close",ne),I.removeListener("finish",ue),I.removeListener("drain",ie),I.removeListener("error",re),I.removeListener("unpipe",X),z.removeListener("end",Z),z.removeListener("end",de),z.removeListener("data",Q),se=!0,!q.awaitDrain||I._writableState&&!I._writableState.needDrain||ie())}function Z(){d("onend"),I.end()}q.endEmitted?s.nextTick(J):z.once("end",J),I.on("unpipe",X);var ie=function(ge){return function(){var we=ge._readableState;d("pipeOnDrain",we.awaitDrain),we.awaitDrain&&we.awaitDrain--,we.awaitDrain===0&&l(ge,"data")&&(we.flowing=!0,V(ge))}}(z);I.on("drain",ie);var se=!1;function Q(ge){d("ondata");var we=I.write(ge);d("dest.write",we),we===!1&&((q.pipesCount===1&&q.pipes===I||q.pipesCount>1&&K(q.pipes,I)!==-1)&&!se&&(d("false write response, pause",q.awaitDrain),q.awaitDrain++),z.pause())}function re(ge){d("onerror",ge),de(),I.removeListener("error",re),l(I,"error")===0&&j(I,ge)}function ne(){I.removeListener("finish",ue),de()}function ue(){d("onfinish"),I.removeListener("close",ne),de()}function de(){d("unpipe"),z.unpipe(I)}return z.on("data",Q),function(ge,we,xe){if(typeof ge.prependListener=="function")return ge.prependListener(we,xe);ge._events&&ge._events[we]?Array.isArray(ge._events[we])?ge._events[we].unshift(xe):ge._events[we]=[xe,ge._events[we]]:ge.on(we,xe)}(I,"error",re),I.once("close",ne),I.once("finish",ue),I.emit("pipe",z),q.flowing||(d("pipe resume"),z.resume()),I},G.prototype.unpipe=function(I){var A=this._readableState,z={hasUnpiped:!1};if(A.pipesCount===0)return this;if(A.pipesCount===1)return I&&I!==A.pipes||(I||(I=A.pipes),A.pipes=null,A.pipesCount=0,A.flowing=!1,I&&I.emit("unpipe",this,z)),this;if(!I){var q=A.pipes,J=A.pipesCount;A.pipes=null,A.pipesCount=0,A.flowing=!1;for(var X=0;X<J;X++)q[X].emit("unpipe",this,{hasUnpiped:!1});return this}var Z=K(A.pipes,I);return Z===-1||(A.pipes.splice(Z,1),A.pipesCount-=1,A.pipesCount===1&&(A.pipes=A.pipes[0]),I.emit("unpipe",this,z)),this},G.prototype.on=function(I,A){var z=c.prototype.on.call(this,I,A),q=this._readableState;return I==="data"?(q.readableListening=this.listenerCount("readable")>0,q.flowing!==!1&&this.resume()):I==="readable"&&(q.endEmitted||q.readableListening||(q.readableListening=q.needReadable=!0,q.flowing=!1,q.emittedReadable=!1,d("on readable",q.length,q.reading),q.length?w(this):q.reading||s.nextTick(N,this))),z},G.prototype.addListener=G.prototype.on,G.prototype.removeListener=function(I,A){var z=c.prototype.removeListener.call(this,I,A);return I==="readable"&&s.nextTick(_,this),z},G.prototype.removeAllListeners=function(I){var A=c.prototype.removeAllListeners.apply(this,arguments);return I!=="readable"&&I!==void 0||s.nextTick(_,this),A},G.prototype.resume=function(){var I=this._readableState;return I.flowing||(d("resume"),I.flowing=!I.readableListening,function(A,z){z.resumeScheduled||(z.resumeScheduled=!0,s.nextTick(B,A,z))}(this,I)),I.paused=!1,this},G.prototype.pause=function(){return d("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(d("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},G.prototype.wrap=function(I){var A=this,z=this._readableState,q=!1;for(var J in I.on("end",function(){if(d("wrapped end"),z.decoder&&!z.ended){var Z=z.decoder.end();Z&&Z.length&&A.push(Z)}A.push(null)}),I.on("data",function(Z){d("wrapped data"),z.decoder&&(Z=z.decoder.write(Z)),z.objectMode&&Z==null||(z.objectMode||Z&&Z.length)&&(A.push(Z)||(q=!0,I.pause()))}),I)this[J]===void 0&&typeof I[J]=="function"&&(this[J]=function(Z){return function(){return I[Z].apply(I,arguments)}}(J));for(var X=0;X<H.length;X++)I.on(H[X],this.emit.bind(this,H[X]));return this._read=function(Z){d("wrapped _read",Z),q&&(q=!1,I.resume())},this},typeof Symbol=="function"&&(G.prototype[Symbol.asyncIterator]=function(){return v===void 0&&(v=r("./internal/streams/async_iterator")),v(this)}),Object.defineProperty(G.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(G.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(G.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(I){this._readableState&&(this._readableState.flowing=I)}}),G._fromList=$,Object.defineProperty(G.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(G.from=function(I,A){return p===void 0&&(p=r("./internal/streams/from")),p(G,I,A)})}).call(this)}).call(this,r("_process"),typeof Tt<"u"?Tt:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/async_iterator":483,"./internal/streams/buffer_list":484,"./internal/streams/destroy":485,"./internal/streams/from":487,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,events:422,inherits:440,"string_decoder/":522,util:188}],481:[function(r,n,i){n.exports=d;var s=r("../errors").codes,o=s.ERR_METHOD_NOT_IMPLEMENTED,a=s.ERR_MULTIPLE_CALLBACK,l=s.ERR_TRANSFORM_ALREADY_TRANSFORMING,c=s.ERR_TRANSFORM_WITH_LENGTH_0,u=r("./_stream_duplex");function f(v,p){var y=this._transformState;y.transforming=!1;var m=y.writecb;if(m===null)return this.emit("error",new a);y.writechunk=null,y.writecb=null,p!=null&&this.push(p),m(v);var b=this._readableState;b.reading=!1,(b.needReadable||b.length<b.highWaterMark)&&this._read(b.highWaterMark)}function d(v){if(!(this instanceof d))return new d(v);u.call(this,v),this._transformState={afterTransform:f.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,v&&(typeof v.transform=="function"&&(this._transform=v.transform),typeof v.flush=="function"&&(this._flush=v.flush)),this.on("prefinish",h)}function h(){var v=this;typeof this._flush!="function"||this._readableState.destroyed?g(this,null,null):this._flush(function(p,y){g(v,p,y)})}function g(v,p,y){if(p)return v.emit("error",p);if(y!=null&&v.push(y),v._writableState.length)throw new c;if(v._transformState.transforming)throw new l;return v.push(null)}r("inherits")(d,u),d.prototype.push=function(v,p){return this._transformState.needTransform=!1,u.prototype.push.call(this,v,p)},d.prototype._transform=function(v,p,y){y(new o("_transform()"))},d.prototype._write=function(v,p,y){var m=this._transformState;if(m.writecb=y,m.writechunk=v,m.writeencoding=p,!m.transforming){var b=this._readableState;(m.needTransform||b.needReadable||b.length<b.highWaterMark)&&this._read(b.highWaterMark)}},d.prototype._read=function(v){var p=this._transformState;p.writechunk===null||p.transforming?p.needTransform=!0:(p.transforming=!0,this._transform(p.writechunk,p.writeencoding,p.afterTransform))},d.prototype._destroy=function(v,p){u.prototype._destroy.call(this,v,function(y){p(y)})}},{"../errors":477,"./_stream_duplex":478,inherits:440}],482:[function(r,n,i){(function(s,o){(function(){function a(R){var _=this;this.next=null,this.entry=null,this.finish=function(){(function(N,B,V){var $=N.entry;for(N.entry=null;$;){var Y=$.callback;B.pendingcb--,Y(V),$=$.next}B.corkedRequestsFree.next=N})(_,R)}}var l;n.exports=G,G.WritableState=W;var c={deprecate:r("util-deprecate")},u=r("./internal/streams/stream"),f=r("buffer").Buffer,d=(o!==void 0?o:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},h,g=r("./internal/streams/destroy"),v=r("./internal/streams/state").getHighWaterMark,p=r("../errors").codes,y=p.ERR_INVALID_ARG_TYPE,m=p.ERR_METHOD_NOT_IMPLEMENTED,b=p.ERR_MULTIPLE_CALLBACK,x=p.ERR_STREAM_CANNOT_PIPE,P=p.ERR_STREAM_DESTROYED,F=p.ERR_STREAM_NULL_VALUES,D=p.ERR_STREAM_WRITE_AFTER_END,O=p.ERR_UNKNOWN_ENCODING,j=g.errorOrDestroy;function H(){}function W(R,_,N){l=l||r("./_stream_duplex"),R=R||{},typeof N!="boolean"&&(N=_ instanceof l),this.objectMode=!!R.objectMode,N&&(this.objectMode=this.objectMode||!!R.writableObjectMode),this.highWaterMark=v(this,R,"writableHighWaterMark",N),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var B=R.decodeStrings===!1;this.decodeStrings=!B,this.defaultEncoding=R.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(V){(function($,Y){var L=$._writableState,K=L.sync,I=L.writecb;if(typeof I!="function")throw new b;if(function(z){z.writing=!1,z.writecb=null,z.length-=z.writelen,z.writelen=0}(L),Y)(function(z,q,J,X,Z){--q.pendingcb,J?(s.nextTick(Z,X),s.nextTick(S,z,q),z._writableState.errorEmitted=!0,j(z,X)):(Z(X),z._writableState.errorEmitted=!0,j(z,X),S(z,q))})($,L,K,Y,I);else{var A=w(L)||$.destroyed;A||L.corked||L.bufferProcessing||!L.bufferedRequest||E($,L),K?s.nextTick(k,$,L,A,I):k($,L,A,I)}})(_,V)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=R.emitClose!==!1,this.autoDestroy=!!R.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function G(R){var _=this instanceof(l=l||r("./_stream_duplex"));if(!_&&!h.call(G,this))return new G(R);this._writableState=new W(R,this,_),this.writable=!0,R&&(typeof R.write=="function"&&(this._write=R.write),typeof R.writev=="function"&&(this._writev=R.writev),typeof R.destroy=="function"&&(this._destroy=R.destroy),typeof R.final=="function"&&(this._final=R.final)),u.call(this)}function M(R,_,N,B,V,$,Y){_.writelen=B,_.writecb=Y,_.writing=!0,_.sync=!0,_.destroyed?_.onwrite(new P("write")):N?R._writev(V,_.onwrite):R._write(V,$,_.onwrite),_.sync=!1}function k(R,_,N,B){N||function(V,$){$.length===0&&$.needDrain&&($.needDrain=!1,V.emit("drain"))}(R,_),_.pendingcb--,B(),S(R,_)}function E(R,_){_.bufferProcessing=!0;var N=_.bufferedRequest;if(R._writev&&N&&N.next){var B=_.bufferedRequestCount,V=new Array(B),$=_.corkedRequestsFree;$.entry=N;for(var Y=0,L=!0;N;)V[Y]=N,N.isBuf||(L=!1),N=N.next,Y+=1;V.allBuffers=L,M(R,_,!0,_.length,V,"",$.finish),_.pendingcb++,_.lastBufferedRequest=null,$.next?(_.corkedRequestsFree=$.next,$.next=null):_.corkedRequestsFree=new a(_),_.bufferedRequestCount=0}else{for(;N;){var K=N.chunk,I=N.encoding,A=N.callback;if(M(R,_,!1,_.objectMode?1:K.length,K,I,A),N=N.next,_.bufferedRequestCount--,_.writing)break}N===null&&(_.lastBufferedRequest=null)}_.bufferedRequest=N,_.bufferProcessing=!1}function w(R){return R.ending&&R.length===0&&R.bufferedRequest===null&&!R.finished&&!R.writing}function C(R,_){R._final(function(N){_.pendingcb--,N&&j(R,N),_.prefinished=!0,R.emit("prefinish"),S(R,_)})}function S(R,_){var N=w(_);if(N&&(function(V,$){$.prefinished||$.finalCalled||(typeof V._final!="function"||$.destroyed?($.prefinished=!0,V.emit("prefinish")):($.pendingcb++,$.finalCalled=!0,s.nextTick(C,V,$)))}(R,_),_.pendingcb===0&&(_.finished=!0,R.emit("finish"),_.autoDestroy))){var B=R._readableState;(!B||B.autoDestroy&&B.endEmitted)&&R.destroy()}return N}r("inherits")(G,u),W.prototype.getBuffer=function(){for(var R=this.bufferedRequest,_=[];R;)_.push(R),R=R.next;return _},function(){try{Object.defineProperty(W.prototype,"buffer",{get:c.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(h=Function.prototype[Symbol.hasInstance],Object.defineProperty(G,Symbol.hasInstance,{value:function(R){return!!h.call(this,R)||this===G&&R&&R._writableState instanceof W}})):h=function(R){return R instanceof this},G.prototype.pipe=function(){j(this,new x)},G.prototype.write=function(R,_,N){var B,V=this._writableState,$=!1,Y=!V.objectMode&&(B=R,f.isBuffer(B)||B instanceof d);return Y&&!f.isBuffer(R)&&(R=function(L){return f.from(L)}(R)),typeof _=="function"&&(N=_,_=null),Y?_="buffer":_||(_=V.defaultEncoding),typeof N!="function"&&(N=H),V.ending?function(L,K){var I=new D;j(L,I),s.nextTick(K,I)}(this,N):(Y||function(L,K,I,A){var z;return I===null?z=new F:typeof I=="string"||K.objectMode||(z=new y("chunk",["string","Buffer"],I)),!z||(j(L,z),s.nextTick(A,z),!1)}(this,V,R,N))&&(V.pendingcb++,$=function(L,K,I,A,z,q){if(!I){var J=function(se,Q,re){return se.objectMode||se.decodeStrings===!1||typeof Q!="string"||(Q=f.from(Q,re)),Q}(K,A,z);A!==J&&(I=!0,z="buffer",A=J)}var X=K.objectMode?1:A.length;K.length+=X;var Z=K.length<K.highWaterMark;if(Z||(K.needDrain=!0),K.writing||K.corked){var ie=K.lastBufferedRequest;K.lastBufferedRequest={chunk:A,encoding:z,isBuf:I,callback:q,next:null},ie?ie.next=K.lastBufferedRequest:K.bufferedRequest=K.lastBufferedRequest,K.bufferedRequestCount+=1}else M(L,K,!1,X,A,z,q);return Z}(this,V,Y,R,_,N)),$},G.prototype.cork=function(){this._writableState.corked++},G.prototype.uncork=function(){var R=this._writableState;R.corked&&(R.corked--,R.writing||R.corked||R.bufferProcessing||!R.bufferedRequest||E(this,R))},G.prototype.setDefaultEncoding=function(R){if(typeof R=="string"&&(R=R.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((R+"").toLowerCase())>-1))throw new O(R);return this._writableState.defaultEncoding=R,this},Object.defineProperty(G.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(G.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),G.prototype._write=function(R,_,N){N(new m("_write()"))},G.prototype._writev=null,G.prototype.end=function(R,_,N){var B=this._writableState;return typeof R=="function"?(N=R,R=null,_=null):typeof _=="function"&&(N=_,_=null),R!=null&&this.write(R,_),B.corked&&(B.corked=1,this.uncork()),B.ending||function(V,$,Y){$.ending=!0,S(V,$),Y&&($.finished?s.nextTick(Y):V.once("finish",Y)),$.ended=!0,V.writable=!1}(this,B,N),this},Object.defineProperty(G.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(G.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(R){this._writableState&&(this._writableState.destroyed=R)}}),G.prototype.destroy=g.destroy,G.prototype._undestroy=g.undestroy,G.prototype._destroy=function(R,_){_(R)}}).call(this)}).call(this,r("_process"),typeof Tt<"u"?Tt:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/destroy":485,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,inherits:440,"util-deprecate":524}],483:[function(r,n,i){(function(s){(function(){var o;function a(P,F,D){return(F=function(O){var j=function(H,W){if(typeof H!="object"||H===null)return H;var G=H[Symbol.toPrimitive];if(G!==void 0){var M=G.call(H,W||"default");if(typeof M!="object")return M;throw new TypeError("@@toPrimitive must return a primitive value.")}return(W==="string"?String:Number)(H)}(O,"string");return typeof j=="symbol"?j:String(j)}(F))in P?Object.defineProperty(P,F,{value:D,enumerable:!0,configurable:!0,writable:!0}):P[F]=D,P}var l=r("./end-of-stream"),c=Symbol("lastResolve"),u=Symbol("lastReject"),f=Symbol("error"),d=Symbol("ended"),h=Symbol("lastPromise"),g=Symbol("handlePromise"),v=Symbol("stream");function p(P,F){return{value:P,done:F}}function y(P){var F=P[c];if(F!==null){var D=P[v].read();D!==null&&(P[h]=null,P[c]=null,P[u]=null,F(p(D,!1)))}}function m(P){s.nextTick(y,P)}var b=Object.getPrototypeOf(function(){}),x=Object.setPrototypeOf((a(o={get stream(){return this[v]},next:function(){var P=this,F=this[f];if(F!==null)return Promise.reject(F);if(this[d])return Promise.resolve(p(void 0,!0));if(this[v].destroyed)return new Promise(function(H,W){s.nextTick(function(){P[f]?W(P[f]):H(p(void 0,!0))})});var D,O=this[h];if(O)D=new Promise(function(H,W){return function(G,M){H.then(function(){W[d]?G(p(void 0,!0)):W[g](G,M)},M)}}(O,this));else{var j=this[v].read();if(j!==null)return Promise.resolve(p(j,!1));D=new Promise(this[g])}return this[h]=D,D}},Symbol.asyncIterator,function(){return this}),a(o,"return",function(){var P=this;return new Promise(function(F,D){P[v].destroy(null,function(O){O?D(O):F(p(void 0,!0))})})}),o),b);n.exports=function(P){var F,D=Object.create(x,(a(F={},v,{value:P,writable:!0}),a(F,c,{value:null,writable:!0}),a(F,u,{value:null,writable:!0}),a(F,f,{value:null,writable:!0}),a(F,d,{value:P._readableState.endEmitted,writable:!0}),a(F,g,{value:function(O,j){var H=D[v].read();H?(D[h]=null,D[c]=null,D[u]=null,O(p(H,!1))):(D[c]=O,D[u]=j)},writable:!0}),F));return D[h]=null,l(P,function(O){if(O&&O.code!=="ERR_STREAM_PREMATURE_CLOSE"){var j=D[u];return j!==null&&(D[h]=null,D[c]=null,D[u]=null,j(O)),void(D[f]=O)}var H=D[c];H!==null&&(D[h]=null,D[c]=null,D[u]=null,H(p(void 0,!0))),D[d]=!0}),P.on("readable",m.bind(null,D)),D}}).call(this)}).call(this,r("_process"))},{"./end-of-stream":486,_process:467}],484:[function(r,n,i){function s(h,g){var v=Object.keys(h);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(h);g&&(p=p.filter(function(y){return Object.getOwnPropertyDescriptor(h,y).enumerable})),v.push.apply(v,p)}return v}function o(h){for(var g=1;g<arguments.length;g++){var v=arguments[g]!=null?arguments[g]:{};g%2?s(Object(v),!0).forEach(function(p){a(h,p,v[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(v)):s(Object(v)).forEach(function(p){Object.defineProperty(h,p,Object.getOwnPropertyDescriptor(v,p))})}return h}function a(h,g,v){return(g=c(g))in h?Object.defineProperty(h,g,{value:v,enumerable:!0,configurable:!0,writable:!0}):h[g]=v,h}function l(h,g){for(var v=0;v<g.length;v++){var p=g[v];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(h,c(p.key),p)}}function c(h){var g=function(v,p){if(typeof v!="object"||v===null)return v;var y=v[Symbol.toPrimitive];if(y!==void 0){var m=y.call(v,p||"default");if(typeof m!="object")return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return(p==="string"?String:Number)(v)}(h,"string");return typeof g=="symbol"?g:String(g)}var u=r("buffer").Buffer,f=r("util").inspect,d=f&&f.custom||"inspect";n.exports=function(){function h(){(function(p,y){if(!(p instanceof y))throw new TypeError("Cannot call a class as a function")})(this,h),this.head=null,this.tail=null,this.length=0}var g,v;return g=h,(v=[{key:"push",value:function(p){var y={data:p,next:null};this.length>0?this.tail.next=y:this.head=y,this.tail=y,++this.length}},{key:"unshift",value:function(p){var y={data:p,next:this.head};this.length===0&&(this.tail=y),this.head=y,++this.length}},{key:"shift",value:function(){if(this.length!==0){var p=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,p}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(p){if(this.length===0)return"";for(var y=this.head,m=""+y.data;y=y.next;)m+=p+y.data;return m}},{key:"concat",value:function(p){if(this.length===0)return u.alloc(0);for(var y,m,b,x=u.allocUnsafe(p>>>0),P=this.head,F=0;P;)y=P.data,m=x,b=F,u.prototype.copy.call(y,m,b),F+=P.data.length,P=P.next;return x}},{key:"consume",value:function(p,y){var m;return p<this.head.data.length?(m=this.head.data.slice(0,p),this.head.data=this.head.data.slice(p)):m=p===this.head.data.length?this.shift():y?this._getString(p):this._getBuffer(p),m}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(p){var y=this.head,m=1,b=y.data;for(p-=b.length;y=y.next;){var x=y.data,P=p>x.length?x.length:p;if(P===x.length?b+=x:b+=x.slice(0,p),(p-=P)==0){P===x.length?(++m,y.next?this.head=y.next:this.head=this.tail=null):(this.head=y,y.data=x.slice(P));break}++m}return this.length-=m,b}},{key:"_getBuffer",value:function(p){var y=u.allocUnsafe(p),m=this.head,b=1;for(m.data.copy(y),p-=m.data.length;m=m.next;){var x=m.data,P=p>x.length?x.length:p;if(x.copy(y,y.length-p,0,P),(p-=P)==0){P===x.length?(++b,m.next?this.head=m.next:this.head=this.tail=null):(this.head=m,m.data=x.slice(P));break}++b}return this.length-=b,y}},{key:d,value:function(p,y){return f(this,o(o({},y),{},{depth:0,customInspect:!1}))}}])&&l(g.prototype,v),Object.defineProperty(g,"prototype",{writable:!1}),h}()},{buffer:220,util:188}],485:[function(r,n,i){(function(s){(function(){function o(c,u){l(c,u),a(c)}function a(c){c._writableState&&!c._writableState.emitClose||c._readableState&&!c._readableState.emitClose||c.emit("close")}function l(c,u){c.emit("error",u)}n.exports={destroy:function(c,u){var f=this,d=this._readableState&&this._readableState.destroyed,h=this._writableState&&this._writableState.destroyed;return d||h?(u?u(c):c&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,s.nextTick(l,this,c)):s.nextTick(l,this,c)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(c||null,function(g){!u&&g?f._writableState?f._writableState.errorEmitted?s.nextTick(a,f):(f._writableState.errorEmitted=!0,s.nextTick(o,f,g)):s.nextTick(o,f,g):u?(s.nextTick(a,f),u(g)):s.nextTick(a,f)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(c,u){var f=c._readableState,d=c._writableState;f&&f.autoDestroy||d&&d.autoDestroy?c.destroy(u):c.emit("error",u)}}}).call(this)}).call(this,r("_process"))},{_process:467}],486:[function(r,n,i){var s=r("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function o(){}n.exports=function a(l,c,u){if(typeof c=="function")return a(l,null,c);c||(c={}),u=function(P){var F=!1;return function(){if(!F){F=!0;for(var D=arguments.length,O=new Array(D),j=0;j<D;j++)O[j]=arguments[j];P.apply(this,O)}}}(u||o);var f=c.readable||c.readable!==!1&&l.readable,d=c.writable||c.writable!==!1&&l.writable,h=function(){l.writable||v()},g=l._writableState&&l._writableState.finished,v=function(){d=!1,g=!0,f||u.call(l)},p=l._readableState&&l._readableState.endEmitted,y=function(){f=!1,p=!0,d||u.call(l)},m=function(P){u.call(l,P)},b=function(){var P;return f&&!p?(l._readableState&&l._readableState.ended||(P=new s),u.call(l,P)):d&&!g?(l._writableState&&l._writableState.ended||(P=new s),u.call(l,P)):void 0},x=function(){l.req.on("finish",v)};return function(P){return P.setHeader&&typeof P.abort=="function"}(l)?(l.on("complete",v),l.on("abort",b),l.req?x():l.on("request",x)):d&&!l._writableState&&(l.on("end",h),l.on("close",h)),l.on("end",y),l.on("finish",v),c.error!==!1&&l.on("error",m),l.on("close",b),function(){l.removeListener("complete",v),l.removeListener("abort",b),l.removeListener("request",x),l.req&&l.req.removeListener("finish",v),l.removeListener("end",h),l.removeListener("close",h),l.removeListener("finish",v),l.removeListener("end",y),l.removeListener("error",m),l.removeListener("close",b)}}},{"../../../errors":477}],487:[function(r,n,i){n.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],488:[function(r,n,i){var s,o=r("../../../errors").codes,a=o.ERR_MISSING_ARGS,l=o.ERR_STREAM_DESTROYED;function c(g){if(g)throw g}function u(g,v,p,y){y=function(x){var P=!1;return function(){P||(P=!0,x.apply(void 0,arguments))}}(y);var m=!1;g.on("close",function(){m=!0}),s===void 0&&(s=r("./end-of-stream")),s(g,{readable:v,writable:p},function(x){if(x)return y(x);m=!0,y()});var b=!1;return function(x){if(!m&&!b)return b=!0,function(P){return P.setHeader&&typeof P.abort=="function"}(g)?g.abort():typeof g.destroy=="function"?g.destroy():void y(x||new l("pipe"))}}function f(g){g()}function d(g,v){return g.pipe(v)}function h(g){return g.length?typeof g[g.length-1]!="function"?c:g.pop():c}n.exports=function(){for(var g=arguments.length,v=new Array(g),p=0;p<g;p++)v[p]=arguments[p];var y,m=h(v);if(Array.isArray(v[0])&&(v=v[0]),v.length<2)throw new a("streams");var b=v.map(function(x,P){var F=P<v.length-1;return u(x,F,P>0,function(D){y||(y=D),D&&b.forEach(f),F||(b.forEach(f),m(y))})});return v.reduce(d)}},{"../../../errors":477,"./end-of-stream":486}],489:[function(r,n,i){var s=r("../../../errors").codes.ERR_INVALID_OPT_VALUE;n.exports={getHighWaterMark:function(o,a,l,c){var u=function(f,d,h){return f.highWaterMark!=null?f.highWaterMark:d?f[h]:null}(a,c,l);if(u!=null){if(!isFinite(u)||Math.floor(u)!==u||u<0)throw new s(c?l:"highWaterMark",u);return Math.floor(u)}return o.objectMode?16:16384}}},{"../../../errors":477}],490:[function(r,n,i){n.exports=r("events").EventEmitter},{events:422}],491:[function(r,n,i){(i=n.exports=r("./lib/_stream_readable.js")).Stream=i,i.Readable=i,i.Writable=r("./lib/_stream_writable.js"),i.Duplex=r("./lib/_stream_duplex.js"),i.Transform=r("./lib/_stream_transform.js"),i.PassThrough=r("./lib/_stream_passthrough.js"),i.finished=r("./lib/internal/streams/end-of-stream.js"),i.pipeline=r("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":478,"./lib/_stream_passthrough.js":479,"./lib/_stream_readable.js":480,"./lib/_stream_transform.js":481,"./lib/_stream_writable.js":482,"./lib/internal/streams/end-of-stream.js":486,"./lib/internal/streams/pipeline.js":488}],492:[function(r,n,i){var s=function(o){var a=Object.prototype,l=a.hasOwnProperty,c=Object.defineProperty||function(S,R,_){S[R]=_.value},u=typeof Symbol=="function"?Symbol:{},f=u.iterator||"@@iterator",d=u.asyncIterator||"@@asyncIterator",h=u.toStringTag||"@@toStringTag";function g(S,R,_){return Object.defineProperty(S,R,{value:_,enumerable:!0,configurable:!0,writable:!0}),S[R]}try{g({},"")}catch{g=function(R,_,N){return R[_]=N}}function v(S,R,_,N){var B=R&&R.prototype instanceof m?R:m,V=Object.create(B.prototype),$=new E(N||[]);return c(V,"_invoke",{value:W(S,_,$)}),V}function p(S,R,_){try{return{type:"normal",arg:S.call(R,_)}}catch(N){return{type:"throw",arg:N}}}o.wrap=v;var y={};function m(){}function b(){}function x(){}var P={};g(P,f,function(){return this});var F=Object.getPrototypeOf,D=F&&F(F(w([])));D&&D!==a&&l.call(D,f)&&(P=D);var O=x.prototype=m.prototype=Object.create(P);function j(S){["next","throw","return"].forEach(function(R){g(S,R,function(_){return this._invoke(R,_)})})}function H(S,R){var _;c(this,"_invoke",{value:function(N,B){function V(){return new R(function($,Y){(function L(K,I,A,z){var q=p(S[K],S,I);if(q.type!=="throw"){var J=q.arg,X=J.value;return X&&typeof X=="object"&&l.call(X,"__await")?R.resolve(X.__await).then(function(Z){L("next",Z,A,z)},function(Z){L("throw",Z,A,z)}):R.resolve(X).then(function(Z){J.value=Z,A(J)},function(Z){return L("throw",Z,A,z)})}z(q.arg)})(N,B,$,Y)})}return _=_?_.then(V,V):V()}})}function W(S,R,_){var N="suspendedStart";return function(B,V){if(N==="executing")throw new Error("Generator is already running");if(N==="completed"){if(B==="throw")throw V;return C()}for(_.method=B,_.arg=V;;){var $=_.delegate;if($){var Y=G($,_);if(Y){if(Y===y)continue;return Y}}if(_.method==="next")_.sent=_._sent=_.arg;else if(_.method==="throw"){if(N==="suspendedStart")throw N="completed",_.arg;_.dispatchException(_.arg)}else _.method==="return"&&_.abrupt("return",_.arg);N="executing";var L=p(S,R,_);if(L.type==="normal"){if(N=_.done?"completed":"suspendedYield",L.arg===y)continue;return{value:L.arg,done:_.done}}L.type==="throw"&&(N="completed",_.method="throw",_.arg=L.arg)}}}function G(S,R){var _=R.method,N=S.iterator[_];if(N===void 0)return R.delegate=null,_==="throw"&&S.iterator.return&&(R.method="return",R.arg=void 0,G(S,R),R.method==="throw")||_!=="return"&&(R.method="throw",R.arg=new TypeError("The iterator does not provide a '"+_+"' method")),y;var B=p(N,S.iterator,R.arg);if(B.type==="throw")return R.method="throw",R.arg=B.arg,R.delegate=null,y;var V=B.arg;return V?V.done?(R[S.resultName]=V.value,R.next=S.nextLoc,R.method!=="return"&&(R.method="next",R.arg=void 0),R.delegate=null,y):V:(R.method="throw",R.arg=new TypeError("iterator result is not an object"),R.delegate=null,y)}function M(S){var R={tryLoc:S[0]};1 in S&&(R.catchLoc=S[1]),2 in S&&(R.finallyLoc=S[2],R.afterLoc=S[3]),this.tryEntries.push(R)}function k(S){var R=S.completion||{};R.type="normal",delete R.arg,S.completion=R}function E(S){this.tryEntries=[{tryLoc:"root"}],S.forEach(M,this),this.reset(!0)}function w(S){if(S){var R=S[f];if(R)return R.call(S);if(typeof S.next=="function")return S;if(!isNaN(S.length)){var _=-1,N=function B(){for(;++_<S.length;)if(l.call(S,_))return B.value=S[_],B.done=!1,B;return B.value=void 0,B.done=!0,B};return N.next=N}}return{next:C}}function C(){return{value:void 0,done:!0}}return b.prototype=x,c(O,"constructor",{value:x,configurable:!0}),c(x,"constructor",{value:b,configurable:!0}),b.displayName=g(x,h,"GeneratorFunction"),o.isGeneratorFunction=function(S){var R=typeof S=="function"&&S.constructor;return!!R&&(R===b||(R.displayName||R.name)==="GeneratorFunction")},o.mark=function(S){return Object.setPrototypeOf?Object.setPrototypeOf(S,x):(S.__proto__=x,g(S,h,"GeneratorFunction")),S.prototype=Object.create(O),S},o.awrap=function(S){return{__await:S}},j(H.prototype),g(H.prototype,d,function(){return this}),o.AsyncIterator=H,o.async=function(S,R,_,N,B){B===void 0&&(B=Promise);var V=new H(v(S,R,_,N),B);return o.isGeneratorFunction(R)?V:V.next().then(function($){return $.done?$.value:V.next()})},j(O),g(O,h,"Generator"),g(O,f,function(){return this}),g(O,"toString",function(){return"[object Generator]"}),o.keys=function(S){var R=Object(S),_=[];for(var N in R)_.push(N);return _.reverse(),function B(){for(;_.length;){var V=_.pop();if(V in R)return B.value=V,B.done=!1,B}return B.done=!0,B}},o.values=w,E.prototype={constructor:E,reset:function(S){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!S)for(var R in this)R.charAt(0)==="t"&&l.call(this,R)&&!isNaN(+R.slice(1))&&(this[R]=void 0)},stop:function(){this.done=!0;var S=this.tryEntries[0].completion;if(S.type==="throw")throw S.arg;return this.rval},dispatchException:function(S){if(this.done)throw S;var R=this;function _(L,K){return V.type="throw",V.arg=S,R.next=L,K&&(R.method="next",R.arg=void 0),!!K}for(var N=this.tryEntries.length-1;N>=0;--N){var B=this.tryEntries[N],V=B.completion;if(B.tryLoc==="root")return _("end");if(B.tryLoc<=this.prev){var $=l.call(B,"catchLoc"),Y=l.call(B,"finallyLoc");if($&&Y){if(this.prev<B.catchLoc)return _(B.catchLoc,!0);if(this.prev<B.finallyLoc)return _(B.finallyLoc)}else if($){if(this.prev<B.catchLoc)return _(B.catchLoc,!0)}else{if(!Y)throw new Error("try statement without catch or finally");if(this.prev<B.finallyLoc)return _(B.finallyLoc)}}}},abrupt:function(S,R){for(var _=this.tryEntries.length-1;_>=0;--_){var N=this.tryEntries[_];if(N.tryLoc<=this.prev&&l.call(N,"finallyLoc")&&this.prev<N.finallyLoc){var B=N;break}}B&&(S==="break"||S==="continue")&&B.tryLoc<=R&&R<=B.finallyLoc&&(B=null);var V=B?B.completion:{};return V.type=S,V.arg=R,B?(this.method="next",this.next=B.finallyLoc,y):this.complete(V)},complete:function(S,R){if(S.type==="throw")throw S.arg;return S.type==="break"||S.type==="continue"?this.next=S.arg:S.type==="return"?(this.rval=this.arg=S.arg,this.method="return",this.next="end"):S.type==="normal"&&R&&(this.next=R),y},finish:function(S){for(var R=this.tryEntries.length-1;R>=0;--R){var _=this.tryEntries[R];if(_.finallyLoc===S)return this.complete(_.completion,_.afterLoc),k(_),y}},catch:function(S){for(var R=this.tryEntries.length-1;R>=0;--R){var _=this.tryEntries[R];if(_.tryLoc===S){var N=_.completion;if(N.type==="throw"){var B=N.arg;k(_)}return B}}throw new Error("illegal catch attempt")},delegateYield:function(S,R,_){return this.delegate={iterator:w(S),resultName:R,nextLoc:_},this.method==="next"&&(this.arg=void 0),y}},o}(typeof n=="object"?n.exports:{});try{regeneratorRuntime=s}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=s:Function("r","regeneratorRuntime = r")(s)}},{}],493:[function(r,n,i){var s=r("buffer").Buffer,o=r("inherits"),a=r("hash-base"),l=new Array(16),c=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],u=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],f=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],d=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],h=[0,1518500249,1859775393,2400959708,2840853838],g=[1352829926,1548603684,1836072691,2053994217,0];function v(){a.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function p(F,D){return F<<D|F>>>32-D}function y(F,D,O,j,H,W,G,M){return p(F+(D^O^j)+W+G|0,M)+H|0}function m(F,D,O,j,H,W,G,M){return p(F+(D&O|~D&j)+W+G|0,M)+H|0}function b(F,D,O,j,H,W,G,M){return p(F+((D|~O)^j)+W+G|0,M)+H|0}function x(F,D,O,j,H,W,G,M){return p(F+(D&j|O&~j)+W+G|0,M)+H|0}function P(F,D,O,j,H,W,G,M){return p(F+(D^(O|~j))+W+G|0,M)+H|0}o(v,a),v.prototype._update=function(){for(var F=l,D=0;D<16;++D)F[D]=this._block.readInt32LE(4*D);for(var O=0|this._a,j=0|this._b,H=0|this._c,W=0|this._d,G=0|this._e,M=0|this._a,k=0|this._b,E=0|this._c,w=0|this._d,C=0|this._e,S=0;S<80;S+=1){var R,_;S<16?(R=y(O,j,H,W,G,F[c[S]],h[0],f[S]),_=P(M,k,E,w,C,F[u[S]],g[0],d[S])):S<32?(R=m(O,j,H,W,G,F[c[S]],h[1],f[S]),_=x(M,k,E,w,C,F[u[S]],g[1],d[S])):S<48?(R=b(O,j,H,W,G,F[c[S]],h[2],f[S]),_=b(M,k,E,w,C,F[u[S]],g[2],d[S])):S<64?(R=x(O,j,H,W,G,F[c[S]],h[3],f[S]),_=m(M,k,E,w,C,F[u[S]],g[3],d[S])):(R=P(O,j,H,W,G,F[c[S]],h[4],f[S]),_=y(M,k,E,w,C,F[u[S]],g[4],d[S])),O=G,G=W,W=p(H,10),H=j,j=R,M=C,C=w,w=p(E,10),E=k,k=_}var N=this._b+H+w|0;this._b=this._c+W+C|0,this._c=this._d+G+M|0,this._d=this._e+O+k|0,this._e=this._a+j+E|0,this._a=N},v.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var F=s.alloc?s.alloc(20):new s(20);return F.writeInt32LE(this._a,0),F.writeInt32LE(this._b,4),F.writeInt32LE(this._c,8),F.writeInt32LE(this._d,12),F.writeInt32LE(this._e,16),F},n.exports=v},{buffer:220,"hash-base":425,inherits:440}],494:[function(r,n,i){/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var s=r("buffer"),o=s.Buffer;function a(c,u){for(var f in c)u[f]=c[f]}function l(c,u,f){return o(c,u,f)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?n.exports=s:(a(s,i),i.Buffer=l),l.prototype=Object.create(o.prototype),a(o,l),l.from=function(c,u,f){if(typeof c=="number")throw new TypeError("Argument must not be a number");return o(c,u,f)},l.alloc=function(c,u,f){if(typeof c!="number")throw new TypeError("Argument must be a number");var d=o(c);return u!==void 0?typeof f=="string"?d.fill(u,f):d.fill(u):d.fill(0),d},l.allocUnsafe=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return o(c)},l.allocUnsafeSlow=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return s.SlowBuffer(c)}},{buffer:220}],495:[function(r,n,i){(function(s){(function(){var o,a=r("buffer"),l=a.Buffer,c={};for(o in a)a.hasOwnProperty(o)&&o!=="SlowBuffer"&&o!=="Buffer"&&(c[o]=a[o]);var u=c.Buffer={};for(o in l)l.hasOwnProperty(o)&&o!=="allocUnsafe"&&o!=="allocUnsafeSlow"&&(u[o]=l[o]);if(c.Buffer.prototype=l.prototype,u.from&&u.from!==Uint8Array.from||(u.from=function(f,d,h){if(typeof f=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof f);if(f&&f.length===void 0)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof f);return l(f,d,h)}),u.alloc||(u.alloc=function(f,d,h){if(typeof f!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof f);if(f<0||f>=2*(1<<30))throw new RangeError('The value "'+f+'" is invalid for option "size"');var g=l(f);return d&&d.length!==0?typeof h=="string"?g.fill(d,h):g.fill(d):g.fill(0),g}),!c.kStringMaxLength)try{c.kStringMaxLength=s.binding("buffer").kStringMaxLength}catch{}c.constants||(c.constants={MAX_LENGTH:c.kMaxLength},c.kStringMaxLength&&(c.constants.MAX_STRING_LENGTH=c.kStringMaxLength)),n.exports=c}).call(this)}).call(this,r("_process"))},{_process:467,buffer:220}],496:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0});const s=r("xmlchars/xml/1.0/ed5"),o=r("xmlchars/xml/1.1/ed2"),a=r("xmlchars/xmlns/1.0/ed3");var l=s.isS,c=s.isChar,u=s.isNameStartChar,f=s.isNameChar,d=s.S_LIST,h=s.NAME_RE,g=o.isChar,v=a.isNCNameStartChar,p=a.isNCNameChar,y=a.NC_NAME_RE;const m="http://www.w3.org/XML/1998/namespace",b="http://www.w3.org/2000/xmlns/",x={__proto__:null,xml:m,xmlns:b},P={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},F=w=>w===34||w===39,D=[34,39],O=[...D,91,62],j=[...D,60,93],H=[61,63,...d],W=[...d,62,38,60];function G(w,C,S){switch(C){case"xml":S!==m&&w.fail(`xml prefix must be bound to ${m}.`);break;case"xmlns":S!==b&&w.fail(`xmlns prefix must be bound to ${b}.`)}switch(S){case b:w.fail(C===""?`the default namespace may not be set to ${S}.`:`may not assign a prefix (even "xmlns") to the URI ${b}.`);break;case m:switch(C){case"xml":break;case"":w.fail(`the default namespace may not be set to ${S}.`);break;default:w.fail("may not assign the xml namespace to another prefix.")}}}const M=w=>y.test(w),k=w=>h.test(w);i.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const E={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};i.SaxesParser=class{constructor(w){this.opt=w??{},this.fragmentOpt=!!this.opt.fragment;const C=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=this.opt.position!==!1,this.fileName=this.opt.fileName,C){this.nameStartCheck=v,this.nameCheck=p,this.isName=M,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=Object.assign({__proto__:null},x);const S=this.opt.additionalNamespaces;S!=null&&(function(R,_){for(const N of Object.keys(_))G(R,N,_[N])}(this,S),Object.assign(this.ns,S))}else this.nameStartCheck=u,this.nameCheck=f,this.isName=k,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this._closed}_init(){var w;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=0,this.attribList=[];const{fragmentOpt:C}=this;this.state=C?13:0,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=C,this.xmlDeclPossible=!C,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:S}=this.opt;if(S===void 0){if(this.opt.forceXMLVersion===!0)throw new Error("forceXMLVersion set but defaultXMLVersion is not set");S="1.0"}this.setXMLVersion(S),this.positionAtNewLine=0,this.doctype=!1,this._closed=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=Object.create(P),(w=this.readyHandler)===null||w===void 0||w.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(w,C){this[E[w]]=C}off(w){this[E[w]]=void 0}makeError(w){var C;let S=(C=this.fileName)!==null&&C!==void 0?C:"";return this.trackPosition&&(S.length>0&&(S+=":"),S+=`${this.line}:${this.column}`),S.length>0&&(S+=": "),new Error(S+w)}fail(w){const C=this.makeError(w),S=this.errorHandler;if(S===void 0)throw C;return S(C),this}write(w){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let C=!1;w===null?(C=!0,w=""):typeof w=="object"&&(w=w.toString()),this.carriedFromPrevious!==void 0&&(w=`${this.carriedFromPrevious}${w}`,this.carriedFromPrevious=void 0);let S=w.length;const R=w.charCodeAt(S-1);!C&&(R===13||R>=55296&&R<=56319)&&(this.carriedFromPrevious=w[S-1],S--,w=w.slice(0,S));const{stateTable:_}=this;for(this.chunk=w,this.i=0;this.i<S;)_[this.state].call(this);return this.chunkPosition+=S,C?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:w,i:C}=this;if(this.prevI=C,this.i=C+1,C>=w.length)return-1;const S=w.charCodeAt(C);if(this.column++,S<55296){if(S>=32||S===9)return S;switch(S){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:return w.charCodeAt(C+1)===10&&(this.i=C+2),this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),S}}if(S>56319)return S>=57344&&S<=65533||this.fail("disallowed character."),S;const R=65536+1024*(S-55296)+(w.charCodeAt(C+1)-56320);return this.i=C+2,R>1114111&&this.fail("disallowed character."),R}getCode11(){const{chunk:w,i:C}=this;if(this.prevI=C,this.i=C+1,C>=w.length)return-1;const S=w.charCodeAt(C);if(this.column++,S<55296){if(S>31&&S<127||S>159&&S!==8232||S===9)return S;switch(S){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:{const _=w.charCodeAt(C+1);_!==10&&_!==133||(this.i=C+2)}case 133:case 8232:return this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),S}}if(S>56319)return S>=57344&&S<=65533||this.fail("disallowed character."),S;const R=65536+1024*(S-55296)+(w.charCodeAt(C+1)-56320);return this.i=C+2,R>1114111&&this.fail("disallowed character."),R}getCodeNorm(){const w=this.getCode();return w===-2?10:w}unget(){this.i=this.prevI,this.column--}captureTo(w){let{i:C}=this;const{chunk:S}=this;for(;;){const R=this.getCode(),_=R===-2,N=_?10:R;if(N===-1||w.includes(N))return this.text+=S.slice(C,this.prevI),N;_&&(this.text+=S.slice(C,this.prevI)+`
`,C=this.i)}}captureToChar(w){let{i:C}=this;const{chunk:S}=this;for(;;){let R=this.getCode();switch(R){case-2:this.text+=S.slice(C,this.prevI)+`
`,C=this.i,R=10;break;case-1:return this.text+=S.slice(C),!1}if(R===w)return this.text+=S.slice(C,this.prevI),!0}}captureNameChars(){const{chunk:w,i:C}=this;for(;;){const S=this.getCode();if(S===-1)return this.name+=w.slice(C),-1;if(!f(S))return this.name+=w.slice(C,this.prevI),S===-2?10:S}}skipSpaces(){for(;;){const w=this.getCodeNorm();if(w===-1||!l(w))return w}}setXMLVersion(w){this.currentXMLVersion=w,w==="1.0"?(this.isChar=c,this.getCode=this.getCode10):(this.isChar=g,this.getCode=this.getCode11)}sBegin(){this.chunk.charCodeAt(0)===65279&&(this.i++,this.column++),this.state=1}sBeginWhitespace(){const w=this.i,C=this.skipSpaces();switch(this.prevI!==w&&(this.xmlDeclPossible=!1),C){case 60:if(this.state=15,this.text.length!==0)throw new Error("no-empty text at start");break;case-1:break;default:this.unget(),this.state=13,this.xmlDeclPossible=!1}}sDoctype(){var w;const C=this.captureTo(O);switch(C){case 62:(w=this.doctypeHandler)===null||w===void 0||w.call(this,this.text),this.text="",this.state=13,this.doctype=!0;break;case-1:break;default:this.text+=String.fromCodePoint(C),C===91?this.state=4:F(C)&&(this.state=3,this.q=C)}}sDoctypeQuote(){const w=this.q;this.captureToChar(w)&&(this.text+=String.fromCodePoint(w),this.q=null,this.state=2)}sDTD(){const w=this.captureTo(j);w!==-1&&(this.text+=String.fromCodePoint(w),w===93?this.state=2:w===60?this.state=6:F(w)&&(this.state=5,this.q=w))}sDTDQuoted(){const w=this.q;this.captureToChar(w)&&(this.text+=String.fromCodePoint(w),this.state=4,this.q=null)}sDTDOpenWaka(){const w=this.getCodeNorm();switch(this.text+=String.fromCodePoint(w),w){case 33:this.state=7,this.openWakaBang="";break;case 63:this.state=11;break;default:this.state=4}}sDTDOpenWakaBang(){const w=String.fromCodePoint(this.getCodeNorm()),C=this.openWakaBang+=w;this.text+=w,C!=="-"&&(this.state=C==="--"?8:4,this.openWakaBang="")}sDTDComment(){this.captureToChar(45)&&(this.text+="-",this.state=9)}sDTDCommentEnding(){const w=this.getCodeNorm();this.text+=String.fromCodePoint(w),this.state=w===45?10:8}sDTDCommentEnded(){const w=this.getCodeNorm();this.text+=String.fromCodePoint(w),w===62?this.state=4:(this.fail("malformed comment."),this.state=8)}sDTDPI(){this.captureToChar(63)&&(this.text+="?",this.state=12)}sDTDPIEnding(){const w=this.getCodeNorm();this.text+=String.fromCodePoint(w),w===62&&(this.state=4)}sText(){this.tags.length!==0?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:w}=this;const{chunk:C}=this;e:for(;;)switch(this.getCode()){case-2:this.entity+=C.slice(w,this.prevI)+`
`,w=this.i;break;case 59:{const{entityReturnState:S}=this,R=this.entity+C.slice(w,this.prevI);let _;this.state=S,R===""?(this.fail("empty entity name."),_="&;"):(_=this.parseEntity(R),this.entity=""),S===13&&this.textHandler===void 0||(this.text+=_);break e}case-1:this.entity+=C.slice(w);break e}}sOpenWaka(){const w=this.getCode();if(u(w))this.state=34,this.unget(),this.xmlDeclPossible=!1;else switch(w){case 47:this.state=43,this.xmlDeclPossible=!1;break;case 33:this.state=16,this.openWakaBang="",this.xmlDeclPossible=!1;break;case 63:this.state=23;break;default:this.fail("disallowed character in tag name"),this.state=13,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=20,this.openWakaBang="";break;case"--":this.state=17,this.openWakaBang="";break;case"DOCTYPE":this.state=2,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(45)&&(this.state=18)}sCommentEnding(){var w;const C=this.getCodeNorm();C===45?(this.state=19,(w=this.commentHandler)===null||w===void 0||w.call(this,this.text),this.text=""):(this.text+="-"+String.fromCodePoint(C),this.state=17)}sCommentEnded(){const w=this.getCodeNorm();w!==62?(this.fail("malformed comment."),this.text+="--"+String.fromCodePoint(w),this.state=17):this.state=13}sCData(){this.captureToChar(93)&&(this.state=21)}sCDataEnding(){const w=this.getCodeNorm();w===93?this.state=22:(this.text+="]"+String.fromCodePoint(w),this.state=20)}sCDataEnding2(){var w;const C=this.getCodeNorm();switch(C){case 62:(w=this.cdataHandler)===null||w===void 0||w.call(this,this.text),this.text="",this.state=13;break;case 93:this.text+="]";break;default:this.text+="]]"+String.fromCodePoint(C),this.state=20}}sPIFirstChar(){const w=this.getCodeNorm();this.nameStartCheck(w)?(this.piTarget+=String.fromCodePoint(w),this.state=24):w===63||l(w)?(this.fail("processing instruction without a target."),this.state=w===63?26:25):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(w),this.state=24)}sPIRest(){const{chunk:w,i:C}=this;for(;;){const S=this.getCodeNorm();if(S===-1)return void(this.piTarget+=w.slice(C));if(!this.nameCheck(S)){this.piTarget+=w.slice(C,this.prevI);const R=S===63;R||l(S)?this.piTarget==="xml"?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=R?33:27):this.state=R?26:25:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(S));break}}}sPIBody(){if(this.text.length===0){const w=this.getCodeNorm();w===63?this.state=26:l(w)||(this.text=String.fromCodePoint(w))}else this.captureToChar(63)&&(this.state=26)}sPIEnding(){var w;const C=this.getCodeNorm();if(C===62){const{piTarget:S}=this;S.toLowerCase()==="xml"&&this.fail("the XML declaration must appear at the start of the document."),(w=this.piHandler)===null||w===void 0||w.call(this,{target:S,body:this.text}),this.piTarget=this.text="",this.state=13}else C===63?this.text+="?":(this.text+="?"+String.fromCodePoint(C),this.state=25);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const w=this.skipSpaces();w!==63?w!==-1&&(this.state=28,this.name=String.fromCodePoint(w)):this.state=33}sXMLDeclName(){const w=this.captureTo(H);if(w===63)return this.state=33,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(l(w)||w===61){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail("expected one of "+this.xmlDeclExpects.join(", "))}this.state=w===61?30:29}}sXMLDeclEq(){const w=this.getCodeNorm();if(w===63)return this.state=33,void this.fail("XML declaration is incomplete.");l(w)||(w!==61&&this.fail("value required."),this.state=30)}sXMLDeclValueStart(){const w=this.getCodeNorm();if(w===63)return this.state=33,void this.fail("XML declaration is incomplete.");l(w)||(F(w)?this.q=w:(this.fail("value must be quoted."),this.q=32),this.state=31)}sXMLDeclValue(){const w=this.captureTo([this.q,63]);if(w===63)return this.state=33,this.text="",void this.fail("XML declaration is incomplete.");if(w===-1)return;const C=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const S=C;this.xmlDecl.version=S,/^1\.[0-9]+$/.test(S)?this.opt.forceXMLVersion||this.setXMLVersion(S):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(C)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=C;break;case"standalone":C!=="yes"&&C!=="no"&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=C}this.name="",this.state=32}sXMLDeclSeparator(){const w=this.getCodeNorm();w!==63?(l(w)||(this.fail("whitespace required."),this.unget()),this.state=27):this.state=33}sXMLDeclEnding(){var w;this.getCodeNorm()===62?(this.piTarget!=="xml"?this.fail("processing instructions are not allowed before root."):this.name!=="version"&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),(w=this.xmldeclHandler)===null||w===void 0||w.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=13):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var w;const C=this.captureNameChars();if(C===-1)return;const S=this.tag={name:this.name,attributes:Object.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=S.ns=Object.create(null)),(w=this.openTagStartHandler)===null||w===void 0||w.call(this,S),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),C){case 62:this.openTag();break;case 47:this.state=35;break;default:l(C)||this.fail("disallowed character in tag name."),this.state=36}}sOpenTagSlash(){this.getCode()===62?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=36)}sAttrib(){const w=this.skipSpaces();w!==-1&&(u(w)?(this.unget(),this.state=37):w===62?this.openTag():w===47?this.state=35:this.fail("disallowed character in attribute name."))}sAttribName(){const w=this.captureNameChars();w===61?this.state=39:l(w)?this.state=38:w===62?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):w!==-1&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const w=this.skipSpaces();switch(w){case-1:return;case 61:this.state=39;break;default:this.fail("attribute without value."),this.text="",this.name="",w===62?this.openTag():u(w)?(this.unget(),this.state=37):(this.fail("disallowed character in attribute name."),this.state=36)}}sAttribValue(){const w=this.getCodeNorm();F(w)?(this.q=w,this.state=40):l(w)||(this.fail("unquoted attribute value."),this.state=42,this.unget())}sAttribValueQuoted(){const{q:w,chunk:C}=this;let{i:S}=this;for(;;)switch(this.getCode()){case w:return this.pushAttrib(this.name,this.text+C.slice(S,this.prevI)),this.name=this.text="",this.q=null,void(this.state=41);case 38:return this.text+=C.slice(S,this.prevI),this.state=14,void(this.entityReturnState=40);case 10:case-2:case 9:this.text+=C.slice(S,this.prevI)+" ",S=this.i;break;case 60:return this.text+=C.slice(S,this.prevI),void this.fail("disallowed character.");case-1:return void(this.text+=C.slice(S))}}sAttribValueClosed(){const w=this.getCodeNorm();l(w)?this.state=36:w===62?this.openTag():w===47?this.state=35:u(w)?(this.fail("no whitespace between attributes."),this.unget(),this.state=37):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const w=this.captureTo(W);switch(w){case 38:this.state=14,this.entityReturnState=42;break;case 60:this.fail("disallowed character.");break;case-1:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",w===62?this.openTag():this.state=36}}sCloseTag(){const w=this.captureNameChars();w===62?this.closeTag():l(w)?this.state=44:w!==-1&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case 62:this.closeTag();break;case-1:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:w,forbiddenState:C}=this;const{chunk:S,textHandler:R}=this;e:for(;;)switch(this.getCode()){case 60:if(this.state=15,R!==void 0){const{text:_}=this,N=S.slice(w,this.prevI);_.length!==0?(R(_+N),this.text=""):N.length!==0&&R(N)}C=0;break e;case 38:this.state=14,this.entityReturnState=13,R!==void 0&&(this.text+=S.slice(w,this.prevI)),C=0;break e;case 93:switch(C){case 0:C=1;break;case 1:C=2;break;case 2:break;default:throw new Error("impossible state")}break;case 62:C===2&&this.fail('the string "]]>" is disallowed in char data.'),C=0;break;case-2:R!==void 0&&(this.text+=S.slice(w,this.prevI)+`
`),w=this.i,C=0;break;case-1:R!==void 0&&(this.text+=S.slice(w));break e;default:C=0}this.forbiddenState=C}handleTextOutsideRoot(){let{i:w}=this;const{chunk:C,textHandler:S}=this;let R=!1;e:for(;;){const _=this.getCode();switch(_){case 60:if(this.state=15,S!==void 0){const{text:N}=this,B=C.slice(w,this.prevI);N.length!==0?(S(N+B),this.text=""):B.length!==0&&S(B)}break e;case 38:this.state=14,this.entityReturnState=13,S!==void 0&&(this.text+=C.slice(w,this.prevI)),R=!0;break e;case-2:S!==void 0&&(this.text+=C.slice(w,this.prevI)+`
`),w=this.i;break;case-1:S!==void 0&&(this.text+=C.slice(w));break e;default:l(_)||(R=!0)}}R&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(w,C){var S;const{prefix:R,local:_}=this.qname(w),N={name:w,prefix:R,local:_,value:C};if(this.attribList.push(N),(S=this.attributeHandler)===null||S===void 0||S.call(this,N),R==="xmlns"){const B=C.trim();this.currentXMLVersion==="1.0"&&B===""&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[_]=B,G(this,_,B)}else if(w==="xmlns"){const B=C.trim();this.topNS[""]=B,G(this,"",B)}}pushAttribPlain(w,C){var S;const R={name:w,value:C};this.attribList.push(R),(S=this.attributeHandler)===null||S===void 0||S.call(this,R)}end(){var w,C;this.sawRoot||this.fail("document must contain a root element.");const{tags:S}=this;for(;S.length>0;){const _=S.pop();this.fail("unclosed tag: "+_.name)}this.state!==0&&this.state!==13&&this.fail("unexpected end.");const{text:R}=this;return R.length!==0&&((w=this.textHandler)===null||w===void 0||w.call(this,R),this.text=""),this._closed=!0,(C=this.endHandler)===null||C===void 0||C.call(this),this._init(),this}resolve(w){var C,S;let R=this.topNS[w];if(R!==void 0)return R;const{tags:_}=this;for(let N=_.length-1;N>=0;N--)if(R=_[N].ns[w],R!==void 0)return R;return R=this.ns[w],R!==void 0?R:(S=(C=this.opt).resolvePrefix)===null||S===void 0?void 0:S.call(C,w)}qname(w){const C=w.indexOf(":");if(C===-1)return{prefix:"",local:w};const S=w.slice(C+1),R=w.slice(0,C);return(R===""||S===""||S.includes(":"))&&this.fail(`malformed name: ${w}.`),{prefix:R,local:S}}processAttribsNS(){var w;const{attribList:C}=this,S=this.tag;{const{prefix:N,local:B}=this.qname(S.name);S.prefix=N,S.local=B;const V=S.uri=(w=this.resolve(N))!==null&&w!==void 0?w:"";N!==""&&(N==="xmlns"&&this.fail('tags may not have "xmlns" as prefix.'),V===""&&(this.fail(`unbound namespace prefix: ${JSON.stringify(N)}.`),S.uri=N))}if(C.length===0)return;const{attributes:R}=S,_=new Set;for(const N of C){const{name:B,prefix:V,local:$}=N;let Y,L;V===""?(Y=B==="xmlns"?b:"",L=B):(Y=this.resolve(V),Y===void 0&&(this.fail(`unbound namespace prefix: ${JSON.stringify(V)}.`),Y=V),L=`{${Y}}${$}`),_.has(L)&&this.fail(`duplicate attribute: ${L}.`),_.add(L),N.uri=Y,R[B]=N}this.attribList=[]}processAttribsPlain(){const{attribList:w}=this,C=this.tag.attributes;for(const{name:S,value:R}of w)C[S]!==void 0&&this.fail(`duplicate attribute: ${S}.`),C[S]=R;this.attribList=[]}openTag(){var w;this.processAttribs();const{tags:C}=this,S=this.tag;S.isSelfClosing=!1,(w=this.openTagHandler)===null||w===void 0||w.call(this,S),C.push(S),this.state=13,this.name=""}openSelfClosingTag(){var w,C,S;this.processAttribs();const{tags:R}=this,_=this.tag;_.isSelfClosing=!0,(w=this.openTagHandler)===null||w===void 0||w.call(this,_),(C=this.closeTagHandler)===null||C===void 0||C.call(this,_),(this.tag=(S=R[R.length-1])!==null&&S!==void 0?S:null)===null&&(this.closedRoot=!0),this.state=13,this.name=""}closeTag(){const{tags:w,name:C}=this;if(this.state=13,this.name="",C==="")return this.fail("weird empty close tag."),void(this.text+="</>");const S=this.closeTagHandler;let R=w.length;for(;R-- >0;){const _=this.tag=w.pop();if(this.topNS=_.ns,S==null||S(_),_.name===C)break;this.fail("unexpected close tag.")}R===0?this.closedRoot=!0:R<0&&(this.fail(`unmatched closing tag: ${C}.`),this.text+=`</${C}>`)}parseEntity(w){if(w[0]!=="#"){const S=this.ENTITIES[w];return S!==void 0?S:(this.fail(this.isName(w)?"undefined entity.":"disallowed character in entity name."),`&${w};`)}let C=NaN;return w[1]==="x"&&/^#x[0-9a-f]+$/i.test(w)?C=parseInt(w.slice(2),16):/^#[0-9]+$/.test(w)&&(C=parseInt(w.slice(1),10)),this.isChar(C)?String.fromCodePoint(C):(this.fail("malformed character entity."),`&${w};`)}}},{"xmlchars/xml/1.0/ed5":543,"xmlchars/xml/1.1/ed2":544,"xmlchars/xmlns/1.0/ed3":545}],497:[function(r,n,i){var s=r("safe-buffer").Buffer;function o(a,l){this._block=s.alloc(a),this._finalSize=l,this._blockSize=a,this._len=0}o.prototype.update=function(a,l){typeof a=="string"&&(l=l||"utf8",a=s.from(a,l));for(var c=this._block,u=this._blockSize,f=a.length,d=this._len,h=0;h<f;){for(var g=d%u,v=Math.min(f-h,u-g),p=0;p<v;p++)c[g+p]=a[h+p];h+=v,(d+=v)%u==0&&this._update(c)}return this._len+=f,this},o.prototype.digest=function(a){var l=this._len%this._blockSize;this._block[l]=128,this._block.fill(0,l+1),l>=this._finalSize&&(this._update(this._block),this._block.fill(0));var c=8*this._len;if(c<=4294967295)this._block.writeUInt32BE(c,this._blockSize-4);else{var u=(4294967295&c)>>>0,f=(c-u)/4294967296;this._block.writeUInt32BE(f,this._blockSize-8),this._block.writeUInt32BE(u,this._blockSize-4)}this._update(this._block);var d=this._hash();return a?d.toString(a):d},o.prototype._update=function(){throw new Error("_update must be implemented by subclass")},n.exports=o},{"safe-buffer":494}],498:[function(r,n,i){var s=n.exports=function(o){o=o.toLowerCase();var a=s[o];if(!a)throw new Error(o+" is not supported (we accept pull requests)");return new a};s.sha=r("./sha"),s.sha1=r("./sha1"),s.sha224=r("./sha224"),s.sha256=r("./sha256"),s.sha384=r("./sha384"),s.sha512=r("./sha512")},{"./sha":499,"./sha1":500,"./sha224":501,"./sha256":502,"./sha384":503,"./sha512":504}],499:[function(r,n,i){var s=r("inherits"),o=r("./hash"),a=r("safe-buffer").Buffer,l=[1518500249,1859775393,-1894007588,-899497514],c=new Array(80);function u(){this.init(),this._w=c,o.call(this,64,56)}function f(h){return h<<30|h>>>2}function d(h,g,v,p){return h===0?g&v|~g&p:h===2?g&v|g&p|v&p:g^v^p}s(u,o),u.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},u.prototype._update=function(h){for(var g,v=this._w,p=0|this._a,y=0|this._b,m=0|this._c,b=0|this._d,x=0|this._e,P=0;P<16;++P)v[P]=h.readInt32BE(4*P);for(;P<80;++P)v[P]=v[P-3]^v[P-8]^v[P-14]^v[P-16];for(var F=0;F<80;++F){var D=~~(F/20),O=0|((g=p)<<5|g>>>27)+d(D,y,m,b)+x+v[F]+l[D];x=b,b=m,m=f(y),y=p,p=O}this._a=p+this._a|0,this._b=y+this._b|0,this._c=m+this._c|0,this._d=b+this._d|0,this._e=x+this._e|0},u.prototype._hash=function(){var h=a.allocUnsafe(20);return h.writeInt32BE(0|this._a,0),h.writeInt32BE(0|this._b,4),h.writeInt32BE(0|this._c,8),h.writeInt32BE(0|this._d,12),h.writeInt32BE(0|this._e,16),h},n.exports=u},{"./hash":497,inherits:440,"safe-buffer":494}],500:[function(r,n,i){var s=r("inherits"),o=r("./hash"),a=r("safe-buffer").Buffer,l=[1518500249,1859775393,-1894007588,-899497514],c=new Array(80);function u(){this.init(),this._w=c,o.call(this,64,56)}function f(g){return g<<5|g>>>27}function d(g){return g<<30|g>>>2}function h(g,v,p,y){return g===0?v&p|~v&y:g===2?v&p|v&y|p&y:v^p^y}s(u,o),u.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},u.prototype._update=function(g){for(var v,p=this._w,y=0|this._a,m=0|this._b,b=0|this._c,x=0|this._d,P=0|this._e,F=0;F<16;++F)p[F]=g.readInt32BE(4*F);for(;F<80;++F)p[F]=(v=p[F-3]^p[F-8]^p[F-14]^p[F-16])<<1|v>>>31;for(var D=0;D<80;++D){var O=~~(D/20),j=f(y)+h(O,m,b,x)+P+p[D]+l[O]|0;P=x,x=b,b=d(m),m=y,y=j}this._a=y+this._a|0,this._b=m+this._b|0,this._c=b+this._c|0,this._d=x+this._d|0,this._e=P+this._e|0},u.prototype._hash=function(){var g=a.allocUnsafe(20);return g.writeInt32BE(0|this._a,0),g.writeInt32BE(0|this._b,4),g.writeInt32BE(0|this._c,8),g.writeInt32BE(0|this._d,12),g.writeInt32BE(0|this._e,16),g},n.exports=u},{"./hash":497,inherits:440,"safe-buffer":494}],501:[function(r,n,i){var s=r("inherits"),o=r("./sha256"),a=r("./hash"),l=r("safe-buffer").Buffer,c=new Array(64);function u(){this.init(),this._w=c,a.call(this,64,56)}s(u,o),u.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},u.prototype._hash=function(){var f=l.allocUnsafe(28);return f.writeInt32BE(this._a,0),f.writeInt32BE(this._b,4),f.writeInt32BE(this._c,8),f.writeInt32BE(this._d,12),f.writeInt32BE(this._e,16),f.writeInt32BE(this._f,20),f.writeInt32BE(this._g,24),f},n.exports=u},{"./hash":497,"./sha256":502,inherits:440,"safe-buffer":494}],502:[function(r,n,i){var s=r("inherits"),o=r("./hash"),a=r("safe-buffer").Buffer,l=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],c=new Array(64);function u(){this.init(),this._w=c,o.call(this,64,56)}function f(p,y,m){return m^p&(y^m)}function d(p,y,m){return p&y|m&(p|y)}function h(p){return(p>>>2|p<<30)^(p>>>13|p<<19)^(p>>>22|p<<10)}function g(p){return(p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7)}function v(p){return(p>>>7|p<<25)^(p>>>18|p<<14)^p>>>3}s(u,o),u.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},u.prototype._update=function(p){for(var y,m=this._w,b=0|this._a,x=0|this._b,P=0|this._c,F=0|this._d,D=0|this._e,O=0|this._f,j=0|this._g,H=0|this._h,W=0;W<16;++W)m[W]=p.readInt32BE(4*W);for(;W<64;++W)m[W]=0|(((y=m[W-2])>>>17|y<<15)^(y>>>19|y<<13)^y>>>10)+m[W-7]+v(m[W-15])+m[W-16];for(var G=0;G<64;++G){var M=H+g(D)+f(D,O,j)+l[G]+m[G]|0,k=h(b)+d(b,x,P)|0;H=j,j=O,O=D,D=F+M|0,F=P,P=x,x=b,b=M+k|0}this._a=b+this._a|0,this._b=x+this._b|0,this._c=P+this._c|0,this._d=F+this._d|0,this._e=D+this._e|0,this._f=O+this._f|0,this._g=j+this._g|0,this._h=H+this._h|0},u.prototype._hash=function(){var p=a.allocUnsafe(32);return p.writeInt32BE(this._a,0),p.writeInt32BE(this._b,4),p.writeInt32BE(this._c,8),p.writeInt32BE(this._d,12),p.writeInt32BE(this._e,16),p.writeInt32BE(this._f,20),p.writeInt32BE(this._g,24),p.writeInt32BE(this._h,28),p},n.exports=u},{"./hash":497,inherits:440,"safe-buffer":494}],503:[function(r,n,i){var s=r("inherits"),o=r("./sha512"),a=r("./hash"),l=r("safe-buffer").Buffer,c=new Array(160);function u(){this.init(),this._w=c,a.call(this,128,112)}s(u,o),u.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},u.prototype._hash=function(){var f=l.allocUnsafe(48);function d(h,g,v){f.writeInt32BE(h,v),f.writeInt32BE(g,v+4)}return d(this._ah,this._al,0),d(this._bh,this._bl,8),d(this._ch,this._cl,16),d(this._dh,this._dl,24),d(this._eh,this._el,32),d(this._fh,this._fl,40),f},n.exports=u},{"./hash":497,"./sha512":504,inherits:440,"safe-buffer":494}],504:[function(r,n,i){var s=r("inherits"),o=r("./hash"),a=r("safe-buffer").Buffer,l=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],c=new Array(160);function u(){this.init(),this._w=c,o.call(this,128,112)}function f(x,P,F){return F^x&(P^F)}function d(x,P,F){return x&P|F&(x|P)}function h(x,P){return(x>>>28|P<<4)^(P>>>2|x<<30)^(P>>>7|x<<25)}function g(x,P){return(x>>>14|P<<18)^(x>>>18|P<<14)^(P>>>9|x<<23)}function v(x,P){return(x>>>1|P<<31)^(x>>>8|P<<24)^x>>>7}function p(x,P){return(x>>>1|P<<31)^(x>>>8|P<<24)^(x>>>7|P<<25)}function y(x,P){return(x>>>19|P<<13)^(P>>>29|x<<3)^x>>>6}function m(x,P){return(x>>>19|P<<13)^(P>>>29|x<<3)^(x>>>6|P<<26)}function b(x,P){return x>>>0<P>>>0?1:0}s(u,o),u.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},u.prototype._update=function(x){for(var P=this._w,F=0|this._ah,D=0|this._bh,O=0|this._ch,j=0|this._dh,H=0|this._eh,W=0|this._fh,G=0|this._gh,M=0|this._hh,k=0|this._al,E=0|this._bl,w=0|this._cl,C=0|this._dl,S=0|this._el,R=0|this._fl,_=0|this._gl,N=0|this._hl,B=0;B<32;B+=2)P[B]=x.readInt32BE(4*B),P[B+1]=x.readInt32BE(4*B+4);for(;B<160;B+=2){var V=P[B-30],$=P[B-30+1],Y=v(V,$),L=p($,V),K=y(V=P[B-4],$=P[B-4+1]),I=m($,V),A=P[B-14],z=P[B-14+1],q=P[B-32],J=P[B-32+1],X=L+z|0,Z=Y+A+b(X,L)|0;Z=(Z=Z+K+b(X=X+I|0,I)|0)+q+b(X=X+J|0,J)|0,P[B]=Z,P[B+1]=X}for(var ie=0;ie<160;ie+=2){Z=P[ie],X=P[ie+1];var se=d(F,D,O),Q=d(k,E,w),re=h(F,k),ne=h(k,F),ue=g(H,S),de=g(S,H),ge=l[ie],we=l[ie+1],xe=f(H,W,G),Fe=f(S,R,_),De=N+de|0,Le=M+ue+b(De,N)|0;Le=(Le=(Le=Le+xe+b(De=De+Fe|0,Fe)|0)+ge+b(De=De+we|0,we)|0)+Z+b(De=De+X|0,X)|0;var He=ne+Q|0,it=re+se+b(He,ne)|0;M=G,N=_,G=W,_=R,W=H,R=S,H=j+Le+b(S=C+De|0,C)|0,j=O,C=w,O=D,w=E,D=F,E=k,F=Le+it+b(k=De+He|0,De)|0}this._al=this._al+k|0,this._bl=this._bl+E|0,this._cl=this._cl+w|0,this._dl=this._dl+C|0,this._el=this._el+S|0,this._fl=this._fl+R|0,this._gl=this._gl+_|0,this._hl=this._hl+N|0,this._ah=this._ah+F+b(this._al,k)|0,this._bh=this._bh+D+b(this._bl,E)|0,this._ch=this._ch+O+b(this._cl,w)|0,this._dh=this._dh+j+b(this._dl,C)|0,this._eh=this._eh+H+b(this._el,S)|0,this._fh=this._fh+W+b(this._fl,R)|0,this._gh=this._gh+G+b(this._gl,_)|0,this._hh=this._hh+M+b(this._hl,N)|0},u.prototype._hash=function(){var x=a.allocUnsafe(64);function P(F,D,O){x.writeInt32BE(F,O),x.writeInt32BE(D,O+4)}return P(this._ah,this._al,0),P(this._bh,this._bl,8),P(this._ch,this._cl,16),P(this._dh,this._dl,24),P(this._eh,this._el,32),P(this._fh,this._fl,40),P(this._gh,this._gl,48),P(this._hh,this._hl,56),x},n.exports=u},{"./hash":497,inherits:440,"safe-buffer":494}],505:[function(r,n,i){n.exports=o;var s=r("events").EventEmitter;function o(){s.call(this)}r("inherits")(o,s),o.Readable=r("readable-stream/readable.js"),o.Writable=r("readable-stream/writable.js"),o.Duplex=r("readable-stream/duplex.js"),o.Transform=r("readable-stream/transform.js"),o.PassThrough=r("readable-stream/passthrough.js"),o.Stream=o,o.prototype.pipe=function(a,l){var c=this;function u(y){a.writable&&a.write(y)===!1&&c.pause&&c.pause()}function f(){c.readable&&c.resume&&c.resume()}c.on("data",u),a.on("drain",f),a._isStdio||l&&l.end===!1||(c.on("end",h),c.on("close",g));var d=!1;function h(){d||(d=!0,a.end())}function g(){d||(d=!0,typeof a.destroy=="function"&&a.destroy())}function v(y){if(p(),s.listenerCount(this,"error")===0)throw y}function p(){c.removeListener("data",u),a.removeListener("drain",f),c.removeListener("end",h),c.removeListener("close",g),c.removeListener("error",v),a.removeListener("error",v),c.removeListener("end",p),c.removeListener("close",p),a.removeListener("close",p)}return c.on("error",v),a.on("error",v),c.on("end",p),c.on("close",p),a.on("close",p),a.emit("pipe",c),a}},{events:422,inherits:440,"readable-stream/duplex.js":507,"readable-stream/passthrough.js":516,"readable-stream/readable.js":517,"readable-stream/transform.js":518,"readable-stream/writable.js":519}],506:[function(r,n,i){var s={}.toString;n.exports=Array.isArray||function(o){return s.call(o)=="[object Array]"}},{}],507:[function(r,n,i){n.exports=r("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":508}],508:[function(r,n,i){var s=r("process-nextick-args"),o=Object.keys||function(p){var y=[];for(var m in p)y.push(m);return y};n.exports=h;var a=Object.create(r("core-util-is"));a.inherits=r("inherits");var l=r("./_stream_readable"),c=r("./_stream_writable");a.inherits(h,l);for(var u=o(c.prototype),f=0;f<u.length;f++){var d=u[f];h.prototype[d]||(h.prototype[d]=c.prototype[d])}function h(p){if(!(this instanceof h))return new h(p);l.call(this,p),c.call(this,p),p&&p.readable===!1&&(this.readable=!1),p&&p.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,p&&p.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",g)}function g(){this.allowHalfOpen||this._writableState.ended||s.nextTick(v,this)}function v(p){p.end()}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(p){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=p,this._writableState.destroyed=p)}}),h.prototype._destroy=function(p,y){this.push(null),this.end(),s.nextTick(y,p)}},{"./_stream_readable":510,"./_stream_writable":512,"core-util-is":383,inherits:440,"process-nextick-args":466}],509:[function(r,n,i){n.exports=a;var s=r("./_stream_transform"),o=Object.create(r("core-util-is"));function a(l){if(!(this instanceof a))return new a(l);s.call(this,l)}o.inherits=r("inherits"),o.inherits(a,s),a.prototype._transform=function(l,c,u){u(null,l)}},{"./_stream_transform":511,"core-util-is":383,inherits:440}],510:[function(r,n,i){(function(s,o){(function(){var a=r("process-nextick-args");n.exports=F;var l,c=r("isarray");F.ReadableState=P,r("events").EventEmitter;var u=function(N,B){return N.listeners(B).length},f=r("./internal/streams/stream"),d=r("safe-buffer").Buffer,h=(o!==void 0?o:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},g=Object.create(r("core-util-is"));g.inherits=r("inherits");var v=r("util"),p=void 0;p=v&&v.debuglog?v.debuglog("stream"):function(){};var y,m=r("./internal/streams/BufferList"),b=r("./internal/streams/destroy");g.inherits(F,f);var x=["error","close","destroy","pause","resume"];function P(N,B){N=N||{};var V=B instanceof(l=l||r("./_stream_duplex"));this.objectMode=!!N.objectMode,V&&(this.objectMode=this.objectMode||!!N.readableObjectMode);var $=N.highWaterMark,Y=N.readableHighWaterMark,L=this.objectMode?16:16384;this.highWaterMark=$||$===0?$:V&&(Y||Y===0)?Y:L,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new m,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=N.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,N.encoding&&(y||(y=r("string_decoder/").StringDecoder),this.decoder=new y(N.encoding),this.encoding=N.encoding)}function F(N){if(l=l||r("./_stream_duplex"),!(this instanceof F))return new F(N);this._readableState=new P(N,this),this.readable=!0,N&&(typeof N.read=="function"&&(this._read=N.read),typeof N.destroy=="function"&&(this._destroy=N.destroy)),f.call(this)}function D(N,B,V,$,Y){var L,K=N._readableState;return B===null?(K.reading=!1,function(I,A){if(!A.ended){if(A.decoder){var z=A.decoder.end();z&&z.length&&(A.buffer.push(z),A.length+=A.objectMode?1:z.length)}A.ended=!0,H(I)}}(N,K)):(Y||(L=function(I,A){var z;q=A,d.isBuffer(q)||q instanceof h||typeof A=="string"||A===void 0||I.objectMode||(z=new TypeError("Invalid non-string/buffer chunk"));var q;return z}(K,B)),L?N.emit("error",L):K.objectMode||B&&B.length>0?(typeof B=="string"||K.objectMode||Object.getPrototypeOf(B)===d.prototype||(B=function(I){return d.from(I)}(B)),$?K.endEmitted?N.emit("error",new Error("stream.unshift() after end event")):O(N,K,B,!0):K.ended?N.emit("error",new Error("stream.push() after EOF")):(K.reading=!1,K.decoder&&!V?(B=K.decoder.write(B),K.objectMode||B.length!==0?O(N,K,B,!1):G(N,K)):O(N,K,B,!1))):$||(K.reading=!1)),function(I){return!I.ended&&(I.needReadable||I.length<I.highWaterMark||I.length===0)}(K)}function O(N,B,V,$){B.flowing&&B.length===0&&!B.sync?(N.emit("data",V),N.read(0)):(B.length+=B.objectMode?1:V.length,$?B.buffer.unshift(V):B.buffer.push(V),B.needReadable&&H(N)),G(N,B)}Object.defineProperty(F.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(N){this._readableState&&(this._readableState.destroyed=N)}}),F.prototype.destroy=b.destroy,F.prototype._undestroy=b.undestroy,F.prototype._destroy=function(N,B){this.push(null),B(N)},F.prototype.push=function(N,B){var V,$=this._readableState;return $.objectMode?V=!0:typeof N=="string"&&((B=B||$.defaultEncoding)!==$.encoding&&(N=d.from(N,B),B=""),V=!0),D(this,N,B,!1,V)},F.prototype.unshift=function(N){return D(this,N,null,!0,!1)},F.prototype.isPaused=function(){return this._readableState.flowing===!1},F.prototype.setEncoding=function(N){return y||(y=r("string_decoder/").StringDecoder),this._readableState.decoder=new y(N),this._readableState.encoding=N,this};function j(N,B){return N<=0||B.length===0&&B.ended?0:B.objectMode?1:N!=N?B.flowing&&B.length?B.buffer.head.data.length:B.length:(N>B.highWaterMark&&(B.highWaterMark=function(V){return V>=8388608?V=8388608:(V--,V|=V>>>1,V|=V>>>2,V|=V>>>4,V|=V>>>8,V|=V>>>16,V++),V}(N)),N<=B.length?N:B.ended?B.length:(B.needReadable=!0,0))}function H(N){var B=N._readableState;B.needReadable=!1,B.emittedReadable||(p("emitReadable",B.flowing),B.emittedReadable=!0,B.sync?a.nextTick(W,N):W(N))}function W(N){p("emit readable"),N.emit("readable"),w(N)}function G(N,B){B.readingMore||(B.readingMore=!0,a.nextTick(M,N,B))}function M(N,B){for(var V=B.length;!B.reading&&!B.flowing&&!B.ended&&B.length<B.highWaterMark&&(p("maybeReadMore read 0"),N.read(0),V!==B.length);)V=B.length;B.readingMore=!1}function k(N){p("readable nexttick read 0"),N.read(0)}function E(N,B){B.reading||(p("resume read 0"),N.read(0)),B.resumeScheduled=!1,B.awaitDrain=0,N.emit("resume"),w(N),B.flowing&&!B.reading&&N.read(0)}function w(N){var B=N._readableState;for(p("flow",B.flowing);B.flowing&&N.read()!==null;);}function C(N,B){return B.length===0?null:(B.objectMode?V=B.buffer.shift():!N||N>=B.length?(V=B.decoder?B.buffer.join(""):B.buffer.length===1?B.buffer.head.data:B.buffer.concat(B.length),B.buffer.clear()):V=function($,Y,L){var K;return $<Y.head.data.length?(K=Y.head.data.slice(0,$),Y.head.data=Y.head.data.slice($)):K=$===Y.head.data.length?Y.shift():L?function(I,A){var z=A.head,q=1,J=z.data;for(I-=J.length;z=z.next;){var X=z.data,Z=I>X.length?X.length:I;if(Z===X.length?J+=X:J+=X.slice(0,I),(I-=Z)===0){Z===X.length?(++q,z.next?A.head=z.next:A.head=A.tail=null):(A.head=z,z.data=X.slice(Z));break}++q}return A.length-=q,J}($,Y):function(I,A){var z=d.allocUnsafe(I),q=A.head,J=1;for(q.data.copy(z),I-=q.data.length;q=q.next;){var X=q.data,Z=I>X.length?X.length:I;if(X.copy(z,z.length-I,0,Z),(I-=Z)===0){Z===X.length?(++J,q.next?A.head=q.next:A.head=A.tail=null):(A.head=q,q.data=X.slice(Z));break}++J}return A.length-=J,z}($,Y),K}(N,B.buffer,B.decoder),V);var V}function S(N){var B=N._readableState;if(B.length>0)throw new Error('"endReadable()" called on non-empty stream');B.endEmitted||(B.ended=!0,a.nextTick(R,B,N))}function R(N,B){N.endEmitted||N.length!==0||(N.endEmitted=!0,B.readable=!1,B.emit("end"))}function _(N,B){for(var V=0,$=N.length;V<$;V++)if(N[V]===B)return V;return-1}F.prototype.read=function(N){p("read",N),N=parseInt(N,10);var B=this._readableState,V=N;if(N!==0&&(B.emittedReadable=!1),N===0&&B.needReadable&&(B.length>=B.highWaterMark||B.ended))return p("read: emitReadable",B.length,B.ended),B.length===0&&B.ended?S(this):H(this),null;if((N=j(N,B))===0&&B.ended)return B.length===0&&S(this),null;var $,Y=B.needReadable;return p("need readable",Y),(B.length===0||B.length-N<B.highWaterMark)&&p("length less than watermark",Y=!0),B.ended||B.reading?p("reading or ended",Y=!1):Y&&(p("do read"),B.reading=!0,B.sync=!0,B.length===0&&(B.needReadable=!0),this._read(B.highWaterMark),B.sync=!1,B.reading||(N=j(V,B))),($=N>0?C(N,B):null)===null?(B.needReadable=!0,N=0):B.length-=N,B.length===0&&(B.ended||(B.needReadable=!0),V!==N&&B.ended&&S(this)),$!==null&&this.emit("data",$),$},F.prototype._read=function(N){this.emit("error",new Error("_read() is not implemented"))},F.prototype.pipe=function(N,B){var V=this,$=this._readableState;switch($.pipesCount){case 0:$.pipes=N;break;case 1:$.pipes=[$.pipes,N];break;default:$.pipes.push(N)}$.pipesCount+=1,p("pipe count=%d opts=%j",$.pipesCount,B);var Y=(!B||B.end!==!1)&&N!==s.stdout&&N!==s.stderr?K:ie;function L(se,Q){p("onunpipe"),se===V&&Q&&Q.hasUnpiped===!1&&(Q.hasUnpiped=!0,p("cleanup"),N.removeListener("close",X),N.removeListener("finish",Z),N.removeListener("drain",I),N.removeListener("error",J),N.removeListener("unpipe",L),V.removeListener("end",K),V.removeListener("end",ie),V.removeListener("data",q),A=!0,!$.awaitDrain||N._writableState&&!N._writableState.needDrain||I())}function K(){p("onend"),N.end()}$.endEmitted?a.nextTick(Y):V.once("end",Y),N.on("unpipe",L);var I=function(se){return function(){var Q=se._readableState;p("pipeOnDrain",Q.awaitDrain),Q.awaitDrain&&Q.awaitDrain--,Q.awaitDrain===0&&u(se,"data")&&(Q.flowing=!0,w(se))}}(V);N.on("drain",I);var A=!1,z=!1;function q(se){p("ondata"),z=!1,N.write(se)!==!1||z||(($.pipesCount===1&&$.pipes===N||$.pipesCount>1&&_($.pipes,N)!==-1)&&!A&&(p("false write response, pause",$.awaitDrain),$.awaitDrain++,z=!0),V.pause())}function J(se){p("onerror",se),ie(),N.removeListener("error",J),u(N,"error")===0&&N.emit("error",se)}function X(){N.removeListener("finish",Z),ie()}function Z(){p("onfinish"),N.removeListener("close",X),ie()}function ie(){p("unpipe"),V.unpipe(N)}return V.on("data",q),function(se,Q,re){if(typeof se.prependListener=="function")return se.prependListener(Q,re);se._events&&se._events[Q]?c(se._events[Q])?se._events[Q].unshift(re):se._events[Q]=[re,se._events[Q]]:se.on(Q,re)}(N,"error",J),N.once("close",X),N.once("finish",Z),N.emit("pipe",V),$.flowing||(p("pipe resume"),V.resume()),N},F.prototype.unpipe=function(N){var B=this._readableState,V={hasUnpiped:!1};if(B.pipesCount===0)return this;if(B.pipesCount===1)return N&&N!==B.pipes||(N||(N=B.pipes),B.pipes=null,B.pipesCount=0,B.flowing=!1,N&&N.emit("unpipe",this,V)),this;if(!N){var $=B.pipes,Y=B.pipesCount;B.pipes=null,B.pipesCount=0,B.flowing=!1;for(var L=0;L<Y;L++)$[L].emit("unpipe",this,{hasUnpiped:!1});return this}var K=_(B.pipes,N);return K===-1||(B.pipes.splice(K,1),B.pipesCount-=1,B.pipesCount===1&&(B.pipes=B.pipes[0]),N.emit("unpipe",this,V)),this},F.prototype.on=function(N,B){var V=f.prototype.on.call(this,N,B);if(N==="data")this._readableState.flowing!==!1&&this.resume();else if(N==="readable"){var $=this._readableState;$.endEmitted||$.readableListening||($.readableListening=$.needReadable=!0,$.emittedReadable=!1,$.reading?$.length&&H(this):a.nextTick(k,this))}return V},F.prototype.addListener=F.prototype.on,F.prototype.resume=function(){var N=this._readableState;return N.flowing||(p("resume"),N.flowing=!0,function(B,V){V.resumeScheduled||(V.resumeScheduled=!0,a.nextTick(E,B,V))}(this,N)),this},F.prototype.pause=function(){return p("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(p("pause"),this._readableState.flowing=!1,this.emit("pause")),this},F.prototype.wrap=function(N){var B=this,V=this._readableState,$=!1;for(var Y in N.on("end",function(){if(p("wrapped end"),V.decoder&&!V.ended){var K=V.decoder.end();K&&K.length&&B.push(K)}B.push(null)}),N.on("data",function(K){p("wrapped data"),V.decoder&&(K=V.decoder.write(K)),V.objectMode&&K==null||(V.objectMode||K&&K.length)&&(B.push(K)||($=!0,N.pause()))}),N)this[Y]===void 0&&typeof N[Y]=="function"&&(this[Y]=function(K){return function(){return N[K].apply(N,arguments)}}(Y));for(var L=0;L<x.length;L++)N.on(x[L],this.emit.bind(this,x[L]));return this._read=function(K){p("wrapped _read",K),$&&($=!1,N.resume())},this},Object.defineProperty(F.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),F._fromList=C}).call(this)}).call(this,r("_process"),typeof Tt<"u"?Tt:typeof self<"u"?self:typeof window<"u"?window:{})},{"./_stream_duplex":508,"./internal/streams/BufferList":513,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,events:422,inherits:440,isarray:506,"process-nextick-args":466,"safe-buffer":520,"string_decoder/":521,util:188}],511:[function(r,n,i){n.exports=l;var s=r("./_stream_duplex"),o=Object.create(r("core-util-is"));function a(f,d){var h=this._transformState;h.transforming=!1;var g=h.writecb;if(!g)return this.emit("error",new Error("write callback called multiple times"));h.writechunk=null,h.writecb=null,d!=null&&this.push(d),g(f);var v=this._readableState;v.reading=!1,(v.needReadable||v.length<v.highWaterMark)&&this._read(v.highWaterMark)}function l(f){if(!(this instanceof l))return new l(f);s.call(this,f),this._transformState={afterTransform:a.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,f&&(typeof f.transform=="function"&&(this._transform=f.transform),typeof f.flush=="function"&&(this._flush=f.flush)),this.on("prefinish",c)}function c(){var f=this;typeof this._flush=="function"?this._flush(function(d,h){u(f,d,h)}):u(this,null,null)}function u(f,d,h){if(d)return f.emit("error",d);if(h!=null&&f.push(h),f._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(f._transformState.transforming)throw new Error("Calling transform done when still transforming");return f.push(null)}o.inherits=r("inherits"),o.inherits(l,s),l.prototype.push=function(f,d){return this._transformState.needTransform=!1,s.prototype.push.call(this,f,d)},l.prototype._transform=function(f,d,h){throw new Error("_transform() is not implemented")},l.prototype._write=function(f,d,h){var g=this._transformState;if(g.writecb=h,g.writechunk=f,g.writeencoding=d,!g.transforming){var v=this._readableState;(g.needTransform||v.needReadable||v.length<v.highWaterMark)&&this._read(v.highWaterMark)}},l.prototype._read=function(f){var d=this._transformState;d.writechunk!==null&&d.writecb&&!d.transforming?(d.transforming=!0,this._transform(d.writechunk,d.writeencoding,d.afterTransform)):d.needTransform=!0},l.prototype._destroy=function(f,d){var h=this;s.prototype._destroy.call(this,f,function(g){d(g),h.emit("close")})}},{"./_stream_duplex":508,"core-util-is":383,inherits:440}],512:[function(r,n,i){(function(s,o,a){(function(){var l=r("process-nextick-args");function c(G){var M=this;this.next=null,this.entry=null,this.finish=function(){(function(k,E,w){var C=k.entry;for(k.entry=null;C;){var S=C.callback;E.pendingcb--,S(w),C=C.next}E.corkedRequestsFree.next=k})(M,G)}}n.exports=P;var u,f=!s.browser&&["v0.10","v0.9."].indexOf(s.version.slice(0,5))>-1?a:l.nextTick;P.WritableState=x;var d=Object.create(r("core-util-is"));d.inherits=r("inherits");var h={deprecate:r("util-deprecate")},g=r("./internal/streams/stream"),v=r("safe-buffer").Buffer,p=(o!==void 0?o:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},y,m=r("./internal/streams/destroy");function b(){}function x(G,M){u=u||r("./_stream_duplex"),G=G||{};var k=M instanceof u;this.objectMode=!!G.objectMode,k&&(this.objectMode=this.objectMode||!!G.writableObjectMode);var E=G.highWaterMark,w=G.writableHighWaterMark,C=this.objectMode?16:16384;this.highWaterMark=E||E===0?E:k&&(w||w===0)?w:C,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var S=G.decodeStrings===!1;this.decodeStrings=!S,this.defaultEncoding=G.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(R){(function(_,N){var B=_._writableState,V=B.sync,$=B.writecb;if(function(L){L.writing=!1,L.writecb=null,L.length-=L.writelen,L.writelen=0}(B),N)(function(L,K,I,A,z){--K.pendingcb,I?(l.nextTick(z,A),l.nextTick(W,L,K),L._writableState.errorEmitted=!0,L.emit("error",A)):(z(A),L._writableState.errorEmitted=!0,L.emit("error",A),W(L,K))})(_,B,V,N,$);else{var Y=j(B);Y||B.corked||B.bufferProcessing||!B.bufferedRequest||O(_,B),V?f(D,_,B,Y,$):D(_,B,Y,$)}})(M,R)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new c(this)}function P(G){if(u=u||r("./_stream_duplex"),!(y.call(P,this)||this instanceof u))return new P(G);this._writableState=new x(G,this),this.writable=!0,G&&(typeof G.write=="function"&&(this._write=G.write),typeof G.writev=="function"&&(this._writev=G.writev),typeof G.destroy=="function"&&(this._destroy=G.destroy),typeof G.final=="function"&&(this._final=G.final)),g.call(this)}function F(G,M,k,E,w,C,S){M.writelen=E,M.writecb=S,M.writing=!0,M.sync=!0,k?G._writev(w,M.onwrite):G._write(w,C,M.onwrite),M.sync=!1}function D(G,M,k,E){k||function(w,C){C.length===0&&C.needDrain&&(C.needDrain=!1,w.emit("drain"))}(G,M),M.pendingcb--,E(),W(G,M)}function O(G,M){M.bufferProcessing=!0;var k=M.bufferedRequest;if(G._writev&&k&&k.next){var E=M.bufferedRequestCount,w=new Array(E),C=M.corkedRequestsFree;C.entry=k;for(var S=0,R=!0;k;)w[S]=k,k.isBuf||(R=!1),k=k.next,S+=1;w.allBuffers=R,F(G,M,!0,M.length,w,"",C.finish),M.pendingcb++,M.lastBufferedRequest=null,C.next?(M.corkedRequestsFree=C.next,C.next=null):M.corkedRequestsFree=new c(M),M.bufferedRequestCount=0}else{for(;k;){var _=k.chunk,N=k.encoding,B=k.callback;if(F(G,M,!1,M.objectMode?1:_.length,_,N,B),k=k.next,M.bufferedRequestCount--,M.writing)break}k===null&&(M.lastBufferedRequest=null)}M.bufferedRequest=k,M.bufferProcessing=!1}function j(G){return G.ending&&G.length===0&&G.bufferedRequest===null&&!G.finished&&!G.writing}function H(G,M){G._final(function(k){M.pendingcb--,k&&G.emit("error",k),M.prefinished=!0,G.emit("prefinish"),W(G,M)})}function W(G,M){var k=j(M);return k&&(function(E,w){w.prefinished||w.finalCalled||(typeof E._final=="function"?(w.pendingcb++,w.finalCalled=!0,l.nextTick(H,E,w)):(w.prefinished=!0,E.emit("prefinish")))}(G,M),M.pendingcb===0&&(M.finished=!0,G.emit("finish"))),k}d.inherits(P,g),x.prototype.getBuffer=function(){for(var G=this.bufferedRequest,M=[];G;)M.push(G),G=G.next;return M},function(){try{Object.defineProperty(x.prototype,"buffer",{get:h.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(y=Function.prototype[Symbol.hasInstance],Object.defineProperty(P,Symbol.hasInstance,{value:function(G){return!!y.call(this,G)||this===P&&G&&G._writableState instanceof x}})):y=function(G){return G instanceof this},P.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},P.prototype.write=function(G,M,k){var E,w=this._writableState,C=!1,S=!w.objectMode&&(E=G,v.isBuffer(E)||E instanceof p);return S&&!v.isBuffer(G)&&(G=function(R){return v.from(R)}(G)),typeof M=="function"&&(k=M,M=null),S?M="buffer":M||(M=w.defaultEncoding),typeof k!="function"&&(k=b),w.ended?function(R,_){var N=new Error("write after end");R.emit("error",N),l.nextTick(_,N)}(this,k):(S||function(R,_,N,B){var V=!0,$=!1;return N===null?$=new TypeError("May not write null values to stream"):typeof N=="string"||N===void 0||_.objectMode||($=new TypeError("Invalid non-string/buffer chunk")),$&&(R.emit("error",$),l.nextTick(B,$),V=!1),V}(this,w,G,k))&&(w.pendingcb++,C=function(R,_,N,B,V,$){if(!N){var Y=function(A,z,q){return A.objectMode||A.decodeStrings===!1||typeof z!="string"||(z=v.from(z,q)),z}(_,B,V);B!==Y&&(N=!0,V="buffer",B=Y)}var L=_.objectMode?1:B.length;_.length+=L;var K=_.length<_.highWaterMark;if(K||(_.needDrain=!0),_.writing||_.corked){var I=_.lastBufferedRequest;_.lastBufferedRequest={chunk:B,encoding:V,isBuf:N,callback:$,next:null},I?I.next=_.lastBufferedRequest:_.bufferedRequest=_.lastBufferedRequest,_.bufferedRequestCount+=1}else F(R,_,!1,L,B,V,$);return K}(this,w,S,G,M,k)),C},P.prototype.cork=function(){this._writableState.corked++},P.prototype.uncork=function(){var G=this._writableState;G.corked&&(G.corked--,G.writing||G.corked||G.bufferProcessing||!G.bufferedRequest||O(this,G))},P.prototype.setDefaultEncoding=function(G){if(typeof G=="string"&&(G=G.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((G+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+G);return this._writableState.defaultEncoding=G,this},Object.defineProperty(P.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),P.prototype._write=function(G,M,k){k(new Error("_write() is not implemented"))},P.prototype._writev=null,P.prototype.end=function(G,M,k){var E=this._writableState;typeof G=="function"?(k=G,G=null,M=null):typeof M=="function"&&(k=M,M=null),G!=null&&this.write(G,M),E.corked&&(E.corked=1,this.uncork()),E.ending||function(w,C,S){C.ending=!0,W(w,C),S&&(C.finished?l.nextTick(S):w.once("finish",S)),C.ended=!0,w.writable=!1}(this,E,k)},Object.defineProperty(P.prototype,"destroyed",{get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(G){this._writableState&&(this._writableState.destroyed=G)}}),P.prototype.destroy=m.destroy,P.prototype._undestroy=m.undestroy,P.prototype._destroy=function(G,M){this.end(),M(G)}}).call(this)}).call(this,r("_process"),typeof Tt<"u"?Tt:typeof self<"u"?self:typeof window<"u"?window:{},r("timers").setImmediate)},{"./_stream_duplex":508,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,inherits:440,"process-nextick-args":466,"safe-buffer":520,timers:523,"util-deprecate":524}],513:[function(r,n,i){var s=r("safe-buffer").Buffer,o=r("util");n.exports=function(){function a(){(function(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")})(this,a),this.head=null,this.tail=null,this.length=0}return a.prototype.push=function(l){var c={data:l,next:null};this.length>0?this.tail.next=c:this.head=c,this.tail=c,++this.length},a.prototype.unshift=function(l){var c={data:l,next:this.head};this.length===0&&(this.tail=c),this.head=c,++this.length},a.prototype.shift=function(){if(this.length!==0){var l=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,l}},a.prototype.clear=function(){this.head=this.tail=null,this.length=0},a.prototype.join=function(l){if(this.length===0)return"";for(var c=this.head,u=""+c.data;c=c.next;)u+=l+c.data;return u},a.prototype.concat=function(l){if(this.length===0)return s.alloc(0);for(var c,u,f,d=s.allocUnsafe(l>>>0),h=this.head,g=0;h;)c=h.data,u=d,f=g,c.copy(u,f),g+=h.data.length,h=h.next;return d},a}(),o&&o.inspect&&o.inspect.custom&&(n.exports.prototype[o.inspect.custom]=function(){var a=o.inspect({length:this.length});return this.constructor.name+" "+a})},{"safe-buffer":520,util:188}],514:[function(r,n,i){var s=r("process-nextick-args");function o(a,l){a.emit("error",l)}n.exports={destroy:function(a,l){var c=this,u=this._readableState&&this._readableState.destroyed,f=this._writableState&&this._writableState.destroyed;return u||f?(l?l(a):a&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,s.nextTick(o,this,a)):s.nextTick(o,this,a)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(a||null,function(d){!l&&d?c._writableState?c._writableState.errorEmitted||(c._writableState.errorEmitted=!0,s.nextTick(o,c,d)):s.nextTick(o,c,d):l&&l(d)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},{"process-nextick-args":466}],515:[function(r,n,i){arguments[4][490][0].apply(i,arguments)},{dup:490,events:422}],516:[function(r,n,i){n.exports=r("./readable").PassThrough},{"./readable":517}],517:[function(r,n,i){(i=n.exports=r("./lib/_stream_readable.js")).Stream=i,i.Readable=i,i.Writable=r("./lib/_stream_writable.js"),i.Duplex=r("./lib/_stream_duplex.js"),i.Transform=r("./lib/_stream_transform.js"),i.PassThrough=r("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":508,"./lib/_stream_passthrough.js":509,"./lib/_stream_readable.js":510,"./lib/_stream_transform.js":511,"./lib/_stream_writable.js":512}],518:[function(r,n,i){n.exports=r("./readable").Transform},{"./readable":517}],519:[function(r,n,i){n.exports=r("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":512}],520:[function(r,n,i){arguments[4][217][0].apply(i,arguments)},{buffer:220,dup:217}],521:[function(r,n,i){arguments[4][218][0].apply(i,arguments)},{dup:218,"safe-buffer":520}],522:[function(r,n,i){arguments[4][218][0].apply(i,arguments)},{dup:218,"safe-buffer":494}],523:[function(r,n,i){(function(s,o){(function(){var a=r("process/browser.js").nextTick,l=Function.prototype.apply,c=Array.prototype.slice,u={},f=0;function d(h,g){this._id=h,this._clearFn=g}i.setTimeout=function(){return new d(l.call(setTimeout,window,arguments),clearTimeout)},i.setInterval=function(){return new d(l.call(setInterval,window,arguments),clearInterval)},i.clearTimeout=i.clearInterval=function(h){h.close()},d.prototype.unref=d.prototype.ref=function(){},d.prototype.close=function(){this._clearFn.call(window,this._id)},i.enroll=function(h,g){clearTimeout(h._idleTimeoutId),h._idleTimeout=g},i.unenroll=function(h){clearTimeout(h._idleTimeoutId),h._idleTimeout=-1},i._unrefActive=i.active=function(h){clearTimeout(h._idleTimeoutId);var g=h._idleTimeout;g>=0&&(h._idleTimeoutId=setTimeout(function(){h._onTimeout&&h._onTimeout()},g))},i.setImmediate=typeof s=="function"?s:function(h){var g=f++,v=!(arguments.length<2)&&c.call(arguments,1);return u[g]=!0,a(function(){u[g]&&(v?h.apply(null,v):h.call(null),i.clearImmediate(g))}),g},i.clearImmediate=typeof o=="function"?o:function(h){delete u[h]}}).call(this)}).call(this,r("timers").setImmediate,r("timers").clearImmediate)},{"process/browser.js":467,timers:523}],524:[function(r,n,i){(function(s){(function(){function o(a){try{if(!s.localStorage)return!1}catch{return!1}var l=s.localStorage[a];return l!=null&&String(l).toLowerCase()==="true"}n.exports=function(a,l){if(o("noDeprecation"))return a;var c=!1;return function(){if(!c){if(o("throwDeprecation"))throw new Error(l);o("traceDeprecation")?console.trace(l):console.warn(l),c=!0}return a.apply(this,arguments)}}}).call(this)}).call(this,typeof Tt<"u"?Tt:typeof self<"u"?self:typeof window<"u"?window:{})},{}],525:[function(r,n,i){typeof Object.create=="function"?n.exports=function(s,o){s.super_=o,s.prototype=Object.create(o.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}})}:n.exports=function(s,o){s.super_=o;var a=function(){};a.prototype=o.prototype,s.prototype=new a,s.prototype.constructor=s}},{}],526:[function(r,n,i){n.exports=function(s){return s&&typeof s=="object"&&typeof s.copy=="function"&&typeof s.fill=="function"&&typeof s.readUInt8=="function"}},{}],527:[function(r,n,i){(function(s,o){(function(){var a=/%[sdj%]/g;i.format=function(w){if(!x(w)){for(var C=[],S=0;S<arguments.length;S++)C.push(u(arguments[S]));return C.join(" ")}S=1;for(var R=arguments,_=R.length,N=String(w).replace(a,function(V){if(V==="%%")return"%";if(S>=_)return V;switch(V){case"%s":return String(R[S++]);case"%d":return Number(R[S++]);case"%j":try{return JSON.stringify(R[S++])}catch{return"[Circular]"}default:return V}}),B=R[S];S<_;B=R[++S])m(B)||!D(B)?N+=" "+B:N+=" "+u(B);return N},i.deprecate=function(w,C){if(P(o.process))return function(){return i.deprecate(w,C).apply(this,arguments)};if(s.noDeprecation===!0)return w;var S=!1;return function(){if(!S){if(s.throwDeprecation)throw new Error(C);s.traceDeprecation?console.trace(C):console.error(C),S=!0}return w.apply(this,arguments)}};var l,c={};function u(w,C){var S={seen:[],stylize:d};return arguments.length>=3&&(S.depth=arguments[2]),arguments.length>=4&&(S.colors=arguments[3]),y(C)?S.showHidden=C:C&&i._extend(S,C),P(S.showHidden)&&(S.showHidden=!1),P(S.depth)&&(S.depth=2),P(S.colors)&&(S.colors=!1),P(S.customInspect)&&(S.customInspect=!0),S.colors&&(S.stylize=f),h(S,w,S.depth)}function f(w,C){var S=u.styles[C];return S?"\x1B["+u.colors[S][0]+"m"+w+"\x1B["+u.colors[S][1]+"m":w}function d(w,C){return w}function h(w,C,S){if(w.customInspect&&C&&H(C.inspect)&&C.inspect!==i.inspect&&(!C.constructor||C.constructor.prototype!==C)){var R=C.inspect(S,w);return x(R)||(R=h(w,R,S)),R}var _=function(I,A){if(P(A))return I.stylize("undefined","undefined");if(x(A)){var z="'"+JSON.stringify(A).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return I.stylize(z,"string")}if(b(A))return I.stylize(""+A,"number");if(y(A))return I.stylize(""+A,"boolean");if(m(A))return I.stylize("null","null")}(w,C);if(_)return _;var N=Object.keys(C),B=function(I){var A={};return I.forEach(function(z,q){A[z]=!0}),A}(N);if(w.showHidden&&(N=Object.getOwnPropertyNames(C)),j(C)&&(N.indexOf("message")>=0||N.indexOf("description")>=0))return g(C);if(N.length===0){if(H(C)){var V=C.name?": "+C.name:"";return w.stylize("[Function"+V+"]","special")}if(F(C))return w.stylize(RegExp.prototype.toString.call(C),"regexp");if(O(C))return w.stylize(Date.prototype.toString.call(C),"date");if(j(C))return g(C)}var $,Y="",L=!1,K=["{","}"];return p(C)&&(L=!0,K=["[","]"]),H(C)&&(Y=" [Function"+(C.name?": "+C.name:"")+"]"),F(C)&&(Y=" "+RegExp.prototype.toString.call(C)),O(C)&&(Y=" "+Date.prototype.toUTCString.call(C)),j(C)&&(Y=" "+g(C)),N.length!==0||L&&C.length!=0?S<0?F(C)?w.stylize(RegExp.prototype.toString.call(C),"regexp"):w.stylize("[Object]","special"):(w.seen.push(C),$=L?function(I,A,z,q,J){for(var X=[],Z=0,ie=A.length;Z<ie;++Z)E(A,String(Z))?X.push(v(I,A,z,q,String(Z),!0)):X.push("");return J.forEach(function(se){se.match(/^\d+$/)||X.push(v(I,A,z,q,se,!0))}),X}(w,C,S,B,N):N.map(function(I){return v(w,C,S,B,I,L)}),w.seen.pop(),function(I,A,z){return I.reduce(function(q,J){return J.indexOf(`
`)>=0,q+J.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?z[0]+(A===""?"":A+`
 `)+" "+I.join(`,
  `)+" "+z[1]:z[0]+A+" "+I.join(", ")+" "+z[1]}($,Y,K)):K[0]+Y+K[1]}function g(w){return"["+Error.prototype.toString.call(w)+"]"}function v(w,C,S,R,_,N){var B,V,$;if(($=Object.getOwnPropertyDescriptor(C,_)||{value:C[_]}).get?V=$.set?w.stylize("[Getter/Setter]","special"):w.stylize("[Getter]","special"):$.set&&(V=w.stylize("[Setter]","special")),E(R,_)||(B="["+_+"]"),V||(w.seen.indexOf($.value)<0?(V=m(S)?h(w,$.value,null):h(w,$.value,S-1)).indexOf(`
`)>-1&&(V=N?V.split(`
`).map(function(Y){return"  "+Y}).join(`
`).substr(2):`
`+V.split(`
`).map(function(Y){return"   "+Y}).join(`
`)):V=w.stylize("[Circular]","special")),P(B)){if(N&&_.match(/^\d+$/))return V;(B=JSON.stringify(""+_)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(B=B.substr(1,B.length-2),B=w.stylize(B,"name")):(B=B.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),B=w.stylize(B,"string"))}return B+": "+V}function p(w){return Array.isArray(w)}function y(w){return typeof w=="boolean"}function m(w){return w===null}function b(w){return typeof w=="number"}function x(w){return typeof w=="string"}function P(w){return w===void 0}function F(w){return D(w)&&W(w)==="[object RegExp]"}function D(w){return typeof w=="object"&&w!==null}function O(w){return D(w)&&W(w)==="[object Date]"}function j(w){return D(w)&&(W(w)==="[object Error]"||w instanceof Error)}function H(w){return typeof w=="function"}function W(w){return Object.prototype.toString.call(w)}function G(w){return w<10?"0"+w.toString(10):w.toString(10)}i.debuglog=function(w){if(P(l)&&(l=s.env.NODE_DEBUG||""),w=w.toUpperCase(),!c[w])if(new RegExp("\\b"+w+"\\b","i").test(l)){var C=s.pid;c[w]=function(){var S=i.format.apply(i,arguments);console.error("%s %d: %s",w,C,S)}}else c[w]=function(){};return c[w]},i.inspect=u,u.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},u.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},i.isArray=p,i.isBoolean=y,i.isNull=m,i.isNullOrUndefined=function(w){return w==null},i.isNumber=b,i.isString=x,i.isSymbol=function(w){return typeof w=="symbol"},i.isUndefined=P,i.isRegExp=F,i.isObject=D,i.isDate=O,i.isError=j,i.isFunction=H,i.isPrimitive=function(w){return w===null||typeof w=="boolean"||typeof w=="number"||typeof w=="string"||typeof w=="symbol"||w===void 0},i.isBuffer=r("./support/isBuffer");var M=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function k(){var w=new Date,C=[G(w.getHours()),G(w.getMinutes()),G(w.getSeconds())].join(":");return[w.getDate(),M[w.getMonth()],C].join(" ")}function E(w,C){return Object.prototype.hasOwnProperty.call(w,C)}i.log=function(){console.log("%s - %s",k(),i.format.apply(i,arguments))},i.inherits=r("inherits"),i._extend=function(w,C){if(!C||!D(C))return w;for(var S=Object.keys(C),R=S.length;R--;)w[S[R]]=C[S[R]];return w}}).call(this)}).call(this,r("_process"),typeof Tt<"u"?Tt:typeof self<"u"?self:typeof window<"u"?window:{})},{"./support/isBuffer":526,_process:467,inherits:525}],528:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"v1",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(i,"v3",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(i,"v4",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(i,"v5",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(i,"NIL",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(i,"version",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(i,"validate",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(i,"stringify",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(i,"parse",{enumerable:!0,get:function(){return h.default}});var s=g(r("./v1.js")),o=g(r("./v3.js")),a=g(r("./v4.js")),l=g(r("./v5.js")),c=g(r("./nil.js")),u=g(r("./version.js")),f=g(r("./validate.js")),d=g(r("./stringify.js")),h=g(r("./parse.js"));function g(v){return v&&v.__esModule?v:{default:v}}},{"./nil.js":530,"./parse.js":531,"./stringify.js":535,"./v1.js":536,"./v3.js":537,"./v4.js":539,"./v5.js":540,"./validate.js":541,"./version.js":542}],529:[function(r,n,i){function s(h){return 14+(h+64>>>9<<4)+1}function o(h,g){const v=(65535&h)+(65535&g);return(h>>16)+(g>>16)+(v>>16)<<16|65535&v}function a(h,g,v,p,y,m){return o((b=o(o(g,h),o(p,m)))<<(x=y)|b>>>32-x,v);var b,x}function l(h,g,v,p,y,m,b){return a(g&v|~g&p,h,g,y,m,b)}function c(h,g,v,p,y,m,b){return a(g&p|v&~p,h,g,y,m,b)}function u(h,g,v,p,y,m,b){return a(g^v^p,h,g,y,m,b)}function f(h,g,v,p,y,m,b){return a(v^(g|~p),h,g,y,m,b)}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var d=function(h){if(typeof h=="string"){const g=unescape(encodeURIComponent(h));h=new Uint8Array(g.length);for(let v=0;v<g.length;++v)h[v]=g.charCodeAt(v)}return function(g){const v=[],p=32*g.length;for(let y=0;y<p;y+=8){const m=g[y>>5]>>>y%32&255,b=parseInt("0123456789abcdef".charAt(m>>>4&15)+"0123456789abcdef".charAt(15&m),16);v.push(b)}return v}(function(g,v){g[v>>5]|=128<<v%32,g[s(v)-1]=v;let p=1732584193,y=-271733879,m=-1732584194,b=271733878;for(let x=0;x<g.length;x+=16){const P=p,F=y,D=m,O=b;p=l(p,y,m,b,g[x],7,-680876936),b=l(b,p,y,m,g[x+1],12,-389564586),m=l(m,b,p,y,g[x+2],17,606105819),y=l(y,m,b,p,g[x+3],22,-1044525330),p=l(p,y,m,b,g[x+4],7,-176418897),b=l(b,p,y,m,g[x+5],12,1200080426),m=l(m,b,p,y,g[x+6],17,-1473231341),y=l(y,m,b,p,g[x+7],22,-45705983),p=l(p,y,m,b,g[x+8],7,1770035416),b=l(b,p,y,m,g[x+9],12,-1958414417),m=l(m,b,p,y,g[x+10],17,-42063),y=l(y,m,b,p,g[x+11],22,-1990404162),p=l(p,y,m,b,g[x+12],7,1804603682),b=l(b,p,y,m,g[x+13],12,-40341101),m=l(m,b,p,y,g[x+14],17,-1502002290),y=l(y,m,b,p,g[x+15],22,1236535329),p=c(p,y,m,b,g[x+1],5,-165796510),b=c(b,p,y,m,g[x+6],9,-1069501632),m=c(m,b,p,y,g[x+11],14,643717713),y=c(y,m,b,p,g[x],20,-373897302),p=c(p,y,m,b,g[x+5],5,-701558691),b=c(b,p,y,m,g[x+10],9,38016083),m=c(m,b,p,y,g[x+15],14,-660478335),y=c(y,m,b,p,g[x+4],20,-405537848),p=c(p,y,m,b,g[x+9],5,568446438),b=c(b,p,y,m,g[x+14],9,-1019803690),m=c(m,b,p,y,g[x+3],14,-187363961),y=c(y,m,b,p,g[x+8],20,1163531501),p=c(p,y,m,b,g[x+13],5,-1444681467),b=c(b,p,y,m,g[x+2],9,-51403784),m=c(m,b,p,y,g[x+7],14,1735328473),y=c(y,m,b,p,g[x+12],20,-1926607734),p=u(p,y,m,b,g[x+5],4,-378558),b=u(b,p,y,m,g[x+8],11,-2022574463),m=u(m,b,p,y,g[x+11],16,1839030562),y=u(y,m,b,p,g[x+14],23,-35309556),p=u(p,y,m,b,g[x+1],4,-1530992060),b=u(b,p,y,m,g[x+4],11,1272893353),m=u(m,b,p,y,g[x+7],16,-155497632),y=u(y,m,b,p,g[x+10],23,-1094730640),p=u(p,y,m,b,g[x+13],4,681279174),b=u(b,p,y,m,g[x],11,-358537222),m=u(m,b,p,y,g[x+3],16,-722521979),y=u(y,m,b,p,g[x+6],23,76029189),p=u(p,y,m,b,g[x+9],4,-640364487),b=u(b,p,y,m,g[x+12],11,-421815835),m=u(m,b,p,y,g[x+15],16,530742520),y=u(y,m,b,p,g[x+2],23,-995338651),p=f(p,y,m,b,g[x],6,-198630844),b=f(b,p,y,m,g[x+7],10,1126891415),m=f(m,b,p,y,g[x+14],15,-1416354905),y=f(y,m,b,p,g[x+5],21,-57434055),p=f(p,y,m,b,g[x+12],6,1700485571),b=f(b,p,y,m,g[x+3],10,-1894986606),m=f(m,b,p,y,g[x+10],15,-1051523),y=f(y,m,b,p,g[x+1],21,-2054922799),p=f(p,y,m,b,g[x+8],6,1873313359),b=f(b,p,y,m,g[x+15],10,-30611744),m=f(m,b,p,y,g[x+6],15,-1560198380),y=f(y,m,b,p,g[x+13],21,1309151649),p=f(p,y,m,b,g[x+4],6,-145523070),b=f(b,p,y,m,g[x+11],10,-1120210379),m=f(m,b,p,y,g[x+2],15,718787259),y=f(y,m,b,p,g[x+9],21,-343485551),p=o(p,P),y=o(y,F),m=o(m,D),b=o(b,O)}return[p,y,m,b]}(function(g){if(g.length===0)return[];const v=8*g.length,p=new Uint32Array(s(v));for(let y=0;y<v;y+=8)p[y>>5]|=(255&g[y/8])<<y%32;return p}(h),8*h.length))};i.default=d},{}],530:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,i.default="00000000-0000-0000-0000-000000000000"},{}],531:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s,o=(s=r("./validate.js"))&&s.__esModule?s:{default:s},a=function(l){if(!(0,o.default)(l))throw TypeError("Invalid UUID");let c;const u=new Uint8Array(16);return u[0]=(c=parseInt(l.slice(0,8),16))>>>24,u[1]=c>>>16&255,u[2]=c>>>8&255,u[3]=255&c,u[4]=(c=parseInt(l.slice(9,13),16))>>>8,u[5]=255&c,u[6]=(c=parseInt(l.slice(14,18),16))>>>8,u[7]=255&c,u[8]=(c=parseInt(l.slice(19,23),16))>>>8,u[9]=255&c,u[10]=(c=parseInt(l.slice(24,36),16))/1099511627776&255,u[11]=c/4294967296&255,u[12]=c>>>24&255,u[13]=c>>>16&255,u[14]=c>>>8&255,u[15]=255&c,u};i.default=a},{"./validate.js":541}],532:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,i.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},{}],533:[function(r,n,i){let s;Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(){if(!s&&(s=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!s))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return s(o)};const o=new Uint8Array(16)},{}],534:[function(r,n,i){function s(l,c,u,f){switch(l){case 0:return c&u^~c&f;case 1:return c^u^f;case 2:return c&u^c&f^u&f;case 3:return c^u^f}}function o(l,c){return l<<c|l>>>32-c}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a=function(l){const c=[1518500249,1859775393,2400959708,3395469782],u=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof l=="string"){const g=unescape(encodeURIComponent(l));l=[];for(let v=0;v<g.length;++v)l.push(g.charCodeAt(v))}else Array.isArray(l)||(l=Array.prototype.slice.call(l));l.push(128);const f=l.length/4+2,d=Math.ceil(f/16),h=new Array(d);for(let g=0;g<d;++g){const v=new Uint32Array(16);for(let p=0;p<16;++p)v[p]=l[64*g+4*p]<<24|l[64*g+4*p+1]<<16|l[64*g+4*p+2]<<8|l[64*g+4*p+3];h[g]=v}h[d-1][14]=8*(l.length-1)/Math.pow(2,32),h[d-1][14]=Math.floor(h[d-1][14]),h[d-1][15]=8*(l.length-1)&4294967295;for(let g=0;g<d;++g){const v=new Uint32Array(80);for(let P=0;P<16;++P)v[P]=h[g][P];for(let P=16;P<80;++P)v[P]=o(v[P-3]^v[P-8]^v[P-14]^v[P-16],1);let p=u[0],y=u[1],m=u[2],b=u[3],x=u[4];for(let P=0;P<80;++P){const F=Math.floor(P/20),D=o(p,5)+s(F,y,m,b)+x+c[F]+v[P]>>>0;x=b,b=m,m=o(y,30)>>>0,y=p,p=D}u[0]=u[0]+p>>>0,u[1]=u[1]+y>>>0,u[2]=u[2]+m>>>0,u[3]=u[3]+b>>>0,u[4]=u[4]+x>>>0}return[u[0]>>24&255,u[0]>>16&255,u[0]>>8&255,255&u[0],u[1]>>24&255,u[1]>>16&255,u[1]>>8&255,255&u[1],u[2]>>24&255,u[2]>>16&255,u[2]>>8&255,255&u[2],u[3]>>24&255,u[3]>>16&255,u[3]>>8&255,255&u[3],u[4]>>24&255,u[4]>>16&255,u[4]>>8&255,255&u[4]]};i.default=a},{}],535:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s,o=(s=r("./validate.js"))&&s.__esModule?s:{default:s};const a=[];for(let c=0;c<256;++c)a.push((c+256).toString(16).substr(1));var l=function(c){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const f=(a[c[u+0]]+a[c[u+1]]+a[c[u+2]]+a[c[u+3]]+"-"+a[c[u+4]]+a[c[u+5]]+"-"+a[c[u+6]]+a[c[u+7]]+"-"+a[c[u+8]]+a[c[u+9]]+"-"+a[c[u+10]]+a[c[u+11]]+a[c[u+12]]+a[c[u+13]]+a[c[u+14]]+a[c[u+15]]).toLowerCase();if(!(0,o.default)(f))throw TypeError("Stringified UUID is invalid");return f};i.default=l},{"./validate.js":541}],536:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s=a(r("./rng.js")),o=a(r("./stringify.js"));function a(h){return h&&h.__esModule?h:{default:h}}let l,c,u=0,f=0;var d=function(h,g,v){let p=g&&v||0;const y=g||new Array(16);let m=(h=h||{}).node||l,b=h.clockseq!==void 0?h.clockseq:c;if(m==null||b==null){const j=h.random||(h.rng||s.default)();m==null&&(m=l=[1|j[0],j[1],j[2],j[3],j[4],j[5]]),b==null&&(b=c=16383&(j[6]<<8|j[7]))}let x=h.msecs!==void 0?h.msecs:Date.now(),P=h.nsecs!==void 0?h.nsecs:f+1;const F=x-u+(P-f)/1e4;if(F<0&&h.clockseq===void 0&&(b=b+1&16383),(F<0||x>u)&&h.nsecs===void 0&&(P=0),P>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");u=x,f=P,c=b,x+=122192928e5;const D=(1e4*(268435455&x)+P)%4294967296;y[p++]=D>>>24&255,y[p++]=D>>>16&255,y[p++]=D>>>8&255,y[p++]=255&D;const O=x/4294967296*1e4&268435455;y[p++]=O>>>8&255,y[p++]=255&O,y[p++]=O>>>24&15|16,y[p++]=O>>>16&255,y[p++]=b>>>8|128,y[p++]=255&b;for(let j=0;j<6;++j)y[p+j]=m[j];return g||(0,o.default)(y)};i.default=d},{"./rng.js":533,"./stringify.js":535}],537:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s=a(r("./v35.js")),o=a(r("./md5.js"));function a(c){return c&&c.__esModule?c:{default:c}}var l=(0,s.default)("v3",48,o.default);i.default=l},{"./md5.js":529,"./v35.js":538}],538:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(u,f,d){function h(g,v,p,y){if(typeof g=="string"&&(g=function(b){b=unescape(encodeURIComponent(b));const x=[];for(let P=0;P<b.length;++P)x.push(b.charCodeAt(P));return x}(g)),typeof v=="string"&&(v=(0,o.default)(v)),v.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let m=new Uint8Array(16+g.length);if(m.set(v),m.set(g,v.length),m=d(m),m[6]=15&m[6]|f,m[8]=63&m[8]|128,p){y=y||0;for(let b=0;b<16;++b)p[y+b]=m[b];return p}return(0,s.default)(m)}try{h.name=u}catch{}return h.DNS=l,h.URL=c,h},i.URL=i.DNS=void 0;var s=a(r("./stringify.js")),o=a(r("./parse.js"));function a(u){return u&&u.__esModule?u:{default:u}}const l="6ba7b810-9dad-11d1-80b4-00c04fd430c8";i.DNS=l;const c="6ba7b811-9dad-11d1-80b4-00c04fd430c8";i.URL=c},{"./parse.js":531,"./stringify.js":535}],539:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s=a(r("./rng.js")),o=a(r("./stringify.js"));function a(c){return c&&c.__esModule?c:{default:c}}var l=function(c,u,f){const d=(c=c||{}).random||(c.rng||s.default)();if(d[6]=15&d[6]|64,d[8]=63&d[8]|128,u){f=f||0;for(let h=0;h<16;++h)u[f+h]=d[h];return u}return(0,o.default)(d)};i.default=l},{"./rng.js":533,"./stringify.js":535}],540:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s=a(r("./v35.js")),o=a(r("./sha1.js"));function a(c){return c&&c.__esModule?c:{default:c}}var l=(0,s.default)("v5",80,o.default);i.default=l},{"./sha1.js":534,"./v35.js":538}],541:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s,o=(s=r("./regex.js"))&&s.__esModule?s:{default:s},a=function(l){return typeof l=="string"&&o.default.test(l)};i.default=a},{"./regex.js":532}],542:[function(r,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s,o=(s=r("./validate.js"))&&s.__esModule?s:{default:s},a=function(l){if(!(0,o.default)(l))throw TypeError("Invalid UUID");return parseInt(l.substr(14,1),16)};i.default=a},{"./validate.js":541}],543:[function(r,n,i){/**
* Character classes and associated utilities for the 5th edition of XML 1.0.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/Object.defineProperty(i,"__esModule",{value:!0}),i.CHAR=`	
\r -퟿-�𐀀-􏿿`,i.S=` 	\r
`,i.NAME_START_CHAR=":A-Z_a-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�𐀀-󯿿",i.NAME_CHAR="-"+i.NAME_START_CHAR+".0-9·̀-ͯ‿-⁀",i.CHAR_RE=new RegExp("^["+i.CHAR+"]$","u"),i.S_RE=new RegExp("^["+i.S+"]+$","u"),i.NAME_START_CHAR_RE=new RegExp("^["+i.NAME_START_CHAR+"]$","u"),i.NAME_CHAR_RE=new RegExp("^["+i.NAME_CHAR+"]$","u"),i.NAME_RE=new RegExp("^["+i.NAME_START_CHAR+"]["+i.NAME_CHAR+"]*$","u"),i.NMTOKEN_RE=new RegExp("^["+i.NAME_CHAR+"]+$","u");function s(o){return o>=65&&o<=90||o>=97&&o<=122||o===58||o===95||o===8204||o===8205||o>=192&&o<=214||o>=216&&o<=246||o>=248&&o<=767||o>=880&&o<=893||o>=895&&o<=8191||o>=8304&&o<=8591||o>=11264&&o<=12271||o>=12289&&o<=55295||o>=63744&&o<=64975||o>=65008&&o<=65533||o>=65536&&o<=983039}i.S_LIST=[32,10,13,9],i.isChar=function(o){return o>=32&&o<=55295||o===10||o===13||o===9||o>=57344&&o<=65533||o>=65536&&o<=1114111},i.isS=function(o){return o===32||o===10||o===13||o===9},i.isNameStartChar=s,i.isNameChar=function(o){return s(o)||o>=48&&o<=57||o===45||o===46||o===183||o>=768&&o<=879||o>=8255&&o<=8256}},{}],544:[function(r,n,i){/**
* Character classes and associated utilities for the 2nd edition of XML 1.1.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/Object.defineProperty(i,"__esModule",{value:!0}),i.CHAR="-퟿-�𐀀-􏿿",i.RESTRICTED_CHAR="-\b\v\f---",i.S=` 	\r
`,i.NAME_START_CHAR=":A-Z_a-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�𐀀-󯿿",i.NAME_CHAR="-"+i.NAME_START_CHAR+".0-9·̀-ͯ‿-⁀",i.CHAR_RE=new RegExp("^["+i.CHAR+"]$","u"),i.RESTRICTED_CHAR_RE=new RegExp("^["+i.RESTRICTED_CHAR+"]$","u"),i.S_RE=new RegExp("^["+i.S+"]+$","u"),i.NAME_START_CHAR_RE=new RegExp("^["+i.NAME_START_CHAR+"]$","u"),i.NAME_CHAR_RE=new RegExp("^["+i.NAME_CHAR+"]$","u"),i.NAME_RE=new RegExp("^["+i.NAME_START_CHAR+"]["+i.NAME_CHAR+"]*$","u"),i.NMTOKEN_RE=new RegExp("^["+i.NAME_CHAR+"]+$","u");function s(o){return o>=65&&o<=90||o>=97&&o<=122||o===58||o===95||o===8204||o===8205||o>=192&&o<=214||o>=216&&o<=246||o>=248&&o<=767||o>=880&&o<=893||o>=895&&o<=8191||o>=8304&&o<=8591||o>=11264&&o<=12271||o>=12289&&o<=55295||o>=63744&&o<=64975||o>=65008&&o<=65533||o>=65536&&o<=983039}i.S_LIST=[32,10,13,9],i.isChar=function(o){return o>=1&&o<=55295||o>=57344&&o<=65533||o>=65536&&o<=1114111},i.isRestrictedChar=function(o){return o>=1&&o<=8||o===11||o===12||o>=14&&o<=31||o>=127&&o<=132||o>=134&&o<=159},i.isCharAndNotRestricted=function(o){return o===9||o===10||o===13||o>31&&o<127||o===133||o>159&&o<=55295||o>=57344&&o<=65533||o>=65536&&o<=1114111},i.isS=function(o){return o===32||o===10||o===13||o===9},i.isNameStartChar=s,i.isNameChar=function(o){return s(o)||o>=48&&o<=57||o===45||o===46||o===183||o>=768&&o<=879||o>=8255&&o<=8256}},{}],545:[function(r,n,i){/**
* Character class utilities for XML NS 1.0 edition 3.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/function s(o){return o>=65&&o<=90||o===95||o>=97&&o<=122||o>=192&&o<=214||o>=216&&o<=246||o>=248&&o<=767||o>=880&&o<=893||o>=895&&o<=8191||o>=8204&&o<=8205||o>=8304&&o<=8591||o>=11264&&o<=12271||o>=12289&&o<=55295||o>=63744&&o<=64975||o>=65008&&o<=65533||o>=65536&&o<=983039}Object.defineProperty(i,"__esModule",{value:!0}),i.NC_NAME_START_CHAR="A-Z_a-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�𐀀-󯿿",i.NC_NAME_CHAR="-"+i.NC_NAME_START_CHAR+".0-9·̀-ͯ‿-⁀",i.NC_NAME_START_CHAR_RE=new RegExp("^["+i.NC_NAME_START_CHAR+"]$","u"),i.NC_NAME_CHAR_RE=new RegExp("^["+i.NC_NAME_CHAR+"]$","u"),i.NC_NAME_RE=new RegExp("^["+i.NC_NAME_START_CHAR+"]["+i.NC_NAME_CHAR+"]*$","u"),i.isNCNameStartChar=s,i.isNCNameChar=function(o){return s(o)||o===45||o===46||o>=48&&o<=57||o===183||o>=768&&o<=879||o>=8255&&o<=8256}},{}]},{},[15])(15)})})(fx);var u_=fx.exports;const d_=io(u_),Ml={selectAll:"(Найти все)",selectAllSearchResults:"(Select All Search Results)",searchOoo:"Найти...",blanks:"(Blanks)",noMatches:"Нет совпадений",filterOoo:"Фильтр...",equals:"Равно",notEqual:"Не равно",blank:"Пусто",notBlank:"Не пусто",empty:"Выберите одно",lessThan:"Меньше чем",greaterThan:"Больше чем",lessThanOrEqual:"Меньше чем или равно",greaterThanOrEqual:"Больше чем или равно",inRange:"В интервале",inRangeStart:"от",inRangeEnd:"до",contains:"Содержит",notContains:"Не содержит",startsWith:"Начинается на",endsWith:"Кончается на",dateFormatOoo:"yyyy-mm-dd",andCondition:"И",orCondition:"ИЛИ",applyFilter:"Применить",resetFilter:"Сбросить",clearFilter:"Очистить",cancelFilter:"Отмена",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",groupFilterSelect:"Select field:",advancedFilterContains:"содержит",advancedFilterNotContains:"не содержит",advancedFilterTextEquals:"равено",advancedFilterTextNotEqual:"не равно",advancedFilterStartsWith:"начинается на",advancedFilterEndsWith:"кончается на",advancedFilterBlank:"явл. пустым",advancedFilterNotBlank:"не явл. пустым",advancedFilterEquals:"=",advancedFilterNotEqual:"!=",advancedFilterGreaterThan:">",advancedFilterGreaterThanOrEqual:">=",advancedFilterLessThan:"<",advancedFilterLessThanOrEqual:"<=",advancedFilterTrue:"явл. true",advancedFilterFalse:"явл. false",advancedFilterAnd:"И",advancedFilterOr:"ИЛИ",advancedFilterApply:"Применить",advancedFilterValidationMissingColumn:"Column is missing",advancedFilterValidationMissingOption:"Option is missing",advancedFilterValidationMissingValue:"Value is missing",advancedFilterValidationInvalidColumn:"Column not found",advancedFilterValidationInvalidOption:"Option not found",advancedFilterValidationMissingQuote:"Value is missing an end quote",advancedFilterValidationNotANumber:"Value is not a number",advancedFilterValidationMissingCondition:"Condition is missing",advancedFilterValidationJoinOperatorMismatch:"Join operators within a condition must be the same",advancedFilterValidationInvalidJoinOperator:"Join operator not found",advancedFilterValidationMissingEndBracket:"Missing end bracket",advancedFilterValidationExtraEndBracket:"Too many end brackets",advancedFilterValidationMessage:"Expression has an error. ${variable1} - ${variable2}.",advancedFilterValidationMessageAtEnd:"Expression has an error. ${variable} at end of expression.",columns:"Columns",filters:"Filters",pivotMode:"Pivot Mode",groups:"Row Groups",rowGroupColumnsEmptyMessage:"Drag here to set row groups",values:"Values",valueColumnsEmptyMessage:"Drag here to aggregate",pivots:"Column Labels",pivotColumnsEmptyMessage:"Drag here to set column labels",group:"Group",rowDragRow:"row",rowDragRows:"rows",loadingOoo:"Loading...",loadingError:"ERR",noRowsToShow:"No Rows To Show",enabled:"Enabled",pinColumn:"Pin Column",pinLeft:"Pin Left",pinRight:"Pin Right",noPin:"No Pin",valueAggregation:"Value Aggregation",noAggregation:"None",autosizeThiscolumn:"Autosize This Column",autosizeAllColumns:"Autosize All Columns",groupBy:"Group by",ungroupBy:"Un-Group by",ungroupAll:"Un-Group All",addToValues:"Add ${variable} to values",removeFromValues:"Remove ${variable} from values",addToLabels:"Add ${variable} to labels",removeFromLabels:"Remove ${variable} from labels",resetColumns:"Reset Columns",expandAll:"Expand All Row Groups",collapseAll:"Close All Row Groups",copy:"Copy",ctrlC:"Ctrl+C",ctrlX:"Ctrl+X",copyWithHeaders:"Copy With Headers",copyWithGroupHeaders:"Copy with Group Headers",cut:"Cut",paste:"Paste",ctrlV:"Ctrl+V",export:"Export",csvExport:"CSV Export",excelExport:"Excel Export",sum:"Sum",first:"First",last:"Last",min:"Min",max:"Max",none:"None",count:"Count",avg:"Average",filteredRows:"Filtered",selectedRows:"Selected",totalRows:"Total Rows",totalAndFilteredRows:"Rows",more:"More",to:"to",of:"of",page:"Page",pageLastRowUnknown:"?",nextPage:"Next Page",lastPage:"Last Page",firstPage:"First Page",previousPage:"Previous Page",pivotColumnGroupTotals:"Total",pivotChartAndPivotMode:"Pivot Chart & Pivot Mode",pivotChart:"Pivot Chart",chartRange:"Chart Range",columnChart:"Column",groupedColumn:"Grouped",stackedColumn:"Stacked",normalizedColumn:"100% Stacked",barChart:"Bar",groupedBar:"Grouped",stackedBar:"Stacked",normalizedBar:"100% Stacked",pieChart:"Pie",pie:"Pie",doughnut:"Doughnut",line:"Line",xyChart:"X Y (Scatter)",scatter:"Scatter",bubble:"Bubble",areaChart:"Area",area:"Area",stackedArea:"Stacked",normalizedArea:"100% Stacked",histogramChart:"Histogram",histogramFrequency:"Frequency",combinationChart:"Combination",columnLineCombo:"Column & Line",AreaColumnCombo:"Area & Column",pivotChartTitle:"Pivot Chart",rangeChartTitle:"Range Chart",settings:"Settings",data:"Data",format:"Format",categories:"Categories",defaultCategory:"(None)",series:"Series",xyValues:"X Y Values",paired:"Paired Mode",axis:"Axis",navigator:"Navigator",color:"Color",thickness:"Thickness",xType:"X Type",automatic:"Automatic",category:"Category",number:"Number",time:"Time",autoRotate:"Auto Rotate",xRotation:"X Rotation",yRotation:"Y Rotation",ticks:"Ticks",width:"Width",height:"Height",length:"Length",padding:"Padding",spacing:"Spacing",chart:"Chart",title:"Title",titlePlaceholder:"Chart title - double click to edit",background:"Background",font:"Font",top:"Top",right:"Right",bottom:"Bottom",left:"Left",labels:"Labels",size:"Size",minSize:"Minimum Size",maxSize:"Maximum Size",legend:"Legend",position:"Position",markerSize:"Marker Size",markerStroke:"Marker Stroke",markerPadding:"Marker Padding",itemSpacing:"Item Spacing",itemPaddingX:"Item Padding X",itemPaddingY:"Item Padding Y",layoutHorizontalSpacing:"Horizontal Spacing",layoutVerticalSpacing:"Vertical Spacing",strokeWidth:"Stroke Width",lineDash:"Line Dash",offset:"Offset",offsets:"Offsets",tooltips:"Tooltips",callout:"Callout",markers:"Markers",shadow:"Shadow",blur:"Blur",xOffset:"X Offset",yOffset:"Y Offset",lineWidth:"Line Width",normal:"Normal",bold:"Bold",italic:"Italic",boldItalic:"Bold Italic",predefined:"Predefined",fillOpacity:"Fill Opacity",strokeOpacity:"Line Opacity",histogramBinCount:"Bin count",columnGroup:"Column",barGroup:"Bar",pieGroup:"Pie",lineGroup:"Line",scatterGroup:"X Y (Scatter)",areaGroup:"Area",histogramGroup:"Histogram",combinationGroup:"Combination",groupedColumnTooltip:"Grouped",stackedColumnTooltip:"Stacked",normalizedColumnTooltip:"100% Stacked",groupedBarTooltip:"Grouped",stackedBarTooltip:"Stacked",normalizedBarTooltip:"100% Stacked",pieTooltip:"Pie",doughnutTooltip:"Doughnut",lineTooltip:"Line",groupedAreaTooltip:"Area",stackedAreaTooltip:"Stacked",normalizedAreaTooltip:"100% Stacked",scatterTooltip:"Scatter",bubbleTooltip:"Bubble",histogramTooltip:"Histogram",columnLineComboTooltip:"Column & Line",areaColumnComboTooltip:"Area & Column",customComboTooltip:"Custom Combination",noDataToChart:"No data available to be charted.",pivotChartRequiresPivotMode:"Pivot Chart requires Pivot Mode enabled.",chartSettingsToolbarTooltip:"Menu",chartLinkToolbarTooltip:"Linked to Grid",chartUnlinkToolbarTooltip:"Unlinked from Grid",chartDownloadToolbarTooltip:"Download Chart",seriesChartType:"Series Chart Type",seriesType:"Series Type",secondaryAxis:"Secondary Axis",ariaAdvancedFilterInput:"Advanced Filter Input",ariaChecked:"checked",ariaColumn:"Column",ariaColumnGroup:"Column Group",ariaColumnList:"Column List",ariaColumnSelectAll:"Toggle Select All Columns",ariaDateFilterInput:"Date Filter Input",ariaDefaultListName:"List",ariaFilterColumnsInput:"Filter Columns Input",ariaFilterFromValue:"Filter from value",ariaFilterInput:"Filter Input",ariaFilterList:"Filter List",ariaFilterToValue:"Filter to value",ariaFilterValue:"Filter Value",ariaFilterMenuOpen:"Open Filter Menu",ariaFilteringOperator:"Filtering Operator",ariaHidden:"hidden",ariaIndeterminate:"indeterminate",ariaInputEditor:"Input Editor",ariaMenuColumn:"Press CTRL ENTER to open column menu.",ariaRowDeselect:"Press SPACE to deselect this row",ariaRowSelectAll:"Press Space to toggle all rows selection",ariaRowToggleSelection:"Press Space to toggle row selection",ariaRowSelect:"Press SPACE to select this row",ariaSearch:"Search",ariaSortableColumn:"Press ENTER to sort",ariaToggleVisibility:"Press SPACE to toggle visibility",ariaToggleCellValue:"Press SPACE to toggle cell value",ariaUnchecked:"unchecked",ariaVisible:"visible",ariaSearchFilterValues:"Search filter values",ariaRowGroupDropZonePanelLabel:"Row Groups",ariaValuesDropZonePanelLabel:"Values",ariaPivotDropZonePanelLabel:"Column Labels",ariaDropZoneColumnComponentDescription:"Press DELETE to remove",ariaDropZoneColumnValueItemDescription:"Press ENTER to change the aggregation type",ariaDropZoneColumnGroupItemDescription:"Press ENTER to sort",ariaDropZoneColumnComponentAggFuncSeparator:" of ",ariaDropZoneColumnComponentSortAscending:"ascending",ariaDropZoneColumnComponentSortDescending:"descending",ariaLabelColumnMenu:"Column Menu",ariaLabelCellEditor:"Cell Editor",ariaLabelDialog:"Dialog",ariaLabelSelectField:"Select Field",ariaLabelRichSelectField:"Rich Select Field",ariaLabelTooltip:"Tooltip",ariaLabelContextMenu:"Context Menu",ariaLabelSubMenu:"SubMenu",ariaLabelAggregationFunction:"Aggregation Function",ariaLabelAdvancedFilterAutocomplete:"Advanced Filter Autocomplete",thousandSeparator:",",decimalSeparator:".",true:"True",false:"False",invalidDate:"Invalid Date",invalidNumber:"Invalid Number",january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},h_={prefix:"fas",iconName:"sword",icon:[512,512,[],"","M511.8 18.6c.8-5.1-.8-10.3-4.5-13.9S498.5-.6 493.4 .2L417.6 12.8c-16.4 2.7-31.6 10.6-43.4 22.3L166.6 242.7 269.3 345.4 476.8 137.8c11.8-11.8 19.6-27 22.3-43.4l12.6-75.8zM84.7 228.7l-16 16c-5.4 5.4-6.2 13.8-2 20.2l53.1 79.6c2.1 3.2 1.7 7.4-1 10.1L79.2 394.2c-2.1 2.1-5.3 2.9-8.2 1.9L37.1 384.8c-5.7-1.9-12.1-.4-16.4 3.9l-16 16c-6.2 6.2-6.2 16.4 0 22.6l80 80c6.2 6.2 16.4 6.2 22.6 0l16-16c4.3-4.3 5.8-10.6 3.9-16.4L115.9 441c-1-2.9-.2-6 1.9-8.2l39.6-39.6c2.7-2.7 6.9-3.1 10.1-1l79.6 53.1c6.3 4.2 14.8 3.4 20.2-2l16-16c6.2-6.2 6.2-16.4 0-22.6l-176-176c-6.2-6.2-16.4-6.2-22.6 0z"]},f_={prefix:"fas",iconName:"bow-arrow",icon:[512,512,[],"","M511.7 18.9c1-5.2-.7-10.5-4.4-14.3S498.2-.7 493.1 .3l-128 24c-5.8 1.1-10.6 5.3-12.3 11s-.2 11.8 4 16l35 35L144.6 333.4 93.8 320.7c-8.2-2-16.8 .4-22.8 6.3L7 391c-6.1 6.1-8.5 15-6.2 23.4s8.9 14.8 17.3 16.9l50 12.5 12.5 50c2.1 8.4 8.5 15 16.9 17.3s17.3 0 23.4-6.2l64-64c6-6 8.4-14.6 6.3-22.8l-12.7-50.8L425.7 120.3l35 35c4.2 4.2 10.4 5.7 16 4s9.9-6.5 11-12.3l24-128zm-458 85.5c-12.6-11.6-32.1-11.3-44.3 .9c-12.5 12.5-12.5 32.8 0 45.3L145.8 287 191 241.8l-90.6-90.6c56.5-30.7 125.2-30.9 181.9-.7l46.8-46.8c-83.8-53.2-191.8-53-275.4 .8zM361.5 229.7c30.2 56.7 30 125.4-.7 181.9L270.2 321 225 366.2 361.4 502.6c12.5 12.5 32.8 12.5 45.3 0c12.2-12.2 12.5-31.8 .9-44.3c53.7-83.6 54-191.6 .8-275.4l-46.8 46.8z"]},p_={prefix:"fas",iconName:"ring-diamond",icon:[384,512,[],"","M122.5 13.3C126.6 5.1 134.9 0 144 0h96c9.1 0 17.4 5.1 21.5 13.3l24 48c3.5 7.1 3.4 15.5-.5 22.4l-30.4 54.8C329.9 164.4 384 235.9 384 320c0 106-86 192-192 192S0 426 0 320c0-84.1 54.1-155.6 129.4-181.6L99 83.7c-3.8-6.9-4-15.3-.5-22.4l24-48zM192 192a128 128 0 1 0 0 256 128 128 0 1 0 0-256z"]},g_={prefix:"fas",iconName:"helmet-battle",icon:[576,512,[],"","M80 17.1c.6-8.3-5.3-15.7-13.6-17s-16.1 4.1-18 12.2L.8 218.8c-.5 2.2-.8 4.5-.8 6.8C0 242.4 13.6 256 30.4 256h2.2c17.1 0 31.3-13.2 32.5-30.2L80 17.1zM320 352V488c0 18.4 20.8 30.1 36.5 20.5l144-88c9.2-5.6 13.5-16.7 10.6-27.1C494.1 333.6 480 270.2 480 208c0-85-89.1-149.2-153.1-189c-1.9-1.2-4-2.6-6.3-4.1l0 0C311.2 8.4 298.7 0 288 0s-23.2 8.4-32.7 14.9c-2.3 1.5-4.4 3-6.3 4.1C185.1 58.8 96 123 96 208c0 62.2-14.1 125.6-31.1 185.4c-3 10.4 1.4 21.4 10.6 27.1l144 88c15.7 9.6 36.5-2.1 36.5-20.5V296h0V267.5c0-6.9-4.4-13-10.9-15.2l-72.3-24.1c-7.6-2.5-12.7-9.6-12.7-17.6c0-10.3 8.3-18.6 18.6-18.6H397.4c10.3 0 18.6 8.3 18.6 18.6c0 8-5.1 15.1-12.7 17.6l-72.3 24.1c-6.5 2.2-10.9 8.3-10.9 15.2V352h0zM509.6 .2c-8.3 1.2-14.2 8.6-13.6 17l14.9 208.6c1.2 17 15.4 30.2 32.5 30.2h2.2c16.8 0 30.4-13.6 30.4-30.4c0-2.3-.3-4.6-.8-6.8L527.6 12.4c-1.9-8.1-9.7-13.5-18-12.2z"]},m_={prefix:"fas",iconName:"hexagon",icon:[512,512,[],"","M17.1 220c-12.9 22.3-12.9 49.7 0 72l88.3 152.9c12.9 22.3 36.6 36 62.4 36l176.6 0c25.7 0 49.5-13.7 62.4-36L494.9 292c12.9-22.3 12.9-49.7 0-72L406.6 67.1c-12.9-22.3-36.6-36-62.4-36l-176.6 0c-25.7 0-49.5 13.7-62.4 36L17.1 220z"]},v_="0.3.16",Ft="",Os={WOOD:0,STONE:1,METAL:2,LEATHER:3,CLAY:4,GLAS:5},ct={INVALID:0,BARRIER:1,BLUNT:2,EDGE:4,FIRE:8,FLY:16,MAGIC:32,POINT:64,FALL:128},Wg=3,Xi={HITPOINTS:0,HITPOINTS_MAX:1,MANA:2,MANA_MAX:3,STRENGTH:4,DEXTERITY:5},Bn={NONE:1,NF:2,FF:4,MUN:8,ARMOR:16,FOOD:32,DOCS:64,POTIONS:128,RUNE:512,MAGIC:1<<31},jt={BARRIER:0,BLUNT:1,EDGE:2,FIRE:3,FLY:4,MAGIC:5,POINT:6,FALL:7},Ba={NONE:0,TORSO:1,HEAD:2,EFFECT:16},rn={NONE:"",POTION:"POTION",POTIONFAST:"POTIONFAST",FOOD:"FOOD",FOODHUGE:"FOODHUGE",MEAT:"MEAT",RICE:"RICE",MAP:"MAP",MAPSEALED:"MAPSEALED",BROOM:"BROOM",LUTE:"LUTE",BRUSH:"BRUSH",JOINT:"JOINT",RAKE:"RAKE"},w1={[rn.NONE]:"Нет",[rn.POTION]:"Зелье",[rn.POTIONFAST]:"Быстрое зелье",[rn.FOOD]:"Еда",[rn.FOODHUGE]:"Большая еда",[rn.MEAT]:"Мясо",[rn.RICE]:"Рис",[rn.MAP]:"Карта",[rn.MAPSEALED]:"Запечатанная карта",[rn.BROOM]:"BROOM",[rn.LUTE]:"LUTE",[rn.BRUSH]:"BRUSH",[rn.JOINT]:"JOINT",[rn.RAKE]:"RAKE"},C1={[Ba.NONE]:"Нет",[Ba.TORSO]:"Торс",[Ba.HEAD]:"Голова",[Ba.EFFECT]:"Эффект"},px={[jt.BARRIER]:"Защита от барьера",[jt.BLUNT]:"Защита от дробящего",[jt.EDGE]:"Защита от режущего",[jt.FIRE]:"Защита от огня",[jt.FLY]:"Защита от полёта",[jt.MAGIC]:"Защита от магии",[jt.POINT]:"Защита от колющего",[jt.FALL]:"Защита от падения"},Ah={[Bn.NONE]:"Нет",[Bn.NF]:"Оружие ближ. боя",[Bn.FF]:"Оружие дальн. боя",[Bn.MUN]:"Боеприпасы",[Bn.ARMOR]:"Броня",[Bn.FOOD]:"Еда",[Bn.DOCS]:"Документ",[Bn.POTIONS]:"Зелье",[Bn.RUNE]:"Руна",[Bn.MAGIC]:"Магические предметы"},Nr={DAG:8192,SWD:16384,AXE:32768,TWOHD_SWD:65536,TWOHD_AXE:1<<17,SHIELD:1<<18,BOW:1<<19,CROSSBOW:1<<20,RING:2048,AMULET:1<<22,BELT:1<<24,MULTI:1<<21,NFOCUS:1<<23,CREATEAMMO:1<<25,NSPLIT:1<<26,DRINK:1<<27,TORCH:1<<28},dl={[Nr.DAG]:"Кинжал",[Nr.SWD]:"Меч",[Nr.AXE]:"Секира",[Nr.TWOHD_SWD]:"Двуручн. меч",[Nr.TWOHD_AXE]:"Двуручн. секира",[Nr.SHIELD]:"Щит",[Nr.BOW]:"Лук",[Nr.CROSSBOW]:"Арбалет",[Nr.RING]:"Кольцо",[Nr.AMULET]:"Амулет",[Nr.BELT]:"Пояс",[Nr.MULTI]:"Мульти",[Nr.DRINK]:"Зелье",[Nr.TORCH]:"Факел",[Nr.NFOCUS]:"Без фокуса",[Nr.NSPLIT]:"Без разделения",[Nr.CREATEAMMO]:"Генератор боеприпасов"},S1={[Os.WOOD]:"Дерево",[Os.STONE]:"Камень",[Os.METAL]:"Метал",[Os.LEATHER]:"Кожа",[Os.CLAY]:"Глина",[Os.GLAS]:"Стекло"},Js={[ct.INVALID]:"Нет",[ct.BARRIER]:"Барьер",[ct.BLUNT]:"Дробящий",[ct.EDGE]:"Режущий",[ct.FIRE]:"Огонь",[ct.FLY]:"Полёт",[ct.MAGIC]:"Магия",[ct.POINT]:"Колющий",[ct.FALL]:"Падение"},Ec={[Xi.HITPOINTS]:"Жизнь",[Xi.HITPOINTS_MAX]:"Макс. жизнь",[Xi.MANA]:"Мана",[Xi.MANA_MAX]:"Макс. мана",[Xi.STRENGTH]:"Сила",[Xi.DEXTERITY]:"Ловкость"},x1={SPL_PalLight:0,SPL_PalLightHeal:1,SPL_PalHolyBolt:2,SPL_PalMediumHeal:3,SPL_PalRepelEvil:4,SPL_PalFullHeal:5,SPL_PalDestroyEvil:6,SPL_PalTeleportSecret:7,SPL_TeleportSeaport:8,SPL_TeleportMonastery:9,SPL_TeleportFarm:10,SPL_TeleportXardas:11,SPL_TeleportPassNW:12,SPL_TeleportPassOW:13,SPL_TeleportOC:14,SPL_TeleportOWDemonTower:15,SPL_TeleportTaverne:16,SPL_Teleport_3:17,SPL_Light:18,SPL_Firebolt:19,SPL_Icebolt:20,SPL_LightHeal:21,SPL_SummonGoblinSkeleton:22,SPL_InstantFireball:23,SPL_Zap:24,SPL_SummonWolf:25,SPL_WindFist:26,SPL_Sleep:27,SPL_MediumHeal:28,SPL_LightningFlash:29,SPL_ChargeFireball:30,SPL_SummonSkeleton:31,SPL_Fear:32,SPL_IceCube:33,SPL_ChargeZap:34,SPL_SummonGolem:35,SPL_DestroyUndead:36,SPL_Pyrokinesis:37,SPL_Firestorm:38,SPL_IceWave:39,SPL_SummonDemon:40,SPL_FullHeal:41,SPL_Firerain:42,SPL_BreathOfDeath:43,SPL_MassDeath:44,SPL_ArmyOfDarkness:45,SPL_Shrink:46,SPL_TrfSheep:47,SPL_TrfScavenger:48,SPL_TrfGiantRat:49,SPL_TrfGiantBug:50,SPL_TrfWolf:51,SPL_TrfWaran:52,SPL_TrfSnapper:53,SPL_TrfWarg:54,SPL_TrfFireWaran:55,SPL_TrfLurker:56,SPL_TrfShadowbeast:57,SPL_TrfDragonSnapper:58,SPL_Charm:59,SPL_MasterOfDisaster:60,SPL_Deathbolt:61,SPL_Deathball:62,SPL_ConcussionBolt:63,SPL_Reserved_64:64,SPL_Reserved_65:65,SPL_Reserved_66:66,SPL_Reserved_67:67,SPL_Reserved_68:68,SPL_Reserved_69:69,SPL_Thunderstorm:70,SPL_Whirlwind:71,SPL_WaterFist:72,SPL_IceLance:73,SPL_Inflate:74,SPL_Geyser:75,SPL_Waterwall:76,SPL_Reserved_77:77,SPL_Reserved_78:78,SPL_Reserved_79:79,SPL_Plague:80,SPL_Swarm:81,SPL_GreenTentacle:82,SPL_Earthquake:83,SPL_SummonGuardian:84,SPL_Energyball:85,SPL_SuckEnergy:86,SPL_Skull:87,SPL_SummonZombie:88,SPL_SummonMud:89,SPL_Reserved_90:90,SPL_Reserved_91:91,SPL_Reserved_92:92,SPL_Reserved_93:93,SPL_Reserved_94:94,SPL_Reserved_95:95,SPL_Reserved_96:96,SPL_Reserved_97:97,SPL_Reserved_98:98,SPL_Reserved_99:99},ud={GOOD:0,NEUTRAL:1,BAD:2},dd={NONE:0,CASTER:1,FOCUS:2,ALL:3,FOCUS_FALLBACK_NONE:4,FOCUS_FALLBACK_CASTER:5,ALL_FALLBACK_NONE:6,ALL_FALLBACK_CASTER:7},hd={ALL:1,ITEMS:2,NPCS:4,ORCS:8,HUMANS:16,UNDEAD:32},bp={FRIEND:1,IMMORTAL:2,GHOST:4},R1={[bp.FRIEND]:"Друг",[bp.IMMORTAL]:"Бессмертный",[bp.GHOST]:"Призрак"},js={ONEH:0,TWOH:1,BOW:2,CBOW:3},y_={[js.ONEH]:"Одноручное оружие",[js.TWOH]:"Двуручное оружие",[js.BOW]:"Лук",[js.CBOW]:"Арбалет"},So={HEALTH:0,MANA:2,STAMINA:4,STRENGTH:6,DEXTERITY:7},fd={[So.HEALTH]:"Жизнь",[So.MANA]:"Мана",[So.STAMINA]:"Выносливость",[So.STRENGTH]:"Сила",[So.DEXTERITY]:"Ловкость"},pd={WEAPON_1H:0,WEAPON_2H:1,WEAPON_BOW:2,WEAPON_CBOW:3},E1={[pd.WEAPON_1H]:"Одноручное",[pd.WEAPON_2H]:"Двуручное",[pd.WEAPON_BOW]:"Лук",[pd.WEAPON_CBOW]:"Арбалет"},b_={restoreOnUse:{},attributeBonus:{},skillBonus:{},description:Ft,maskedName:Ft,drunkLevel:0,weight:0,effectOnUse:Ft,effectDuration:0,onUse:Ft,onEquip:Ft,onUnequip:Ft,receipt:{resultItem:Ft,resultCount:0,ingredients:[],category:Ft,traders:[],isSystem:!1},durability:{useDurability:!1,value:100,next:Ft},tier:0,isFactional:!1,isDisabled:!1,createdAt:0,updatedAt:0},et={UNKNOWN:0,TEMPLATE:1,SYSTEM:2,PLANT:3,TROPHY:4,POTION:5,FOOD:6,MISC:7,SECRET:8,MELEE_WEAPON:9,RANGE_WEAPON:10,AMULET:11,ARMOR:12,HELMET:13,KEY:14,RECEIPT:15,SHIELD:16,BELT:17,RING:18,SCROLL:19,RUNE:20,DOC:21,TORCH:22},Kd={[et.UNKNOWN]:"Неизвестная категория",[et.TEMPLATE]:"Daedalus макеты",[et.SYSTEM]:"Системные",[et.PLANT]:"Растения",[et.TROPHY]:"Трофеи",[et.POTION]:"Зелья",[et.FOOD]:"Еда",[et.MISC]:"Другое",[et.SECRET]:"Секреты",[et.MELEE_WEAPON]:"Оружие ближ. боя",[et.RANGE_WEAPON]:"Оружие дальн. боя",[et.AMULET]:"Амулеты",[et.ARMOR]:"Броня",[et.HELMET]:"Шлемы",[et.KEY]:"Ключи",[et.RECEIPT]:"Рецепты",[et.SHIELD]:"Щиты",[et.BELT]:"Пояса",[et.RING]:"Кольца",[et.SCROLL]:"Свитки",[et.RUNE]:"Руны",[et.DOC]:"Документы",[et.TORCH]:"Факела"},w_=e=>!isNaN(Number(e)),Ki=e=>{const t=Number(e);return isNaN(t)?0:t},C_=(e="",t)=>{const r=[];for(;e.length>t;){let n=e.substring(0,t).lastIndexOf(" ");n=n<=0?t:n,r.push(e.substring(0,n));let i=e.indexOf(" ",n)+1;(i<n||i>n+t)&&(i=n),e=e.substring(i)}return r.push(e),r},kl=(e,t)=>{const r=document.createElement("a");r.setAttribute("href","data:application/json;charset=utf-8,"+encodeURIComponent(t)),r.setAttribute("download",e),r.style.display="none",document.body.appendChild(r),r.click(),document.body.removeChild(r)},S_=(e,t,r)=>{const n=[],i=e.length;for(let s=0,o=t;s<o;++s)s>=i?n.push(r):n.push(e[s]);return n},x_=e=>e.charAt(0).toUpperCase()+e.slice(1),gx=/IT.._T_/,R_=e=>{switch(!0){case gx.test(e):return kT;case e.startsWith("ITFS_"):return GT;case e.startsWith("ITPL"):return NT;case e.startsWith("ITAT"):return YT;case e.startsWith("ITPO"):return VT;case e.startsWith("ITFO"):return qT;case e.startsWith("ITMI"):return DT;case e.startsWith("ITSE"):return AT;case e.startsWith("ITMW"):return h_;case e.startsWith("ITRW"):return f_;case e.startsWith("ITAM"):return WT;case e.startsWith("ITAR"):return LT;case e.startsWith("ITHE"):return g_;case e.startsWith("ITKE"):return _T;case e.startsWith("ITRC"):return d1;case e.startsWith("ITSH"):return XT;case e.startsWith("ITBE"):return JT;case e.startsWith("ITRI"):return p_;case e.startsWith("ITSC_"):return d1;case e.startsWith("ITRU_"):return m_;case e.startsWith("ITWR_"):return ZT;case e.startsWith("ITLS"):return MT;default:return null}},Rt=e=>e.currentTarget.blur(),$g=(e,t="json")=>`${e} ${new Date().toISOString().replace("T"," ").replace("Z","").replace(/:/g,"-").replace(/\.\d\d\d/,"")}.${t}`,mx=e=>{switch(!0){case gx.test(e):return et.TEMPLATE;case e.startsWith("ITFS_"):return et.SYSTEM;case e.startsWith("ITPL"):return et.PLANT;case e.startsWith("ITAT"):return et.TROPHY;case e.startsWith("ITPO"):return et.POTION;case e.startsWith("ITFO"):return et.FOOD;case e.startsWith("ITMI"):return et.MISC;case e.startsWith("ITSE"):return et.SECRET;case e.startsWith("ITMW"):return et.MELEE_WEAPON;case e.startsWith("ITRW"):return et.RANGE_WEAPON;case e.startsWith("ITAM"):return et.AMULET;case e.startsWith("ITAR"):return et.ARMOR;case e.startsWith("ITHE"):return et.HELMET;case e.startsWith("ITKE"):return et.KEY;case e.startsWith("ITRC"):return et.RECEIPT;case e.startsWith("ITSH"):return et.SHIELD;case e.startsWith("ITBE"):return et.BELT;case e.startsWith("ITRI"):return et.RING;case e.startsWith("ITSC_"):return et.SCROLL;case e.startsWith("ITRU_"):return et.RUNE;case e.startsWith("ITWR_"):return et.DOC;case e.startsWith("ITLS"):return et.TORCH}return et.UNKNOWN},E_=e=>Kd[mx(e)],Fl=e=>{U.useEffect(()=>{const t=setInterval(e,6e4);return window.addEventListener("beforeunload",e),()=>{clearInterval(t),window.removeEventListener("beforeunload",e)}},[e])};function T1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function tt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?T1(Object(r),!0).forEach(function(n){Dr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Oh(e){"@babel/helpers - typeof";return Oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oh(e)}function T_(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P1(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function P_(e,t,r){return t&&P1(e.prototype,t),r&&P1(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Dr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E0(e,t){return M_(e)||F_(e,t)||vx(e,t)||O_()}function Tu(e){return __(e)||k_(e)||vx(e)||A_()}function __(e){if(Array.isArray(e))return Ug(e)}function M_(e){if(Array.isArray(e))return e}function k_(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function F_(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],i=!0,s=!1,o,a;try{for(r=r.call(e);!(i=(o=r.next()).done)&&(n.push(o.value),!(t&&n.length===t));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&r.return!=null&&r.return()}finally{if(s)throw a}}return n}}function vx(e,t){if(e){if(typeof e=="string")return Ug(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ug(e,t)}}function Ug(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function A_(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O_(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var _1=function(){},T0={},yx={},bx=null,wx={mark:_1,measure:_1};try{typeof window<"u"&&(T0=window),typeof document<"u"&&(yx=document),typeof MutationObserver<"u"&&(bx=MutationObserver),typeof performance<"u"&&(wx=performance)}catch{}var D_=T0.navigator||{},M1=D_.userAgent,k1=M1===void 0?"":M1,eo=T0,ar=yx,F1=bx,gd=wx;eo.document;var vs=!!ar.documentElement&&!!ar.head&&typeof ar.addEventListener=="function"&&typeof ar.createElement=="function",Cx=~k1.indexOf("MSIE")||~k1.indexOf("Trident/"),md,vd,yd,bd,wd,us="___FONT_AWESOME___",Kg=16,Sx="fa",xx="svg-inline--fa",Ko="data-fa-i2svg",qg="data-fa-pseudo-element",I_="data-fa-pseudo-element-pending",P0="data-prefix",_0="data-icon",A1="fontawesome-i2svg",N_="async",L_=["HTML","HEAD","STYLE","SCRIPT"],Rx=function(){try{return!0}catch{return!1}}(),sr="classic",yr="sharp",M0=[sr,yr];function Pu(e){return new Proxy(e,{get:function(r,n){return n in r?r[n]:r[sr]}})}var tu=Pu((md={},Dr(md,sr,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit"}),Dr(md,yr,{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light"}),md)),ru=Pu((vd={},Dr(vd,sr,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),Dr(vd,yr,{solid:"fass",regular:"fasr",light:"fasl"}),vd)),nu=Pu((yd={},Dr(yd,sr,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),Dr(yd,yr,{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light"}),yd)),j_=Pu((bd={},Dr(bd,sr,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),Dr(bd,yr,{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl"}),bd)),B_=/fa(s|r|l|t|d|b|k|ss|sr|sl)?[\-\ ]/,Ex="fa-layers-text",H_=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,G_=Pu((wd={},Dr(wd,sr,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),Dr(wd,yr,{900:"fass",400:"fasr",300:"fasl"}),wd)),Tx=[1,2,3,4,5,6,7,8,9,10],V_=Tx.concat([11,12,13,14,15,16,17,18,19,20]),z_=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],Mo={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},iu=new Set;Object.keys(ru[sr]).map(iu.add.bind(iu));Object.keys(ru[yr]).map(iu.add.bind(iu));var W_=[].concat(M0,Tu(iu),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",Mo.GROUP,Mo.SWAP_OPACITY,Mo.PRIMARY,Mo.SECONDARY]).concat(Tx.map(function(e){return"".concat(e,"x")})).concat(V_.map(function(e){return"w-".concat(e)})),Tc=eo.FontAwesomeConfig||{};function $_(e){var t=ar.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}function U_(e){return e===""?!0:e==="false"?!1:e==="true"?!0:e}if(ar&&typeof ar.querySelector=="function"){var K_=[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]];K_.forEach(function(e){var t=E0(e,2),r=t[0],n=t[1],i=U_($_(r));i!=null&&(Tc[n]=i)})}var Px={styleDefault:"solid",familyDefault:"classic",cssPrefix:Sx,replacementClass:xx,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};Tc.familyPrefix&&(Tc.cssPrefix=Tc.familyPrefix);var hl=tt(tt({},Px),Tc);hl.autoReplaceSvg||(hl.observeMutations=!1);var dt={};Object.keys(Px).forEach(function(e){Object.defineProperty(dt,e,{enumerable:!0,set:function(r){hl[e]=r,Pc.forEach(function(n){return n(dt)})},get:function(){return hl[e]}})});Object.defineProperty(dt,"familyPrefix",{enumerable:!0,set:function(t){hl.cssPrefix=t,Pc.forEach(function(r){return r(dt)})},get:function(){return hl.cssPrefix}});eo.FontAwesomeConfig=dt;var Pc=[];function q_(e){return Pc.push(e),function(){Pc.splice(Pc.indexOf(e),1)}}var Es=Kg,Ii={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function Y_(e){if(!(!e||!vs)){var t=ar.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;for(var r=ar.head.childNodes,n=null,i=r.length-1;i>-1;i--){var s=r[i],o=(s.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(n=s)}return ar.head.insertBefore(t,n),e}}var X_="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function su(){for(var e=12,t="";e-- >0;)t+=X_[Math.random()*62|0];return t}function Al(e){for(var t=[],r=(e||[]).length>>>0;r--;)t[r]=e[r];return t}function k0(e){return e.classList?Al(e.classList):(e.getAttribute("class")||"").split(" ").filter(function(t){return t})}function _x(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Q_(e){return Object.keys(e||{}).reduce(function(t,r){return t+"".concat(r,'="').concat(_x(e[r]),'" ')},"").trim()}function Tf(e){return Object.keys(e||{}).reduce(function(t,r){return t+"".concat(r,": ").concat(e[r].trim(),";")},"")}function F0(e){return e.size!==Ii.size||e.x!==Ii.x||e.y!==Ii.y||e.rotate!==Ii.rotate||e.flipX||e.flipY}function Z_(e){var t=e.transform,r=e.containerWidth,n=e.iconWidth,i={transform:"translate(".concat(r/2," 256)")},s="translate(".concat(t.x*32,", ").concat(t.y*32,") "),o="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),a="rotate(".concat(t.rotate," 0 0)"),l={transform:"".concat(s," ").concat(o," ").concat(a)},c={transform:"translate(".concat(n/2*-1," -256)")};return{outer:i,inner:l,path:c}}function J_(e){var t=e.transform,r=e.width,n=r===void 0?Kg:r,i=e.height,s=i===void 0?Kg:i,o=e.startCentered,a=o===void 0?!1:o,l="";return a&&Cx?l+="translate(".concat(t.x/Es-n/2,"em, ").concat(t.y/Es-s/2,"em) "):a?l+="translate(calc(-50% + ".concat(t.x/Es,"em), calc(-50% + ").concat(t.y/Es,"em)) "):l+="translate(".concat(t.x/Es,"em, ").concat(t.y/Es,"em) "),l+="scale(".concat(t.size/Es*(t.flipX?-1:1),", ").concat(t.size/Es*(t.flipY?-1:1),") "),l+="rotate(".concat(t.rotate,"deg) "),l}var eM=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  -webkit-transform: translate(-50%, -50%);
          transform: translate(-50%, -50%);
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  -webkit-transform: scale(var(--fa-counter-scale, 0.25));
          transform: scale(var(--fa-counter-scale, 0.25));
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: bottom right;
          transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: bottom left;
          transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: top left;
          transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(var(--fa-li-width, 2em) * -1);
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  -webkit-animation-name: fa-beat;
          animation-name: fa-beat;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);
          animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  -webkit-animation-name: fa-bounce;
          animation-name: fa-bounce;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  -webkit-animation-name: fa-fade;
          animation-name: fa-fade;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  -webkit-animation-name: fa-beat-fade;
          animation-name: fa-beat-fade;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  -webkit-animation-name: fa-flip;
          animation-name: fa-flip;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);
          animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  -webkit-animation-name: fa-shake;
          animation-name: fa-shake;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, linear);
          animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  -webkit-animation-name: fa-spin;
          animation-name: fa-spin;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 2s);
          animation-duration: var(--fa-animation-duration, 2s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, linear);
          animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  -webkit-animation-name: fa-spin;
          animation-name: fa-spin;
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));
          animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    -webkit-animation-delay: -1ms;
            animation-delay: -1ms;
    -webkit-animation-duration: 1ms;
            animation-duration: 1ms;
    -webkit-animation-iteration-count: 1;
            animation-iteration-count: 1;
    -webkit-transition-delay: 0s;
            transition-delay: 0s;
    -webkit-transition-duration: 0s;
            transition-duration: 0s;
  }
}
@-webkit-keyframes fa-beat {
  0%, 90% {
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  45% {
    -webkit-transform: scale(var(--fa-beat-scale, 1.25));
            transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-beat {
  0%, 90% {
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  45% {
    -webkit-transform: scale(var(--fa-beat-scale, 1.25));
            transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@-webkit-keyframes fa-bounce {
  0% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  10% {
    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  100% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-bounce {
  0% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  10% {
    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  100% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
}
@-webkit-keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@-webkit-keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  50% {
    opacity: 1;
    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));
            transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  50% {
    opacity: 1;
    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));
            transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@-webkit-keyframes fa-flip {
  50% {
    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-flip {
  50% {
    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@-webkit-keyframes fa-shake {
  0% {
    -webkit-transform: rotate(-15deg);
            transform: rotate(-15deg);
  }
  4% {
    -webkit-transform: rotate(15deg);
            transform: rotate(15deg);
  }
  8%, 24% {
    -webkit-transform: rotate(-18deg);
            transform: rotate(-18deg);
  }
  12%, 28% {
    -webkit-transform: rotate(18deg);
            transform: rotate(18deg);
  }
  16% {
    -webkit-transform: rotate(-22deg);
            transform: rotate(-22deg);
  }
  20% {
    -webkit-transform: rotate(22deg);
            transform: rotate(22deg);
  }
  32% {
    -webkit-transform: rotate(-12deg);
            transform: rotate(-12deg);
  }
  36% {
    -webkit-transform: rotate(12deg);
            transform: rotate(12deg);
  }
  40%, 100% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
}
@keyframes fa-shake {
  0% {
    -webkit-transform: rotate(-15deg);
            transform: rotate(-15deg);
  }
  4% {
    -webkit-transform: rotate(15deg);
            transform: rotate(15deg);
  }
  8%, 24% {
    -webkit-transform: rotate(-18deg);
            transform: rotate(-18deg);
  }
  12%, 28% {
    -webkit-transform: rotate(18deg);
            transform: rotate(18deg);
  }
  16% {
    -webkit-transform: rotate(-22deg);
            transform: rotate(-22deg);
  }
  20% {
    -webkit-transform: rotate(22deg);
            transform: rotate(22deg);
  }
  32% {
    -webkit-transform: rotate(-12deg);
            transform: rotate(-12deg);
  }
  36% {
    -webkit-transform: rotate(12deg);
            transform: rotate(12deg);
  }
  40%, 100% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
}
@-webkit-keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
@keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  -webkit-transform: rotate(90deg);
          transform: rotate(90deg);
}

.fa-rotate-180 {
  -webkit-transform: rotate(180deg);
          transform: rotate(180deg);
}

.fa-rotate-270 {
  -webkit-transform: rotate(270deg);
          transform: rotate(270deg);
}

.fa-flip-horizontal {
  -webkit-transform: scale(-1, 1);
          transform: scale(-1, 1);
}

.fa-flip-vertical {
  -webkit-transform: scale(1, -1);
          transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  -webkit-transform: scale(-1, -1);
          transform: scale(-1, -1);
}

.fa-rotate-by {
  -webkit-transform: rotate(var(--fa-rotate-angle, none));
          transform: rotate(var(--fa-rotate-angle, none));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}

.fad.fa-inverse,
.fa-duotone.fa-inverse {
  color: var(--fa-inverse, #fff);
}`;function Mx(){var e=Sx,t=xx,r=dt.cssPrefix,n=dt.replacementClass,i=eM;if(r!==e||n!==t){var s=new RegExp("\\.".concat(e,"\\-"),"g"),o=new RegExp("\\--".concat(e,"\\-"),"g"),a=new RegExp("\\.".concat(t),"g");i=i.replace(s,".".concat(r,"-")).replace(o,"--".concat(r,"-")).replace(a,".".concat(n))}return i}var O1=!1;function wp(){dt.autoAddCss&&!O1&&(Y_(Mx()),O1=!0)}var tM={mixout:function(){return{dom:{css:Mx,insertCss:wp}}},hooks:function(){return{beforeDOMElementCreation:function(){wp()},beforeI2svg:function(){wp()}}}},ds=eo||{};ds[us]||(ds[us]={});ds[us].styles||(ds[us].styles={});ds[us].hooks||(ds[us].hooks={});ds[us].shims||(ds[us].shims=[]);var wi=ds[us],kx=[],rM=function e(){ar.removeEventListener("DOMContentLoaded",e),Dh=1,kx.map(function(t){return t()})},Dh=!1;vs&&(Dh=(ar.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(ar.readyState),Dh||ar.addEventListener("DOMContentLoaded",rM));function nM(e){vs&&(Dh?setTimeout(e,0):kx.push(e))}function _u(e){var t=e.tag,r=e.attributes,n=r===void 0?{}:r,i=e.children,s=i===void 0?[]:i;return typeof e=="string"?_x(e):"<".concat(t," ").concat(Q_(n),">").concat(s.map(_u).join(""),"</").concat(t,">")}function D1(e,t,r){if(e&&e[t]&&e[t][r])return{prefix:t,iconName:r,icon:e[t][r]}}var iM=function(t,r){return function(n,i,s,o){return t.call(r,n,i,s,o)}},Cp=function(t,r,n,i){var s=Object.keys(t),o=s.length,a=i!==void 0?iM(r,i):r,l,c,u;for(n===void 0?(l=1,u=t[s[0]]):(l=0,u=n);l<o;l++)c=s[l],u=a(u,t[c],c,t);return u};function sM(e){for(var t=[],r=0,n=e.length;r<n;){var i=e.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){var s=e.charCodeAt(r++);(s&64512)==56320?t.push(((i&1023)<<10)+(s&1023)+65536):(t.push(i),r--)}else t.push(i)}return t}function Yg(e){var t=sM(e);return t.length===1?t[0].toString(16):null}function oM(e,t){var r=e.length,n=e.charCodeAt(t),i;return n>=55296&&n<=56319&&r>t+1&&(i=e.charCodeAt(t+1),i>=56320&&i<=57343)?(n-55296)*1024+i-56320+65536:n}function I1(e){return Object.keys(e).reduce(function(t,r){var n=e[r],i=!!n.icon;return i?t[n.iconName]=n.icon:t[r]=n,t},{})}function Xg(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=r.skipHooks,i=n===void 0?!1:n,s=I1(t);typeof wi.hooks.addPack=="function"&&!i?wi.hooks.addPack(e,I1(t)):wi.styles[e]=tt(tt({},wi.styles[e]||{}),s),e==="fas"&&Xg("fa",t)}var Cd,Sd,xd,Ha=wi.styles,aM=wi.shims,lM=(Cd={},Dr(Cd,sr,Object.values(nu[sr])),Dr(Cd,yr,Object.values(nu[yr])),Cd),A0=null,Fx={},Ax={},Ox={},Dx={},Ix={},cM=(Sd={},Dr(Sd,sr,Object.keys(tu[sr])),Dr(Sd,yr,Object.keys(tu[yr])),Sd);function uM(e){return~W_.indexOf(e)}function dM(e,t){var r=t.split("-"),n=r[0],i=r.slice(1).join("-");return n===e&&i!==""&&!uM(i)?i:null}var Nx=function(){var t=function(s){return Cp(Ha,function(o,a,l){return o[l]=Cp(a,s,{}),o},{})};Fx=t(function(i,s,o){if(s[3]&&(i[s[3]]=o),s[2]){var a=s[2].filter(function(l){return typeof l=="number"});a.forEach(function(l){i[l.toString(16)]=o})}return i}),Ax=t(function(i,s,o){if(i[o]=o,s[2]){var a=s[2].filter(function(l){return typeof l=="string"});a.forEach(function(l){i[l]=o})}return i}),Ix=t(function(i,s,o){var a=s[2];return i[o]=o,a.forEach(function(l){i[l]=o}),i});var r="far"in Ha||dt.autoFetchSvg,n=Cp(aM,function(i,s){var o=s[0],a=s[1],l=s[2];return a==="far"&&!r&&(a="fas"),typeof o=="string"&&(i.names[o]={prefix:a,iconName:l}),typeof o=="number"&&(i.unicodes[o.toString(16)]={prefix:a,iconName:l}),i},{names:{},unicodes:{}});Ox=n.names,Dx=n.unicodes,A0=Pf(dt.styleDefault,{family:dt.familyDefault})};q_(function(e){A0=Pf(e.styleDefault,{family:dt.familyDefault})});Nx();function O0(e,t){return(Fx[e]||{})[t]}function hM(e,t){return(Ax[e]||{})[t]}function ko(e,t){return(Ix[e]||{})[t]}function Lx(e){return Ox[e]||{prefix:null,iconName:null}}function fM(e){var t=Dx[e],r=O0("fas",e);return t||(r?{prefix:"fas",iconName:r}:null)||{prefix:null,iconName:null}}function to(){return A0}var D0=function(){return{prefix:null,iconName:null,rest:[]}};function Pf(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.family,n=r===void 0?sr:r,i=tu[n][e],s=ru[n][e]||ru[n][i],o=e in wi.styles?e:null;return s||o||null}var N1=(xd={},Dr(xd,sr,Object.keys(nu[sr])),Dr(xd,yr,Object.keys(nu[yr])),xd);function _f(e){var t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.skipLookups,i=n===void 0?!1:n,s=(t={},Dr(t,sr,"".concat(dt.cssPrefix,"-").concat(sr)),Dr(t,yr,"".concat(dt.cssPrefix,"-").concat(yr)),t),o=null,a=sr;(e.includes(s[sr])||e.some(function(c){return N1[sr].includes(c)}))&&(a=sr),(e.includes(s[yr])||e.some(function(c){return N1[yr].includes(c)}))&&(a=yr);var l=e.reduce(function(c,u){var f=dM(dt.cssPrefix,u);if(Ha[u]?(u=lM[a].includes(u)?j_[a][u]:u,o=u,c.prefix=u):cM[a].indexOf(u)>-1?(o=u,c.prefix=Pf(u,{family:a})):f?c.iconName=f:u!==dt.replacementClass&&u!==s[sr]&&u!==s[yr]&&c.rest.push(u),!i&&c.prefix&&c.iconName){var d=o==="fa"?Lx(c.iconName):{},h=ko(c.prefix,c.iconName);d.prefix&&(o=null),c.iconName=d.iconName||h||c.iconName,c.prefix=d.prefix||c.prefix,c.prefix==="far"&&!Ha.far&&Ha.fas&&!dt.autoFetchSvg&&(c.prefix="fas")}return c},D0());return(e.includes("fa-brands")||e.includes("fab"))&&(l.prefix="fab"),(e.includes("fa-duotone")||e.includes("fad"))&&(l.prefix="fad"),!l.prefix&&a===yr&&(Ha.fass||dt.autoFetchSvg)&&(l.prefix="fass",l.iconName=ko(l.prefix,l.iconName)||l.iconName),(l.prefix==="fa"||o==="fa")&&(l.prefix=to()||"fas"),l}var pM=function(){function e(){T_(this,e),this.definitions={}}return P_(e,[{key:"add",value:function(){for(var r=this,n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];var o=i.reduce(this._pullDefinitions,{});Object.keys(o).forEach(function(a){r.definitions[a]=tt(tt({},r.definitions[a]||{}),o[a]),Xg(a,o[a]);var l=nu[sr][a];l&&Xg(l,o[a]),Nx()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(r,n){var i=n.prefix&&n.iconName&&n.icon?{0:n}:n;return Object.keys(i).map(function(s){var o=i[s],a=o.prefix,l=o.iconName,c=o.icon,u=c[2];r[a]||(r[a]={}),u.length>0&&u.forEach(function(f){typeof f=="string"&&(r[a][f]=c)}),r[a][l]=c}),r}}]),e}(),L1=[],Ga={},el={},gM=Object.keys(el);function mM(e,t){var r=t.mixoutsTo;return L1=e,Ga={},Object.keys(el).forEach(function(n){gM.indexOf(n)===-1&&delete el[n]}),L1.forEach(function(n){var i=n.mixout?n.mixout():{};if(Object.keys(i).forEach(function(o){typeof i[o]=="function"&&(r[o]=i[o]),Oh(i[o])==="object"&&Object.keys(i[o]).forEach(function(a){r[o]||(r[o]={}),r[o][a]=i[o][a]})}),n.hooks){var s=n.hooks();Object.keys(s).forEach(function(o){Ga[o]||(Ga[o]=[]),Ga[o].push(s[o])})}n.provides&&n.provides(el)}),r}function Qg(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];var s=Ga[e]||[];return s.forEach(function(o){t=o.apply(null,[t].concat(n))}),t}function qo(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var i=Ga[e]||[];i.forEach(function(s){s.apply(null,r)})}function hs(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);return el[e]?el[e].apply(null,t):void 0}function Zg(e){e.prefix==="fa"&&(e.prefix="fas");var t=e.iconName,r=e.prefix||to();if(t)return t=ko(r,t)||t,D1(jx.definitions,r,t)||D1(wi.styles,r,t)}var jx=new pM,vM=function(){dt.autoReplaceSvg=!1,dt.observeMutations=!1,qo("noAuto")},yM={i2svg:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return vs?(qo("beforeI2svg",t),hs("pseudoElements2svg",t),hs("i2svg",t)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.autoReplaceSvgRoot;dt.autoReplaceSvg===!1&&(dt.autoReplaceSvg=!0),dt.observeMutations=!0,nM(function(){wM({autoReplaceSvgRoot:r}),qo("watch",t)})}},bM={icon:function(t){if(t===null)return null;if(Oh(t)==="object"&&t.prefix&&t.iconName)return{prefix:t.prefix,iconName:ko(t.prefix,t.iconName)||t.iconName};if(Array.isArray(t)&&t.length===2){var r=t[1].indexOf("fa-")===0?t[1].slice(3):t[1],n=Pf(t[0]);return{prefix:n,iconName:ko(n,r)||r}}if(typeof t=="string"&&(t.indexOf("".concat(dt.cssPrefix,"-"))>-1||t.match(B_))){var i=_f(t.split(" "),{skipLookups:!0});return{prefix:i.prefix||to(),iconName:ko(i.prefix,i.iconName)||i.iconName}}if(typeof t=="string"){var s=to();return{prefix:s,iconName:ko(s,t)||t}}}},Ln={noAuto:vM,config:dt,dom:yM,parse:bM,library:jx,findIconDefinition:Zg,toHtml:_u},wM=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.autoReplaceSvgRoot,n=r===void 0?ar:r;(Object.keys(wi.styles).length>0||dt.autoFetchSvg)&&vs&&dt.autoReplaceSvg&&Ln.dom.i2svg({node:n})};function Mf(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map(function(n){return _u(n)})}}),Object.defineProperty(e,"node",{get:function(){if(vs){var n=ar.createElement("div");return n.innerHTML=e.html,n.children}}}),e}function CM(e){var t=e.children,r=e.main,n=e.mask,i=e.attributes,s=e.styles,o=e.transform;if(F0(o)&&r.found&&!n.found){var a=r.width,l=r.height,c={x:a/l/2,y:.5};i.style=Tf(tt(tt({},s),{},{"transform-origin":"".concat(c.x+o.x/16,"em ").concat(c.y+o.y/16,"em")}))}return[{tag:"svg",attributes:i,children:t}]}function SM(e){var t=e.prefix,r=e.iconName,n=e.children,i=e.attributes,s=e.symbol,o=s===!0?"".concat(t,"-").concat(dt.cssPrefix,"-").concat(r):s;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:tt(tt({},i),{},{id:o}),children:n}]}]}function I0(e){var t=e.icons,r=t.main,n=t.mask,i=e.prefix,s=e.iconName,o=e.transform,a=e.symbol,l=e.title,c=e.maskId,u=e.titleId,f=e.extra,d=e.watchable,h=d===void 0?!1:d,g=n.found?n:r,v=g.width,p=g.height,y=i==="fak",m=[dt.replacementClass,s?"".concat(dt.cssPrefix,"-").concat(s):""].filter(function(j){return f.classes.indexOf(j)===-1}).filter(function(j){return j!==""||!!j}).concat(f.classes).join(" "),b={children:[],attributes:tt(tt({},f.attributes),{},{"data-prefix":i,"data-icon":s,class:m,role:f.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(v," ").concat(p)})},x=y&&!~f.classes.indexOf("fa-fw")?{width:"".concat(v/p*16*.0625,"em")}:{};h&&(b.attributes[Ko]=""),l&&(b.children.push({tag:"title",attributes:{id:b.attributes["aria-labelledby"]||"title-".concat(u||su())},children:[l]}),delete b.attributes.title);var P=tt(tt({},b),{},{prefix:i,iconName:s,main:r,mask:n,maskId:c,transform:o,symbol:a,styles:tt(tt({},x),f.styles)}),F=n.found&&r.found?hs("generateAbstractMask",P)||{children:[],attributes:{}}:hs("generateAbstractIcon",P)||{children:[],attributes:{}},D=F.children,O=F.attributes;return P.children=D,P.attributes=O,a?SM(P):CM(P)}function j1(e){var t=e.content,r=e.width,n=e.height,i=e.transform,s=e.title,o=e.extra,a=e.watchable,l=a===void 0?!1:a,c=tt(tt(tt({},o.attributes),s?{title:s}:{}),{},{class:o.classes.join(" ")});l&&(c[Ko]="");var u=tt({},o.styles);F0(i)&&(u.transform=J_({transform:i,startCentered:!0,width:r,height:n}),u["-webkit-transform"]=u.transform);var f=Tf(u);f.length>0&&(c.style=f);var d=[];return d.push({tag:"span",attributes:c,children:[t]}),s&&d.push({tag:"span",attributes:{class:"sr-only"},children:[s]}),d}function xM(e){var t=e.content,r=e.title,n=e.extra,i=tt(tt(tt({},n.attributes),r?{title:r}:{}),{},{class:n.classes.join(" ")}),s=Tf(n.styles);s.length>0&&(i.style=s);var o=[];return o.push({tag:"span",attributes:i,children:[t]}),r&&o.push({tag:"span",attributes:{class:"sr-only"},children:[r]}),o}var Sp=wi.styles;function Jg(e){var t=e[0],r=e[1],n=e.slice(4),i=E0(n,1),s=i[0],o=null;return Array.isArray(s)?o={tag:"g",attributes:{class:"".concat(dt.cssPrefix,"-").concat(Mo.GROUP)},children:[{tag:"path",attributes:{class:"".concat(dt.cssPrefix,"-").concat(Mo.SECONDARY),fill:"currentColor",d:s[0]}},{tag:"path",attributes:{class:"".concat(dt.cssPrefix,"-").concat(Mo.PRIMARY),fill:"currentColor",d:s[1]}}]}:o={tag:"path",attributes:{fill:"currentColor",d:s}},{found:!0,width:t,height:r,icon:o}}var RM={found:!1,width:512,height:512};function EM(e,t){!Rx&&!dt.showMissingIcons&&e&&console.error('Icon with name "'.concat(e,'" and prefix "').concat(t,'" is missing.'))}function em(e,t){var r=t;return t==="fa"&&dt.styleDefault!==null&&(t=to()),new Promise(function(n,i){if(hs("missingIconAbstract"),r==="fa"){var s=Lx(e)||{};e=s.iconName||e,t=s.prefix||t}if(e&&t&&Sp[t]&&Sp[t][e]){var o=Sp[t][e];return n(Jg(o))}EM(e,t),n(tt(tt({},RM),{},{icon:dt.showMissingIcons&&e?hs("missingIconAbstract")||{}:{}}))})}var B1=function(){},tm=dt.measurePerformance&&gd&&gd.mark&&gd.measure?gd:{mark:B1,measure:B1},dc='FA "6.4.2"',TM=function(t){return tm.mark("".concat(dc," ").concat(t," begins")),function(){return Bx(t)}},Bx=function(t){tm.mark("".concat(dc," ").concat(t," ends")),tm.measure("".concat(dc," ").concat(t),"".concat(dc," ").concat(t," begins"),"".concat(dc," ").concat(t," ends"))},N0={begin:TM,end:Bx},qd=function(){};function H1(e){var t=e.getAttribute?e.getAttribute(Ko):null;return typeof t=="string"}function PM(e){var t=e.getAttribute?e.getAttribute(P0):null,r=e.getAttribute?e.getAttribute(_0):null;return t&&r}function _M(e){return e&&e.classList&&e.classList.contains&&e.classList.contains(dt.replacementClass)}function MM(){if(dt.autoReplaceSvg===!0)return Yd.replace;var e=Yd[dt.autoReplaceSvg];return e||Yd.replace}function kM(e){return ar.createElementNS("http://www.w3.org/2000/svg",e)}function FM(e){return ar.createElement(e)}function Hx(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.ceFn,n=r===void 0?e.tag==="svg"?kM:FM:r;if(typeof e=="string")return ar.createTextNode(e);var i=n(e.tag);Object.keys(e.attributes||[]).forEach(function(o){i.setAttribute(o,e.attributes[o])});var s=e.children||[];return s.forEach(function(o){i.appendChild(Hx(o,{ceFn:n}))}),i}function AM(e){var t=" ".concat(e.outerHTML," ");return t="".concat(t,"Font Awesome fontawesome.com "),t}var Yd={replace:function(t){var r=t[0];if(r.parentNode)if(t[1].forEach(function(i){r.parentNode.insertBefore(Hx(i),r)}),r.getAttribute(Ko)===null&&dt.keepOriginalSource){var n=ar.createComment(AM(r));r.parentNode.replaceChild(n,r)}else r.remove()},nest:function(t){var r=t[0],n=t[1];if(~k0(r).indexOf(dt.replacementClass))return Yd.replace(t);var i=new RegExp("".concat(dt.cssPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){var s=n[0].attributes.class.split(" ").reduce(function(a,l){return l===dt.replacementClass||l.match(i)?a.toSvg.push(l):a.toNode.push(l),a},{toNode:[],toSvg:[]});n[0].attributes.class=s.toSvg.join(" "),s.toNode.length===0?r.removeAttribute("class"):r.setAttribute("class",s.toNode.join(" "))}var o=n.map(function(a){return _u(a)}).join(`
`);r.setAttribute(Ko,""),r.innerHTML=o}};function G1(e){e()}function Gx(e,t){var r=typeof t=="function"?t:qd;if(e.length===0)r();else{var n=G1;dt.mutateApproach===N_&&(n=eo.requestAnimationFrame||G1),n(function(){var i=MM(),s=N0.begin("mutate");e.map(i),s(),r()})}}var L0=!1;function Vx(){L0=!0}function rm(){L0=!1}var Ih=null;function V1(e){if(F1&&dt.observeMutations){var t=e.treeCallback,r=t===void 0?qd:t,n=e.nodeCallback,i=n===void 0?qd:n,s=e.pseudoElementsCallback,o=s===void 0?qd:s,a=e.observeMutationsRoot,l=a===void 0?ar:a;Ih=new F1(function(c){if(!L0){var u=to();Al(c).forEach(function(f){if(f.type==="childList"&&f.addedNodes.length>0&&!H1(f.addedNodes[0])&&(dt.searchPseudoElements&&o(f.target),r(f.target)),f.type==="attributes"&&f.target.parentNode&&dt.searchPseudoElements&&o(f.target.parentNode),f.type==="attributes"&&H1(f.target)&&~z_.indexOf(f.attributeName))if(f.attributeName==="class"&&PM(f.target)){var d=_f(k0(f.target)),h=d.prefix,g=d.iconName;f.target.setAttribute(P0,h||u),g&&f.target.setAttribute(_0,g)}else _M(f.target)&&i(f.target)})}}),vs&&Ih.observe(l,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function OM(){Ih&&Ih.disconnect()}function DM(e){var t=e.getAttribute("style"),r=[];return t&&(r=t.split(";").reduce(function(n,i){var s=i.split(":"),o=s[0],a=s.slice(1);return o&&a.length>0&&(n[o]=a.join(":").trim()),n},{})),r}function IM(e){var t=e.getAttribute("data-prefix"),r=e.getAttribute("data-icon"),n=e.innerText!==void 0?e.innerText.trim():"",i=_f(k0(e));return i.prefix||(i.prefix=to()),t&&r&&(i.prefix=t,i.iconName=r),i.iconName&&i.prefix||(i.prefix&&n.length>0&&(i.iconName=hM(i.prefix,e.innerText)||O0(i.prefix,Yg(e.innerText))),!i.iconName&&dt.autoFetchSvg&&e.firstChild&&e.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=e.firstChild.data)),i}function NM(e){var t=Al(e.attributes).reduce(function(i,s){return i.name!=="class"&&i.name!=="style"&&(i[s.name]=s.value),i},{}),r=e.getAttribute("title"),n=e.getAttribute("data-fa-title-id");return dt.autoA11y&&(r?t["aria-labelledby"]="".concat(dt.replacementClass,"-title-").concat(n||su()):(t["aria-hidden"]="true",t.focusable="false")),t}function LM(){return{iconName:null,title:null,titleId:null,prefix:null,transform:Ii,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function z1(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0},r=IM(e),n=r.iconName,i=r.prefix,s=r.rest,o=NM(e),a=Qg("parseNodeAttributes",{},e),l=t.styleParser?DM(e):[];return tt({iconName:n,title:e.getAttribute("title"),titleId:e.getAttribute("data-fa-title-id"),prefix:i,transform:Ii,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:s,styles:l,attributes:o}},a)}var jM=wi.styles;function zx(e){var t=dt.autoReplaceSvg==="nest"?z1(e,{styleParser:!1}):z1(e);return~t.extra.classes.indexOf(Ex)?hs("generateLayersText",e,t):hs("generateSvgReplacementMutation",e,t)}var ro=new Set;M0.map(function(e){ro.add("fa-".concat(e))});Object.keys(tu[sr]).map(ro.add.bind(ro));Object.keys(tu[yr]).map(ro.add.bind(ro));ro=Tu(ro);function W1(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!vs)return Promise.resolve();var r=ar.documentElement.classList,n=function(f){return r.add("".concat(A1,"-").concat(f))},i=function(f){return r.remove("".concat(A1,"-").concat(f))},s=dt.autoFetchSvg?ro:M0.map(function(u){return"fa-".concat(u)}).concat(Object.keys(jM));s.includes("fa")||s.push("fa");var o=[".".concat(Ex,":not([").concat(Ko,"])")].concat(s.map(function(u){return".".concat(u,":not([").concat(Ko,"])")})).join(", ");if(o.length===0)return Promise.resolve();var a=[];try{a=Al(e.querySelectorAll(o))}catch{}if(a.length>0)n("pending"),i("complete");else return Promise.resolve();var l=N0.begin("onTree"),c=a.reduce(function(u,f){try{var d=zx(f);d&&u.push(d)}catch(h){Rx||h.name==="MissingIcon"&&console.error(h)}return u},[]);return new Promise(function(u,f){Promise.all(c).then(function(d){Gx(d,function(){n("active"),n("complete"),i("pending"),typeof t=="function"&&t(),l(),u()})}).catch(function(d){l(),f(d)})})}function BM(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;zx(e).then(function(r){r&&Gx([r],t)})}function HM(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=(t||{}).icon?t:Zg(t||{}),i=r.mask;return i&&(i=(i||{}).icon?i:Zg(i||{})),e(n,tt(tt({},r),{},{mask:i}))}}var GM=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.transform,i=n===void 0?Ii:n,s=r.symbol,o=s===void 0?!1:s,a=r.mask,l=a===void 0?null:a,c=r.maskId,u=c===void 0?null:c,f=r.title,d=f===void 0?null:f,h=r.titleId,g=h===void 0?null:h,v=r.classes,p=v===void 0?[]:v,y=r.attributes,m=y===void 0?{}:y,b=r.styles,x=b===void 0?{}:b;if(t){var P=t.prefix,F=t.iconName,D=t.icon;return Mf(tt({type:"icon"},t),function(){return qo("beforeDOMElementCreation",{iconDefinition:t,params:r}),dt.autoA11y&&(d?m["aria-labelledby"]="".concat(dt.replacementClass,"-title-").concat(g||su()):(m["aria-hidden"]="true",m.focusable="false")),I0({icons:{main:Jg(D),mask:l?Jg(l.icon):{found:!1,width:null,height:null,icon:{}}},prefix:P,iconName:F,transform:tt(tt({},Ii),i),symbol:o,title:d,maskId:u,titleId:g,extra:{attributes:m,styles:x,classes:p}})})}},VM={mixout:function(){return{icon:HM(GM)}},hooks:function(){return{mutationObserverCallbacks:function(r){return r.treeCallback=W1,r.nodeCallback=BM,r}}},provides:function(t){t.i2svg=function(r){var n=r.node,i=n===void 0?ar:n,s=r.callback,o=s===void 0?function(){}:s;return W1(i,o)},t.generateSvgReplacementMutation=function(r,n){var i=n.iconName,s=n.title,o=n.titleId,a=n.prefix,l=n.transform,c=n.symbol,u=n.mask,f=n.maskId,d=n.extra;return new Promise(function(h,g){Promise.all([em(i,a),u.iconName?em(u.iconName,u.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(v){var p=E0(v,2),y=p[0],m=p[1];h([r,I0({icons:{main:y,mask:m},prefix:a,iconName:i,transform:l,symbol:c,maskId:f,title:s,titleId:o,extra:d,watchable:!0})])}).catch(g)})},t.generateAbstractIcon=function(r){var n=r.children,i=r.attributes,s=r.main,o=r.transform,a=r.styles,l=Tf(a);l.length>0&&(i.style=l);var c;return F0(o)&&(c=hs("generateAbstractTransformGrouping",{main:s,transform:o,containerWidth:s.width,iconWidth:s.width})),n.push(c||s.icon),{children:n,attributes:i}}}},zM={mixout:function(){return{layer:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.classes,s=i===void 0?[]:i;return Mf({type:"layer"},function(){qo("beforeDOMElementCreation",{assembler:r,params:n});var o=[];return r(function(a){Array.isArray(a)?a.map(function(l){o=o.concat(l.abstract)}):o=o.concat(a.abstract)}),[{tag:"span",attributes:{class:["".concat(dt.cssPrefix,"-layers")].concat(Tu(s)).join(" ")},children:o}]})}}}},WM={mixout:function(){return{counter:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.title,s=i===void 0?null:i,o=n.classes,a=o===void 0?[]:o,l=n.attributes,c=l===void 0?{}:l,u=n.styles,f=u===void 0?{}:u;return Mf({type:"counter",content:r},function(){return qo("beforeDOMElementCreation",{content:r,params:n}),xM({content:r.toString(),title:s,extra:{attributes:c,styles:f,classes:["".concat(dt.cssPrefix,"-layers-counter")].concat(Tu(a))}})})}}}},$M={mixout:function(){return{text:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.transform,s=i===void 0?Ii:i,o=n.title,a=o===void 0?null:o,l=n.classes,c=l===void 0?[]:l,u=n.attributes,f=u===void 0?{}:u,d=n.styles,h=d===void 0?{}:d;return Mf({type:"text",content:r},function(){return qo("beforeDOMElementCreation",{content:r,params:n}),j1({content:r,transform:tt(tt({},Ii),s),title:a,extra:{attributes:f,styles:h,classes:["".concat(dt.cssPrefix,"-layers-text")].concat(Tu(c))}})})}}},provides:function(t){t.generateLayersText=function(r,n){var i=n.title,s=n.transform,o=n.extra,a=null,l=null;if(Cx){var c=parseInt(getComputedStyle(r).fontSize,10),u=r.getBoundingClientRect();a=u.width/c,l=u.height/c}return dt.autoA11y&&!i&&(o.attributes["aria-hidden"]="true"),Promise.resolve([r,j1({content:r.innerHTML,width:a,height:l,transform:s,title:i,extra:o,watchable:!0})])}}},UM=new RegExp('"',"ug"),$1=[1105920,1112319];function KM(e){var t=e.replace(UM,""),r=oM(t,0),n=r>=$1[0]&&r<=$1[1],i=t.length===2?t[0]===t[1]:!1;return{value:Yg(i?t[0]:t),isSecondary:n||i}}function U1(e,t){var r="".concat(I_).concat(t.replace(":","-"));return new Promise(function(n,i){if(e.getAttribute(r)!==null)return n();var s=Al(e.children),o=s.filter(function(D){return D.getAttribute(qg)===t})[0],a=eo.getComputedStyle(e,t),l=a.getPropertyValue("font-family").match(H_),c=a.getPropertyValue("font-weight"),u=a.getPropertyValue("content");if(o&&!l)return e.removeChild(o),n();if(l&&u!=="none"&&u!==""){var f=a.getPropertyValue("content"),d=~["Sharp"].indexOf(l[2])?yr:sr,h=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(l[2])?ru[d][l[2].toLowerCase()]:G_[d][c],g=KM(f),v=g.value,p=g.isSecondary,y=l[0].startsWith("FontAwesome"),m=O0(h,v),b=m;if(y){var x=fM(v);x.iconName&&x.prefix&&(m=x.iconName,h=x.prefix)}if(m&&!p&&(!o||o.getAttribute(P0)!==h||o.getAttribute(_0)!==b)){e.setAttribute(r,b),o&&e.removeChild(o);var P=LM(),F=P.extra;F.attributes[qg]=t,em(m,h).then(function(D){var O=I0(tt(tt({},P),{},{icons:{main:D,mask:D0()},prefix:h,iconName:b,extra:F,watchable:!0})),j=ar.createElementNS("http://www.w3.org/2000/svg","svg");t==="::before"?e.insertBefore(j,e.firstChild):e.appendChild(j),j.outerHTML=O.map(function(H){return _u(H)}).join(`
`),e.removeAttribute(r),n()}).catch(i)}else n()}else n()})}function qM(e){return Promise.all([U1(e,"::before"),U1(e,"::after")])}function YM(e){return e.parentNode!==document.head&&!~L_.indexOf(e.tagName.toUpperCase())&&!e.getAttribute(qg)&&(!e.parentNode||e.parentNode.tagName!=="svg")}function K1(e){if(vs)return new Promise(function(t,r){var n=Al(e.querySelectorAll("*")).filter(YM).map(qM),i=N0.begin("searchPseudoElements");Vx(),Promise.all(n).then(function(){i(),rm(),t()}).catch(function(){i(),rm(),r()})})}var XM={hooks:function(){return{mutationObserverCallbacks:function(r){return r.pseudoElementsCallback=K1,r}}},provides:function(t){t.pseudoElements2svg=function(r){var n=r.node,i=n===void 0?ar:n;dt.searchPseudoElements&&K1(i)}}},q1=!1,QM={mixout:function(){return{dom:{unwatch:function(){Vx(),q1=!0}}}},hooks:function(){return{bootstrap:function(){V1(Qg("mutationObserverCallbacks",{}))},noAuto:function(){OM()},watch:function(r){var n=r.observeMutationsRoot;q1?rm():V1(Qg("mutationObserverCallbacks",{observeMutationsRoot:n}))}}}},Y1=function(t){var r={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return t.toLowerCase().split(" ").reduce(function(n,i){var s=i.toLowerCase().split("-"),o=s[0],a=s.slice(1).join("-");if(o&&a==="h")return n.flipX=!0,n;if(o&&a==="v")return n.flipY=!0,n;if(a=parseFloat(a),isNaN(a))return n;switch(o){case"grow":n.size=n.size+a;break;case"shrink":n.size=n.size-a;break;case"left":n.x=n.x-a;break;case"right":n.x=n.x+a;break;case"up":n.y=n.y-a;break;case"down":n.y=n.y+a;break;case"rotate":n.rotate=n.rotate+a;break}return n},r)},ZM={mixout:function(){return{parse:{transform:function(r){return Y1(r)}}}},hooks:function(){return{parseNodeAttributes:function(r,n){var i=n.getAttribute("data-fa-transform");return i&&(r.transform=Y1(i)),r}}},provides:function(t){t.generateAbstractTransformGrouping=function(r){var n=r.main,i=r.transform,s=r.containerWidth,o=r.iconWidth,a={transform:"translate(".concat(s/2," 256)")},l="translate(".concat(i.x*32,", ").concat(i.y*32,") "),c="scale(".concat(i.size/16*(i.flipX?-1:1),", ").concat(i.size/16*(i.flipY?-1:1),") "),u="rotate(".concat(i.rotate," 0 0)"),f={transform:"".concat(l," ").concat(c," ").concat(u)},d={transform:"translate(".concat(o/2*-1," -256)")},h={outer:a,inner:f,path:d};return{tag:"g",attributes:tt({},h.outer),children:[{tag:"g",attributes:tt({},h.inner),children:[{tag:n.icon.tag,children:n.icon.children,attributes:tt(tt({},n.icon.attributes),h.path)}]}]}}}},xp={x:0,y:0,width:"100%",height:"100%"};function X1(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}function JM(e){return e.tag==="g"?e.children:[e]}var ek={hooks:function(){return{parseNodeAttributes:function(r,n){var i=n.getAttribute("data-fa-mask"),s=i?_f(i.split(" ").map(function(o){return o.trim()})):D0();return s.prefix||(s.prefix=to()),r.mask=s,r.maskId=n.getAttribute("data-fa-mask-id"),r}}},provides:function(t){t.generateAbstractMask=function(r){var n=r.children,i=r.attributes,s=r.main,o=r.mask,a=r.maskId,l=r.transform,c=s.width,u=s.icon,f=o.width,d=o.icon,h=Z_({transform:l,containerWidth:f,iconWidth:c}),g={tag:"rect",attributes:tt(tt({},xp),{},{fill:"white"})},v=u.children?{children:u.children.map(X1)}:{},p={tag:"g",attributes:tt({},h.inner),children:[X1(tt({tag:u.tag,attributes:tt(tt({},u.attributes),h.path)},v))]},y={tag:"g",attributes:tt({},h.outer),children:[p]},m="mask-".concat(a||su()),b="clip-".concat(a||su()),x={tag:"mask",attributes:tt(tt({},xp),{},{id:m,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[g,y]},P={tag:"defs",children:[{tag:"clipPath",attributes:{id:b},children:JM(d)},x]};return n.push(P,{tag:"rect",attributes:tt({fill:"currentColor","clip-path":"url(#".concat(b,")"),mask:"url(#".concat(m,")")},xp)}),{children:n,attributes:i}}}},tk={provides:function(t){var r=!1;eo.matchMedia&&(r=eo.matchMedia("(prefers-reduced-motion: reduce)").matches),t.missingIconAbstract=function(){var n=[],i={fill:"currentColor"},s={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};n.push({tag:"path",attributes:tt(tt({},i),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var o=tt(tt({},s),{},{attributeName:"opacity"}),a={tag:"circle",attributes:tt(tt({},i),{},{cx:"256",cy:"364",r:"28"}),children:[]};return r||a.children.push({tag:"animate",attributes:tt(tt({},s),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:tt(tt({},o),{},{values:"1;0;1;1;0;1;"})}),n.push(a),n.push({tag:"path",attributes:tt(tt({},i),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:r?[]:[{tag:"animate",attributes:tt(tt({},o),{},{values:"1;0;0;0;0;1;"})}]}),r||n.push({tag:"path",attributes:tt(tt({},i),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:tt(tt({},o),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:n}}}},rk={hooks:function(){return{parseNodeAttributes:function(r,n){var i=n.getAttribute("data-fa-symbol"),s=i===null?!1:i===""?!0:i;return r.symbol=s,r}}}},nk=[tM,VM,zM,WM,$M,XM,QM,ZM,ek,tk,rk];mM(nk,{mixoutsTo:Ln});Ln.noAuto;Ln.config;Ln.library;Ln.dom;var nm=Ln.parse;Ln.findIconDefinition;Ln.toHtml;var ik=Ln.icon;Ln.layer;Ln.text;Ln.counter;var Wx={exports:{}},sk="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ok=sk,ak=ok;function $x(){}function Ux(){}Ux.resetWarningCache=$x;var lk=function(){function e(n,i,s,o,a,l){if(l!==ak){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Ux,resetWarningCache:$x};return r.PropTypes=r,r};Wx.exports=lk();var ck=Wx.exports;const ee=io(ck);function Q1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Bs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Q1(Object(r),!0).forEach(function(n){Va(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nh(e){"@babel/helpers - typeof";return Nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nh(e)}function Va(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uk(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,s;for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function dk(e,t){if(e==null)return{};var r=uk(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function im(e){return hk(e)||fk(e)||pk(e)||gk()}function hk(e){if(Array.isArray(e))return sm(e)}function fk(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function pk(e,t){if(e){if(typeof e=="string")return sm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sm(e,t)}}function sm(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function gk(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mk(e){var t,r=e.beat,n=e.fade,i=e.beatFade,s=e.bounce,o=e.shake,a=e.flash,l=e.spin,c=e.spinPulse,u=e.spinReverse,f=e.pulse,d=e.fixedWidth,h=e.inverse,g=e.border,v=e.listItem,p=e.flip,y=e.size,m=e.rotation,b=e.pull,x=(t={"fa-beat":r,"fa-fade":n,"fa-beat-fade":i,"fa-bounce":s,"fa-shake":o,"fa-flash":a,"fa-spin":l,"fa-spin-reverse":u,"fa-spin-pulse":c,"fa-pulse":f,"fa-fw":d,"fa-inverse":h,"fa-border":g,"fa-li":v,"fa-flip":p===!0,"fa-flip-horizontal":p==="horizontal"||p==="both","fa-flip-vertical":p==="vertical"||p==="both"},Va(t,"fa-".concat(y),typeof y<"u"&&y!==null),Va(t,"fa-rotate-".concat(m),typeof m<"u"&&m!==null&&m!==0),Va(t,"fa-pull-".concat(b),typeof b<"u"&&b!==null),Va(t,"fa-swap-opacity",e.swapOpacity),t);return Object.keys(x).map(function(P){return x[P]?P:null}).filter(function(P){return P})}function vk(e){return e=e-0,e===e}function Kx(e){return vk(e)?e:(e=e.replace(/[\-_\s]+(.)?/g,function(t,r){return r?r.toUpperCase():""}),e.substr(0,1).toLowerCase()+e.substr(1))}var yk=["style"];function bk(e){return e.charAt(0).toUpperCase()+e.slice(1)}function wk(e){return e.split(";").map(function(t){return t.trim()}).filter(function(t){return t}).reduce(function(t,r){var n=r.indexOf(":"),i=Kx(r.slice(0,n)),s=r.slice(n+1).trim();return i.startsWith("webkit")?t[bk(i)]=s:t[i]=s,t},{})}function qx(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof t=="string")return t;var n=(t.children||[]).map(function(l){return qx(e,l)}),i=Object.keys(t.attributes||{}).reduce(function(l,c){var u=t.attributes[c];switch(c){case"class":l.attrs.className=u,delete t.attributes.class;break;case"style":l.attrs.style=wk(u);break;default:c.indexOf("aria-")===0||c.indexOf("data-")===0?l.attrs[c.toLowerCase()]=u:l.attrs[Kx(c)]=u}return l},{attrs:{}}),s=r.style,o=s===void 0?{}:s,a=dk(r,yk);return i.attrs.style=Bs(Bs({},i.attrs.style),o),e.apply(void 0,[t.tag,Bs(Bs({},i.attrs),a)].concat(im(n)))}var Yx=!1;try{Yx=!0}catch{}function Ck(){if(!Yx&&console&&typeof console.error=="function"){var e;(e=console).error.apply(e,arguments)}}function Z1(e){if(e&&Nh(e)==="object"&&e.prefix&&e.iconName&&e.icon)return e;if(nm.icon)return nm.icon(e);if(e===null)return null;if(e&&Nh(e)==="object"&&e.prefix&&e.iconName)return e;if(Array.isArray(e)&&e.length===2)return{prefix:e[0],iconName:e[1]};if(typeof e=="string")return{prefix:"fas",iconName:e}}function Rp(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?Va({},e,t):{}}var Zt=pe.forwardRef(function(e,t){var r=e.icon,n=e.mask,i=e.symbol,s=e.className,o=e.title,a=e.titleId,l=e.maskId,c=Z1(r),u=Rp("classes",[].concat(im(mk(e)),im(s.split(" ")))),f=Rp("transform",typeof e.transform=="string"?nm.transform(e.transform):e.transform),d=Rp("mask",Z1(n)),h=ik(c,Bs(Bs(Bs(Bs({},u),f),d),{},{symbol:i,title:o,titleId:a,maskId:l}));if(!h)return Ck("Could not find icon",c),null;var g=h.abstract,v={ref:t};return Object.keys(e).forEach(function(p){Zt.defaultProps.hasOwnProperty(p)||(v[p]=e[p])}),Sk(g[0],v)});Zt.displayName="FontAwesomeIcon";Zt.propTypes={beat:ee.bool,border:ee.bool,beatFade:ee.bool,bounce:ee.bool,className:ee.string,fade:ee.bool,flash:ee.bool,mask:ee.oneOfType([ee.object,ee.array,ee.string]),maskId:ee.string,fixedWidth:ee.bool,inverse:ee.bool,flip:ee.oneOf([!0,!1,"horizontal","vertical","both"]),icon:ee.oneOfType([ee.object,ee.array,ee.string]),listItem:ee.bool,pull:ee.oneOf(["right","left"]),pulse:ee.bool,rotation:ee.oneOf([0,90,180,270]),shake:ee.bool,size:ee.oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:ee.bool,spinPulse:ee.bool,spinReverse:ee.bool,symbol:ee.oneOfType([ee.bool,ee.string]),title:ee.string,titleId:ee.string,transform:ee.oneOfType([ee.string,ee.object]),swapOpacity:ee.bool};Zt.defaultProps={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1};var Sk=qx.bind(null,pe.createElement),Xx={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function r(){for(var n=[],i=0;i<arguments.length;i++){var s=arguments[i];if(s){var o=typeof s;if(o==="string"||o==="number")n.push(s);else if(Array.isArray(s)){if(s.length){var a=r.apply(null,s);a&&n.push(a)}}else if(o==="object"){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){n.push(s.toString());continue}for(var l in s)t.call(s,l)&&s[l]&&n.push(l)}}}return n.join(" ")}e.exports?(r.default=r,e.exports=r):window.classNames=r})()})(Xx);var xk=Xx.exports;const Yt=io(xk);function ou(e){"@babel/helpers - typeof";return ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ou(e)}function Rk(){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t}function Qx(e){document.body.style.paddingRight=e>0?"".concat(e,"px"):null}function Ek(){return document.body.clientWidth<window.innerWidth}function Tk(){var e=window.getComputedStyle(document.body,null);return parseInt(e&&e.getPropertyValue("padding-right")||0,10)}function Pk(){var e=Rk(),t=document.querySelectorAll(".fixed-top, .fixed-bottom, .is-fixed, .sticky-top")[0],r=t?parseInt(t.style.paddingRight||0,10):0;Ek()&&Qx(r+e)}var _k;function Gt(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:_k;return t?e.split(" ").map(function(r){return t[r]||r}).join(" "):e}function Mu(e,t){var r={};return Object.keys(e).forEach(function(n){t.indexOf(n)===-1&&(r[n]=e[n])}),r}function Mk(e,t){for(var r=Array.isArray(t)?t:[t],n=r.length,i,s={};n>0;)n-=1,i=r[n],s[i]=e[i];return s}var J1={};function om(e){J1[e]||(typeof console<"u"&&console.error(e),J1[e]=!0)}function kk(e,t){return function(n,i,s){n[i]!==null&&typeof n[i]<"u"&&om('"'.concat(i,'" property of "').concat(s,`" has been deprecated.
`).concat(t));for(var o=arguments.length,a=new Array(o>3?o-3:0),l=3;l<o;l++)a[l-3]=arguments[l];return e.apply(void 0,[n,i,s].concat(a))}}var Fk=(typeof window>"u"?"undefined":ou(window))==="object"&&window.Element||function(){};function Ak(e,t,r){if(!(e[t]instanceof Fk))return new Error("Invalid prop `"+t+"` supplied to `"+r+"`. Expected prop to be an instance of Element. Validation failed.")}var Zx=ee.oneOfType([ee.string,ee.func,Ak,ee.shape({current:ee.any})]),Fr=ee.oneOfType([ee.func,ee.string,ee.shape({$$typeof:ee.symbol,render:ee.func}),ee.arrayOf(ee.oneOfType([ee.func,ee.string,ee.shape({$$typeof:ee.symbol,render:ee.func})]))]),am={Fade:150,Collapse:350,Modal:300,Carousel:600,Offcanvas:300},ew=["in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","onEnter","onEntering","onEntered","onExit","onExiting","onExited"],Kt={esc:27,space:32,enter:13,tab:9,up:38,down:40,home:36,end:35,n:78,p:80},j0=!!(typeof window<"u"&&window.document&&window.document.createElement);function Ok(e){return e&&ou(e)==="object"?"current"in e:!1}function Dk(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}function Jx(e){var t=ou(e);return e!=null&&(t==="object"||t==="function")}function Ik(e){if(!Jx(e))return!1;var t=Dk(e);return t==="[object Function]"||t==="[object AsyncFunction]"||t==="[object GeneratorFunction]"||t==="[object Proxy]"}function Nk(e){if(Ok(e))return e.current;if(Ik(e))return e();if(typeof e=="string"&&j0){var t=document.querySelectorAll(e);if(t.length||(t=document.querySelectorAll("#".concat(e))),!t.length)throw new Error("The target '".concat(e,"' could not be identified in the dom, tip: check spelling"));return t}return e}function tw(e){return e===null?!1:Array.isArray(e)||j0&&typeof e.length=="number"}function e3(e,t){var r=Nk(e);return t?tw(r)?r:r===null?[]:[r]:tw(r)?r[0]:r}var Lk=["a[href]","area[href]","input:not([disabled]):not([type=hidden])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","object","embed","[tabindex]:not(.modal):not(.offcanvas)","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'],jk=["className","cssModule","tabs","pills","vertical","horizontal","justified","fill","navbar","card","tag"];function lm(){return lm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lm.apply(this,arguments)}function Bk(e,t){if(e==null)return{};var r=Hk(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Hk(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,s;for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var Gk={card:ee.bool,className:ee.string,cssModule:ee.object,fill:ee.bool,horizontal:ee.oneOf(["center","end"]),justified:ee.bool,navbar:ee.bool,pills:ee.bool,tabs:ee.bool,tag:Fr,vertical:ee.oneOfType([ee.bool,ee.string])},Vk=function(t){return t===!1?!1:t===!0||t==="xs"?"flex-column":"flex-".concat(t,"-column")};function t3(e){var t=e.className,r=e.cssModule,n=e.tabs,i=e.pills,s=e.vertical,o=s===void 0?!1:s,a=e.horizontal,l=e.justified,c=e.fill,u=e.navbar,f=e.card,d=e.tag,h=d===void 0?"ul":d,g=Bk(e,jk),v=Gt(Yt(t,u?"navbar-nav":"nav",a?"justify-content-".concat(a):!1,Vk(o),{"nav-tabs":n,"card-header-tabs":f&&n,"nav-pills":i,"card-header-pills":f&&i,"nav-justified":l,"nav-fill":c}),r);return pe.createElement(h,lm({},g,{className:v}))}t3.propTypes=Gk;var zk=["className","cssModule","active","tag"];function cm(){return cm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cm.apply(this,arguments)}function Wk(e,t){if(e==null)return{};var r=$k(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $k(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,s;for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var Uk={active:ee.bool,className:ee.string,cssModule:ee.object,tag:Fr};function Ms(e){var t=e.className,r=e.cssModule,n=e.active,i=e.tag,s=i===void 0?"li":i,o=Wk(e,zk),a=Gt(Yt(t,"nav-item",n?"active":!1),r);return pe.createElement(s,cm({},o,{className:a}))}Ms.propTypes=Uk;var Kk=["className","cssModule","variant","innerRef"];function um(){return um=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},um.apply(this,arguments)}function rw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function qk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rw(Object(r),!0).forEach(function(n){Yk(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yk(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xk(e,t){if(e==null)return{};var r=Qk(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Qk(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,s;for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var Zk={active:ee.bool,"aria-label":ee.string,onClick:ee.func,variant:ee.oneOf(["white"]),className:ee.string,cssModule:ee.object,innerRef:ee.oneOfType([ee.object,ee.string,ee.func])};function r3(e){var t=e.className;e.cssModule;var r=e.variant,n=e.innerRef,i=Xk(e,Kk),s=Gt(Yt(t,"btn-close",r&&"btn-close-".concat(r)));return pe.createElement("button",um({ref:n,type:"button",className:s},qk({"aria-label":"close"},i)))}r3.propTypes=Zk;var Jk=["active","aria-label","block","className","close","cssModule","color","outline","size","tag","innerRef"];function dm(){return dm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dm.apply(this,arguments)}function e8(e,t){if(e==null)return{};var r=t8(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function t8(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,s;for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var r8={active:ee.bool,"aria-label":ee.string,block:ee.bool,children:ee.node,className:ee.string,cssModule:ee.object,close:ee.bool,color:ee.string,disabled:ee.bool,innerRef:ee.oneOfType([ee.object,ee.func,ee.string]),onClick:ee.func,outline:ee.bool,size:ee.string,tag:Fr};function zt(e){var t=U.useCallback(function(m){if(e.disabled){m.preventDefault();return}if(e.onClick)return e.onClick(m)},[e.onClick,e.disabled]),r=e.active,n=e["aria-label"],i=e.block,s=e.className,o=e.close,a=e.cssModule,l=e.color,c=l===void 0?"secondary":l,u=e.outline,f=e.size,d=e.tag,h=d===void 0?"button":d,g=e.innerRef,v=e8(e,Jk);if(o)return pe.createElement(r3,v);var p="btn".concat(u?"-outline":"","-").concat(c),y=Gt(Yt(s,"btn",p,f?"btn-".concat(f):!1,i?"d-block w-100":!1,{active:r,disabled:e.disabled}),a);return v.href&&h==="button"&&(h="a"),pe.createElement(h,dm({type:h==="button"&&v.onClick?"button":void 0},v,{className:y,ref:g,onClick:t,"aria-label":n}))}zt.propTypes=r8;var n3=U.createContext(),i3=U.createContext();function nw(e){var t=e.children,r=U.useState(null),n=r[0],i=r[1],s=U.useRef(!1);U.useEffect(function(){return function(){s.current=!0}},[]);var o=U.useCallback(function(a){s.current||i(a)},[]);return U.createElement(n3.Provider,{value:n},U.createElement(i3.Provider,{value:o},t))}var s3=function(t){return Array.isArray(t)?t[0]:t},o3=function(t){if(typeof t=="function"){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return t.apply(void 0,n)}},hm=function(t,r){if(typeof t=="function")return o3(t,r);t!=null&&(t.current=r)},iw=function(t){return t.reduce(function(r,n){var i=n[0],s=n[1];return r[i]=s,r},{})},sw=typeof window<"u"&&window.document&&window.document.createElement?U.useLayoutEffect:U.useEffect,Cn="top",ni="bottom",ii="right",Sn="left",B0="auto",ku=[Cn,ni,ii,Sn],fl="start",au="end",n8="clippingParents",a3="viewport",rc="popper",i8="reference",ow=ku.reduce(function(e,t){return e.concat([t+"-"+fl,t+"-"+au])},[]),l3=[].concat(ku,[B0]).reduce(function(e,t){return e.concat([t,t+"-"+fl,t+"-"+au])},[]),s8="beforeRead",o8="read",a8="afterRead",l8="beforeMain",c8="main",u8="afterMain",d8="beforeWrite",h8="write",f8="afterWrite",p8=[s8,o8,a8,l8,c8,u8,d8,h8,f8];function Hi(e){return e?(e.nodeName||"").toLowerCase():null}function On(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Yo(e){var t=On(e).Element;return e instanceof t||e instanceof Element}function Xn(e){var t=On(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function H0(e){if(typeof ShadowRoot>"u")return!1;var t=On(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function g8(e){var t=e.state;Object.keys(t.elements).forEach(function(r){var n=t.styles[r]||{},i=t.attributes[r]||{},s=t.elements[r];!Xn(s)||!Hi(s)||(Object.assign(s.style,n),Object.keys(i).forEach(function(o){var a=i[o];a===!1?s.removeAttribute(o):s.setAttribute(o,a===!0?"":a)}))})}function m8(e){var t=e.state,r={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,r.popper),t.styles=r,t.elements.arrow&&Object.assign(t.elements.arrow.style,r.arrow),function(){Object.keys(t.elements).forEach(function(n){var i=t.elements[n],s=t.attributes[n]||{},o=Object.keys(t.styles.hasOwnProperty(n)?t.styles[n]:r[n]),a=o.reduce(function(l,c){return l[c]="",l},{});!Xn(i)||!Hi(i)||(Object.assign(i.style,a),Object.keys(s).forEach(function(l){i.removeAttribute(l)}))})}}const v8={name:"applyStyles",enabled:!0,phase:"write",fn:g8,effect:m8,requires:["computeStyles"]};function ji(e){return e.split("-")[0]}var Do=Math.max,Lh=Math.min,pl=Math.round;function fm(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function c3(){return!/^((?!chrome|android).)*safari/i.test(fm())}function gl(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!1);var n=e.getBoundingClientRect(),i=1,s=1;t&&Xn(e)&&(i=e.offsetWidth>0&&pl(n.width)/e.offsetWidth||1,s=e.offsetHeight>0&&pl(n.height)/e.offsetHeight||1);var o=Yo(e)?On(e):window,a=o.visualViewport,l=!c3()&&r,c=(n.left+(l&&a?a.offsetLeft:0))/i,u=(n.top+(l&&a?a.offsetTop:0))/s,f=n.width/i,d=n.height/s;return{width:f,height:d,top:u,right:c+f,bottom:u+d,left:c,x:c,y:u}}function G0(e){var t=gl(e),r=e.offsetWidth,n=e.offsetHeight;return Math.abs(t.width-r)<=1&&(r=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:r,height:n}}function u3(e,t){var r=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(r&&H0(r)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function fs(e){return On(e).getComputedStyle(e)}function y8(e){return["table","td","th"].indexOf(Hi(e))>=0}function co(e){return((Yo(e)?e.ownerDocument:e.document)||window.document).documentElement}function kf(e){return Hi(e)==="html"?e:e.assignedSlot||e.parentNode||(H0(e)?e.host:null)||co(e)}function aw(e){return!Xn(e)||fs(e).position==="fixed"?null:e.offsetParent}function b8(e){var t=/firefox/i.test(fm()),r=/Trident/i.test(fm());if(r&&Xn(e)){var n=fs(e);if(n.position==="fixed")return null}var i=kf(e);for(H0(i)&&(i=i.host);Xn(i)&&["html","body"].indexOf(Hi(i))<0;){var s=fs(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||t&&s.willChange==="filter"||t&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function Fu(e){for(var t=On(e),r=aw(e);r&&y8(r)&&fs(r).position==="static";)r=aw(r);return r&&(Hi(r)==="html"||Hi(r)==="body"&&fs(r).position==="static")?t:r||b8(e)||t}function V0(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function _c(e,t,r){return Do(e,Lh(t,r))}function w8(e,t,r){var n=_c(e,t,r);return n>r?r:n}function d3(){return{top:0,right:0,bottom:0,left:0}}function h3(e){return Object.assign({},d3(),e)}function f3(e,t){return t.reduce(function(r,n){return r[n]=e,r},{})}var C8=function(t,r){return t=typeof t=="function"?t(Object.assign({},r.rects,{placement:r.placement})):t,h3(typeof t!="number"?t:f3(t,ku))};function S8(e){var t,r=e.state,n=e.name,i=e.options,s=r.elements.arrow,o=r.modifiersData.popperOffsets,a=ji(r.placement),l=V0(a),c=[Sn,ii].indexOf(a)>=0,u=c?"height":"width";if(!(!s||!o)){var f=C8(i.padding,r),d=G0(s),h=l==="y"?Cn:Sn,g=l==="y"?ni:ii,v=r.rects.reference[u]+r.rects.reference[l]-o[l]-r.rects.popper[u],p=o[l]-r.rects.reference[l],y=Fu(s),m=y?l==="y"?y.clientHeight||0:y.clientWidth||0:0,b=v/2-p/2,x=f[h],P=m-d[u]-f[g],F=m/2-d[u]/2+b,D=_c(x,F,P),O=l;r.modifiersData[n]=(t={},t[O]=D,t.centerOffset=D-F,t)}}function x8(e){var t=e.state,r=e.options,n=r.element,i=n===void 0?"[data-popper-arrow]":n;i!=null&&(typeof i=="string"&&(i=t.elements.popper.querySelector(i),!i)||u3(t.elements.popper,i)&&(t.elements.arrow=i))}const R8={name:"arrow",enabled:!0,phase:"main",fn:S8,effect:x8,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ml(e){return e.split("-")[1]}var E8={top:"auto",right:"auto",bottom:"auto",left:"auto"};function T8(e,t){var r=e.x,n=e.y,i=t.devicePixelRatio||1;return{x:pl(r*i)/i||0,y:pl(n*i)/i||0}}function lw(e){var t,r=e.popper,n=e.popperRect,i=e.placement,s=e.variation,o=e.offsets,a=e.position,l=e.gpuAcceleration,c=e.adaptive,u=e.roundOffsets,f=e.isFixed,d=o.x,h=d===void 0?0:d,g=o.y,v=g===void 0?0:g,p=typeof u=="function"?u({x:h,y:v}):{x:h,y:v};h=p.x,v=p.y;var y=o.hasOwnProperty("x"),m=o.hasOwnProperty("y"),b=Sn,x=Cn,P=window;if(c){var F=Fu(r),D="clientHeight",O="clientWidth";if(F===On(r)&&(F=co(r),fs(F).position!=="static"&&a==="absolute"&&(D="scrollHeight",O="scrollWidth")),F=F,i===Cn||(i===Sn||i===ii)&&s===au){x=ni;var j=f&&F===P&&P.visualViewport?P.visualViewport.height:F[D];v-=j-n.height,v*=l?1:-1}if(i===Sn||(i===Cn||i===ni)&&s===au){b=ii;var H=f&&F===P&&P.visualViewport?P.visualViewport.width:F[O];h-=H-n.width,h*=l?1:-1}}var W=Object.assign({position:a},c&&E8),G=u===!0?T8({x:h,y:v},On(r)):{x:h,y:v};if(h=G.x,v=G.y,l){var M;return Object.assign({},W,(M={},M[x]=m?"0":"",M[b]=y?"0":"",M.transform=(P.devicePixelRatio||1)<=1?"translate("+h+"px, "+v+"px)":"translate3d("+h+"px, "+v+"px, 0)",M))}return Object.assign({},W,(t={},t[x]=m?v+"px":"",t[b]=y?h+"px":"",t.transform="",t))}function P8(e){var t=e.state,r=e.options,n=r.gpuAcceleration,i=n===void 0?!0:n,s=r.adaptive,o=s===void 0?!0:s,a=r.roundOffsets,l=a===void 0?!0:a,c={placement:ji(t.placement),variation:ml(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,lw(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,lw(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const _8={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:P8,data:{}};var Rd={passive:!0};function M8(e){var t=e.state,r=e.instance,n=e.options,i=n.scroll,s=i===void 0?!0:i,o=n.resize,a=o===void 0?!0:o,l=On(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return s&&c.forEach(function(u){u.addEventListener("scroll",r.update,Rd)}),a&&l.addEventListener("resize",r.update,Rd),function(){s&&c.forEach(function(u){u.removeEventListener("scroll",r.update,Rd)}),a&&l.removeEventListener("resize",r.update,Rd)}}const k8={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:M8,data:{}};var F8={left:"right",right:"left",bottom:"top",top:"bottom"};function Xd(e){return e.replace(/left|right|bottom|top/g,function(t){return F8[t]})}var A8={start:"end",end:"start"};function cw(e){return e.replace(/start|end/g,function(t){return A8[t]})}function z0(e){var t=On(e),r=t.pageXOffset,n=t.pageYOffset;return{scrollLeft:r,scrollTop:n}}function W0(e){return gl(co(e)).left+z0(e).scrollLeft}function O8(e,t){var r=On(e),n=co(e),i=r.visualViewport,s=n.clientWidth,o=n.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;var c=c3();(c||!c&&t==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a+W0(e),y:l}}function D8(e){var t,r=co(e),n=z0(e),i=(t=e.ownerDocument)==null?void 0:t.body,s=Do(r.scrollWidth,r.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=Do(r.scrollHeight,r.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-n.scrollLeft+W0(e),l=-n.scrollTop;return fs(i||r).direction==="rtl"&&(a+=Do(r.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}function $0(e){var t=fs(e),r=t.overflow,n=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+i+n)}function p3(e){return["html","body","#document"].indexOf(Hi(e))>=0?e.ownerDocument.body:Xn(e)&&$0(e)?e:p3(kf(e))}function Mc(e,t){var r;t===void 0&&(t=[]);var n=p3(e),i=n===((r=e.ownerDocument)==null?void 0:r.body),s=On(n),o=i?[s].concat(s.visualViewport||[],$0(n)?n:[]):n,a=t.concat(o);return i?a:a.concat(Mc(kf(o)))}function pm(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function I8(e,t){var r=gl(e,!1,t==="fixed");return r.top=r.top+e.clientTop,r.left=r.left+e.clientLeft,r.bottom=r.top+e.clientHeight,r.right=r.left+e.clientWidth,r.width=e.clientWidth,r.height=e.clientHeight,r.x=r.left,r.y=r.top,r}function uw(e,t,r){return t===a3?pm(O8(e,r)):Yo(t)?I8(t,r):pm(D8(co(e)))}function N8(e){var t=Mc(kf(e)),r=["absolute","fixed"].indexOf(fs(e).position)>=0,n=r&&Xn(e)?Fu(e):e;return Yo(n)?t.filter(function(i){return Yo(i)&&u3(i,n)&&Hi(i)!=="body"}):[]}function L8(e,t,r,n){var i=t==="clippingParents"?N8(e):[].concat(t),s=[].concat(i,[r]),o=s[0],a=s.reduce(function(l,c){var u=uw(e,c,n);return l.top=Do(u.top,l.top),l.right=Lh(u.right,l.right),l.bottom=Lh(u.bottom,l.bottom),l.left=Do(u.left,l.left),l},uw(e,o,n));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function g3(e){var t=e.reference,r=e.element,n=e.placement,i=n?ji(n):null,s=n?ml(n):null,o=t.x+t.width/2-r.width/2,a=t.y+t.height/2-r.height/2,l;switch(i){case Cn:l={x:o,y:t.y-r.height};break;case ni:l={x:o,y:t.y+t.height};break;case ii:l={x:t.x+t.width,y:a};break;case Sn:l={x:t.x-r.width,y:a};break;default:l={x:t.x,y:t.y}}var c=i?V0(i):null;if(c!=null){var u=c==="y"?"height":"width";switch(s){case fl:l[c]=l[c]-(t[u]/2-r[u]/2);break;case au:l[c]=l[c]+(t[u]/2-r[u]/2);break}}return l}function lu(e,t){t===void 0&&(t={});var r=t,n=r.placement,i=n===void 0?e.placement:n,s=r.strategy,o=s===void 0?e.strategy:s,a=r.boundary,l=a===void 0?n8:a,c=r.rootBoundary,u=c===void 0?a3:c,f=r.elementContext,d=f===void 0?rc:f,h=r.altBoundary,g=h===void 0?!1:h,v=r.padding,p=v===void 0?0:v,y=h3(typeof p!="number"?p:f3(p,ku)),m=d===rc?i8:rc,b=e.rects.popper,x=e.elements[g?m:d],P=L8(Yo(x)?x:x.contextElement||co(e.elements.popper),l,u,o),F=gl(e.elements.reference),D=g3({reference:F,element:b,strategy:"absolute",placement:i}),O=pm(Object.assign({},b,D)),j=d===rc?O:F,H={top:P.top-j.top+y.top,bottom:j.bottom-P.bottom+y.bottom,left:P.left-j.left+y.left,right:j.right-P.right+y.right},W=e.modifiersData.offset;if(d===rc&&W){var G=W[i];Object.keys(H).forEach(function(M){var k=[ii,ni].indexOf(M)>=0?1:-1,E=[Cn,ni].indexOf(M)>=0?"y":"x";H[M]+=G[E]*k})}return H}function j8(e,t){t===void 0&&(t={});var r=t,n=r.placement,i=r.boundary,s=r.rootBoundary,o=r.padding,a=r.flipVariations,l=r.allowedAutoPlacements,c=l===void 0?l3:l,u=ml(n),f=u?a?ow:ow.filter(function(g){return ml(g)===u}):ku,d=f.filter(function(g){return c.indexOf(g)>=0});d.length===0&&(d=f);var h=d.reduce(function(g,v){return g[v]=lu(e,{placement:v,boundary:i,rootBoundary:s,padding:o})[ji(v)],g},{});return Object.keys(h).sort(function(g,v){return h[g]-h[v]})}function B8(e){if(ji(e)===B0)return[];var t=Xd(e);return[cw(e),t,cw(t)]}function H8(e){var t=e.state,r=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var i=r.mainAxis,s=i===void 0?!0:i,o=r.altAxis,a=o===void 0?!0:o,l=r.fallbackPlacements,c=r.padding,u=r.boundary,f=r.rootBoundary,d=r.altBoundary,h=r.flipVariations,g=h===void 0?!0:h,v=r.allowedAutoPlacements,p=t.options.placement,y=ji(p),m=y===p,b=l||(m||!g?[Xd(p)]:B8(p)),x=[p].concat(b).reduce(function($,Y){return $.concat(ji(Y)===B0?j8(t,{placement:Y,boundary:u,rootBoundary:f,padding:c,flipVariations:g,allowedAutoPlacements:v}):Y)},[]),P=t.rects.reference,F=t.rects.popper,D=new Map,O=!0,j=x[0],H=0;H<x.length;H++){var W=x[H],G=ji(W),M=ml(W)===fl,k=[Cn,ni].indexOf(G)>=0,E=k?"width":"height",w=lu(t,{placement:W,boundary:u,rootBoundary:f,altBoundary:d,padding:c}),C=k?M?ii:Sn:M?ni:Cn;P[E]>F[E]&&(C=Xd(C));var S=Xd(C),R=[];if(s&&R.push(w[G]<=0),a&&R.push(w[C]<=0,w[S]<=0),R.every(function($){return $})){j=W,O=!1;break}D.set(W,R)}if(O)for(var _=g?3:1,N=function(Y){var L=x.find(function(K){var I=D.get(K);if(I)return I.slice(0,Y).every(function(A){return A})});if(L)return j=L,"break"},B=_;B>0;B--){var V=N(B);if(V==="break")break}t.placement!==j&&(t.modifiersData[n]._skip=!0,t.placement=j,t.reset=!0)}}const G8={name:"flip",enabled:!0,phase:"main",fn:H8,requiresIfExists:["offset"],data:{_skip:!1}};function dw(e,t,r){return r===void 0&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function hw(e){return[Cn,ii,ni,Sn].some(function(t){return e[t]>=0})}function V8(e){var t=e.state,r=e.name,n=t.rects.reference,i=t.rects.popper,s=t.modifiersData.preventOverflow,o=lu(t,{elementContext:"reference"}),a=lu(t,{altBoundary:!0}),l=dw(o,n),c=dw(a,i,s),u=hw(l),f=hw(c);t.modifiersData[r]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":f})}const z8={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:V8};function W8(e,t,r){var n=ji(e),i=[Sn,Cn].indexOf(n)>=0?-1:1,s=typeof r=="function"?r(Object.assign({},t,{placement:e})):r,o=s[0],a=s[1];return o=o||0,a=(a||0)*i,[Sn,ii].indexOf(n)>=0?{x:a,y:o}:{x:o,y:a}}function $8(e){var t=e.state,r=e.options,n=e.name,i=r.offset,s=i===void 0?[0,0]:i,o=l3.reduce(function(u,f){return u[f]=W8(f,t.rects,s),u},{}),a=o[t.placement],l=a.x,c=a.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[n]=o}const U8={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:$8};function K8(e){var t=e.state,r=e.name;t.modifiersData[r]=g3({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const q8={name:"popperOffsets",enabled:!0,phase:"read",fn:K8,data:{}};function Y8(e){return e==="x"?"y":"x"}function X8(e){var t=e.state,r=e.options,n=e.name,i=r.mainAxis,s=i===void 0?!0:i,o=r.altAxis,a=o===void 0?!1:o,l=r.boundary,c=r.rootBoundary,u=r.altBoundary,f=r.padding,d=r.tether,h=d===void 0?!0:d,g=r.tetherOffset,v=g===void 0?0:g,p=lu(t,{boundary:l,rootBoundary:c,padding:f,altBoundary:u}),y=ji(t.placement),m=ml(t.placement),b=!m,x=V0(y),P=Y8(x),F=t.modifiersData.popperOffsets,D=t.rects.reference,O=t.rects.popper,j=typeof v=="function"?v(Object.assign({},t.rects,{placement:t.placement})):v,H=typeof j=="number"?{mainAxis:j,altAxis:j}:Object.assign({mainAxis:0,altAxis:0},j),W=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,G={x:0,y:0};if(F){if(s){var M,k=x==="y"?Cn:Sn,E=x==="y"?ni:ii,w=x==="y"?"height":"width",C=F[x],S=C+p[k],R=C-p[E],_=h?-O[w]/2:0,N=m===fl?D[w]:O[w],B=m===fl?-O[w]:-D[w],V=t.elements.arrow,$=h&&V?G0(V):{width:0,height:0},Y=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:d3(),L=Y[k],K=Y[E],I=_c(0,D[w],$[w]),A=b?D[w]/2-_-I-L-H.mainAxis:N-I-L-H.mainAxis,z=b?-D[w]/2+_+I+K+H.mainAxis:B+I+K+H.mainAxis,q=t.elements.arrow&&Fu(t.elements.arrow),J=q?x==="y"?q.clientTop||0:q.clientLeft||0:0,X=(M=W==null?void 0:W[x])!=null?M:0,Z=C+A-X-J,ie=C+z-X,se=_c(h?Lh(S,Z):S,C,h?Do(R,ie):R);F[x]=se,G[x]=se-C}if(a){var Q,re=x==="x"?Cn:Sn,ne=x==="x"?ni:ii,ue=F[P],de=P==="y"?"height":"width",ge=ue+p[re],we=ue-p[ne],xe=[Cn,Sn].indexOf(y)!==-1,Fe=(Q=W==null?void 0:W[P])!=null?Q:0,De=xe?ge:ue-D[de]-O[de]-Fe+H.altAxis,Le=xe?ue+D[de]+O[de]-Fe-H.altAxis:we,He=h&&xe?w8(De,ue,Le):_c(h?De:ge,ue,h?Le:we);F[P]=He,G[P]=He-ue}t.modifiersData[n]=G}}const Q8={name:"preventOverflow",enabled:!0,phase:"main",fn:X8,requiresIfExists:["offset"]};function Z8(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function J8(e){return e===On(e)||!Xn(e)?z0(e):Z8(e)}function eF(e){var t=e.getBoundingClientRect(),r=pl(t.width)/e.offsetWidth||1,n=pl(t.height)/e.offsetHeight||1;return r!==1||n!==1}function tF(e,t,r){r===void 0&&(r=!1);var n=Xn(t),i=Xn(t)&&eF(t),s=co(t),o=gl(e,i,r),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(n||!n&&!r)&&((Hi(t)!=="body"||$0(s))&&(a=J8(t)),Xn(t)?(l=gl(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):s&&(l.x=W0(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function rF(e){var t=new Map,r=new Set,n=[];e.forEach(function(s){t.set(s.name,s)});function i(s){r.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!r.has(a)){var l=t.get(a);l&&i(l)}}),n.push(s)}return e.forEach(function(s){r.has(s.name)||i(s)}),n}function nF(e){var t=rF(e);return p8.reduce(function(r,n){return r.concat(t.filter(function(i){return i.phase===n}))},[])}function iF(e){var t;return function(){return t||(t=new Promise(function(r){Promise.resolve().then(function(){t=void 0,r(e())})})),t}}function sF(e){var t=e.reduce(function(r,n){var i=r[n.name];return r[n.name]=i?Object.assign({},i,n,{options:Object.assign({},i.options,n.options),data:Object.assign({},i.data,n.data)}):n,r},{});return Object.keys(t).map(function(r){return t[r]})}var fw={placement:"bottom",modifiers:[],strategy:"absolute"};function pw(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function oF(e){e===void 0&&(e={});var t=e,r=t.defaultModifiers,n=r===void 0?[]:r,i=t.defaultOptions,s=i===void 0?fw:i;return function(a,l,c){c===void 0&&(c=s);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},fw,s),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},f=[],d=!1,h={state:u,setOptions:function(y){var m=typeof y=="function"?y(u.options):y;v(),u.options=Object.assign({},s,u.options,m),u.scrollParents={reference:Yo(a)?Mc(a):a.contextElement?Mc(a.contextElement):[],popper:Mc(l)};var b=nF(sF([].concat(n,u.options.modifiers)));return u.orderedModifiers=b.filter(function(x){return x.enabled}),g(),h.update()},forceUpdate:function(){if(!d){var y=u.elements,m=y.reference,b=y.popper;if(pw(m,b)){u.rects={reference:tF(m,Fu(b),u.options.strategy==="fixed"),popper:G0(b)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(H){return u.modifiersData[H.name]=Object.assign({},H.data)});for(var x=0;x<u.orderedModifiers.length;x++){if(u.reset===!0){u.reset=!1,x=-1;continue}var P=u.orderedModifiers[x],F=P.fn,D=P.options,O=D===void 0?{}:D,j=P.name;typeof F=="function"&&(u=F({state:u,options:O,name:j,instance:h})||u)}}}},update:iF(function(){return new Promise(function(p){h.forceUpdate(),p(u)})}),destroy:function(){v(),d=!0}};if(!pw(a,l))return h;h.setOptions(c).then(function(p){!d&&c.onFirstUpdate&&c.onFirstUpdate(p)});function g(){u.orderedModifiers.forEach(function(p){var y=p.name,m=p.options,b=m===void 0?{}:m,x=p.effect;if(typeof x=="function"){var P=x({state:u,name:y,instance:h,options:b}),F=function(){};f.push(P||F)}})}function v(){f.forEach(function(p){return p()}),f=[]}return h}}var aF=[k8,q8,_8,v8,U8,G8,Q8,R8,z8],lF=oF({defaultModifiers:aF}),cF=typeof Element<"u",uF=typeof Map=="function",dF=typeof Set=="function",hF=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Qd(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,n,i;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(n=r;n--!==0;)if(!Qd(e[n],t[n]))return!1;return!0}var s;if(uF&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(s=e.entries();!(n=s.next()).done;)if(!t.has(n.value[0]))return!1;for(s=e.entries();!(n=s.next()).done;)if(!Qd(n.value[1],t.get(n.value[0])))return!1;return!0}if(dF&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(s=e.entries();!(n=s.next()).done;)if(!t.has(n.value[0]))return!1;return!0}if(hF&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(r=e.length,r!=t.length)return!1;for(n=r;n--!==0;)if(e[n]!==t[n])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(i=Object.keys(e),r=i.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[n]))return!1;if(cF&&e instanceof Element)return!1;for(n=r;n--!==0;)if(!((i[n]==="_owner"||i[n]==="__v"||i[n]==="__o")&&e.$$typeof)&&!Qd(e[i[n]],t[i[n]]))return!1;return!0}return e!==e&&t!==t}var fF=function(t,r){try{return Qd(t,r)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}};const pF=io(fF);var gF=[],mF=function(t,r,n){n===void 0&&(n={});var i=U.useRef(null),s={onFirstUpdate:n.onFirstUpdate,placement:n.placement||"bottom",strategy:n.strategy||"absolute",modifiers:n.modifiers||gF},o=U.useState({styles:{popper:{position:s.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),a=o[0],l=o[1],c=U.useMemo(function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(h){var g=h.state,v=Object.keys(g.elements);xu.flushSync(function(){l({styles:iw(v.map(function(p){return[p,g.styles[p]||{}]})),attributes:iw(v.map(function(p){return[p,g.attributes[p]]}))})})},requires:["computeStyles"]}},[]),u=U.useMemo(function(){var d={onFirstUpdate:s.onFirstUpdate,placement:s.placement,strategy:s.strategy,modifiers:[].concat(s.modifiers,[c,{name:"applyStyles",enabled:!1}])};return pF(i.current,d)?i.current||d:(i.current=d,d)},[s.onFirstUpdate,s.placement,s.strategy,s.modifiers,c]),f=U.useRef();return sw(function(){f.current&&f.current.setOptions(u)},[u]),sw(function(){if(!(t==null||r==null)){var d=n.createPopper||lF,h=d(t,r,u);return f.current=h,function(){h.destroy(),f.current=null}}},[t,r,n.createPopper]),{state:f.current?f.current.state:null,styles:a.styles,attributes:a.attributes,update:f.current?f.current.update:null,forceUpdate:f.current?f.current.forceUpdate:null}},vF=function(){},yF=function(){return Promise.resolve(null)},bF=[];function wF(e){var t=e.placement,r=t===void 0?"bottom":t,n=e.strategy,i=n===void 0?"absolute":n,s=e.modifiers,o=s===void 0?bF:s,a=e.referenceElement,l=e.onFirstUpdate,c=e.innerRef,u=e.children,f=U.useContext(n3),d=U.useState(null),h=d[0],g=d[1],v=U.useState(null),p=v[0],y=v[1];U.useEffect(function(){hm(c,h)},[c,h]);var m=U.useMemo(function(){return{placement:r,strategy:i,onFirstUpdate:l,modifiers:[].concat(o,[{name:"arrow",enabled:p!=null,options:{element:p}}])}},[r,i,l,o,p]),b=mF(a||f,h,m),x=b.state,P=b.styles,F=b.forceUpdate,D=b.update,O=U.useMemo(function(){return{ref:g,style:P.popper,placement:x?x.placement:r,hasPopperEscaped:x&&x.modifiersData.hide?x.modifiersData.hide.hasPopperEscaped:null,isReferenceHidden:x&&x.modifiersData.hide?x.modifiersData.hide.isReferenceHidden:null,arrowProps:{style:P.arrow,ref:y},forceUpdate:F||vF,update:D||yF}},[g,y,r,x,P,D,F]);return s3(u)(O)}var CF=function(){},SF=CF;const xF=io(SF);function RF(e){var t=e.children,r=e.innerRef,n=U.useContext(i3),i=U.useCallback(function(s){hm(r,s),o3(n,s)},[r,n]);return U.useEffect(function(){return function(){return hm(r,null)}},[]),U.useEffect(function(){xF(!!n,"`Reference` should not be used outside of a `Manager` component.")},[n]),s3(t)({ref:i})}var cu=pe.createContext({}),EF=pe.createContext({});function gm(e){"@babel/helpers - typeof";return gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gm(e)}var TF=["className","cssModule","direction","isOpen","group","size","nav","setActiveFromChild","active","tag","menuRole"];function mm(){return mm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mm.apply(this,arguments)}function Ts(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PF(e,t){if(e==null)return{};var r=_F(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _F(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,s;for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function MF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gw(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function kF(e,t,r){return t&&gw(e.prototype,t),r&&gw(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function FF(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vm(e,t)}function vm(e,t){return vm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},vm(e,t)}function AF(e){var t=DF();return function(){var n=jh(e),i;if(t){var s=jh(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return OF(this,i)}}function OF(e,t){if(t&&(gm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ks(e)}function ks(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function DF(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function jh(e){return jh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jh(e)}var IF={a11y:ee.bool,disabled:ee.bool,direction:ee.oneOf(["up","down","start","end","left","right"]),group:ee.bool,isOpen:ee.bool,nav:ee.bool,active:ee.bool,size:ee.string,tag:Fr,toggle:ee.func,children:ee.node,className:ee.string,cssModule:ee.object,dropup:ee.bool,inNavbar:ee.bool,setActiveFromChild:ee.bool,menuRole:ee.oneOf(["listbox","menu"])},NF={a11y:!0,isOpen:!1,direction:"down",nav:!1,active:!1,inNavbar:!1,setActiveFromChild:!1},LF=[Kt.space,Kt.enter,Kt.up,Kt.down,Kt.end,Kt.home],Ff=function(e){FF(r,e);var t=AF(r);function r(n){var i;return MF(this,r),i=t.call(this,n),i.addEvents=i.addEvents.bind(ks(i)),i.handleDocumentClick=i.handleDocumentClick.bind(ks(i)),i.handleKeyDown=i.handleKeyDown.bind(ks(i)),i.removeEvents=i.removeEvents.bind(ks(i)),i.toggle=i.toggle.bind(ks(i)),i.handleMenuRef=i.handleMenuRef.bind(ks(i)),i.handleToggleRef=i.handleToggleRef.bind(ks(i)),i.containerRef=pe.createRef(),i.menuRef=pe.createRef(),i.toggleRef=pe.createRef(),i}return kF(r,[{key:"componentDidMount",value:function(){this.handleProps()}},{key:"componentDidUpdate",value:function(i){this.props.isOpen!==i.isOpen&&this.handleProps()}},{key:"componentWillUnmount",value:function(){this.removeEvents()}},{key:"handleMenuRef",value:function(i){this.menuRef.current=i}},{key:"handleToggleRef",value:function(i){this.toggleRef.current=i}},{key:"handleDocumentClick",value:function(i){if(!(i&&(i.which===3||i.type==="keyup"&&i.which!==Kt.tab))){var s=this.getContainer(),o=this.getMenu(),a=this.getToggle(),l=a.contains(i.target),c=o&&o.contains(i.target)&&o!==i.target,u=!1;s&&(u=s.classList.contains("input-group")&&s.classList.contains("dropdown")&&i.target.tagName==="INPUT"),!((l&&!u||c)&&(i.type!=="keyup"||i.which===Kt.tab))&&this.toggle(i)}}},{key:"handleKeyDown",value:function(i){var s=this,o=i.target.getAttribute("role")==="menuitem"||i.target.getAttribute("role")==="option",a=this.getMenuCtrl()===i.target,l=Kt.tab===i.which;if(!(/input|textarea/i.test(i.target.tagName)||l&&!this.props.a11y||l&&!(o||a))&&((LF.indexOf(i.which)!==-1||i.which>=48&&i.which<=90)&&i.preventDefault(),!this.props.disabled)){if(a)if([Kt.space,Kt.enter,Kt.up,Kt.down].indexOf(i.which)>-1)this.props.isOpen||this.toggle(i),setTimeout(function(){var m;return(m=s.getMenuItems()[0])===null||m===void 0?void 0:m.focus()});else if(this.props.isOpen&&l){var c;i.preventDefault(),(c=this.getMenuItems()[0])===null||c===void 0||c.focus()}else this.props.isOpen&&i.which===Kt.esc&&this.toggle(i);if(this.props.isOpen&&o){if([Kt.tab,Kt.esc].indexOf(i.which)>-1)this.toggle(i),this.getMenuCtrl().focus();else if([Kt.space,Kt.enter].indexOf(i.which)>-1)i.target.click(),this.getMenuCtrl().focus();else if([Kt.down,Kt.up].indexOf(i.which)>-1||[Kt.n,Kt.p].indexOf(i.which)>-1&&i.ctrlKey){var u=this.getMenuItems(),f=u.indexOf(i.target);Kt.up===i.which||Kt.p===i.which&&i.ctrlKey?f=f!==0?f-1:u.length-1:(Kt.down===i.which||Kt.n===i.which&&i.ctrlKey)&&(f=f===u.length-1?0:f+1),u[f].focus()}else if(Kt.end===i.which){var d=this.getMenuItems();d[d.length-1].focus()}else if(Kt.home===i.which){var h=this.getMenuItems();h[0].focus()}else if(i.which>=48&&i.which<=90)for(var g=this.getMenuItems(),v=String.fromCharCode(i.which).toLowerCase(),p=0;p<g.length;p+=1){var y=g[p].textContent&&g[p].textContent[0].toLowerCase();if(y===v){g[p].focus();break}}}}}},{key:"handleProps",value:function(){this.props.isOpen?this.addEvents():this.removeEvents()}},{key:"getContextValue",value:function(){return{toggle:this.toggle,isOpen:this.props.isOpen,direction:this.props.direction==="down"&&this.props.dropup?"up":this.props.direction,inNavbar:this.props.inNavbar,disabled:this.props.disabled,onMenuRef:this.handleMenuRef,onToggleRef:this.handleToggleRef,menuRole:this.props.menuRole}}},{key:"getContainer",value:function(){return this.containerRef.current}},{key:"getMenu",value:function(){return this.menuRef.current}},{key:"getToggle",value:function(){return this.toggleRef.current}},{key:"getMenuCtrl",value:function(){return this._$menuCtrl?this._$menuCtrl:(this._$menuCtrl=this.getToggle(),this._$menuCtrl)}},{key:"getItemType",value:function(){return this.props.menuRole==="listbox"?"option":"menuitem"}},{key:"getMenuItems",value:function(){var i=this.getMenu()||this.getContainer();return[].slice.call(i.querySelectorAll('[role="'.concat(this.getItemType(),'"]')))}},{key:"addEvents",value:function(){var i=this;["click","touchstart","keyup"].forEach(function(s){return document.addEventListener(s,i.handleDocumentClick,!0)})}},{key:"removeEvents",value:function(){var i=this;["click","touchstart","keyup"].forEach(function(s){return document.removeEventListener(s,i.handleDocumentClick,!0)})}},{key:"toggle",value:function(i){return this.props.disabled?i&&i.preventDefault():this.props.toggle(i)}},{key:"render",value:function(){var i,s=this,o=Mu(this.props,["toggle","disabled","inNavbar","a11y"]),a=o.className,l=o.cssModule,c=o.direction,u=o.isOpen,f=o.group,d=o.size,h=o.nav,g=o.setActiveFromChild,v=o.active,p=o.tag;o.menuRole;var y=PF(o,TF),m=p||(h?"li":"div"),b=!1;g&&pe.Children.map(this.props.children[1].props.children,function(P){P&&P.props.active&&(b=!0)});var x=Gt(Yt(a,h&&v?"active":!1,g&&b?"active":!1,(i={"btn-group":f},Ts(i,"btn-group-".concat(d),!!d),Ts(i,"dropdown",!f),Ts(i,"dropup",c==="up"),Ts(i,"dropstart",c==="start"||c==="left"),Ts(i,"dropend",c==="end"||c==="right"),Ts(i,"show",u),Ts(i,"nav-item",h),i)),l);return this.context.insideInputGroup?pe.createElement(cu.Provider,{value:this.getContextValue()},pe.createElement(nw,null,pe.Children.map(this.props.children,function(P){return pe.cloneElement(P,{onKeyDown:s.handleKeyDown})}))):pe.createElement(cu.Provider,{value:this.getContextValue()},pe.createElement(nw,null,pe.createElement(m,mm({},y,Ts({},typeof m=="string"?"ref":"innerRef",this.containerRef),{onKeyDown:this.handleKeyDown,className:x}))))}}]),r}(pe.Component);Ff.propTypes=IF;Ff.defaultProps=NF;Ff.contextType=EF;const U0=Ff;function ym(e){"@babel/helpers - typeof";return ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ym(e)}var jF=["className","cssModule","divider","tag","header","active","text"];function bm(){return bm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bm.apply(this,arguments)}function BF(e,t){if(e==null)return{};var r=HF(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function HF(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,s;for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function GF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mw(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function VF(e,t,r){return t&&mw(e.prototype,t),r&&mw(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function zF(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wm(e,t)}function wm(e,t){return wm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},wm(e,t)}function WF(e){var t=UF();return function(){var n=Bh(e),i;if(t){var s=Bh(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return $F(this,i)}}function $F(e,t){if(t&&(ym(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cm(e)}function Cm(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function UF(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Bh(e){return Bh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bh(e)}var KF={children:ee.node,active:ee.bool,disabled:ee.bool,divider:ee.bool,tag:Fr,header:ee.bool,onClick:ee.func,className:ee.string,cssModule:ee.object,toggle:ee.bool,text:ee.bool},K0=function(e){zF(r,e);var t=WF(r);function r(n){var i;return GF(this,r),i=t.call(this,n),i.onClick=i.onClick.bind(Cm(i)),i.getTabIndex=i.getTabIndex.bind(Cm(i)),i}return VF(r,[{key:"onClick",value:function(i){var s,o=this.props,a=o.disabled,l=o.header,c=o.divider,u=o.text;if(a||l||c||u){i.preventDefault();return}this.props.onClick&&this.props.onClick(i),(!((s=this.props.toggle)!==null&&s!==void 0)||s)&&this.context.toggle(i)}},{key:"getRole",value:function(){return this.context.menuRole==="listbox"?"option":"menuitem"}},{key:"getTabIndex",value:function(){var i=this.props,s=i.disabled,o=i.header,a=i.divider,l=i.text;return s||o||a||l?"-1":"0"}},{key:"render",value:function(){var i=this.getTabIndex(),s=i>-1?this.getRole():void 0,o=Mu(this.props,["toggle"]),a=o.className,l=o.cssModule,c=o.divider,u=o.tag,f=u===void 0?"button":u,d=o.header,h=o.active,g=o.text,v=BF(o,jF),p=Gt(Yt(a,{disabled:v.disabled,"dropdown-item":!c&&!d&&!g,active:h,"dropdown-header":d,"dropdown-divider":c,"dropdown-item-text":g}),l);return f==="button"&&(d?f="h6":c?f="div":v.href?f="a":g&&(f="span")),pe.createElement(f,bm({type:f==="button"&&(v.onClick||this.props.toggle)?"button":void 0},v,{tabIndex:i,role:s,className:p,onClick:this.onClick}))}}]),r}(pe.Component);K0.propTypes=KF;K0.contextType=cu;const vw=K0;function Sm(e){"@babel/helpers - typeof";return Sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sm(e)}var qF=["className","cssModule","dark","end","right","tag","flip","modifiers","persist","strategy","container","updateOnSelect"];function Hh(){return Hh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hh.apply(this,arguments)}function yw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function bw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yw(Object(r),!0).forEach(function(n){YF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YF(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XF(e){return eA(e)||JF(e)||ZF(e)||QF()}function QF(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZF(e,t){if(e){if(typeof e=="string")return xm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xm(e,t)}}function JF(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function eA(e){if(Array.isArray(e))return xm(e)}function xm(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function tA(e,t){if(e==null)return{};var r=rA(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function rA(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,s;for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function nA(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ww(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function iA(e,t,r){return t&&ww(e.prototype,t),r&&ww(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function sA(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Rm(e,t)}function Rm(e,t){return Rm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Rm(e,t)}function oA(e){var t=cA();return function(){var n=Gh(e),i;if(t){var s=Gh(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return aA(this,i)}}function aA(e,t){if(t&&(Sm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lA(e)}function lA(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cA(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Gh(e){return Gh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gh(e)}var uA={tag:Fr,children:ee.node.isRequired,dark:ee.bool,end:ee.bool,flip:ee.bool,modifiers:ee.array,className:ee.string,cssModule:ee.object,style:ee.object,persist:ee.bool,strategy:ee.string,container:Zx,updateOnSelect:ee.bool,right:kk(ee.bool,'Please use "end" instead.')},dA={up:"top",left:"left",right:"right",start:"left",end:"right",down:"bottom"},q0=function(e){sA(r,e);var t=oA(r);function r(){return nA(this,r),t.apply(this,arguments)}return iA(r,[{key:"getRole",value:function(){return this.context.menuRole==="listbox"?"listbox":"menu"}},{key:"render",value:function(){var i=this,s=this.props,o=s.className,a=s.cssModule,l=s.dark,c=s.end,u=s.right,f=s.tag,d=f===void 0?"div":f,h=s.flip,g=h===void 0?!0:h,v=s.modifiers,p=v===void 0?[]:v,y=s.persist,m=s.strategy,b=s.container,x=s.updateOnSelect,P=tA(s,qF),F=Gt(Yt(o,"dropdown-menu",{"dropdown-menu-dark":l,"dropdown-menu-end":c||u,show:this.context.isOpen}),a),D=d;if(y||this.context.isOpen&&!this.context.inNavbar){var O=dA[this.context.direction]||"bottom",j=c||u?"end":"start",H="".concat(O,"-").concat(j),W=[].concat(XF(p),[{name:"flip",enabled:!!g}]),G=pe.createElement(wF,{placement:H,modifiers:W,strategy:m},function(k){var E=k.ref,w=k.style,C=k.placement,S=k.update,R=bw(bw({},i.props.style),w),_=function(B){E(B);var V=i.context.onMenuRef;V&&V(B)};return pe.createElement(D,Hh({tabIndex:"-1",role:i.getRole(),ref:_},P,{style:R,"aria-hidden":!i.context.isOpen,className:F,"data-popper-placement":C,onClick:function(){return x&&S()}}))});return b?es.createPortal(G,e3(b)):G}var M=this.context.onMenuRef;return pe.createElement(D,Hh({tabIndex:"-1",role:this.getRole()},P,{ref:M,"aria-hidden":!this.context.isOpen,className:F,"data-popper-placement":P.placement}))}}]),r}(pe.Component);q0.propTypes=uA;q0.contextType=cu;const m3=q0;function Em(e){"@babel/helpers - typeof";return Em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Em(e)}var hA=["className","color","cssModule","caret","split","nav","tag","innerRef"];function fA(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vh(){return Vh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vh.apply(this,arguments)}function pA(e,t){if(e==null)return{};var r=gA(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function gA(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,s;for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function mA(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Cw(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function vA(e,t,r){return t&&Cw(e.prototype,t),r&&Cw(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function yA(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Tm(e,t)}function Tm(e,t){return Tm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Tm(e,t)}function bA(e){var t=CA();return function(){var n=zh(e),i;if(t){var s=zh(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return wA(this,i)}}function wA(e,t){if(t&&(Em(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return v3(e)}function v3(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CA(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function zh(e){return zh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zh(e)}var SA={caret:ee.bool,color:ee.string,children:ee.node,className:ee.string,cssModule:ee.object,disabled:ee.bool,onClick:ee.func,"aria-haspopup":ee.bool,split:ee.bool,tag:Fr,nav:ee.bool,innerRef:ee.oneOfType([ee.object,ee.string,ee.func])},xA={color:"secondary","aria-haspopup":!0},Af=function(e){yA(r,e);var t=bA(r);function r(n){var i;return mA(this,r),i=t.call(this,n),i.onClick=i.onClick.bind(v3(i)),i}return vA(r,[{key:"onClick",value:function(i){if(this.props.disabled||this.context.disabled){i.preventDefault();return}this.props.nav&&!this.props.tag&&i.preventDefault(),this.props.onClick&&this.props.onClick(i),this.context.toggle(i)}},{key:"getRole",value:function(){return this.context.menuRole||this.props["aria-haspopup"]}},{key:"render",value:function(){var i=this,s=this.props,o=s.className,a=s.color,l=s.cssModule,c=s.caret,u=s.split,f=s.nav,d=s.tag,h=s.innerRef,g=pA(s,hA),v=g["aria-label"]||"Toggle Dropdown",p=Gt(Yt(o,{"dropdown-toggle":c||u,"dropdown-toggle-split":u,"nav-link":f}),l),y=typeof g.children<"u"?g.children:pe.createElement("span",{className:"visually-hidden"},v),m;return f&&!d?(m="a",g.href="#"):d?m=d:(m=zt,g.color=a,g.cssModule=l),this.context.inNavbar?pe.createElement(m,Vh({},g,{className:p,onClick:this.onClick,ref:this.context.onToggleRef,"aria-expanded":this.context.isOpen,"aria-haspopup":this.getRole(),children:y})):pe.createElement(RF,{innerRef:h},function(b){var x=b.ref,P=function(D){x(D);var O=i.context.onToggleRef;O&&O(D)};return pe.createElement(m,Vh({},g,fA({},typeof m=="string"?"ref":"innerRef",P),{className:p,onClick:i.onClick,"aria-expanded":i.context.isOpen,"aria-haspopup":i.getRole(),children:y}))})}}]),r}(pe.Component);Af.propTypes=SA;Af.defaultProps=xA;Af.contextType=cu;const y3=Af;function RA(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,s;for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function Pm(e,t){return Pm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Pm(e,t)}function EA(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Pm(e,t)}const Sw={disabled:!1},b3=pe.createContext(null);var TA=function(t){return t.scrollTop},hc="unmounted",yo="exited",bo="entering",Sa="entered",_m="exiting",ys=function(e){EA(t,e);function t(n,i){var s;s=e.call(this,n,i)||this;var o=i,a=o&&!o.isMounting?n.enter:n.appear,l;return s.appearStatus=null,n.in?a?(l=yo,s.appearStatus=bo):l=Sa:n.unmountOnExit||n.mountOnEnter?l=hc:l=yo,s.state={status:l},s.nextCallback=null,s}t.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===hc?{status:yo}:null};var r=t.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==bo&&o!==Sa&&(s=bo):(o===bo||o===Sa)&&(s=_m)}this.updateStatus(!1,s)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},r.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===bo){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:es.findDOMNode(this);o&&TA(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===yo&&this.setState({status:hc})},r.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[es.findDOMNode(this),a],c=l[0],u=l[1],f=this.getTimeouts(),d=a?f.appear:f.enter;if(!i&&!o||Sw.disabled){this.safeSetState({status:Sa},function(){s.props.onEntered(c)});return}this.props.onEnter(c,u),this.safeSetState({status:bo},function(){s.props.onEntering(c,u),s.onTransitionEnd(d,function(){s.safeSetState({status:Sa},function(){s.props.onEntered(c,u)})})})},r.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:es.findDOMNode(this);if(!s||Sw.disabled){this.safeSetState({status:yo},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:_m},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:yo},function(){i.props.onExited(a)})})})},r.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},r.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},r.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:es.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],c=l[0],u=l[1];this.props.addEndListener(c,u)}i!=null&&setTimeout(this.nextCallback,i)},r.render=function(){var i=this.state.status;if(i===hc)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=RA(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return pe.createElement(b3.Provider,{value:null},typeof o=="function"?o(i,a):pe.cloneElement(pe.Children.only(o),a))},t}(pe.Component);ys.contextType=b3;ys.propTypes={};function ma(){}ys.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:ma,onEntering:ma,onEntered:ma,onExit:ma,onExiting:ma,onExited:ma};ys.UNMOUNTED=hc;ys.EXITED=yo;ys.ENTERING=bo;ys.ENTERED=Sa;ys.EXITING=_m;const Y0=ys;var PA=["tag","baseClass","baseClassActive","className","cssModule","children","innerRef"];function Wh(){return Wh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wh.apply(this,arguments)}function _A(e,t){if(e==null)return{};var r=MA(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function MA(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,s;for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function xw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function uu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xw(Object(r),!0).forEach(function(n){kA(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kA(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var FA=uu(uu({},Y0.propTypes),{},{children:ee.oneOfType([ee.arrayOf(ee.node),ee.node]),tag:Fr,baseClass:ee.string,baseClassActive:ee.string,className:ee.string,cssModule:ee.object,innerRef:ee.oneOfType([ee.object,ee.string,ee.func])}),w3=uu(uu({},Y0.defaultProps),{},{timeout:am.Fade,appear:!0,enter:!0,exit:!0,in:!0});function Ci(e){var t=U.useRef(null),r=e.tag,n=r===void 0?"div":r,i=e.baseClass,s=i===void 0?"fade":i,o=e.baseClassActive,a=o===void 0?"show":o,l=e.className,c=e.cssModule,u=e.children,f=e.innerRef,d=f===void 0?t:f,h=_A(e,PA),g=Mk(uu({defaultProps:w3},h),ew),v=Mu(h,ew);return pe.createElement(Y0,Wh({nodeRef:d},g),function(p){var y=p==="entered",m=Gt(Yt(l,s,y&&a),c);return pe.createElement(n,Wh({className:m},v,{ref:d}),u)})}Ci.propTypes=FA;Ci.defaultProps=w3;var AA=["className","cssModule","color","body","inverse","outline","tag","innerRef"];function Mm(){return Mm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mm.apply(this,arguments)}function OA(e,t){if(e==null)return{};var r=DA(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function DA(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,s;for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var IA={body:ee.bool,className:ee.string,color:ee.string,cssModule:ee.object,innerRef:ee.oneOfType([ee.object,ee.string,ee.func]),inverse:ee.bool,outline:ee.bool,tag:Fr};function Pr(e){var t=e.className,r=e.cssModule,n=e.color,i=e.body,s=e.inverse,o=e.outline,a=e.tag,l=a===void 0?"div":a,c=e.innerRef,u=OA(e,AA),f=Gt(Yt(t,"card",s?"text-white":!1,i?"card-body":!1,n?"".concat(o?"border":"bg","-").concat(n):!1),r);return pe.createElement(l,Mm({},u,{className:f,ref:c}))}Pr.propTypes=IA;var NA=["className","cssModule","innerRef","tag"];function km(){return km=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},km.apply(this,arguments)}function LA(e,t){if(e==null)return{};var r=jA(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function jA(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,s;for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var BA={className:ee.string,cssModule:ee.object,innerRef:ee.oneOfType([ee.object,ee.string,ee.func]),tag:Fr};function _r(e){var t=e.className,r=e.cssModule,n=e.innerRef,i=e.tag,s=i===void 0?"div":i,o=LA(e,NA),a=Gt(Yt(t,"card-body"),r);return pe.createElement(s,km({},o,{className:a,ref:n}))}_r.propTypes=BA;var HA=["className","cssModule","tag"];function Fm(){return Fm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fm.apply(this,arguments)}function GA(e,t){if(e==null)return{};var r=VA(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function VA(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,s;for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var zA={className:ee.string,cssModule:ee.object,tag:Fr};function Mr(e){var t=e.className,r=e.cssModule,n=e.tag,i=n===void 0?"div":n,s=GA(e,HA),o=Gt(Yt(t,"card-header"),r);return pe.createElement(i,Fm({},s,{className:o}))}Mr.propTypes=zA;function Am(e){"@babel/helpers - typeof";return Am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Am(e)}function WA(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rw(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function $A(e,t,r){return t&&Rw(e.prototype,t),r&&Rw(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function UA(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Om(e,t)}function Om(e,t){return Om=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Om(e,t)}function KA(e){var t=XA();return function(){var n=$h(e),i;if(t){var s=$h(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return qA(this,i)}}function qA(e,t){if(t&&(Am(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YA(e)}function YA(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function XA(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function $h(e){return $h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$h(e)}var QA={children:ee.node.isRequired,node:ee.any},C3=function(e){UA(r,e);var t=KA(r);function r(){return WA(this,r),t.apply(this,arguments)}return $A(r,[{key:"componentWillUnmount",value:function(){this.defaultNode&&document.body.removeChild(this.defaultNode),this.defaultNode=null}},{key:"render",value:function(){return j0?(!this.props.node&&!this.defaultNode&&(this.defaultNode=document.createElement("div"),document.body.appendChild(this.defaultNode)),es.createPortal(this.props.children,this.props.node||this.defaultNode)):null}}]),r}(pe.Component);C3.propTypes=QA;const ZA=C3;function Dm(e){"@babel/helpers - typeof";return Dm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dm(e)}function Ew(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function va(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ew(Object(r),!0).forEach(function(n){xa(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ew(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kc(){return kc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kc.apply(this,arguments)}function xa(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JA(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tw(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function eO(e,t,r){return t&&Tw(e.prototype,t),r&&Tw(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function tO(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Im(e,t)}function Im(e,t){return Im=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Im(e,t)}function rO(e){var t=iO();return function(){var n=Uh(e),i;if(t){var s=Uh(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return nO(this,i)}}function nO(e,t){if(t&&(Dm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jn(e)}function jn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iO(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Uh(e){return Uh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Uh(e)}function Kh(){}var Pw=ee.shape(Ci.propTypes),S3={autoFocus:ee.bool,backdrop:ee.oneOfType([ee.bool,ee.oneOf(["static"])]),backdropClassName:ee.string,backdropTransition:Pw,centered:ee.bool,children:ee.node,contentClassName:ee.string,className:ee.string,container:Zx,cssModule:ee.object,external:ee.node,fade:ee.bool,fullscreen:ee.oneOfType([ee.bool,ee.oneOf(["sm","md","lg","xl"])]),innerRef:ee.oneOfType([ee.object,ee.string,ee.func]),isOpen:ee.bool,keyboard:ee.bool,labelledBy:ee.string,modalClassName:ee.string,modalTransition:Pw,onClosed:ee.func,onEnter:ee.func,onExit:ee.func,onOpened:ee.func,returnFocusAfterClose:ee.bool,role:ee.string,scrollable:ee.bool,size:ee.string,toggle:ee.func,trapFocus:ee.bool,unmountOnClose:ee.bool,wrapClassName:ee.string,zIndex:ee.oneOfType([ee.number,ee.string])},sO=Object.keys(S3),oO={isOpen:!1,autoFocus:!0,centered:!1,scrollable:!1,role:"dialog",backdrop:!0,keyboard:!0,zIndex:1050,fade:!0,onOpened:Kh,onClosed:Kh,modalTransition:{timeout:am.Modal},backdropTransition:{mountOnEnter:!0,timeout:am.Fade},unmountOnClose:!0,returnFocusAfterClose:!0,container:"body",trapFocus:!1},Au=function(e){tO(r,e);var t=rO(r);function r(n){var i;return JA(this,r),i=t.call(this,n),i._element=null,i._originalBodyPadding=null,i.getFocusableChildren=i.getFocusableChildren.bind(jn(i)),i.handleBackdropClick=i.handleBackdropClick.bind(jn(i)),i.handleBackdropMouseDown=i.handleBackdropMouseDown.bind(jn(i)),i.handleEscape=i.handleEscape.bind(jn(i)),i.handleStaticBackdropAnimation=i.handleStaticBackdropAnimation.bind(jn(i)),i.handleTab=i.handleTab.bind(jn(i)),i.onOpened=i.onOpened.bind(jn(i)),i.onClosed=i.onClosed.bind(jn(i)),i.manageFocusAfterClose=i.manageFocusAfterClose.bind(jn(i)),i.clearBackdropAnimationTimeout=i.clearBackdropAnimationTimeout.bind(jn(i)),i.trapFocus=i.trapFocus.bind(jn(i)),i.state={isOpen:!1,showStaticBackdropAnimation:!1},i}return eO(r,[{key:"componentDidMount",value:function(){var i=this.props,s=i.isOpen,o=i.autoFocus,a=i.onEnter;s&&(this.init(),this.setState({isOpen:!0}),o&&this.setFocus()),a&&a(),document.addEventListener("focus",this.trapFocus,!0),this._isMounted=!0}},{key:"componentDidUpdate",value:function(i,s){if(this.props.isOpen&&!i.isOpen){this.init(),this.setState({isOpen:!0});return}this.props.autoFocus&&this.state.isOpen&&!s.isOpen&&this.setFocus(),this._element&&i.zIndex!==this.props.zIndex&&(this._element.style.zIndex=this.props.zIndex)}},{key:"componentWillUnmount",value:function(){this.clearBackdropAnimationTimeout(),this.props.onExit&&this.props.onExit(),this._element&&(this.destroy(),(this.props.isOpen||this.state.isOpen)&&this.close()),document.removeEventListener("focus",this.trapFocus,!0),this._isMounted=!1}},{key:"handleBackdropClick",value:function(i){if(i.target===this._mouseDownElement){i.stopPropagation();var s=this._dialog?this._dialog.parentNode:null;if(s&&i.target===s&&this.props.backdrop==="static"&&this.handleStaticBackdropAnimation(),!this.props.isOpen||this.props.backdrop!==!0)return;s&&i.target===s&&this.props.toggle&&this.props.toggle(i)}}},{key:"handleTab",value:function(i){if(i.which===9&&!(this.modalIndex<r.openCount-1)){var s=this.getFocusableChildren(),o=s.length;if(o!==0){for(var a=this.getFocusedChild(),l=0,c=0;c<o;c+=1)if(s[c]===a){l=c;break}i.shiftKey&&l===0?(i.preventDefault(),s[o-1].focus()):!i.shiftKey&&l===o-1&&(i.preventDefault(),s[0].focus())}}}},{key:"handleBackdropMouseDown",value:function(i){this._mouseDownElement=i.target}},{key:"handleEscape",value:function(i){this.props.isOpen&&i.keyCode===Kt.esc&&this.props.toggle&&(this.props.keyboard?(i.preventDefault(),i.stopPropagation(),this.props.toggle(i)):this.props.backdrop==="static"&&(i.preventDefault(),i.stopPropagation(),this.handleStaticBackdropAnimation()))}},{key:"handleStaticBackdropAnimation",value:function(){var i=this;this.clearBackdropAnimationTimeout(),this.setState({showStaticBackdropAnimation:!0}),this._backdropAnimationTimeout=setTimeout(function(){i.setState({showStaticBackdropAnimation:!1})},100)}},{key:"onOpened",value:function(i,s){this.props.onOpened(),(this.props.modalTransition.onEntered||Kh)(i,s)}},{key:"onClosed",value:function(i){var s=this.props.unmountOnClose;this.props.onClosed(),(this.props.modalTransition.onExited||Kh)(i),s&&this.destroy(),this.close(),this._isMounted&&this.setState({isOpen:!1})}},{key:"setFocus",value:function(){this._dialog&&this._dialog.parentNode&&typeof this._dialog.parentNode.focus=="function"&&this._dialog.parentNode.focus()}},{key:"getFocusableChildren",value:function(){return this._element.querySelectorAll(Lk.join(", "))}},{key:"getFocusedChild",value:function(){var i,s=this.getFocusableChildren();try{i=document.activeElement}catch{i=s[0]}return i}},{key:"trapFocus",value:function(i){if(this.props.trapFocus&&this._element&&!(this._dialog&&this._dialog.parentNode===i.target)&&!(this.modalIndex<r.openCount-1)){for(var s=this.getFocusableChildren(),o=0;o<s.length;o+=1)if(s[o]===i.target)return;s.length>0&&(i.preventDefault(),i.stopPropagation(),s[0].focus())}}},{key:"init",value:function(){try{this._triggeringElement=document.activeElement}catch{this._triggeringElement=null}this._element||(this._element=document.createElement("div"),this._element.setAttribute("tabindex","-1"),this._element.style.position="relative",this._element.style.zIndex=this.props.zIndex,this._mountContainer=e3(this.props.container),this._mountContainer.appendChild(this._element)),this._originalBodyPadding=Tk(),r.openCount<1&&(r.originalBodyOverflow=window.getComputedStyle(document.body).overflow),Pk(),r.openCount===0&&(document.body.className=Yt(document.body.className,Gt("modal-open",this.props.cssModule)),document.body.style.overflow="hidden"),this.modalIndex=r.openCount,r.openCount+=1}},{key:"destroy",value:function(){this._element&&(this._mountContainer.removeChild(this._element),this._element=null),this.manageFocusAfterClose()}},{key:"manageFocusAfterClose",value:function(){if(this._triggeringElement){var i=this.props.returnFocusAfterClose;this._triggeringElement.focus&&i&&this._triggeringElement.focus(),this._triggeringElement=null}}},{key:"close",value:function(){if(r.openCount<=1){var i=Gt("modal-open",this.props.cssModule),s=new RegExp("(^| )".concat(i,"( |$)"));document.body.className=document.body.className.replace(s," ").trim(),document.body.style.overflow=r.originalBodyOverflow}this.manageFocusAfterClose(),r.openCount=Math.max(0,r.openCount-1),Qx(this._originalBodyPadding)}},{key:"clearBackdropAnimationTimeout",value:function(){this._backdropAnimationTimeout&&(clearTimeout(this._backdropAnimationTimeout),this._backdropAnimationTimeout=void 0)}},{key:"renderModalDialog",value:function(){var i,s=this,o=Mu(this.props,sO),a="modal-dialog";return pe.createElement("div",kc({},o,{className:Gt(Yt(a,this.props.className,(i={},xa(i,"modal-".concat(this.props.size),this.props.size),xa(i,"".concat(a,"-centered"),this.props.centered),xa(i,"".concat(a,"-scrollable"),this.props.scrollable),xa(i,"modal-fullscreen",this.props.fullscreen===!0),xa(i,"modal-fullscreen-".concat(this.props.fullscreen,"-down"),typeof this.props.fullscreen=="string"),i)),this.props.cssModule),role:"document",ref:function(c){s._dialog=c}}),pe.createElement("div",{className:Gt(Yt("modal-content",this.props.contentClassName),this.props.cssModule)},this.props.children))}},{key:"render",value:function(){var i=this.props.unmountOnClose;if(this._element&&(this.state.isOpen||!i)){var s=!!this._element&&!this.state.isOpen&&!i;this._element.style.display=s?"none":"block";var o=this.props,a=o.wrapClassName,l=o.modalClassName,c=o.backdropClassName,u=o.cssModule,f=o.isOpen,d=o.backdrop,h=o.role,g=o.labelledBy,v=o.external,p=o.innerRef,y={onClick:this.handleBackdropClick,onMouseDown:this.handleBackdropMouseDown,onKeyUp:this.handleEscape,onKeyDown:this.handleTab,style:{display:"block"},"aria-labelledby":g,"aria-modal":!0,role:h,tabIndex:"-1"},m=this.props.fade,b=va(va(va({},Ci.defaultProps),this.props.modalTransition),{},{baseClass:m?this.props.modalTransition.baseClass:"",timeout:m?this.props.modalTransition.timeout:0}),x=va(va(va({},Ci.defaultProps),this.props.backdropTransition),{},{baseClass:m?this.props.backdropTransition.baseClass:"",timeout:m?this.props.backdropTransition.timeout:0}),P=d&&(m?pe.createElement(Ci,kc({},x,{in:f&&!!d,cssModule:u,className:Gt(Yt("modal-backdrop",c),u)})):pe.createElement("div",{className:Gt(Yt("modal-backdrop","show",c),u)}));return pe.createElement(ZA,{node:this._element},pe.createElement("div",{className:Gt(a)},pe.createElement(Ci,kc({},y,b,{in:f,onEntered:this.onOpened,onExited:this.onClosed,cssModule:u,className:Gt(Yt("modal",l,this.state.showStaticBackdropAnimation&&"modal-static"),u),innerRef:p}),v,this.renderModalDialog()),P))}return null}}]),r}(pe.Component);Au.propTypes=S3;Au.defaultProps=oO;Au.openCount=0;Au.originalBodyOverflow=null;const Ur=Au;var aO=["className","cssModule","children","toggle","tag","wrapTag","closeAriaLabel","close"];function Nm(){return Nm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nm.apply(this,arguments)}function lO(e,t){if(e==null)return{};var r=cO(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function cO(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,s;for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var uO={children:ee.node,className:ee.string,close:ee.object,closeAriaLabel:ee.string,cssModule:ee.object,tag:Fr,toggle:ee.func,wrapTag:Fr};function Br(e){var t,r=e.className,n=e.cssModule,i=e.children,s=e.toggle,o=e.tag,a=o===void 0?"h5":o,l=e.wrapTag,c=l===void 0?"div":l,u=e.closeAriaLabel,f=u===void 0?"Close":u,d=e.close,h=lO(e,aO),g=Gt(Yt(r,"modal-header"),n);return!d&&s&&(t=pe.createElement("button",{type:"button",onClick:s,className:Gt("btn-close",n),"aria-label":f})),pe.createElement(c,Nm({},h,{className:g}),pe.createElement(a,{className:Gt("modal-title",n)},i),d||t)}Br.propTypes=uO;var dO=["className","cssModule","tag"];function Lm(){return Lm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lm.apply(this,arguments)}function hO(e,t){if(e==null)return{};var r=fO(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function fO(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,s;for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var pO={className:ee.string,cssModule:ee.object,tag:Fr};function Hr(e){var t=e.className,r=e.cssModule,n=e.tag,i=n===void 0?"div":n,s=hO(e,dO),o=Gt(Yt(t,"modal-body"),r);return pe.createElement(i,Lm({},s,{className:o}))}Hr.propTypes=pO;var gO=["className","cssModule","tag"];function jm(){return jm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jm.apply(this,arguments)}function mO(e,t){if(e==null)return{};var r=vO(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function vO(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,s;for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var yO={className:ee.string,cssModule:ee.object,tag:Fr};function Gr(e){var t=e.className,r=e.cssModule,n=e.tag,i=n===void 0?"div":n,s=mO(e,gO),o=Gt(Yt(t,"modal-footer"),r);return pe.createElement(i,jm({},s,{className:o}))}Gr.propTypes=yO;var bO=["className","cssModule","row","disabled","check","inline","floating","tag","switch"];function Bm(){return Bm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bm.apply(this,arguments)}function wO(e,t){if(e==null)return{};var r=CO(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function CO(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,s;for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var SO={children:ee.node,row:ee.bool,check:ee.bool,switch:ee.bool,inline:ee.bool,floating:ee.bool,disabled:ee.bool,tag:Fr,className:ee.string,cssModule:ee.object};function fe(e){var t=e.className,r=e.cssModule,n=e.row,i=e.disabled,s=e.check,o=e.inline,a=e.floating,l=e.tag,c=l===void 0?"div":l,u=e.switch,f=wO(e,bO),d=s||u,h=Gt(Yt(t,n?"row":!1,d?"form-check":"mb-3",u?"form-switch":!1,d&&o?"form-check-inline":!1,d&&i?"disabled":!1,a&&"form-floating"),r);return c==="fieldset"&&(f.disabled=i),pe.createElement(c,Bm({},f,{className:h}))}fe.propTypes=SO;var xO=["className","cssModule","inline","color","tag"];function Hm(){return Hm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hm.apply(this,arguments)}function RO(e,t){if(e==null)return{};var r=EO(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function EO(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,s;for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var TO={children:ee.node,inline:ee.bool,tag:Fr,color:ee.string,className:ee.string,cssModule:ee.object};function Ct(e){var t=e.className,r=e.cssModule,n=e.inline,i=e.color,s=i===void 0?"muted":i,o=e.tag,a=o===void 0?"small":o,l=RO(e,xO),c=Gt(Yt(t,n?!1:"form-text",s?"text-".concat(s):!1),r);return pe.createElement(a,Hm({},l,{className:c}))}Ct.propTypes=TO;function Gm(e){"@babel/helpers - typeof";return Gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gm(e)}var PO=["className","cssModule","type","bsSize","valid","invalid","tag","addon","plaintext","innerRef"];function Vm(){return Vm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vm.apply(this,arguments)}function _O(e,t){if(e==null)return{};var r=MO(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function MO(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,s;for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function kO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _w(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function FO(e,t,r){return t&&_w(e.prototype,t),r&&_w(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function AO(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zm(e,t)}function zm(e,t){return zm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},zm(e,t)}function OO(e){var t=IO();return function(){var n=qh(e),i;if(t){var s=qh(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return DO(this,i)}}function DO(e,t){if(t&&(Gm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wm(e)}function Wm(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IO(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function qh(e){return qh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qh(e)}var NO={children:ee.node,type:ee.string,size:ee.oneOfType([ee.number,ee.string]),bsSize:ee.string,valid:ee.bool,invalid:ee.bool,tag:Fr,innerRef:ee.oneOfType([ee.object,ee.func,ee.string]),plaintext:ee.bool,addon:ee.bool,className:ee.string,cssModule:ee.object},x3=function(e){AO(r,e);var t=OO(r);function r(n){var i;return kO(this,r),i=t.call(this,n),i.getRef=i.getRef.bind(Wm(i)),i.focus=i.focus.bind(Wm(i)),i}return FO(r,[{key:"getRef",value:function(i){this.props.innerRef&&this.props.innerRef(i),this.ref=i}},{key:"focus",value:function(){this.ref&&this.ref.focus()}},{key:"render",value:function(){var i=this.props,s=i.className,o=i.cssModule,a=i.type,l=a===void 0?"text":a,c=i.bsSize,u=i.valid,f=i.invalid,d=i.tag,h=i.addon,g=i.plaintext,v=i.innerRef,p=_O(i,PO),y=["switch","radio","checkbox"].indexOf(l)>-1,m=/\D/g,b=l==="textarea",x=l==="select",P=l==="range",F=d||(x||b?l:"input"),D="form-control";g?(D="".concat(D,"-plaintext"),F=d||"input"):P?D="form-range":x?D="form-select":y&&(h?D=null:D="form-check-input"),p.size&&m.test(p.size)&&(om(`Please use the prop "bsSize" instead of the "size" to bootstrap's input sizing.`),c=p.size,delete p.size);var O=Gt(Yt(s,f&&"is-invalid",u&&"is-valid",c?x?"form-select-".concat(c):"form-control-".concat(c):!1,D),o);return(F==="input"||d&&typeof d=="function")&&(p.type=l==="switch"?"checkbox":l),p.children&&!(g||l==="select"||typeof F!="string"||F==="select")&&(om('Input with a type of "'.concat(l,'" cannot have children. Please use "value"/"defaultValue" instead.')),delete p.children),pe.createElement(F,Vm({},p,{ref:v,className:O,"aria-invalid":f}))}}]),r}(pe.Component);x3.propTypes=NO;const Me=x3;var LO=["className","cssModule","hidden","widths","tag","check","size","for"];function $m(){return $m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$m.apply(this,arguments)}function Ep(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jO(e,t){if(e==null)return{};var r=BO(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function BO(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,s;for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var HO=["xs","sm","md","lg","xl","xxl"],Tp=ee.oneOfType([ee.number,ee.string]),ya=ee.oneOfType([ee.bool,ee.string,ee.number,ee.shape({size:Tp,order:Tp,offset:Tp})]),GO={children:ee.node,hidden:ee.bool,check:ee.bool,size:ee.string,for:ee.string,tag:Fr,className:ee.string,cssModule:ee.object,xs:ya,sm:ya,md:ya,lg:ya,xl:ya,xxl:ya,widths:ee.array},Mw=function(t,r,n){return n===!0||n===""?t?"col":"col-".concat(r):n==="auto"?t?"col-auto":"col-".concat(r,"-auto"):t?"col-".concat(n):"col-".concat(r,"-").concat(n)};function he(e){var t=e.className,r=e.cssModule,n=e.hidden,i=e.widths,s=i===void 0?HO:i,o=e.tag,a=o===void 0?"label":o,l=e.check,c=e.size,u=e.for,f=jO(e,LO),d=[];s.forEach(function(p,y){var m=e[p];if(delete f[p],!(!m&&m!=="")){var b=!y,x;if(Jx(m)){var P,F=b?"-":"-".concat(p,"-");x=Mw(b,p,m.size),d.push(Gt(Yt((P={},Ep(P,x,m.size||m.size===""),Ep(P,"order".concat(F).concat(m.order),m.order||m.order===0),Ep(P,"offset".concat(F).concat(m.offset),m.offset||m.offset===0),P))),r)}else x=Mw(b,p,m),d.push(x)}});var h=c||d.length,g=!(l||h),v=Gt(Yt(t,n?"visually-hidden":!1,l?"form-check-label":!1,c?"col-form-label-".concat(c):!1,d,h?"col-form-label":!1,g?"form-label":!1),r);return pe.createElement(a,$m({htmlFor:u},f,{className:v}))}he.propTypes=GO;var VO=["className","closeClassName","closeAriaLabel","cssModule","tag","color","isOpen","toggle","children","transition","fade","innerRef"];function Um(){return Um=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Um.apply(this,arguments)}function kw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function nc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kw(Object(r),!0).forEach(function(n){zO(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zO(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WO(e,t){if(e==null)return{};var r=$O(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $O(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,s;for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var UO={children:ee.node,className:ee.string,closeClassName:ee.string,closeAriaLabel:ee.string,color:ee.string,cssModule:ee.object,fade:ee.bool,innerRef:ee.oneOfType([ee.object,ee.string,ee.func]),isOpen:ee.bool,tag:Fr,toggle:ee.func,transition:ee.shape(Ci.propTypes)};function na(e){var t=e.className,r=e.closeClassName,n=e.closeAriaLabel,i=n===void 0?"Close":n,s=e.cssModule,o=e.tag,a=o===void 0?"div":o,l=e.color,c=l===void 0?"success":l,u=e.isOpen,f=u===void 0?!0:u,d=e.toggle,h=e.children,g=e.transition,v=g===void 0?nc(nc({},Ci.defaultProps),{},{unmountOnExit:!0}):g,p=e.fade,y=p===void 0?!0:p,m=e.innerRef,b=WO(e,VO),x=Gt(Yt(t,"alert","alert-".concat(c),{"alert-dismissible":d}),s),P=Gt(Yt("btn-close",r),s),F=nc(nc(nc({},Ci.defaultProps),v),{},{baseClass:y?v.baseClass:"",timeout:y?v.timeout:0});return pe.createElement(Ci,Um({},b,F,{tag:a,className:x,in:f,role:"alert",innerRef:m}),d?pe.createElement("button",{type:"button",className:P,"aria-label":i,onClick:d}):null,h)}na.propTypes=UO;function Km(e){"@babel/helpers - typeof";return Km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Km(e)}function Fw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function KO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fw(Object(r),!0).forEach(function(n){qO(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qO(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qm(){return qm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qm.apply(this,arguments)}function YO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Aw(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function XO(e,t,r){return t&&Aw(e.prototype,t),r&&Aw(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function QO(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ym(e,t)}function Ym(e,t){return Ym=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Ym(e,t)}function ZO(e){var t=eD();return function(){var n=Yh(e),i;if(t){var s=Yh(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return JO(this,i)}}function JO(e,t){if(t&&(Km(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return R3(e)}function R3(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eD(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Yh(e){return Yh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Yh(e)}var tD=["defaultOpen"],E3=function(e){QO(r,e);var t=ZO(r);function r(n){var i;return YO(this,r),i=t.call(this,n),i.state={isOpen:n.defaultOpen||!1},i.toggle=i.toggle.bind(R3(i)),i}return XO(r,[{key:"toggle",value:function(i){var s=this;this.setState(function(o){return{isOpen:!o.isOpen}},function(){s.props.onToggle&&s.props.onToggle(i,s.state.isOpen)})}},{key:"render",value:function(){return pe.createElement(U0,qm({isOpen:this.state.isOpen,toggle:this.toggle},Mu(this.props,tD)))}}]),r}(U.Component);E3.propTypes=KO({defaultOpen:ee.bool,onToggle:ee.func},U0.propTypes);const mt=({icon:e,children:t,...r})=>T.jsxs(zt,{...r,children:[T.jsx(Zt,{icon:e,className:"me-1"}),t]}),ia=({onFileUpload:e,accept:t,children:r,...n})=>{const i=U.createRef(),s=a=>{var c;if(!((c=a.target.files)!=null&&c.length))return;const l=new FileReader;l.onload=function(){e(l.result),a.target.value=""},l.readAsText(a.target.files[0])},o=()=>{var a;(a=i==null?void 0:i.current)==null||a.click()};return T.jsxs(T.Fragment,{children:[T.jsx(Me,{innerRef:i,type:"file",accept:t,className:"d-none",onChange:s}),T.jsx(mt,{...n,onClick:o,children:r})]})},Sr=({chunkSize:e=200,value:t,...r})=>{const[n]=U.useState(t.split(`
`)),[i,s]=U.useState(n.slice(0,e)),[o,a]=U.useState(i.join(`
`)),l=c=>{const{scrollTop:u,scrollHeight:f,clientHeight:d}=c.target;if(u/(f-d)==1&&i.length<n.length){const g=[...i,...n.slice(i.length,i.length+e)];s(g),a(g.join(`
`))}};return T.jsx(Me,{...r,type:"textarea",value:o,onScroll:l})};function T3(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=T3(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Hs(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=T3(e))&&(n&&(n+=" "),n+=t);return n}const du=e=>typeof e=="number"&&!isNaN(e),Io=e=>typeof e=="string",Mn=e=>typeof e=="function",Zd=e=>Io(e)||Mn(e)?e:null,Xm=e=>U.isValidElement(e)||Io(e)||Mn(e)||du(e);function rD(e,t,r){r===void 0&&(r=300);const{scrollHeight:n,style:i}=e;requestAnimationFrame(()=>{i.minHeight="initial",i.height=n+"px",i.transition=`all ${r}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(t,r)})})}function Of(e){let{enter:t,exit:r,appendPosition:n=!1,collapse:i=!0,collapseDuration:s=300}=e;return function(o){let{children:a,position:l,preventExitTransition:c,done:u,nodeRef:f,isIn:d,playToast:h}=o;const g=n?`${t}--${l}`:t,v=n?`${r}--${l}`:r,p=U.useRef(0);return U.useLayoutEffect(()=>{const y=f.current,m=g.split(" "),b=x=>{x.target===f.current&&(h(),y.removeEventListener("animationend",b),y.removeEventListener("animationcancel",b),p.current===0&&x.type!=="animationcancel"&&y.classList.remove(...m))};y.classList.add(...m),y.addEventListener("animationend",b),y.addEventListener("animationcancel",b)},[]),U.useEffect(()=>{const y=f.current,m=()=>{y.removeEventListener("animationend",m),i?rD(y,u,s):u()};d||(c?m():(p.current=1,y.className+=` ${v}`,y.addEventListener("animationend",m)))},[d]),pe.createElement(pe.Fragment,null,a)}}function Ow(e,t){return e!=null?{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}:{}}const on=new Map;let hu=[];const Qm=new Set,nD=e=>Qm.forEach(t=>t(e)),P3=()=>on.size>0;function _3(e,t){var r;if(t)return!((r=on.get(t))==null||!r.isToastActive(e));let n=!1;return on.forEach(i=>{i.isToastActive(e)&&(n=!0)}),n}function M3(e,t){Xm(e)&&(P3()||hu.push({content:e,options:t}),on.forEach(r=>{r.buildToast(e,t)}))}function Dw(e,t){on.forEach(r=>{t!=null&&t!=null&&t.containerId?(t==null?void 0:t.containerId)===r.id&&r.toggle(e,t==null?void 0:t.id):r.toggle(e,t==null?void 0:t.id)})}function iD(e){const{subscribe:t,getSnapshot:r,setProps:n}=U.useRef(function(s){const o=s.containerId||1;return{subscribe(a){const l=function(u,f,d){let h=1,g=0,v=[],p=[],y=[],m=f;const b=new Map,x=new Set,P=()=>{y=Array.from(b.values()),x.forEach(O=>O())},F=O=>{p=O==null?[]:p.filter(j=>j!==O),P()},D=O=>{const{toastId:j,onOpen:H,updateId:W,children:G}=O.props,M=W==null;O.staleId&&b.delete(O.staleId),b.set(j,O),p=[...p,O.props.toastId].filter(k=>k!==O.staleId),P(),d(Ow(O,M?"added":"updated")),M&&Mn(H)&&H(U.isValidElement(G)&&G.props)};return{id:u,props:m,observe:O=>(x.add(O),()=>x.delete(O)),toggle:(O,j)=>{b.forEach(H=>{j!=null&&j!==H.props.toastId||Mn(H.toggle)&&H.toggle(O)})},removeToast:F,toasts:b,clearQueue:()=>{g-=v.length,v=[]},buildToast:(O,j)=>{if((B=>{let{containerId:V,toastId:$,updateId:Y}=B;const L=V?V!==u:u!==1,K=b.has($)&&Y==null;return L||K})(j))return;const{toastId:H,updateId:W,data:G,staleId:M,delay:k}=j,E=()=>{F(H)},w=W==null;w&&g++;const C={...m,style:m.toastStyle,key:h++,...Object.fromEntries(Object.entries(j).filter(B=>{let[V,$]=B;return $!=null})),toastId:H,updateId:W,data:G,closeToast:E,isIn:!1,className:Zd(j.className||m.toastClassName),bodyClassName:Zd(j.bodyClassName||m.bodyClassName),progressClassName:Zd(j.progressClassName||m.progressClassName),autoClose:!j.isLoading&&(S=j.autoClose,R=m.autoClose,S===!1||du(S)&&S>0?S:R),deleteToast(){const B=b.get(H),{onClose:V,children:$}=B.props;Mn(V)&&V(U.isValidElement($)&&$.props),d(Ow(B,"removed")),b.delete(H),g--,g<0&&(g=0),v.length>0?D(v.shift()):P()}};var S,R;C.closeButton=m.closeButton,j.closeButton===!1||Xm(j.closeButton)?C.closeButton=j.closeButton:j.closeButton===!0&&(C.closeButton=!Xm(m.closeButton)||m.closeButton);let _=O;U.isValidElement(O)&&!Io(O.type)?_=U.cloneElement(O,{closeToast:E,toastProps:C,data:G}):Mn(O)&&(_=O({closeToast:E,toastProps:C,data:G}));const N={content:_,props:C,staleId:M};m.limit&&m.limit>0&&g>m.limit&&w?v.push(N):du(k)?setTimeout(()=>{D(N)},k):D(N)},setProps(O){m=O},setToggle:(O,j)=>{b.get(O).toggle=j},isToastActive:O=>p.some(j=>j===O),getSnapshot:()=>y}}(o,s,nD);on.set(o,l);const c=l.observe(a);return hu.forEach(u=>M3(u.content,u.options)),hu=[],()=>{c(),on.delete(o)}},setProps(a){var l;(l=on.get(o))==null||l.setProps(a)},getSnapshot(){var a;return(a=on.get(o))==null?void 0:a.getSnapshot()}}}(e)).current;n(e);const i=U.useSyncExternalStore(t,r,r);return{getToastToRender:function(s){if(!i)return[];const o=new Map;return e.newestOnTop&&i.reverse(),i.forEach(a=>{const{position:l}=a.props;o.has(l)||o.set(l,[]),o.get(l).push(a)}),Array.from(o,a=>s(a[0],a[1]))},isToastActive:_3,count:i==null?void 0:i.length}}function sD(e){const[t,r]=U.useState(!1),[n,i]=U.useState(!1),s=U.useRef(null),o=U.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:a,pauseOnHover:l,closeToast:c,onClick:u,closeOnClick:f}=e;var d,h;function g(){r(!0)}function v(){r(!1)}function p(b){const x=s.current;o.canDrag&&x&&(o.didMove=!0,t&&v(),o.delta=e.draggableDirection==="x"?b.clientX-o.start:b.clientY-o.start,o.start!==b.clientX&&(o.canCloseOnClick=!1),x.style.transform=`translate3d(${e.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`},0)`,x.style.opacity=""+(1-Math.abs(o.delta/o.removalDistance)))}function y(){document.removeEventListener("pointermove",p),document.removeEventListener("pointerup",y);const b=s.current;if(o.canDrag&&o.didMove&&b){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return i(!0),e.closeToast(),void e.collapseAll();b.style.transition="transform 0.2s, opacity 0.2s",b.style.removeProperty("transform"),b.style.removeProperty("opacity")}}(h=on.get((d={id:e.toastId,containerId:e.containerId,fn:r}).containerId||1))==null||h.setToggle(d.id,d.fn),U.useEffect(()=>{if(e.pauseOnFocusLoss)return document.hasFocus()||v(),window.addEventListener("focus",g),window.addEventListener("blur",v),()=>{window.removeEventListener("focus",g),window.removeEventListener("blur",v)}},[e.pauseOnFocusLoss]);const m={onPointerDown:function(b){if(e.draggable===!0||e.draggable===b.pointerType){o.didMove=!1,document.addEventListener("pointermove",p),document.addEventListener("pointerup",y);const x=s.current;o.canCloseOnClick=!0,o.canDrag=!0,x.style.transition="none",e.draggableDirection==="x"?(o.start=b.clientX,o.removalDistance=x.offsetWidth*(e.draggablePercent/100)):(o.start=b.clientY,o.removalDistance=x.offsetHeight*(e.draggablePercent===80?1.5*e.draggablePercent:e.draggablePercent)/100)}},onPointerUp:function(b){const{top:x,bottom:P,left:F,right:D}=s.current.getBoundingClientRect();b.nativeEvent.type!=="touchend"&&e.pauseOnHover&&b.clientX>=F&&b.clientX<=D&&b.clientY>=x&&b.clientY<=P?v():g()}};return a&&l&&(m.onMouseEnter=v,e.stacked||(m.onMouseLeave=g)),f&&(m.onClick=b=>{u&&u(b),o.canCloseOnClick&&c()}),{playToast:g,pauseToast:v,isRunning:t,preventExitTransition:n,toastRef:s,eventHandlers:m}}function oD(e){let{delay:t,isRunning:r,closeToast:n,type:i="default",hide:s,className:o,style:a,controlledProgress:l,progress:c,rtl:u,isIn:f,theme:d}=e;const h=s||l&&c===0,g={...a,animationDuration:`${t}ms`,animationPlayState:r?"running":"paused"};l&&(g.transform=`scaleX(${c})`);const v=Hs("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${d}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":u}),p=Mn(o)?o({rtl:u,type:i,defaultClassName:v}):Hs(v,o),y={[l&&c>=1?"onTransitionEnd":"onAnimationEnd"]:l&&c<1?null:()=>{f&&n()}};return pe.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":h},pe.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${d} Toastify__progress-bar--${i}`}),pe.createElement("div",{role:"progressbar","aria-hidden":h?"true":"false","aria-label":"notification timer",className:p,style:g,...y}))}let aD=1;const k3=()=>""+aD++;function lD(e){return e&&(Io(e.toastId)||du(e.toastId))?e.toastId:k3()}function Fc(e,t){return M3(e,t),t.toastId}function Xh(e,t){return{...t,type:t&&t.type||e,toastId:lD(t)}}function Ed(e){return(t,r)=>Fc(t,Xh(e,r))}function kt(e,t){return Fc(e,Xh("default",t))}kt.loading=(e,t)=>Fc(e,Xh("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t})),kt.promise=function(e,t,r){let n,{pending:i,error:s,success:o}=t;i&&(n=Io(i)?kt.loading(i,r):kt.loading(i.render,{...r,...i}));const a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(u,f,d)=>{if(f==null)return void kt.dismiss(n);const h={type:u,...a,...r,data:d},g=Io(f)?{render:f}:f;return n?kt.update(n,{...h,...g}):kt(g.render,{...h,...g}),d},c=Mn(e)?e():e;return c.then(u=>l("success",o,u)).catch(u=>l("error",s,u)),c},kt.success=Ed("success"),kt.info=Ed("info"),kt.error=Ed("error"),kt.warning=Ed("warning"),kt.warn=kt.warning,kt.dark=(e,t)=>Fc(e,Xh("default",{theme:"dark",...t})),kt.dismiss=function(e){(function(t){var r;if(P3()){if(t==null||Io(r=t)||du(r))on.forEach(n=>{n.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){const n=on.get(t.containerId);n?n.removeToast(t.id):on.forEach(i=>{i.removeToast(t.id)})}}else hu=hu.filter(n=>t!=null&&n.options.toastId!==t)})(e)},kt.clearWaitingQueue=function(e){e===void 0&&(e={}),on.forEach(t=>{!t.props.limit||e.containerId&&t.id!==e.containerId||t.clearQueue()})},kt.isActive=_3,kt.update=function(e,t){t===void 0&&(t={});const r=((n,i)=>{var s;let{containerId:o}=i;return(s=on.get(o||1))==null?void 0:s.toasts.get(n)})(e,t);if(r){const{props:n,content:i}=r,s={delay:100,...n,...t,toastId:t.toastId||e,updateId:k3()};s.toastId!==e&&(s.staleId=e);const o=s.render||i;delete s.render,Fc(o,s)}},kt.done=e=>{kt.update(e,{progress:1})},kt.onChange=function(e){return Qm.add(e),()=>{Qm.delete(e)}},kt.play=e=>Dw(!0,e),kt.pause=e=>Dw(!1,e);const cD=typeof window<"u"?U.useLayoutEffect:U.useEffect,Td=e=>{let{theme:t,type:r,isLoading:n,...i}=e;return pe.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${r})`,...i})},Pp={info:function(e){return pe.createElement(Td,{...e},pe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return pe.createElement(Td,{...e},pe.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return pe.createElement(Td,{...e},pe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return pe.createElement(Td,{...e},pe.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return pe.createElement("div",{className:"Toastify__spinner"})}},uD=e=>{const{isRunning:t,preventExitTransition:r,toastRef:n,eventHandlers:i,playToast:s}=sD(e),{closeButton:o,children:a,autoClose:l,onClick:c,type:u,hideProgressBar:f,closeToast:d,transition:h,position:g,className:v,style:p,bodyClassName:y,bodyStyle:m,progressClassName:b,progressStyle:x,updateId:P,role:F,progress:D,rtl:O,toastId:j,deleteToast:H,isIn:W,isLoading:G,closeOnClick:M,theme:k}=e,E=Hs("Toastify__toast",`Toastify__toast-theme--${k}`,`Toastify__toast--${u}`,{"Toastify__toast--rtl":O},{"Toastify__toast--close-on-click":M}),w=Mn(v)?v({rtl:O,position:g,type:u,defaultClassName:E}):Hs(E,v),C=function(N){let{theme:B,type:V,isLoading:$,icon:Y}=N,L=null;const K={theme:B,type:V};return Y===!1||(Mn(Y)?L=Y({...K,isLoading:$}):U.isValidElement(Y)?L=U.cloneElement(Y,K):$?L=Pp.spinner():(I=>I in Pp)(V)&&(L=Pp[V](K))),L}(e),S=!!D||!l,R={closeToast:d,type:u,theme:k};let _=null;return o===!1||(_=Mn(o)?o(R):U.isValidElement(o)?U.cloneElement(o,R):function(N){let{closeToast:B,theme:V,ariaLabel:$="close"}=N;return pe.createElement("button",{className:`Toastify__close-button Toastify__close-button--${V}`,type:"button",onClick:Y=>{Y.stopPropagation(),B(Y)},"aria-label":$},pe.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},pe.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(R)),pe.createElement(h,{isIn:W,done:H,position:g,preventExitTransition:r,nodeRef:n,playToast:s},pe.createElement("div",{id:j,onClick:c,"data-in":W,className:w,...i,style:p,ref:n},pe.createElement("div",{...W&&{role:F},className:Mn(y)?y({type:u}):Hs("Toastify__toast-body",y),style:m},C!=null&&pe.createElement("div",{className:Hs("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!G})},C),pe.createElement("div",null,a)),_,pe.createElement(oD,{...P&&!S?{key:`pb-${P}`}:{},rtl:O,theme:k,delay:l,isRunning:t,isIn:W,closeToast:d,hide:f,type:u,style:x,className:b,controlledProgress:S,progress:D||0})))},Df=function(e,t){return t===void 0&&(t=!1),{enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}},dD=Of(Df("bounce",!0));Of(Df("slide",!0));Of(Df("zoom"));Of(Df("flip"));const hD={position:"top-right",transition:dD,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};function fD(e){let t={...hD,...e};const r=e.stacked,[n,i]=U.useState(!0),s=U.useRef(null),{getToastToRender:o,isToastActive:a,count:l}=iD(t),{className:c,style:u,rtl:f,containerId:d}=t;function h(v){const p=Hs("Toastify__toast-container",`Toastify__toast-container--${v}`,{"Toastify__toast-container--rtl":f});return Mn(c)?c({position:v,rtl:f,defaultClassName:p}):Hs(p,Zd(c))}function g(){r&&(i(!0),kt.play())}return cD(()=>{if(r){var v;const p=s.current.querySelectorAll('[data-in="true"]'),y=12,m=(v=t.position)==null?void 0:v.includes("top");let b=0,x=0;Array.from(p).reverse().forEach((P,F)=>{const D=P;D.classList.add("Toastify__toast--stacked"),F>0&&(D.dataset.collapsed=`${n}`),D.dataset.pos||(D.dataset.pos=m?"top":"bot");const O=b*(n?.2:1)+(n?0:y*F);D.style.setProperty("--y",`${m?O:-1*O}px`),D.style.setProperty("--g",`${y}`),D.style.setProperty("--s",""+(1-(n?x:0))),b+=D.offsetHeight,x+=.025})}},[n,l,r]),pe.createElement("div",{ref:s,className:"Toastify",id:d,onMouseEnter:()=>{r&&(i(!1),kt.pause())},onMouseLeave:g},o((v,p)=>{const y=p.length?{...u}:{...u,pointerEvents:"none"};return pe.createElement("div",{className:h(v),style:y,key:`container-${v}`},p.map(m=>{let{content:b,props:x}=m;return pe.createElement(uD,{...x,stacked:r,collapseAll:g,isIn:a(x.toastId,x.containerId),style:x.style,key:`toast-${x.key}`},b)}))}))}const pD=e=>{switch(!0){case e.startsWith("ITPL"):case e.startsWith("ITPO"):case e.startsWith("ITFO"):case e.startsWith("ITMW"):case e.startsWith("ITRW"):case e.startsWith("ITAM"):case e.startsWith("ITAR"):case e.startsWith("ITHE"):case e.startsWith("ITBE"):return!0}return!1},gD=e=>e[2]==="string"?`"${e[1]}"`:e[1],mD=e=>{switch(e){case Xi.STRENGTH:return"NAME_STR_NEEDED";case Xi.DEXTERITY:return"NAME_DEX_NEEDED";case Xi.MANA_MAX:return"NAME_MANA_NEEDED"}return"(НАЗВАНИЕ АТРИБУТА)"},vD=(e,t)=>{var u,f,d,h,g,v,p,y,m,b,x,P;const r=(e==null?void 0:e.protection)||[0,0,0,0,0,0,0,0],n=e.text?C_(e.text.replaceAll('"',"'").replaceAll(`
`,""),42):[],i=n.length;i!=0&&pD(e.id)&&(n[i-1]+=` (T${e.tier})`);const s=n.map(F=>[`"${F}"`,9999]),o=((f=(u=e.meta)==null?void 0:u.durability)==null?void 0:f.value)||0,a=[...r[jt.EDGE]===r[jt.BLUNT]?[["NAME_PROT_WEAPON_DAMAGE",r[jt.EDGE]]]:[["NAME_Prot_Edge",r[jt.EDGE]],["NAME_Prot_Blunt",r[jt.BLUNT]]],["NAME_Prot_Point",r[jt.POINT]],["NAME_Prot_Fire",r[jt.FIRE]],["NAME_Prot_Magic",r[jt.MAGIC]],...s,["NAME_DAMAGE",e.damageTotal],[mD(e.condAttr[0]),e.condValue[0]],["NAME_BLADE_LENGTH",e.range],["NAME_PALADINSPELL",e.id.includes("ITRU_")&&e.id.includes("PAL")?9999:0],...e.id.includes("ITRU_")||e.id.includes("ITSC_")?[["NAME_MANAKOSTEN",t.length?t[e.spell].manaCost:0]]:[],[`NAME_DAM_${Object.keys(ct).find(F=>{var D;return ct[F]==(t.length&&e.spell?(D=t[e.spell])==null?void 0:D.damageType:0)})}`,t.length&&e.spell?(d=t[e.spell])==null?void 0:d.damagePerLevel:0],["NAME_HEALINGPERCAST",t.length&&e.spell?t[e.spell].hpPerCast:0],...e.id.includes("ITRU_")||e.id.includes("ITSC_")?[[e.id.includes("ITRU_PALLIGHT")||e.id.includes("ITRU_LIGHT")?"NAME_DURATION":"NAME_DURATION_SEC",t.length?t[e.spell].duration:0]]:[],["NAME_MAG_CIRCLE",e.magicCircle||0],["CHARGEABLE_SPELL",t.length&&e.spell&&t[e.spell].metaIsChargeable?9999:0],["NAME_Bonus_HP",((h=e.meta)==null?void 0:h.restoreHp)||0],["NAME_Bonus_Mana",((g=e.meta)==null?void 0:g.restoreMp)||0],["NAME_BONUS_STAMINA",((v=e.meta)==null?void 0:v.restoreStam)||0],["NAME_BONUS_STR",((p=e.meta)==null?void 0:p.bonusStr)||0],["NAME_BONUS_DEX",((y=e.meta)==null?void 0:y.bonusDex)||0],["NAME_DRUNK_LEVEL",((m=e.meta)==null?void 0:m.drunkLevel)||0],["NAME_EFFECT_DURATION",((b=e.meta)==null?void 0:b.effectDuration)||0],...o!=100?[["NAME_DURABILITY",o||0]]:[],...((P=(x=e.meta)==null?void 0:x.durability)==null?void 0:P.value)===0?[["NAME_BROKEN",9999]]:[],["NAME_Value",(e==null?void 0:e.value)||0]],l=S_(a.filter(F=>F[1]!==0),5,["",0]),c=[];return l.forEach((F,D)=>{c.push([`text[${D}]`,F[0],"const"]),F[1]!==9999&&c.push([`count[${D}]`,F[1],"int"])}),c},F3=(e,t)=>{const r=vD(e,t),n=[];new Array(Wg).fill(null).forEach((a,l)=>{e.condValue[l]!=0&&(n.push([`cond_atr[${l}]`,e.condAttr[l],"int"]),n.push([`cond_value[${l}]`,e.condValue[l],"int"]))});const i=[["name",e.name,"string"],["mainflag",e.mainflag,"int"],["flags",e.flags,"int"],["material",e.material,"int"],["value",e.value,"int"],["visual",e.visual,"string"],["description","name","const"],["damagetype",e.damageType,"int"],["damageTotal",e.damageTotal,"int"],...n,...((e==null?void 0:e.protection)||[0,0,0,0,0,0,0,0]).map((a,l)=>[`protection[${l}]`,a,"int"]),...r,["wear",e.wearEffect,"int"],["visual_change",e.visualChange,"string"],["effect",e.effect,"string"],["visual_skin",e.visualSkin,"int"],["scemeName",e.scemeName,"string"],["munition",e.munition,"const"],["range",e.range,"int"],["mag_circle",e.magicCircle,"int"],["spell",e.spell,"int"],["inv_zbias",e.invZBias,"int"],["inv_rotx",e.invRotX,"int"],["inv_roty",e.invRotY,"int"],["inv_rotz",e.invRotZ,"int"],["inv_animate",e.intAnimate,"int"]];e.onState&&i.push(["on_state[0]",`use_${e.id}`,"const"]);const s=i.filter(a=>a[0]==="cond_atr[2]"||!!a[1]);return`instance ${e.id} (C_ITEM)
{
${s.map(a=>`	${a[0]} = ${gD(a)};`).join(`
`)}
};${e.onState?`
func void use_${e.id}()
{
${e.onState}
};`:""}`},yD=({rowData:e})=>{const{isOpen:t,toggle:r}=$r(`${Wn}:code`),n=JSON.parse(window.localStorage.getItem("spells")||"[]");n.length||console.warn("Spells is empty!");const i=e.reduce((d,h)=>{var y,m,b,x;const g=(m=(y=h==null?void 0:h.meta)==null?void 0:y.durability)==null?void 0:m.useDurability,v=((x=(b=h==null?void 0:h.meta)==null?void 0:b.durability)==null?void 0:x.segments)||10;if(!g)return[...d,h];const p=new Array(100/v).fill(null).map((P,F)=>{var O;const D=100-v*(F+1);return{...h,id:`${h.id}_D${D}`,damageTotal:D===0?0:h.damageTotal,protection:D===0?[0,0,0,0,0,0,0,0]:h.protection,meta:{...h.meta,durability:{...(O=h.meta)==null?void 0:O.durability,useDurability:!1,value:D}}}});return[...d,h,...p]},[]),s=`const string NAME_BONUS_STAMINA = "Прибавка к выносливости:";
const string NAME_DRUNK_LEVEL = "Очки опьянения:";
const string NAME_EFFECT_DURATION = "Продолжительность эффекта (сек):";
const string NAME_DURATION_SEC = "Длительность (сек):";
const string NAME_BLADE_LENGTH = "Длина:";
const string NAME_DURABILITY = "Прочность:";
const string NAME_BROKEN = "Предмет сломан";
const string NAME_PROT_WEAPON_DAMAGE = "Защита от оружия:";
const string NAME_PROT_BLUNT = "Защита от дробящего:";
const string CHARGEABLE_SPELL = "Заряжаемое заклинание";
const int STAMINA_ESSENZ = 3;
const int STAMINA_EXTRAKT = 5;
const int STAMINA_ELIXIER = 7;
const int ITEM_NONE = 0;

`+i.map(d=>F3(d,n)).join(`

`),o=`<items>
`+i.map(d=>`<item><instance>${d.id}</instance></item>`).join(`
`)+`
</items>`,a=i.reduce((d,h)=>({...d,[h.id]:h}),{}),l="ITEM <- "+JSON.stringify(a,null,2).replace(/"(.+?)": /g,"$1 = ")+`

ITEM_VALUES <- ITEM.values()
`,c=U.useCallback(()=>{navigator.clipboard.writeText(s),kt("Скопировано!")},[s]),u=U.useCallback(()=>{navigator.clipboard.writeText(o),kt("Скопировано!")},[o]),f=U.useCallback(()=>{navigator.clipboard.writeText(l),kt("Скопировано!")},[l]);return T.jsxs(Ur,{isOpen:t,toggle:r,size:"lg",children:[T.jsx(Br,{toggle:r,children:"Код"}),T.jsxs(Hr,{children:[T.jsxs(fe,{children:[T.jsx(he,{for:"daedalus",children:"Daedalus код"}),T.jsx(Sr,{id:"daedalus",className:"mb-2",value:s,readOnly:!0,style:{minHeight:300}}),T.jsx(mt,{color:"primary",icon:mr,onClick:c,children:"Скопировать"})]}),T.jsxs(fe,{children:[T.jsx(he,{for:"items",children:"items.xml"}),T.jsx(Sr,{id:"items",className:"mb-2",value:o,readOnly:!0,style:{minHeight:300}}),T.jsx(mt,{color:"primary",icon:mr,onClick:u,children:"Скопировать"})]}),T.jsxs(fe,{children:[T.jsx(he,{for:"squirrel",children:"Squirrel"}),T.jsx(Sr,{id:"squirrel",className:"mb-2",value:l,readOnly:!0,style:{minHeight:300}}),T.jsx(mt,{color:"primary",icon:mr,onClick:f,children:"Скопировать"})]})]}),T.jsx(Gr,{children:T.jsx(zt,{color:"secondary",onClick:r,children:"Закрыть"})})]})},bD=e=>{var i,s,o,a;const t=(s=(i=e==null?void 0:e.meta)==null?void 0:i.durability)==null?void 0:s.useDurability,r=((a=(o=e==null?void 0:e.meta)==null?void 0:o.durability)==null?void 0:a.segments)||10;if(!t)return[e];const n=new Array(100/r).fill(null).map((l,c)=>{var f;const u=100-r*(c+1);return{...e,id:`${e.id}_D${u}`,damageTotal:u===0?0:e.damageTotal,protection:u===0?[0,0,0,0,0,0,0,0]:e.protection,meta:{...e.meta,durability:{...(f=e.meta)==null?void 0:f.durability,useDurability:!1,value:u}}}});return[e,...n]},wD=()=>{const{isOpen:e,toggle:t,params:r}=$r(`${Wn}:code-single`),n=JSON.parse(window.localStorage.getItem("spells")||"[]");n.length||console.warn("Spells is empty!");const i=r!=null&&r.data?bD(r.data).map(o=>F3(o,n)).join(`

`):"",s=U.useCallback(()=>{navigator.clipboard.writeText(i),kt("Скопировано!")},[i]);return T.jsxs(Ur,{isOpen:e,toggle:t,size:"lg",children:[T.jsx(Br,{toggle:t,children:"Код"}),T.jsx(Hr,{children:T.jsxs(fe,{children:[T.jsx(he,{for:"exampleEmail",children:"Daedalus код"}),T.jsx(Sr,{id:"squirrel",className:"mb-2",value:i,readOnly:!0,style:{minHeight:300}}),T.jsx(mt,{color:"primary",icon:mr,onClick:s,children:"Скопировать"})]})}),T.jsx(Gr,{children:T.jsx(zt,{color:"secondary",onClick:t,children:"Закрыть"})})]})},Iw=" ",vl=e=>{let t=typeof e,r="";if(t==="string"||t==="number"||t==="undefined")return e||"";if(Array.isArray(e)&&e.length>0)for(let n=0,i=e.length;n<i;++n)t=vl(e[n]),t!==""&&(r+=(r&&Iw)+t);else{const n=Object.keys(e);for(let i=0,s=n.length;i<s;++i)Object.prototype.hasOwnProperty.call(e,n[i])&&e[n[i]]&&(r+=(r&&Iw)+n[i])}return r};const A3=({icon:e,align:t,onClick:r,className:n,iconClassName:i,children:s})=>{const o=U.useMemo(()=>vl(["inner-addon",{[`${t}-addon`]:!!e},n]),[t,e,n]),a=U.useMemo(()=>vl(["glyphicon",{"glyphicon-button":!!r},i]),[i,r]);return T.jsxs("div",{className:o,children:[T.jsx("span",{className:a,onClick:r,children:e&&T.jsx(Zt,{icon:e})}),s]})};A3.defaultProps={align:"left"};const Nw=" ",CD=/\s+/g,SD=e=>l_(Nw,n_(CD,Nw,hx(e))),xD=(e,t)=>oP(r=>zP(r,e),t),RD=e=>e.preventDefault(),ED=(e,t,r)=>{if(!t.length||!e)return r;const n=t.find(i=>i.value===e);return n?n.displayValue:e},Gs=({value:e,onChange:t,onClear:r,options:n,placeholder:i,disabled:s,className:o,valid:a,invalid:l})=>{const[c,u]=U.useState(!1),[f,d]=U.useState(""),h=U.useCallback(()=>u(!c),[c,u]),g=U.useCallback(x=>()=>{t(x)},[t]),v=U.useCallback(x=>d(x.target.value),[d]),p=U.useCallback(x=>{d(""),r&&r(x)},[d,r]),y=U.useMemo(()=>{const x=SD(f);return(x.length?n.filter(({displayValue:F,skip:D})=>D?!0:xD(hx(F),x)):n).map(F=>T.jsx(vw,{active:e===F.value,onClick:g(F.value),children:F.displayValue},F.value))},[n,e,f,g]),m=U.useMemo(()=>ED(e,n,i),[e,n,i]),b=U.useMemo(()=>vl(["form-control text-start",{disabled:s,"is-valid":a,"is-invalid":l},o]),[o,s,a,l]);return T.jsxs(U0,{isOpen:c,toggle:h,className:"dropdown-search-select",children:[T.jsx(y3,{tag:"button",className:b,disabled:s,onClick:RD,children:T.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[m," ",T.jsx(Zt,{icon:$T,style:{height:"12px"}})]})}),T.jsxs(m3,{className:"mt-2",children:[T.jsx("div",{className:"px-2",children:T.jsx(A3,{align:"right",icon:f===""?null:KT,onClick:p,className:"clear-icon",children:T.jsx(Me,{type:"text",placeholder:"Найти",value:f,onChange:v})})}),T.jsx(vw,{divider:!0}),T.jsx("div",{className:"drowdown-menu-container",children:y.length?y:T.jsx("div",{className:"text-center",children:"Ничего не найдено"})})]})]})};Gs.defaultProps={placeholder:"",className:"",disabled:!1,valid:!1,invalid:!1,onClear:()=>{}};const TD=(e,t)=>t.filter(r=>(e&r.value)!=0).map(r=>r.displayValue).join(" | "),X0=({id:e,value:t,onChange:r,options:n,placeholder:i,disabled:s})=>{const o=a=>l=>{l.target.checked?r(t|a):r(t&~a)};return T.jsxs(E3,{children:[T.jsx(y3,{id:e,tag:"button",className:"form-select text-start cursor-default",disabled:s,children:TD(t,n)||i}),T.jsx(m3,{className:"px-2",children:n.map((a,l)=>T.jsxs(fe,{check:!0,children:[T.jsx(Me,{type:"checkbox",onChange:o(a.value),checked:(t&a.value)!=0}),T.jsx(he,{check:!0,children:a.displayValue})]},l))})]})},Hn={NONE:0,MILITIA:1,GUARD:2,MERCENARIES:3,BANDITS:4,FIRE_MAGES:5,WATER_MAGES:6,DARK_MAGES:7,TRADE:8,FARMERS:9},PD={[Hn.NONE]:"Нет",[Hn.MILITIA]:"Ополчение",[Hn.GUARD]:"Гвардия",[Hn.MERCENARIES]:"Наёмники",[Hn.BANDITS]:"Бандиты",[Hn.FIRE_MAGES]:"Маги огня",[Hn.WATER_MAGES]:"Маги воды",[Hn.DARK_MAGES]:"Темные маги",[Hn.TRADE]:"Торговая гильдия",[Hn.FARMERS]:"Фермеры"},Lw={trader:"Торговец",melee:"Учитель ближнего боя",ranged:"Учитель дальнего боя",smith:"Кузнец",tanner:"Кожевник",cook:"Повар",carpenter:"Плотник",alchemist:"Алхимик",thief:"Взломщик",hunter:"Охотник",jeweler:"Ювелир",magic:"Учитель магии"},_D=()=>{const e=Object.keys(Lw),t=Object.keys(Hn),r=[];for(let n=0;n<e.length;++n){const i=Lw[e[n]];for(let s=0;s<t.length;++s){const o=Hn[t[s]],a=PD[o];r.push({id:`${e[n]}.${o}`,name:o===0?i:`${i} (${a})`})}}return r},jw={restoreHp:0,restoreMp:0,restoreStam:0,effectDuration:0,bonusStr:0,bonusDex:0,drunkLevel:0,maskedName:"",weight:0,receipt:{resultItem:"",resultCount:1,ingredients:[],isSystem:!1,category:"",traders:[]},durability:{value:100,useDurability:!1,segments:10,damageDecreaseFormula:"d - (1 * s)"},isDisabled:!1},MD=({rowData:e,setRowData:t})=>{const{isOpen:r,toggle:n,params:i,scrollTop:s}=$r(`${Wn}:edit`),[o,a]=U.useState(""),[l,c]=U.useState(""),[u,f]=U.useState(""),[d,h]=U.useState(Bn.NF),[g,v]=U.useState(Nr.SWD),[p,y]=U.useState(Os.WOOD),[m,b]=U.useState(0),[x,P]=U.useState(ct.EDGE),[F,D]=U.useState(""),[O,j]=U.useState(55),[H,W]=U.useState([0,0,0]),[G,M]=U.useState([0,0,0]),[k,E]=U.useState(""),[w,C]=U.useState(""),[S,R]=U.useState(0),[_,N]=U.useState([0,0,0,0,0,0,0,0]),[B,V]=U.useState(""),[$,Y]=U.useState(Ba.NONE),[L,K]=U.useState(""),[I,A]=U.useState(""),[z,q]=U.useState(0),[J,X]=U.useState(0),[Z,ie]=U.useState(""),[se,Q]=U.useState(0),[re,ne]=U.useState(0),[ue,de]=U.useState(0),[ge,we]=U.useState(0),[xe,Fe]=U.useState(0),[De,Le]=U.useState(0),[He,it]=U.useState(0),[Qe,rt]=U.useState(""),[Pe,Ie]=U.useState(jw);U.useEffect(()=>{var oe,_e,Ve,ft,ot,St,Pt,lt,le,me,Te,ze,at,Oe,Ze,Xe,Je,Ye,ut,bt,Wt,Lt,er,tr,Rr,te,ye,Ae,Be,st,$e,Ke;f(((oe=i==null?void 0:i.data)==null?void 0:oe.name)??""),c(((_e=i==null?void 0:i.data)==null?void 0:_e.id)??""),h(((Ve=i==null?void 0:i.data)==null?void 0:Ve.mainflag)??Bn.NONE),v(((ft=i==null?void 0:i.data)==null?void 0:ft.flags)??0),b(((ot=i==null?void 0:i.data)==null?void 0:ot.damageTotal)??0),P(((St=i==null?void 0:i.data)==null?void 0:St.damageType)??ct.INVALID),D(((Pt=i==null?void 0:i.data)==null?void 0:Pt.munition)??""),j(((lt=i==null?void 0:i.data)==null?void 0:lt.range)??0),y(((le=i==null?void 0:i.data)==null?void 0:le.material)??Os.WOOD),W(((me=i==null?void 0:i.data)==null?void 0:me.condAttr)??[0,0,0]),M(((Te=i==null?void 0:i.data)==null?void 0:Te.condValue)??[0,0,0]),E(((ze=i==null?void 0:i.data)==null?void 0:ze.visual)??""),C(((at=i==null?void 0:i.data)==null?void 0:at.visualChange)??""),R(((Oe=i==null?void 0:i.data)==null?void 0:Oe.visualSkin)??0),N(((Ze=i==null?void 0:i.data)==null?void 0:Ze.protection)??[0,0,0,0,0,0,0,0]),V(((Xe=i==null?void 0:i.data)==null?void 0:Xe.scemeName)??rn.NONE),Y(((Je=i==null?void 0:i.data)==null?void 0:Je.wearEffect)??Ba.NONE),K(((Ye=i==null?void 0:i.data)==null?void 0:Ye.effect)??""),A(((ut=i==null?void 0:i.data)==null?void 0:ut.text)??""),q(((bt=i==null?void 0:i.data)==null?void 0:bt.value)??0),X(((Wt=i==null?void 0:i.data)==null?void 0:Wt.tier)??0),ie(((Lt=i==null?void 0:i.data)==null?void 0:Lt.onUse)??""),Q(((er=i==null?void 0:i.data)==null?void 0:er.magicCircle)??0),ne(((tr=i==null?void 0:i.data)==null?void 0:tr.spell)??0),de(((Rr=i==null?void 0:i.data)==null?void 0:Rr.invZBias)??0),we(((te=i==null?void 0:i.data)==null?void 0:te.invRotX)??0),Fe(((ye=i==null?void 0:i.data)==null?void 0:ye.invRotY)??0),Le(((Ae=i==null?void 0:i.data)==null?void 0:Ae.invRotZ)??0),it(((Be=i==null?void 0:i.data)==null?void 0:Be.invAnimate)??0),rt(((st=i==null?void 0:i.data)==null?void 0:st.onState)??""),Ie({...jw,...($e=i==null?void 0:i.data)==null?void 0:$e.meta}),a(((Ke=i==null?void 0:i.data)==null?void 0:Ke.id)??"")},[i]);const[ae,ce]=U.useState(""),be=()=>{const oe={id:l.toUpperCase(),name:u,mainflag:d,flags:g,damageTotal:m,damageType:x,munition:F,range:O,material:p,condAttr:H,condValue:G,visual:k.toUpperCase(),visualChange:w.toUpperCase(),visualSkin:S,protection:_,scemeName:B.toUpperCase(),wearEffect:$,effect:L.toUpperCase(),text:I,value:z,onUse:Z,magicCircle:se,spell:re,invZBias:ue,invRotX:ge,invRotY:xe,invRotZ:De,invAnimate:He,tier:J,onState:Qe,meta:Pe};if(!u.length){ce("Название предмета не может быть пустым"),s();return}if(!l.length){ce("Код предмета не может быть пустым"),s();return}if(!k.length){ce("Модель предмета не может быть пустой"),s();return}if(k&&!/.+\.(?:3DS|MMS|ZEN)$/g.test(k.toUpperCase())){ce("Модель предмета должна иметь расширение .3DS или .MMS (для луков/арбалетов)"),s();return}if(w&&!/.+\.(?:ASC)$/g.test(w.toUpperCase())){ce("Одеваемая модель предмета должна иметь расширение .ASC"),s();return}if((i==null?void 0:i.type)==="edit")t(e.map(_e=>_e.id===o?oe:_e));else{if(e.find(_e=>_e.id===oe.id)){ce("Предмет с данным кодом уже существует"),s();return}t([...e,oe])}ce(""),n()},ve=()=>{Ie({...Pe,receipt:{...Pe.receipt,ingredients:[...Pe.receipt.ingredients,{id:"",count:1}]}})},qe=oe=>_e=>{Ie({...Pe,receipt:{...Pe.receipt,ingredients:Pe.receipt.ingredients.map((Ve,ft)=>ft===oe?{...Ve,id:_e}:Ve)}})},Ce=(oe,_e)=>{Ie({...Pe,receipt:{...Pe.receipt,ingredients:Pe.receipt.ingredients.map((Ve,ft)=>ft===oe?{...Ve,count:_e}:Ve)}})},Ne=oe=>()=>{Ie({...Pe,receipt:{...Pe.receipt,ingredients:Pe.receipt.ingredients.filter((_e,Ve)=>Ve!==oe)}})},Ue=oe=>()=>{if(oe>0){const _e=[...Pe.receipt.ingredients],Ve=_e[oe];_e[oe]=_e[oe-1],_e[oe-1]=Ve,Ie({...Pe,receipt:{...Pe.receipt,ingredients:_e}})}},Ge=oe=>()=>{if(oe<Pe.receipt.ingredients.length-1){const _e=[...Pe.receipt.ingredients],Ve=_e[oe];_e[oe]=_e[oe+1],_e[oe+1]=Ve,Ie({...Pe,receipt:{...Pe.receipt,ingredients:_e}})}},Ee=(i==null?void 0:i.type)==="view",yt=(i==null?void 0:i.type)==="view"?"Просмотреть предмет":(i==null?void 0:i.type)==="edit"?"Редактировать предмет":"Новый предмет";return T.jsxs(Ur,{isOpen:r,toggle:n,size:"xl",children:[T.jsx(Br,{toggle:n,children:yt}),T.jsxs(Hr,{children:[ae&&T.jsxs(na,{color:"danger",children:[T.jsx("strong",{children:"Ошибка:"})," ",ae]}),T.jsxs(Pr,{className:"mb-3",children:[T.jsx(Mr,{children:"Daedalus instance"}),T.jsxs(_r,{children:[T.jsxs("div",{className:"row",children:[T.jsx("div",{className:"col-md-6",children:T.jsxs(fe,{children:[T.jsx(he,{for:"instance",children:"Код предмета"}),T.jsx(Me,{id:"instance",readOnly:Ee,value:l,onChange:oe=>c(oe.target.value)}),T.jsx(Ct,{children:"Уникальный код daedalus инстанса"})]})}),T.jsx("div",{className:"col-md-6",children:T.jsxs(fe,{children:[T.jsx(he,{for:"name",children:"Название предмета"}),T.jsx(Me,{id:"name",readOnly:Ee,value:u,onChange:oe=>f(oe.target.value)}),T.jsx(Ct,{children:"Текст, выводимый при фокусе на предмет в инвентаре и в мире"})]})})]}),T.jsxs("div",{className:"row",children:[T.jsx("div",{className:"col-md-6",children:T.jsxs(fe,{children:[T.jsx(he,{for:"mainflag",children:"Тип предмета"}),T.jsxs(Me,{id:"mainflag",disabled:Ee,type:"select",value:d,onChange:oe=>h(Number(oe.target.value)),children:[T.jsx("option",{value:"",disabled:!0,children:"Выберите тип предмета"}),Object.keys(Ah).map(oe=>T.jsx("option",{value:oe,children:Ah[Number(oe)]},oe))]})]})}),T.jsx("div",{className:"col-md-6",children:T.jsxs(fe,{children:[T.jsx(he,{for:"flags",children:"Под-тип предмета"}),T.jsx(X0,{id:"flags",value:g,placeholder:"Нет",onChange:v,options:Object.keys(dl).map(oe=>({value:Number(oe),displayValue:dl[Number(oe)]})),disabled:Ee})]})})]}),T.jsxs(fe,{children:[T.jsx(he,{for:"material",children:"Материал"}),T.jsxs(Me,{id:"material",disabled:Ee,type:"select",value:p,onChange:oe=>y(Number(oe.target.value)),children:[T.jsx("option",{value:"",disabled:!0,children:"Выберите материал"}),Object.keys(S1).map(oe=>T.jsx("option",{value:oe,children:S1[Number(oe)]},oe))]}),T.jsx(Ct,{children:"От материала зависит звук удара по поверхности предмета"})]}),T.jsxs("div",{className:"row",children:[T.jsx("div",{className:"col-md-4",children:T.jsxs(fe,{children:[T.jsx(he,{for:"damageTotal",children:"Урон"}),T.jsx(Me,{type:"number",id:"damageTotal",readOnly:Ee,value:m,onChange:oe=>b(Number(oe.target.value)),onWheel:Rt})]})}),T.jsx("div",{className:"col-md-4",children:T.jsxs(fe,{children:[T.jsx(he,{for:"damageType",children:"Тип урона"}),T.jsxs(Me,{id:"damageType",disabled:Ee,type:"select",value:x,onChange:oe=>P(Number(oe.target.value)),children:[T.jsx("option",{value:"",disabled:!0,children:"Выберите тип урона"}),Object.keys(Js).map(oe=>T.jsx("option",{value:oe,children:Js[Number(oe)]},oe))]})]})}),T.jsx("div",{className:"col-md-4",children:T.jsxs(fe,{children:[T.jsx(he,{for:"range",children:"Радиус урона"}),T.jsx(Me,{type:"number",id:"range",readOnly:Ee,value:O,onChange:oe=>j(Number(oe.target.value)),onWheel:Rt})]})})]}),T.jsxs(fe,{children:[T.jsx(he,{for:"munition",children:"Боеприпасы"}),T.jsx(Me,{type:"text",id:"munition",readOnly:Ee,value:F,onChange:oe=>D(oe.target.value)})]}),T.jsxs("div",{className:"row",children:[T.jsx("div",{className:"col-md-6",children:T.jsxs(fe,{children:[T.jsx(he,{for:"condAttr",children:"Необходимый атрибут"}),new Array(Wg).fill(null).map((oe,_e)=>T.jsxs(Me,{className:"mb-2",disabled:Ee,type:"select",value:H[_e],onChange:Ve=>{const ft=[...H];ft[_e]=Number(Ve.target.value),W(ft)},children:[T.jsx("option",{value:"",disabled:!0,children:"Выберите необходимый атрибут"}),Object.keys(Ec).map(Ve=>T.jsx("option",{value:Ve,children:Ec[Number(Ve)]},Ve))]},_e))]})}),T.jsx("div",{className:"col-md-6",children:T.jsxs(fe,{children:[T.jsx(he,{for:"condValue",children:"Значение атрибута"}),new Array(Wg).fill(null).map((oe,_e)=>T.jsx(Me,{className:"mb-2",type:"number",readOnly:Ee,value:G[_e],onChange:Ve=>{const ft=[...G];ft[_e]=Number(Ve.target.value),M(ft)},onWheel:Rt},_e))]})})]}),T.jsxs("div",{className:"row",children:[T.jsx("div",{className:"col-md-4",children:T.jsxs(fe,{children:[T.jsx(he,{for:"visual",children:"Модель предмета"}),T.jsx(Me,{id:"visual",readOnly:Ee,value:k,onChange:oe=>E(oe.target.value)}),T.jsx(Ct,{children:"Модель предмета в инвентаре и мире"})]})}),T.jsx("div",{className:"col-md-4",children:T.jsxs(fe,{children:[T.jsx(he,{for:"visualChange",children:"Одеваемая модель"}),T.jsx(Me,{id:"visualChange",readOnly:Ee,value:w,onChange:oe=>C(oe.target.value)}),T.jsx(Ct,{children:"Модель, одеваемая на персонажа"})]})}),T.jsx("div",{className:"col-md-4",children:T.jsxs(fe,{children:[T.jsx(he,{for:"visual",children:"Номер скина"}),T.jsx(Me,{type:"number",id:"visual",readOnly:Ee,value:S,onChange:oe=>R(Number(oe.target.value)),onWheel:Rt}),T.jsx(Ct,{children:"Исп. для ретекустура. (Не все одеваемые модели поддерживают ретекстур)"})]})})]}),T.jsx("div",{className:"row",children:[jt.EDGE,jt.BLUNT,jt.POINT,jt.FIRE,jt.MAGIC].map(oe=>T.jsx("div",{className:"col-md-4",children:T.jsxs(fe,{children:[T.jsx(he,{for:`prot${oe}`,children:px[oe]}),T.jsx(Me,{type:"number",id:`prot${oe}`,readOnly:Ee,value:_[oe],onChange:_e=>{const Ve=[..._];Ve[oe]=Number(_e.target.value),N(Ve)},onWheel:Rt})]})},oe))}),T.jsxs("div",{className:"row",children:[T.jsx("div",{className:"col-md-6",children:T.jsxs(fe,{children:[T.jsx(he,{for:"scemeName",children:"Анимационная схема"}),T.jsxs(Me,{id:"scemeName",disabled:Ee,type:"select",value:B,onChange:oe=>V(oe.target.value),children:[T.jsx("option",{value:"-1",disabled:!0,children:"Выберите схему"}),Object.keys(w1).map(oe=>T.jsxs("option",{value:oe,children:[w1[oe]," (",oe,")"]},oe))]}),T.jsx(Ct,{children:"Набор анимаций, проигрываемых при использовании предмета"})]})}),T.jsx("div",{className:"col-md-6",children:T.jsxs(fe,{children:[T.jsx(he,{for:"scemeNameHandInput",children:"Анимационная схема (ручной ввод)"}),T.jsx(Me,{id:"scemeNameHandInput",disabled:Ee,value:B,onChange:oe=>V(oe.target.value)})]})})]}),T.jsxs(fe,{children:[T.jsx(he,{for:"onState",children:"Содержимое Daedalus функции, вызываемой при изменении состояния (приминение)"}),T.jsx(Me,{id:"onState",type:"textarea",disabled:Ee,value:Qe,onChange:oe=>rt(oe.target.value)})]}),T.jsxs(fe,{children:[T.jsx(he,{for:"wear",children:"wear"}),T.jsxs(Me,{id:"wear",disabled:Ee,type:"select",value:$,onChange:oe=>Y(Number(oe.target.value)),children:[T.jsx("option",{value:"",disabled:!0,children:"Выберите необходимый пункт"}),Object.keys(C1).map(oe=>T.jsx("option",{value:oe,children:C1[Number(oe)]},oe))]})]}),T.jsxs(fe,{children:[T.jsx(he,{for:"effect",children:"Визуальный эффект"}),T.jsx(Me,{id:"effect",readOnly:Ee,value:L,onChange:oe=>K(oe.target.value)}),T.jsx(Ct,{children:"Эффект, видимый на предмете в мире"})]}),T.jsxs(fe,{children:[T.jsx(he,{for:"text",children:"Описание"}),T.jsx(Me,{id:"text",readOnly:Ee,value:I,onChange:oe=>A(oe.target.value),maxLength:42*3}),T.jsx(Ct,{children:"Доп. описание для предмета"})]}),T.jsxs("div",{className:"row",children:[T.jsx("div",{className:"col-md-4",children:T.jsxs(fe,{children:[T.jsx(he,{for:"magicCircle",children:"Необходимый круг магии"}),T.jsxs(Me,{id:"magicCircle",disabled:Ee,type:"select",value:se,onChange:oe=>Q(Number(oe.target.value)),children:[T.jsx("option",{value:"0",children:"Нет"}),T.jsx("option",{value:"1",children:"I круг"}),T.jsx("option",{value:"2",children:"II круг"}),T.jsx("option",{value:"3",children:"III круг"}),T.jsx("option",{value:"4",children:"IV круг"}),T.jsx("option",{value:"5",children:"V круг"}),T.jsx("option",{value:"6",children:"VI круг"})]})]})}),T.jsx("div",{className:"col-md-4",children:T.jsxs(fe,{children:[T.jsx(he,{for:"spell",children:"Заклинание"}),T.jsx(Me,{id:"spell",disabled:Ee,type:"select",value:re,onChange:oe=>ne(Number(oe.target.value)),children:Object.keys(x1).map(oe=>T.jsx("option",{value:x1[oe],children:oe},oe))})]})}),T.jsx("div",{className:"col-md-4",children:T.jsxs(fe,{children:[T.jsx(he,{for:"spellHand",children:"Заклинание (ручной ввод)"}),T.jsx(Me,{type:"number",id:"spellHand",readOnly:Ee,value:re,onChange:oe=>ne(Number(oe.target.value)),onWheel:Rt})]})})]}),T.jsxs(fe,{children:[T.jsx(he,{for:"value",children:"Цена"}),T.jsx(Me,{id:"value",readOnly:Ee,value:z,onChange:oe=>q(Number(oe.target.value))})]}),T.jsxs("div",{className:"row",children:[T.jsx("div",{className:"col-md-4",children:T.jsxs(fe,{children:[T.jsx(he,{for:"inv_rotx",children:"inv_rotx"}),T.jsx(Me,{type:"number",id:"inv_rotx",readOnly:Ee,value:ge,onChange:oe=>we(Number(oe.target.value)),onWheel:Rt})]})}),T.jsx("div",{className:"col-md-4",children:T.jsxs(fe,{children:[T.jsx(he,{for:"inv_roty",children:"inv_roty"}),T.jsx(Me,{type:"number",id:"inv_roty",readOnly:Ee,value:xe,onChange:oe=>Fe(Number(oe.target.value)),onWheel:Rt})]})}),T.jsx("div",{className:"col-md-4",children:T.jsxs(fe,{children:[T.jsx(he,{for:"inv_rotz",children:"inv_rotz"}),T.jsx(Me,{type:"number",id:"inv_rotz",readOnly:Ee,value:De,onChange:oe=>Le(Number(oe.target.value)),onWheel:Rt})]})}),T.jsx("div",{className:"col-md-4",children:T.jsxs(fe,{children:[T.jsx(he,{for:"inv_zbias",children:"inv_zbias"}),T.jsx(Me,{type:"number",id:"inv_zbias",readOnly:Ee,value:ue,onChange:oe=>de(Number(oe.target.value)),onWheel:Rt})]})}),T.jsx("div",{className:"col-md-4",children:T.jsxs(fe,{children:[T.jsx(he,{for:"inv_animate",children:"inv_animate"}),T.jsx(Me,{type:"number",id:"inv_animate",readOnly:Ee,value:He,onChange:oe=>it(Number(oe.target.value)),onWheel:Rt}),T.jsx(Ct,{children:"Анимация предмета при наведении фокуса в инвентаре"})]})})]})]})]}),T.jsxs(Pr,{className:"mb-3",children:[T.jsx(Mr,{children:"Мета-информация"}),T.jsxs(_r,{children:[T.jsxs(fe,{children:[T.jsx(he,{for:"onUse",children:"Функция, вызываемая при использовании"}),T.jsx(Me,{id:"onUse",readOnly:Ee,value:Z,onChange:oe=>ie(oe.target.value)})]}),T.jsxs("div",{className:"row",children:[T.jsx("div",{className:"col-md-4",children:T.jsxs(fe,{children:[T.jsx(he,{for:"metaHp",children:"Восстановление здоровья"}),T.jsx(Me,{type:"number",id:"metaHp",readOnly:Ee,value:Pe.restoreHp,onChange:oe=>Ie({...Pe,restoreHp:Number(oe.target.value)}),onWheel:Rt})]})}),T.jsx("div",{className:"col-md-4",children:T.jsxs(fe,{children:[T.jsx(he,{for:"metaMp",children:"Восстановление маны"}),T.jsx(Me,{type:"number",id:"metaMp",readOnly:Ee,value:Pe.restoreMp,onChange:oe=>Ie({...Pe,restoreMp:Number(oe.target.value)}),onWheel:Rt})]})}),T.jsx("div",{className:"col-md-4",children:T.jsxs(fe,{children:[T.jsx(he,{for:"metaStam",children:"Восстановление выносливости"}),T.jsx(Me,{type:"number",id:"metaStam",readOnly:Ee,value:Pe.restoreStam,onChange:oe=>Ie({...Pe,restoreStam:Number(oe.target.value)}),onWheel:Rt})]})}),T.jsx("div",{className:"col-md-4",children:T.jsxs(fe,{children:[T.jsx(he,{for:"metaEffectDuration",children:"Длительность эффекта"}),T.jsx(Me,{type:"number",id:"metaEffectDuration",readOnly:Ee,value:Pe.effectDuration,onChange:oe=>Ie({...Pe,effectDuration:Number(oe.target.value)}),onWheel:Rt})]})}),T.jsx("div",{className:"col-md-4",children:T.jsxs(fe,{children:[T.jsx(he,{for:"metaStrBonus",children:"Бонус к силе"}),T.jsx(Me,{type:"number",id:"metaStrBonus",readOnly:Ee,value:Pe.bonusStr,onChange:oe=>Ie({...Pe,bonusStr:Number(oe.target.value)}),onWheel:Rt})]})}),T.jsx("div",{className:"col-md-4",children:T.jsxs(fe,{children:[T.jsx(he,{for:"metaDexBonus",children:"Бонус к ловкости"}),T.jsx(Me,{type:"number",id:"metaDexBonus",readOnly:Ee,value:Pe.bonusDex,onChange:oe=>Ie({...Pe,bonusDex:Number(oe.target.value)}),onWheel:Rt})]})}),T.jsx("div",{className:"col-md-4",children:T.jsxs(fe,{children:[T.jsx(he,{for:"metaDrunkLevel",children:"Очки опьянения"}),T.jsx(Me,{type:"number",id:"metaDrunkLevel",readOnly:Ee,value:Pe.drunkLevel,onChange:oe=>Ie({...Pe,drunkLevel:Number(oe.target.value)}),onWheel:Rt})]})})]}),T.jsxs("div",{className:"row",children:[T.jsx("div",{className:"col-md-4",children:T.jsxs(fe,{children:[T.jsx(he,{for:"metaMaskedName",children:"Маскировка"}),T.jsx(Me,{id:"metaMaskedName",readOnly:Ee,value:Pe.maskedName,onChange:oe=>Ie({...Pe,maskedName:oe.target.value})}),T.jsx(Ct,{children:"* имя игрока, после того как он экипирует предмет"})]})}),T.jsx("div",{className:"col-md-4",children:T.jsxs(fe,{children:[T.jsx(he,{for:"metaWeight",children:"Вес"}),T.jsx(Me,{type:"number",id:"metaWeight",readOnly:Ee,value:Pe.weight,onChange:oe=>Ie({...Pe,weight:Number(oe.target.value)}),onWheel:Rt}),T.jsx(Ct,{children:"* значения больше 100 запретят игроку прыгать и быстро плавать"})]})})]}),T.jsxs(Pr,{className:"mb-3",children:[T.jsx(Mr,{children:"Прочность"}),T.jsx(_r,{children:T.jsxs("div",{className:"row",children:[T.jsx("div",{className:"col-md-4",children:T.jsxs(fe,{check:!0,children:[T.jsx(Me,{id:"useDurability",type:"checkbox",disabled:Ee,checked:Pe.durability.useDurability,onChange:oe=>Ie({...Pe,durability:{...Pe.durability,useDurability:oe.target.checked}})}),T.jsx(he,{check:!0,for:"useDurability",className:"user-select-none",children:"Предмет имеет прочность"})]})}),T.jsx("div",{className:"col-md-4",children:T.jsxs(fe,{children:[T.jsx(he,{for:"segments",children:"Кол-во сегментов"}),T.jsx(Me,{id:"segments",disabled:!Pe.durability.useDurability,readOnly:Ee,value:Pe.durability.segments,onChange:oe=>Ie({...Pe,durability:{...Pe.durability,segments:Number(oe.target.value)}})})]})}),T.jsx("div",{className:"col-md-4",children:T.jsxs(fe,{children:[T.jsx(he,{for:"damageDecreaseFormula",children:"Формула снижения урона"}),T.jsx(Me,{id:"damageDecreaseFormula",disabled:!Pe.durability.useDurability,readOnly:Ee,value:Pe.durability.damageDecreaseFormula,onChange:oe=>Ie({...Pe,durability:{...Pe.durability,damageDecreaseFormula:oe.target.value}})}),T.jsx(Ct,{children:"* d - базовый урон от оружия, s - текущий сегмент"})]})})]})})]}),T.jsxs(Pr,{className:"mb-3",children:[T.jsx(Mr,{children:"Рецепт"}),T.jsxs(_r,{children:[T.jsxs("div",{className:"row",children:[T.jsx("div",{className:"col-md-4",children:T.jsxs(fe,{children:[T.jsx(he,{for:"metaReceiptResultItem",children:"Предмет, получаемый в результате крафта"}),T.jsx(Me,{id:"metaReceiptResultItem",readOnly:Ee,disabled:Ee,value:Pe.receipt.resultItem,onChange:oe=>Ie({...Pe,receipt:{...Pe.receipt,resultItem:oe.target.value}})})]})}),T.jsx("div",{className:"col-md-4",children:T.jsxs(fe,{children:[T.jsx(he,{for:"metaReceiptResultItem",children:"Предмет, получаемый в результате крафта"}),T.jsx(Gs,{id:"metaReceiptResultItem",disabled:Ee,placeholder:"Найти предмет",value:Pe.receipt.resultItem,onChange:oe=>{Ie({...Pe,receipt:{...Pe.receipt,resultItem:oe}}),c(`ITRC_${oe.replace("IT","")}`);const _e=e.find(Ve=>Ve.id===oe);_e&&(f("Рецепт: "+_e.name),A('Инструкция по изготовлению "'+_e.name+'"'))},options:e.map(oe=>({value:oe.id,displayValue:`${oe.name||""} (${oe.id})`})).filter(oe=>!oe.value.includes("ITFS_"))})]})}),T.jsx("div",{className:"col-md-4",children:T.jsxs(fe,{children:[T.jsx(he,{for:"metaReceiptResultCount",children:"Кол-во предметов"}),T.jsx(Me,{type:"number",min:"0",max:"99",id:"metaReceiptResultCount",readOnly:Ee,value:Pe.receipt.resultCount,onChange:oe=>Ie({...Pe,receipt:{...Pe.receipt,resultCount:Number(oe.target.value)}}),onWheel:Rt})]})})]}),T.jsxs(fe,{children:[T.jsx(he,{for:"category",children:"Категория рецепта"}),T.jsxs(Me,{id:"category",disabled:Ee,type:"select",value:Pe.receipt.category,onChange:oe=>Ie({...Pe,receipt:{...Pe.receipt,category:oe.target.value}}),children:[T.jsx("option",{value:"",disabled:!0,children:"Выберите категорию"}),T.jsx("option",{value:"runes",children:"Создание рун"}),T.jsx("option",{value:"alchemy",children:"Алхимия"}),T.jsx("option",{value:"smith",children:"Кузнечное дело"}),T.jsx("option",{value:"jewelry",children:"Ювелирное дело"}),T.jsx("option",{value:"cooking",children:"Готовка"}),T.jsx("option",{value:"carpentry",children:"Плотничное дело"}),T.jsx("option",{value:"leatherworking",children:"Кожевенное дело"}),T.jsx("option",{value:"other",children:"Другое"})]})]}),T.jsxs(fe,{children:[T.jsxs(he,{children:["Ингредиенты, необходимые для крафта (",Pe.receipt.ingredients.length,")"]}),!Ee&&T.jsx("div",{className:"d-flex gap-2",children:T.jsx(zt,{color:"success",size:"sm",style:{width:"1.9375rem"},onClick:ve,children:T.jsx(Zt,{icon:ms})})}),Pe.receipt.ingredients.length>0&&T.jsxs("div",{className:"row",children:[T.jsx("div",{className:"col-lg-8",children:T.jsx(he,{children:"Предмет"})}),T.jsx("div",{className:"col-lg-2",children:T.jsx(he,{children:"Кол-во"})}),T.jsx("div",{className:"col-lg-2",children:T.jsx(he,{children:"Действия"})})]}),Pe.receipt.ingredients.map((oe,_e)=>T.jsxs("div",{className:"row mb-3",children:[T.jsx("div",{className:"col-lg-8",children:T.jsx(Gs,{disabled:Ee,placeholder:"Выберите предмет",value:oe.id,onChange:qe(_e),options:e.map(Ve=>({value:Ve.id,displayValue:`${Ve.name||""} (${Ve.id})`})).filter(Ve=>!Ve.value.includes("ITFS_"))})}),T.jsx("div",{className:"col-lg-2",children:T.jsx(Me,{readOnly:Ee,value:oe.count,type:"number",min:"1",max:"99",onChange:Ve=>Ce(_e,Number(Ve.target.value)),onWheel:Rt})}),T.jsxs("div",{className:"col-lg-2 d-flex align-items-center gap-2",children:[T.jsx(Zt,{title:"Удалить",icon:Wi,className:Ee?"text-secondary cursor-pointer user-select-none":"text-danger cursor-pointer user-select-none",onClick:Ee?void 0:Ne(_e)}),T.jsx(Zt,{title:"Переместить вверх",icon:b0,className:Ee||_e===0?"text-secondary cursor-pointer user-select-none":"text-dark cursor-pointer user-select-none",onClick:Ee?void 0:Ue(_e)}),T.jsx(Zt,{title:"Переместить вниз",icon:y0,className:Ee||_e===Pe.receipt.ingredients.length-1?"text-secondary cursor-pointer user-select-none":"text-dark cursor-pointer user-select-none",onClick:Ee?void 0:Ge(_e)})]})]},_e))]}),T.jsxs(fe,{children:[T.jsx(he,{for:"traders",children:"Торговцы"}),T.jsx(Me,{id:"traders",disabled:Ee,type:"select",multiple:!0,value:Pe.receipt.traders,onChange:oe=>{Ie({...Pe,receipt:{...Pe.receipt,traders:Array.from(oe.target.selectedOptions,_e=>_e.value)}})},children:_D().map(oe=>T.jsx("option",{value:oe.id,children:oe.name},oe.id))}),T.jsx(Ct,{children:"* Список торговцев, у которых встречается данный рецепт в продаже"})]}),T.jsxs(fe,{check:!0,children:[T.jsx(Me,{id:"metaReceiptIsSystem",readOnly:Ee,disabled:Ee,type:"checkbox",checked:Pe.receipt.isSystem,onChange:oe=>Ie({...Pe,receipt:{...Pe.receipt,isSystem:oe.target.checked}})}),T.jsx(he,{check:!0,for:"metaReceiptIsSystem",className:"user-select-none",children:"Это системный рецепт"})]}),T.jsx(Ct,{children:"* системные рецепты крафта не должны иметь игрового предмета для изучения. Данные рецепты используются в механике взаимодействия с MOBSI"})]})]}),T.jsxs(fe,{children:[T.jsx(he,{for:"tier",children:"Тир"}),T.jsxs(Me,{id:"tier",disabled:Ee,type:"select",value:J,onChange:oe=>X(Number(oe.target.value)),children:[T.jsx("option",{value:"",disabled:!0,children:"Выберите тир"}),T.jsx("option",{value:"0",children:"T0"}),T.jsx("option",{value:"1",children:"T1"}),T.jsx("option",{value:"2",children:"T2"}),T.jsx("option",{value:"3",children:"T3"}),T.jsx("option",{value:"4",children:"T4"})]})]}),T.jsxs(fe,{check:!0,children:[T.jsx(Me,{id:"isDisabled",type:"checkbox",disabled:Ee,checked:Pe.isDisabled,onChange:oe=>Ie({...Pe,isDisabled:oe.target.checked})}),T.jsx(he,{check:!0,for:"isDisabled",className:"user-select-none",children:"Предмет временно не используется"})]})]})]})]}),T.jsxs(Gr,{children:[!Ee&&T.jsx(zt,{color:"primary",onClick:be,children:(i==null?void 0:i.type)==="edit"?"Изменить":"Добавить"}),T.jsx(zt,{color:"secondary",onClick:n,children:"Отмена"})]})]})},O3=e=>{const t=e.data.id,r=R_(t),n=E_(t);return r?T.jsx(Zt,{icon:r,title:n}):null};const kD=()=>Math.abs(window.innerWidth-document.documentElement.clientWidth),D3=({isOpen:e,toggle:t,align:r,children:n,className:i})=>{const s=U.useMemo(()=>vl(["drawer-menu right",e&&"shown"]),[e]),o=U.useMemo(()=>vl(["drawer-menu-side",`align-${r}`,i]),[r,i]);return U.useEffect(()=>{const a=kD();document.body.classList.toggle("drawer-menu-shown",e),e?a&&(document.body.style.paddingRight=`${a}px`):document.body.style.paddingRight=""},[e]),T.jsxs("div",{className:s,children:[T.jsx("div",{className:"drawer-menu-backdrop",onClick:t}),T.jsx("div",{className:o,children:n})]})};D3.defaultProps={align:"left",className:""};const FD=()=>{const{isOpen:e,toggle:t}=$r("about");return T.jsxs(Ur,{isOpen:e,toggle:t,children:[T.jsx(Br,{toggle:t,children:"О программе"}),T.jsxs(Hr,{children:[T.jsxs("p",{children:["Редактор предметов v",v_]}),T.jsxs("p",{children:["Разработано ",T.jsx("strong",{children:"AdeonMaster"})," ака ",T.jsx("strong",{children:"Арахисовая Корзинка"})]}),T.jsxs("p",{children:["(c) ",new Date().getFullYear()," Gothic Chronicles"]})]}),T.jsx(Gr,{children:T.jsx(zt,{color:"secondary",onClick:t,children:"Закрыть"})})]})},I3=U.createContext(null),AD=e=>{document.documentElement.setAttribute("data-bs-theme",e),document.documentElement.setAttribute("data-color-mode",e),window.localStorage.setItem("theme",e)},Q0=()=>U.useContext(I3),OD=({children:e})=>{const[t,r]=U.useState(window.localStorage.getItem("theme")||"light"),n=U.useCallback(()=>r(t=="light"?"dark":"light"),[t]),i=U.useMemo(()=>({theme:t,switchTheme:n}),[t,n]);return U.useEffect(()=>{AD(t)},[t]),T.jsx(I3.Provider,{value:i,children:e})},po=({isActive:e})=>`nav-link ${e?"active":""}`,sa=({children:e})=>{const[t,r]=U.useState(!1),n=()=>r(!t),{theme:i,switchTheme:s}=Q0(),{openModal:o}=lo();return T.jsxs("main",{className:"vh-100 d-flex flex-column",children:[T.jsxs("div",{className:"d-flex flex-row align-items-center",children:[T.jsx(mt,{className:"border-0",color:"",onClick:n,icon:u1}),T.jsx(mt,{className:"border-0",color:"",onClick:()=>o("about"),icon:BT}),T.jsx(mt,{className:"border-0",color:"",onClick:()=>s(),icon:i=="dark"?zT:QT}),T.jsx(FD,{}),T.jsxs(D3,{isOpen:t,toggle:n,children:[T.jsx(mt,{className:"border-0",color:"",onClick:n,icon:u1}),T.jsxs(t3,{vertical:!0,children:[T.jsx(Ms,{children:T.jsx(fo,{to:"/items-next",className:po,children:"Предметы"})}),T.jsx(Ms,{children:T.jsx(fo,{to:"/spells",className:po,children:"Заклинания"})}),T.jsx(Ms,{children:T.jsx(fo,{to:"/droptables",className:po,children:"Таблицы дропа"})}),T.jsx(Ms,{children:T.jsx(fo,{to:"/model-textures",className:po,children:"Узнать используемые моделью текстуры"})}),T.jsx("div",{className:"border-bottom"}),T.jsx(Ms,{children:T.jsx(fo,{to:"/",className:po,children:"Предметы 0.2.1"})}),T.jsx(Ms,{children:T.jsx(fo,{to:"/effects",className:po,children:"Активные эффекты 0.2.1"})}),T.jsx(Ms,{children:T.jsx(fo,{to:"/mobs",className:po,children:"Инстансы мобов 0.2.1"})})]})]})]}),T.jsx("div",{className:"h-100 p-3",children:e})]})},Ol=e=>({data:t,rowIndex:r,isEditorMode:n})=>{const{openModal:i}=lo(),s=()=>{i(`${e}:remove-single`,{type:"remove",id:t.id})},o=()=>{i(`${e}:edit`,{type:"copy",data:t})},a=()=>{i(`${e}:edit`,{type:"edit",data:t,idx:r})},l=()=>{i(`${e}:edit`,{type:"view",data:t})},c=()=>{i(`${e}:code-single`,{data:t,idx:r})};return T.jsxs("div",{className:"d-flex align-items-center gap-2 h-100",children:[n&&T.jsx(Zt,{title:"Код для вставки",icon:ra,className:"cursor-pointer",onClick:c}),T.jsx(Zt,{title:"Просмотреть",icon:IT,className:"cursor-pointer",onClick:l}),n&&T.jsxs(T.Fragment,{children:[T.jsx(Zt,{title:"Копировать",icon:mr,className:"text-primary cursor-pointer",onClick:o}),T.jsx(Zt,{title:"Редактировать",icon:PT,className:"text-primary cursor-pointer",onClick:a}),T.jsx(Zt,{title:"Удалить",icon:Wi,className:"text-danger cursor-pointer",onClick:s})]})]})},Dl=e=>({setRowData:t})=>{const{isOpen:r,toggle:n}=$r(`${e}:remove-all`),i=()=>{t([]),localStorage.setItem(e,JSON.stringify([])),n()};return T.jsxs(Ur,{isOpen:r,toggle:n,children:[T.jsx(Br,{toggle:n,children:"Удалить все"}),T.jsx(Hr,{children:"Вы уверены, что хотите удалить все элементы?"}),T.jsxs(Gr,{children:[T.jsx(zt,{color:"primary",onClick:i,children:"Да"}),T.jsx(zt,{color:"secondary",onClick:n,children:"Отмена"})]})]})},Il=e=>({setRowData:t,rowData:r})=>{const{isOpen:n,toggle:i,params:s}=$r(`${e}:remove-single`),o=()=>{const a=(s==null?void 0:s.id)||"",l=r.filter(c=>c.id!=a);t(l),localStorage.setItem(e,JSON.stringify(l)),i()};return T.jsxs(Ur,{isOpen:n,toggle:i,children:[T.jsx(Br,{toggle:i,children:"Удалить"}),T.jsx(Hr,{children:"Вы уверены, что хотите удалить данный элемент?"}),T.jsxs(Gr,{children:[T.jsx(zt,{color:"primary",onClick:o,children:"Да"}),T.jsx(zt,{color:"secondary",onClick:i,children:"Отмена"})]})]})};var Nl=class{constructor(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}setFrameworkOverrides(e){this.frameworkOverrides=e}getListeners(e,t,r){const n=t?this.allAsyncListeners:this.allSyncListeners;let i=n.get(e);return!i&&r&&(i=new Set,n.set(e,i)),i}noRegisteredListenersExist(){return this.allSyncListeners.size===0&&this.allAsyncListeners.size===0&&this.globalSyncListeners.size===0&&this.globalAsyncListeners.size===0}addEventListener(e,t,r=!1){this.getListeners(e,r,!0).add(t)}removeEventListener(e,t,r=!1){const n=this.getListeners(e,r,!1);n&&(n.delete(t),n.size===0&&(r?this.allAsyncListeners:this.allSyncListeners).delete(e))}addGlobalListener(e,t=!1){(t?this.globalAsyncListeners:this.globalSyncListeners).add(e)}removeGlobalListener(e,t=!1){(t?this.globalAsyncListeners:this.globalSyncListeners).delete(e)}dispatchEvent(e){const t=e;this.dispatchToListeners(t,!0),this.dispatchToListeners(t,!1),this.firedEvents[t.type]=!0}dispatchEventOnce(e){this.firedEvents[e.type]||this.dispatchEvent(e)}dispatchToListeners(e,t){const r=e.type;if(t&&"event"in e){const a=e.event;a instanceof Event&&(e.eventPath=a.composedPath())}const n=(a,l)=>a.forEach(c=>{if(!l.has(c))return;const u=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming(()=>c(e)):()=>c(e);t?this.dispatchAsync(u):u()}),i=this.getListeners(r,t,!1)??new Set,s=new Set(i);s.size>0&&n(s,i),new Set(t?this.globalAsyncListeners:this.globalSyncListeners).forEach(a=>{const l=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming(()=>a(r,e)):()=>a(r,e);t?this.dispatchAsync(l):l()})}dispatchAsync(e){if(this.asyncFunctionsQueue.push(e),!this.scheduled){const t=()=>{window.setTimeout(this.flushAsyncQueue.bind(this),0)};this.frameworkOverrides?this.frameworkOverrides.wrapIncoming(t):t(),this.scheduled=!0}}flushAsyncQueue(){this.scheduled=!1;const e=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],e.forEach(t=>t())}};function Ot(e){if(!(!e||!e.length))return e[e.length-1]}function oa(e,t,r){return e==null&&t==null?!0:e!=null&&t!=null&&e.length===t.length&&e.every((n,i)=>r?r(n,t[i]):t[i]===n)}function DD(e){return e.sort((t,r)=>t-r)}function N3(e,t){const r=e.indexOf(t);r>=0&&(e[r]=e[e.length-1],e.pop())}function an(e,t){const r=e.indexOf(t);r>=0&&e.splice(r,1)}function ID(e,t){for(let r=0;r<t.length;r++)N3(e,t[r])}function ND(e,t){for(let r=0;r<t.length;r++)an(e,t[r])}function Qh(e,t,r){e.splice(r,0,t)}function L3(e,t,r){ND(e,t),t.slice().reverse().forEach(n=>Qh(e,n,r))}function No(e,t){return e.indexOf(t)>-1}function LD(e){return[].concat.apply([],e)}function Bw(e,t){t==null||e==null||t.forEach(r=>e.push(r))}var j3="__ag_Grid_Stop_Propagation",jD=["touchstart","touchend","touchmove","touchcancel","scroll"],_p={};function yl(e){e[j3]=!0}function ns(e){return e[j3]===!0}var B3=(()=>{const e={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return r=>{if(typeof _p[r]=="boolean")return _p[r];const n=document.createElement(e[r]||"div");return r="on"+r,_p[r]=r in n}})();function Zm(e,t,r){let n=t;for(;n;){const i=e.getDomData(n,r);if(i)return i;n=n.parentElement}return null}function BD(e,t){return!t||!e?!1:GD(t).indexOf(e)>=0}function HD(e){const t=[];let r=e.target;for(;r;)t.push(r),r=r.parentElement;return t}function GD(e){const t=e;return t.path?t.path:t.composedPath?t.composedPath():HD(t)}function VD(e,t,r,n){const s=No(jD,r)?{passive:!0}:void 0;e&&e.addEventListener&&e.addEventListener(t,r,n,s)}var Re=class{constructor(){this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.propertyListenerId=0,this.lastChangeSetIdLookup={},this.isAlive=()=>!this.destroyed}preWireBeans(e){this.gridId=e.context.getGridId(),this.frameworkOverrides=e.frameworkOverrides,this.stubContext=e.context,this.eventService=e.eventService,this.gos=e.gos,this.localeService=e.localeService}getFrameworkOverrides(){return this.frameworkOverrides}destroy(){for(let e=0;e<this.destroyFunctions.length;e++)this.destroyFunctions[e]();this.destroyFunctions.length=0,this.destroyed=!0,this.dispatchLocalEvent({type:"destroyed"})}addEventListener(e,t){this.localEventService||(this.localEventService=new Nl),this.localEventService.addEventListener(e,t)}removeEventListener(e,t){this.localEventService&&this.localEventService.removeEventListener(e,t)}dispatchLocalEvent(e){this.localEventService&&this.localEventService.dispatchEvent(e)}addManagedElementListeners(e,t){return this._setupListeners(e,t)}addManagedEventListeners(e){return this._setupListeners(this.eventService,e)}addManagedListeners(e,t){return this._setupListeners(e,t)}_setupListeners(e,t){const r=[];for(const n in t){const i=t[n];i&&r.push(this._setupListener(e,n,i))}return r}_setupListener(e,t,r){if(this.destroyed)return()=>null;e instanceof HTMLElement?VD(this.getFrameworkOverrides(),e,t,r):e.addEventListener(t,r);const n=()=>(e.removeEventListener(t,r),null);return this.destroyFunctions.push(n),()=>(n(),this.destroyFunctions=this.destroyFunctions.filter(i=>i!==n),null)}setupGridOptionListener(e,t){this.gos.addPropertyEventListener(e,t);const r=()=>(this.gos.removePropertyEventListener(e,t),null);return this.destroyFunctions.push(r),()=>(r(),this.destroyFunctions=this.destroyFunctions.filter(n=>n!==r),null)}addManagedPropertyListener(e,t){return this.destroyed?()=>null:this.setupGridOptionListener(e,t)}addManagedPropertyListeners(e,t){if(this.destroyed)return;const r=e.join("-")+this.propertyListenerId++,n=i=>{if(i.changeSet){if(i.changeSet&&i.changeSet.id===this.lastChangeSetIdLookup[r])return;this.lastChangeSetIdLookup[r]=i.changeSet.id}const s={type:"gridPropertyChanged",changeSet:i.changeSet,source:i.source};t(s)};e.forEach(i=>this.setupGridOptionListener(i,n))}addDestroyFunc(e){this.isAlive()?this.destroyFunctions.push(e):e()}createManagedBean(e,t){const r=this.createBean(e,t);return this.addDestroyFunc(this.destroyBean.bind(this,e,t)),r}createBean(e,t,r){return(t||this.stubContext).createBean(e,r)}destroyBean(e,t){return(t||this.stubContext).destroyBean(e)}destroyBeans(e,t){return(t||this.stubContext).destroyBeans(e)}},Z0=class{constructor(e){this.frameworkOverrides=e,this.wrappedListeners=new Map,this.wrappedGlobalListeners=new Map}wrap(e){let t=e;return this.frameworkOverrides.shouldWrapOutgoing&&(t=r=>{this.frameworkOverrides.wrapOutgoing(()=>e(r))},this.wrappedListeners.set(e,t)),t}wrapGlobal(e){let t=e;return this.frameworkOverrides.shouldWrapOutgoing&&(t=(r,n)=>{this.frameworkOverrides.wrapOutgoing(()=>e(r,n))},this.wrappedGlobalListeners.set(e,t)),t}unwrap(e){return this.wrappedListeners.get(e)??e}unwrapGlobal(e){return this.wrappedGlobalListeners.get(e)??e}};function is(e){return e==null||e===""?null:e}function je(e,t=!1){return e!=null&&(e!==""||t)}function _t(e){return!je(e)}function xn(e){return e==null||e.length===0}function Jm(e){return e!=null&&typeof e.toString=="function"?e.toString():null}function Lo(e){if(e===void 0)return;if(e===null||e==="")return null;if(typeof e=="number")return isNaN(e)?void 0:e;const t=parseInt(e,10);return isNaN(t)?void 0:t}function ev(e){if(e!==void 0)return e===null||e===""?!1:tv(e)}function tv(e){return typeof e=="boolean"?e:typeof e=="string"?e.toUpperCase()==="TRUE"||e=="":!1}function fu(e,t){const r=e?JSON.stringify(e):null,n=t?JSON.stringify(t):null;return r===n}function zD(e,t,r=!1){const n=e==null,i=t==null;if(e&&e.toNumber&&(e=e.toNumber()),t&&t.toNumber&&(t=t.toNumber()),n&&i)return 0;if(n)return-1;if(i)return 1;function s(o,a){return o>a?1:o<a?-1:0}if(typeof e!="string"||!r)return s(e,t);try{return e.localeCompare(t)}catch{return s(e,t)}}function Jd(e){if(e instanceof Set||e instanceof Map){const t=[];return e.forEach(r=>t.push(r)),t}return Object.values(e)}var J0=new Set(["__proto__","constructor","prototype"]);function bi(e,t){if(e!=null){if(Array.isArray(e)){for(let r=0;r<e.length;r++)t(r.toString(),e[r]);return}for(const[r,n]of Object.entries(e))t(r,n)}}function H3(e){const t={},r=Object.keys(e);for(let n=0;n<r.length;n++){if(J0.has(r[n]))continue;const i=r[n],s=e[i];t[i]=s}return t}function rv(e,t){if(!e)return;const r=e,n={};return Object.keys(r).forEach(i=>{if(t&&t.indexOf(i)>=0||J0.has(i))return;const s=r[i];iv(s)&&s.constructor===Object?n[i]=rv(s):n[i]=s}),n}function nv(e){if(!e)return[];const t=Object;if(typeof t.values=="function")return t.values(e);const r=[];for(const n in e)e.hasOwnProperty(n)&&e.propertyIsEnumerable(n)&&r.push(e[n]);return r}function Kn(e,t,r=!0,n=!1){je(t)&&bi(t,(i,s)=>{if(J0.has(i))return;let o=e[i];o!==s&&(n&&o==null&&s!=null&&typeof s=="object"&&s.constructor===Object&&(o={},e[i]=o),iv(s)&&iv(o)&&!Array.isArray(o)?Kn(o,s,r,n):(r||s!==void 0)&&(e[i]=s))})}function Ac(e,t,r){if(!t||!e)return;if(!r)return e[t];const n=t.split(".");let i=e;for(let s=0;s<n.length;s++){if(i==null)return;i=i[n[s]]}return i}function iv(e){return typeof e=="object"&&e!==null}var WD={resizable:!0,sortable:!0},$D=0;function G3(){return $D++}function no(e){return e instanceof z3}var V3=20,z3=class extends Re{constructor(e,t,r,n){super(),this.isColumn=!0,this.instanceId=G3(),this.autoHeaderHeight=null,this.moving=!1,this.menuVisible=!1,this.lastLeftPinned=!1,this.firstRightPinned=!1,this.filterActive=!1,this.columnEventService=new Nl,this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.colDef=e,this.userProvidedColDef=t,this.colId=r,this.primary=n,this.setState(e)}wireBeans(e){this.columnHoverService=e.columnHoverService}getInstanceId(){return this.instanceId}setState(e){e.sort!==void 0?(e.sort==="asc"||e.sort==="desc")&&(this.sort=e.sort):(e.initialSort==="asc"||e.initialSort==="desc")&&(this.sort=e.initialSort);const t=e.sortIndex,r=e.initialSortIndex;t!==void 0?t!==null&&(this.sortIndex=t):r!==null&&(this.sortIndex=r);const n=e.hide,i=e.initialHide;n!==void 0?this.visible=!n:this.visible=!i,e.pinned!==void 0?this.setPinned(e.pinned):this.setPinned(e.initialPinned);const s=e.flex,o=e.initialFlex;s!==void 0?this.flex=s:o!==void 0&&(this.flex=o)}setColDef(e,t,r){this.colDef=e,this.userProvidedColDef=t,this.initMinAndMaxWidths(),this.initDotNotation(),this.initTooltip(),this.columnEventService.dispatchEvent(this.createColumnEvent("colDefChanged",r))}getUserProvidedColDef(){return this.userProvidedColDef}setParent(e){this.parent=e}getParent(){return this.parent}setOriginalParent(e){this.originalParent=e}getOriginalParent(){return this.originalParent}postConstruct(){this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.initTooltip()}initDotNotation(){const e=this.gos.get("suppressFieldDotNotation");this.fieldContainsDots=je(this.colDef.field)&&this.colDef.field.indexOf(".")>=0&&!e,this.tooltipFieldContainsDots=je(this.colDef.tooltipField)&&this.colDef.tooltipField.indexOf(".")>=0&&!e}initMinAndMaxWidths(){const e=this.colDef;this.minWidth=e.minWidth??V3,this.maxWidth=e.maxWidth??Number.MAX_SAFE_INTEGER}initTooltip(){this.tooltipEnabled=je(this.colDef.tooltipField)||je(this.colDef.tooltipValueGetter)||je(this.colDef.tooltipComponent)}resetActualWidth(e){const t=this.calculateColInitialWidth(this.colDef);this.setActualWidth(t,e,!0)}calculateColInitialWidth(e){let t;const r=Lo(e.width),n=Lo(e.initialWidth);return r!=null?t=r:n!=null?t=n:t=200,Math.max(Math.min(t,this.maxWidth),this.minWidth)}isEmptyGroup(){return!1}isRowGroupDisplayed(e){if(_t(this.colDef)||_t(this.colDef.showRowGroup))return!1;const t=this.colDef.showRowGroup===!0,r=this.colDef.showRowGroup===e;return t||r}isPrimary(){return this.primary}isFilterAllowed(){return!!this.colDef.filter}isFieldContainsDots(){return this.fieldContainsDots}isTooltipEnabled(){return this.tooltipEnabled}isTooltipFieldContainsDots(){return this.tooltipFieldContainsDots}addEventListener(e,t){var n;this.frameworkOverrides.shouldWrapOutgoing&&!this.frameworkEventListenerService&&(this.columnEventService.setFrameworkOverrides(this.frameworkOverrides),this.frameworkEventListenerService=new Z0(this.frameworkOverrides));const r=((n=this.frameworkEventListenerService)==null?void 0:n.wrap(t))??t;this.columnEventService.addEventListener(e,r)}removeEventListener(e,t){var n;const r=((n=this.frameworkEventListenerService)==null?void 0:n.unwrap(t))??t;this.columnEventService.removeEventListener(e,r)}createColumnFunctionCallbackParams(e){return this.gos.addGridCommonParams({node:e,data:e.data,column:this,colDef:this.colDef})}isSuppressNavigable(e){if(typeof this.colDef.suppressNavigable=="boolean")return this.colDef.suppressNavigable;if(typeof this.colDef.suppressNavigable=="function"){const t=this.createColumnFunctionCallbackParams(e),r=this.colDef.suppressNavigable;return r(t)}return!1}isCellEditable(e){if(e.group){if(this.gos.get("treeData")){if(!e.data&&!this.gos.get("enableGroupEdit"))return!1}else if(!this.gos.get("enableGroupEdit"))return!1}return this.isColumnFunc(e,this.colDef.editable)}isSuppressFillHandle(){return!!this.colDef.suppressFillHandle}isAutoHeight(){return!!this.colDef.autoHeight}isAutoHeaderHeight(){return!!this.colDef.autoHeaderHeight}isRowDrag(e){return this.isColumnFunc(e,this.colDef.rowDrag)}isDndSource(e){return this.isColumnFunc(e,this.colDef.dndSource)}isCellCheckboxSelection(e){return this.isColumnFunc(e,this.colDef.checkboxSelection)}isSuppressPaste(e){return this.isColumnFunc(e,this.colDef?this.colDef.suppressPaste:null)}isResizable(){return!!this.getColDefValue("resizable")}getColDefValue(e){return this.colDef[e]??WD[e]}isColumnFunc(e,t){if(typeof t=="boolean")return t;if(typeof t=="function"){const r=this.createColumnFunctionCallbackParams(e);return t(r)}return!1}setMoving(e,t){this.moving=e,this.columnEventService.dispatchEvent(this.createColumnEvent("movingChanged",t))}createColumnEvent(e,t){return this.gos.addGridCommonParams({type:e,column:this,columns:[this],source:t})}isMoving(){return this.moving}getSort(){return this.sort}setSort(e,t){this.sort!==e&&(this.sort=e,this.columnEventService.dispatchEvent(this.createColumnEvent("sortChanged",t))),this.dispatchStateUpdatedEvent("sort")}isSortable(){return!!this.getColDefValue("sortable")}isSortAscending(){return this.sort==="asc"}isSortDescending(){return this.sort==="desc"}isSortNone(){return _t(this.sort)}isSorting(){return je(this.sort)}getSortIndex(){return this.sortIndex}setSortIndex(e){this.sortIndex=e,this.dispatchStateUpdatedEvent("sortIndex")}setMenuVisible(e,t){this.menuVisible!==e&&(this.menuVisible=e,this.columnEventService.dispatchEvent(this.createColumnEvent("menuVisibleChanged",t)))}isMenuVisible(){return this.menuVisible}setAggFunc(e){this.aggFunc=e,this.dispatchStateUpdatedEvent("aggFunc")}getAggFunc(){return this.aggFunc}getLeft(){return this.left}getOldLeft(){return this.oldLeft}getRight(){return this.left+this.actualWidth}setLeft(e,t){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.columnEventService.dispatchEvent(this.createColumnEvent("leftChanged",t)))}isFilterActive(){return this.filterActive}setFilterActive(e,t,r){this.filterActive!==e&&(this.filterActive=e,this.columnEventService.dispatchEvent(this.createColumnEvent("filterActiveChanged",t)));const n=this.createColumnEvent("filterChanged",t);r&&Kn(n,r),this.columnEventService.dispatchEvent(n)}isHovered(){return this.columnHoverService.isHovered(this)}setPinned(e){e===!0||e==="left"?this.pinned="left":e==="right"?this.pinned="right":this.pinned=null,this.dispatchStateUpdatedEvent("pinned")}setFirstRightPinned(e,t){this.firstRightPinned!==e&&(this.firstRightPinned=e,this.columnEventService.dispatchEvent(this.createColumnEvent("firstRightPinnedChanged",t)))}setLastLeftPinned(e,t){this.lastLeftPinned!==e&&(this.lastLeftPinned=e,this.columnEventService.dispatchEvent(this.createColumnEvent("lastLeftPinnedChanged",t)))}isFirstRightPinned(){return this.firstRightPinned}isLastLeftPinned(){return this.lastLeftPinned}isPinned(){return this.pinned==="left"||this.pinned==="right"}isPinnedLeft(){return this.pinned==="left"}isPinnedRight(){return this.pinned==="right"}getPinned(){return this.pinned}setVisible(e,t){const r=e===!0;this.visible!==r&&(this.visible=r,this.columnEventService.dispatchEvent(this.createColumnEvent("visibleChanged",t))),this.dispatchStateUpdatedEvent("hide")}isVisible(){return this.visible}isSpanHeaderHeight(){const e=this.getColDef();return!e.suppressSpanHeaderHeight&&!e.autoHeaderHeight}getColumnGroupPaddingInfo(){let e=this.getParent();if(!e||!e.isPadding())return{numberOfParents:0,isSpanningTotal:!1};const t=e.getPaddingLevel()+1;let r=!0;for(;e;){if(!e.isPadding()){r=!1;break}e=e.getParent()}return{numberOfParents:t,isSpanningTotal:r}}getColDef(){return this.colDef}getDefinition(){return this.colDef}getColumnGroupShow(){return this.colDef.columnGroupShow}getColId(){return this.colId}getId(){return this.colId}getUniqueId(){return this.colId}getActualWidth(){return this.actualWidth}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}createBaseColDefParams(e){return this.gos.addGridCommonParams({node:e,data:e.data,colDef:this.colDef,column:this})}getColSpan(e){if(_t(this.colDef.colSpan))return 1;const t=this.createBaseColDefParams(e),r=this.colDef.colSpan(t);return Math.max(r,1)}getRowSpan(e){if(_t(this.colDef.rowSpan))return 1;const t=this.createBaseColDefParams(e),r=this.colDef.rowSpan(t);return Math.max(r,1)}setActualWidth(e,t,r=!1){e=Math.max(e,this.minWidth),e=Math.min(e,this.maxWidth),this.actualWidth!==e&&(this.actualWidth=e,this.flex&&t!=="flex"&&t!=="gridInitializing"&&(this.flex=null),r||this.fireColumnWidthChangedEvent(t)),this.dispatchStateUpdatedEvent("width")}fireColumnWidthChangedEvent(e){this.columnEventService.dispatchEvent(this.createColumnEvent("widthChanged",e))}isGreaterThanMax(e){return e>this.maxWidth}getMinWidth(){return this.minWidth}getMaxWidth(){return this.maxWidth}getFlex(){return this.flex||0}setFlex(e){this.flex!==e&&(this.flex=e),this.dispatchStateUpdatedEvent("flex")}setMinimum(e){this.setActualWidth(this.minWidth,e)}setRowGroupActive(e,t){this.rowGroupActive!==e&&(this.rowGroupActive=e,this.columnEventService.dispatchEvent(this.createColumnEvent("columnRowGroupChanged",t))),this.dispatchStateUpdatedEvent("rowGroup")}isRowGroupActive(){return this.rowGroupActive}setPivotActive(e,t){this.pivotActive!==e&&(this.pivotActive=e,this.columnEventService.dispatchEvent(this.createColumnEvent("columnPivotChanged",t))),this.dispatchStateUpdatedEvent("pivot")}isPivotActive(){return this.pivotActive}isAnyFunctionActive(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()}isAnyFunctionAllowed(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()}setValueActive(e,t){this.aggregationActive!==e&&(this.aggregationActive=e,this.columnEventService.dispatchEvent(this.createColumnEvent("columnValueChanged",t)))}isValueActive(){return this.aggregationActive}isAllowPivot(){return this.colDef.enablePivot===!0}isAllowValue(){return this.colDef.enableValue===!0}isAllowRowGroup(){return this.colDef.enableRowGroup===!0}dispatchStateUpdatedEvent(e){this.columnEventService.dispatchEvent({type:"columnStateUpdated",key:e})}};function sn(e){return e instanceof eh}var eh=class extends Re{constructor(e,t,r,n){super(),this.isColumn=!1,this.expandable=!1,this.instanceId=G3(),this.expandableListenerRemoveCallback=null,this.colGroupDef=e,this.groupId=t,this.expanded=!!e&&!!e.openByDefault,this.padding=r,this.level=n}destroy(){this.expandableListenerRemoveCallback&&this.reset(null,void 0),super.destroy()}reset(e,t){this.colGroupDef=e,this.level=t,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0}getInstanceId(){return this.instanceId}setOriginalParent(e){this.originalParent=e}getOriginalParent(){return this.originalParent}getLevel(){return this.level}isVisible(){return this.children?this.children.some(e=>e.isVisible()):!1}isPadding(){return this.padding}setExpanded(e){this.expanded=e===void 0?!1:e,this.dispatchLocalEvent({type:"expandedChanged"})}isExpandable(){return this.expandable}isExpanded(){return this.expanded}getGroupId(){return this.groupId}getId(){return this.getGroupId()}setChildren(e){this.children=e}getChildren(){return this.children}getColGroupDef(){return this.colGroupDef}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}addLeafColumns(e){this.children&&this.children.forEach(t=>{no(t)?e.push(t):sn(t)&&t.addLeafColumns(e)})}getColumnGroupShow(){const e=this.colGroupDef;if(e)return e.columnGroupShow}setupExpandable(){this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();const e=this.onColumnVisibilityChanged.bind(this);this.getLeafColumns().forEach(t=>t.addEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=()=>{this.getLeafColumns().forEach(t=>t.removeEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=null}}setExpandable(){if(this.isPadding())return;let e=!1,t=!1,r=!1;const n=this.findChildrenRemovingPadding();for(let s=0,o=n.length;s<o;s++){const a=n[s];if(!a.isVisible())continue;const l=a.getColumnGroupShow();l==="open"?(e=!0,r=!0):l==="closed"?(t=!0,r=!0):(e=!0,t=!0)}const i=e&&t&&r;this.expandable!==i&&(this.expandable=i,this.dispatchLocalEvent({type:"expandableChanged"}))}findChildrenRemovingPadding(){const e=[],t=r=>{r.forEach(n=>{sn(n)&&n.isPadding()?t(n.children):e.push(n)})};return t(this.children),e}onColumnVisibilityChanged(){this.setExpandable()}},UD={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}},Hw={};function ey(e,t){Hw[t]||(e(),Hw[t]=!0)}function Si(e,...t){console.log("AG Grid: "+e,...t)}function ke(e,...t){ey(()=>console.warn("AG Grid: "+e,...t),e+(t==null?void 0:t.join("")))}function Vt(e,...t){ey(()=>console.error("AG Grid: "+e,...t),e+(t==null?void 0:t.join("")))}function ty(e){return!!(e&&e.constructor&&e.call&&e.apply)}function KD(e){qD(e,400)}var Mp=[],kp=!1;function Gw(e){Mp.push(e),!kp&&(kp=!0,window.setTimeout(()=>{const t=Mp.slice();Mp.length=0,kp=!1,t.forEach(r=>r())},0))}function qD(e,t=0){e.length>0&&window.setTimeout(()=>e.forEach(r=>r()),t)}function ln(e,t){let r;return function(...n){const i=this;window.clearTimeout(r),r=window.setTimeout(function(){e.apply(i,n)},t)}}function Vw(e,t){let r=0;return function(...n){const i=this,s=new Date().getTime();s-r<t||(r=s,e.apply(i,n))}}function YD(e,t,r=100,n){const i=new Date().getTime();let s=null,o=!1;const a=()=>{const l=new Date().getTime()-i>r;(e()||l)&&(t(),o=!0,s!=null&&(window.clearInterval(s),s=null),l&&n&&ke(n))};a(),o||(s=window.setInterval(a,10))}function XD(...e){return t=>e.reduce((r,n)=>n(r),t)}var QD=class{constructor(){this.existingKeys={}}addExistingKeys(e){for(let t=0;t<e.length;t++)this.existingKeys[e[t]]=!0}getUniqueKey(e,t){e=Jm(e);let r=0;for(;;){let n;if(e?(n=e,r!==0&&(n+="_"+r)):t?(n=t,r!==0&&(n+="_"+r)):n=r,!this.existingKeys[n])return this.existingKeys[n]=!0,String(n);r++}}},Ou="ag-Grid-AutoColumn";function ry(e){const t=[],r=n=>{for(let i=0;i<n.length;i++){const s=n[i];no(s)?t.push(s):sn(s)&&r(s.getChildren())}};return r(e),t}function Qi(e){return e.reduce((t,r)=>t+r.getActualWidth(),0)}function za(e,t,r){const n={};if(!t)return;ps(null,t,s=>{n[s.getInstanceId()]=s}),r&&ps(null,r,s=>{n[s.getInstanceId()]=null});const i=Object.values(n).filter(s=>s!=null);e.destroyBeans(i)}function zw(e){return e.getId().startsWith(Ou)}function th(e){let t=[];return e instanceof Array?e.some(n=>typeof n!="string")?ke("if colDef.type is supplied an array it should be of type 'string[]'"):t=e:typeof e=="string"?t=e.split(","):ke("colDef.type should be of type 'string' | 'string[]'"),t}var ZD=class extends Re{constructor(){super(...arguments),this.beanName="columnFactory"}wireBeans(e){this.dataTypeService=e.dataTypeService}createColumnTree(e,t,r,n){const i=new QD,{existingCols:s,existingGroups:o,existingColKeys:a}=this.extractExistingTreeData(r);i.addExistingKeys(a);const l=this.recursivelyCreateColumns(e,0,t,s,i,o,n),c=this.findMaxDept(l,0),u=this.balanceColumnTree(l,0,c,i);return ps(null,u,(d,h)=>{sn(d)&&d.setupExpandable(),d.setOriginalParent(h)}),{columnTree:u,treeDept:c}}extractExistingTreeData(e){const t=[],r=[],n=[];return e&&ps(null,e,i=>{if(sn(i)){const s=i;r.push(s)}else{const s=i;n.push(s.getId()),t.push(s)}}),{existingCols:t,existingGroups:r,existingColKeys:n}}createForAutoGroups(e,t){const r=[],n=this.findDepth(t);return e.forEach(i=>{let s=i;for(let o=n-1;o>=0;o--){const a=new eh(null,`FAKE_PATH_${i.getId()}}_${o}`,!0,o);this.createBean(a),a.setChildren([s]),s.setOriginalParent(a),s=a}n===0&&i.setOriginalParent(null),r.push(s)}),[r,n]}findDepth(e){let t=0,r=e;for(;r&&r[0]&&sn(r[0]);)t++,r=r[0].getChildren();return t}balanceColumnTree(e,t,r,n){const i=[];for(let s=0;s<e.length;s++){const o=e[s];if(sn(o)){const a=o,l=this.balanceColumnTree(a.getChildren(),t+1,r,n);a.setChildren(l),i.push(a)}else{let a,l;for(let c=r-1;c>=t;c--){const u=n.getUniqueKey(null,null),f=this.createMergedColGroupDef(null),d=new eh(f,u,!0,t);this.createBean(d),l&&l.setChildren([d]),l=d,a||(a=l)}if(a&&l)if(i.push(a),e.some(u=>sn(u))){l.setChildren([o]);continue}else{l.setChildren(e);break}i.push(o)}}return i}findMaxDept(e,t){let r=t;for(let n=0;n<e.length;n++){const i=e[n];if(sn(i)){const s=i,o=this.findMaxDept(s.getChildren(),t+1);r<o&&(r=o)}}return r}recursivelyCreateColumns(e,t,r,n,i,s,o){if(!e)return[];const a=new Array(e.length);for(let l=0;l<a.length;l++){const c=e[l];this.isColumnGroup(c)?a[l]=this.createColumnGroup(r,c,t,n,i,s,o):a[l]=this.createColumn(r,c,n,i,o)}return a}createColumnGroup(e,t,r,n,i,s,o){const a=this.createMergedColGroupDef(t),l=i.getUniqueKey(a.groupId||null,null),c=new eh(a,l,!1,r);this.createBean(c);const u=this.findExistingGroup(t,s);u&&s.splice(u.idx,1);const f=u==null?void 0:u.group;f&&c.setExpanded(f.isExpanded());const d=this.recursivelyCreateColumns(a.children,r+1,e,n,i,s,o);return c.setChildren(d),c}createMergedColGroupDef(e){const t={};return Object.assign(t,this.gos.get("defaultColGroupDef")),Object.assign(t,e),t}createColumn(e,t,r,n,i){var a;const s=this.findExistingColumn(t,r);s&&(r==null||r.splice(s.idx,1));let o=s==null?void 0:s.column;if(o){const l=this.addColumnDefaultAndTypes(t,o.getColId());o.setColDef(l,t,i),this.applyColumnState(o,l,i)}else{const l=n.getUniqueKey(t.colId,t.field),c=this.addColumnDefaultAndTypes(t,l);o=new z3(c,t,l,e),this.createBean(o)}return(a=this.dataTypeService)==null||a.addColumnListeners(o),o}applyColumnState(e,t,r){const n=Lo(t.flex);if(n!==void 0&&e.setFlex(n),e.getFlex()<=0){const a=Lo(t.width);if(a!=null)e.setActualWidth(a,r);else{const l=e.getActualWidth();e.setActualWidth(l,r)}}t.sort!==void 0&&(t.sort=="asc"||t.sort=="desc"?e.setSort(t.sort,r):e.setSort(void 0,r));const s=Lo(t.sortIndex);s!==void 0&&e.setSortIndex(s);const o=ev(t.hide);o!==void 0&&e.setVisible(!o,r),t.pinned!==void 0&&e.setPinned(t.pinned)}findExistingColumn(e,t){if(t)for(let r=0;r<t.length;r++){const n=t[r].getUserProvidedColDef();if(!n)continue;if(e.colId!=null){if(t[r].getId()===e.colId)return{idx:r,column:t[r]};continue}if(e.field!=null){if(n.field===e.field)return{idx:r,column:t[r]};continue}if(n===e)return{idx:r,column:t[r]}}}findExistingGroup(e,t){if(e.groupId!=null)for(let n=0;n<t.length;n++){const i=t[n];if(i.getColGroupDef()&&i.getId()===e.groupId)return{idx:n,group:i}}}addColumnDefaultAndTypes(e,t){var a;const r={},n=this.gos.get("defaultColDef");Kn(r,n,!1,!0);const i=this.updateColDefAndGetColumnType(r,e,t);i&&this.assignColumnTypes(i,r),Kn(r,e,!1,!0);const s=this.gos.get("autoGroupColumnDef"),o=this.gos.isColumnsSortingCoupledToGroup();return e.rowGroup&&s&&o&&Kn(r,{sort:s.sort,initialSort:s.initialSort},!1,!0),(a=this.dataTypeService)==null||a.validateColDef(r),r}updateColDefAndGetColumnType(e,t,r){var s;const n=(s=this.dataTypeService)==null?void 0:s.updateColDefAndGetColumnType(e,t,r),i=t.type??n??e.type;return e.type=i,i?th(i):void 0}assignColumnTypes(e,t){if(!e.length)return;const r=Object.assign({},UD),n=this.gos.get("columnTypes")||{};bi(n,(i,s)=>{i in r?ke(`the column type '${i}' is a default column type and cannot be overridden.`):(s.type&&ke("Column type definitions 'columnTypes' with a 'type' attribute are not supported because a column type cannot refer to another column type. Only column definitions 'columnDefs' can use the 'type' attribute to refer to a column type."),r[i]=s)}),e.forEach(i=>{const s=r[i.trim()];s?Kn(t,s,!1,!0):ke("colDef.type '"+i+"' does not correspond to defined gridOptions.columnTypes")})}isColumnGroup(e){return e.children!==void 0}};function ps(e,t,r){if(t)for(let n=0;n<t.length;n++){const i=t[n];sn(i)&&ps(i,i.getChildren(),r),r(i,e)}}var JD=class extends Re{constructor(){super(...arguments),this.beanName="columnModel",this.pivotMode=!1,this.autoHeightActiveAtLeastOnce=!1,this.ready=!1,this.changeEventsDispatching=!1,this.shouldQueueResizeOperations=!1,this.resizeOperationQueue=[]}wireBeans(e){this.context=e.context,this.ctrlsService=e.ctrlsService,this.columnFactory=e.columnFactory,this.columnSizeService=e.columnSizeService,this.visibleColsService=e.visibleColsService,this.columnViewportService=e.columnViewportService,this.pivotResultColsService=e.pivotResultColsService,this.columnAnimationService=e.columnAnimationService,this.autoColService=e.autoColService,this.valueCache=e.valueCache,this.columnDefFactory=e.columnDefFactory,this.columnApplyStateService=e.columnApplyStateService,this.columnGroupStateService=e.columnGroupStateService,this.eventDispatcher=e.columnEventDispatcher,this.columnMoveService=e.columnMoveService,this.columnAutosizeService=e.columnAutosizeService,this.funcColsService=e.funcColsService,this.quickFilterService=e.quickFilterService,this.showRowGroupColsService=e.showRowGroupColsService,this.environment=e.environment}postConstruct(){const e=this.gos.get("pivotMode");this.isPivotSettingAllowed(e)&&(this.pivotMode=e),this.addManagedPropertyListeners(["groupDisplayType","treeData","treeDataDisplayType","groupHideOpenParents"],t=>this.refreshAll(Wa(t.source))),this.addManagedPropertyListener("autoGroupColumnDef",t=>this.onAutoGroupColumnDefChanged(Wa(t.source))),this.addManagedPropertyListeners(["defaultColDef","defaultColGroupDef","columnTypes","suppressFieldDotNotation"],t=>this.recreateColumnDefs(Wa(t.source))),this.addManagedPropertyListener("pivotMode",t=>this.setPivotMode(this.gos.get("pivotMode"),Wa(t.source))),this.addManagedEventListeners({firstDataRendered:()=>this.onFirstDataRendered()})}createColsFromColDefs(e,t){var f,d,h;const r=e?this.columnApplyStateService.compareColumnStatesAndDispatchEvents(t):void 0;this.valueCache.expire();const n=(f=this.colDefCols)==null?void 0:f.list,i=(d=this.colDefCols)==null?void 0:d.tree,s=this.columnFactory.createColumnTree(this.colDefs,!0,i,t);za(this.context,(h=this.colDefCols)==null?void 0:h.tree,s.columnTree);const o=s.columnTree,a=s.treeDept,l=ry(o),c={};l.forEach(g=>c[g.getId()]=g),this.colDefCols={tree:o,treeDepth:a,list:l,map:c},this.funcColsService.extractCols(t,n),this.ready=!0,this.refreshCols(),e&&!this.showingPivotResult&&!this.gos.get("maintainColumnOrder")&&this.orderColsLikeColDefCols(),this.visibleColsService.refresh(t),this.columnViewportService.checkViewportColumns(),this.eventDispatcher.everythingChanged(t),r&&(this.changeEventsDispatching=!0,r(),this.changeEventsDispatching=!1),this.eventDispatcher.newColumnsLoaded(t),t==="gridInitializing"&&this.columnSizeService.applyAutosizeStrategy()}refreshCols(){var r,n,i;if(!this.colDefCols)return;const e=(r=this.cols)==null?void 0:r.tree;this.saveColOrder(),this.selectCols(),this.createAutoCols(),this.addAutoCols(),this.restoreColOrder(),this.positionLockedCols(),(n=this.showRowGroupColsService)==null||n.refresh(),(i=this.quickFilterService)==null||i.refreshQuickFilterCols(),this.setColSpanActive(),this.setAutoHeightActive(),this.visibleColsService.clear(),this.columnViewportService.clear(),!oa(e,this.cols.tree)&&this.eventDispatcher.gridColumns()}selectCols(){const e=this.pivotResultColsService.getPivotResultCols();if(this.showingPivotResult=e!=null,e){const{map:t,list:r,tree:n,treeDepth:i}=e;this.cols={list:r.slice(),map:{...t},tree:n.slice(),treeDepth:i},e.list.some(o=>{var a;return((a=this.cols)==null?void 0:a.map[o.getColId()])!==void 0})||(this.lastPivotOrder=null)}else{const{map:t,list:r,tree:n,treeDepth:i}=this.colDefCols;this.cols={list:r.slice(),map:{...t},tree:n.slice(),treeDepth:i}}}getColsToShow(){const e=this.isPivotMode()&&!this.isShowingPivotResult(),t=this.funcColsService.getValueColumns();return this.cols.list.filter(n=>{const i=zw(n);if(e){const s=t&&No(t,n);return i||s}else return i||n.isVisible()})}addAutoCols(){this.autoCols!=null&&(this.cols.list=this.autoCols.list.concat(this.cols.list),this.cols.tree=this.autoCols.tree.concat(this.cols.tree),eI(this.cols))}createAutoCols(){var g,v;const e=this.gos.isGroupUseEntireRow(this.pivotMode),t=this.pivotMode?this.gos.get("pivotSuppressAutoColumn"):this.isSuppressAutoCol(),r=this.funcColsService.getRowGroupColumns(),i=!(r.length>0||this.gos.get("treeData"))||t||e,s=()=>{this.autoCols&&(za(this.context,this.autoCols.tree),this.autoCols=null)};if(i||!this.autoColService){s();return}const o=this.autoColService.createAutoCols(r)??[],a=tI(o,((g=this.autoCols)==null?void 0:g.list)||null),l=this.cols.treeDepth,u=(this.autoCols?this.autoCols.treeDepth:-1)==l;if(a&&u)return;s();const[f,d]=this.columnFactory.createForAutoGroups(o,(v=this.cols)==null?void 0:v.tree);this.autoCols={list:o,tree:f,treeDepth:d,map:{}};const h=p=>{if(!p)return null;const y=p.filter(m=>!zw(m));return[...o,...y]};this.lastOrder=h(this.lastOrder),this.lastPivotOrder=h(this.lastPivotOrder)}refreshAll(e){this.isReady()&&(this.refreshCols(),this.visibleColsService.refresh(e))}setColsVisible(e,t=!1,r){this.columnApplyStateService.applyColumnState({state:e.map(n=>({colId:typeof n=="string"?n:n.getColId(),hide:!t}))},r)}setColsPinned(e,t,r){if(!this.cols||xn(e))return;if(this.gos.isDomLayout("print")){ke("Changing the column pinning status is not allowed with domLayout='print'");return}this.columnAnimationService.start();let n;t===!0||t==="left"?n="left":t==="right"?n="right":n=null;const i=[];e.forEach(s=>{if(!s)return;const o=this.getCol(s);o&&o.getPinned()!==n&&(o.setPinned(n),i.push(o))}),i.length&&(this.visibleColsService.refresh(r),this.eventDispatcher.columnPinned(i,r)),this.columnAnimationService.finish()}setColumnGroupOpened(e,t,r){let n;sn(e)?n=e.getId():n=e||"",this.columnGroupStateService.setColumnGroupState([{groupId:n,open:t}],r)}getProvidedColGroup(e){var r;let t=null;return ps(null,(r=this.cols)==null?void 0:r.tree,n=>{sn(n)&&n.getId()===e&&(t=n)}),t}isColGroupLocked(e){const t=this.gos.get("groupLockGroupColumns");if(!e.isRowGroupActive()||t===0)return!1;if(t===-1)return!0;const n=this.funcColsService.getRowGroupColumns().findIndex(i=>i.getColId()===e.getColId());return t>n}isSuppressAutoCol(){return this.gos.get("groupDisplayType")==="custom"?!0:this.gos.get("treeDataDisplayType")==="custom"}setAutoHeightActive(){this.autoHeightActive=this.cols.list.some(e=>e.isVisible()&&e.isAutoHeight()),this.autoHeightActive&&(this.autoHeightActiveAtLeastOnce=!0,this.gos.isRowModelType("clientSide")||this.gos.isRowModelType("serverSide")||ke("autoHeight columns only work with Client Side Row Model and Server Side Row Model."))}restoreColOrder(){const e=this.showingPivotResult?this.lastPivotOrder:this.lastOrder;if(!e)return;const t=new Map(e.map((l,c)=>[l,c]));if(!this.cols.list.some(l=>t.has(l)))return;const n=new Map(this.cols.list.map(l=>[l,!0])),i=e.filter(l=>n.has(l)),s=new Map(i.map(l=>[l,!0])),o=this.cols.list.filter(l=>!s.has(l)),a=i.slice();o.forEach(l=>{let c=l.getOriginalParent();if(!c){a.push(l);return}const u=[];for(;!u.length&&c;)c.getLeafColumns().forEach(g=>{const v=a.indexOf(g)>=0,p=u.indexOf(g)<0;v&&p&&u.push(g)}),c=c.getOriginalParent();if(!u.length){a.push(l);return}const f=u.map(h=>a.indexOf(h)),d=Math.max(...f);Qh(a,l,d+1)}),this.cols.list=a}orderColsLikeColDefCols(){if(!this.colDefCols||!this.cols)return;const e=this.colDefCols.list.filter(r=>this.cols.list.indexOf(r)>=0),t=this.cols.list.filter(r=>e.indexOf(r)<0);this.cols.list=[...t,...e],this.cols.list=this.columnMoveService.placeLockedColumns(this.cols.list)}sortColsLikeKeys(e){if(this.cols==null)return;let t=[];const r={};e.forEach(i=>{if(r[i])return;const s=this.cols.map[i];s&&(t.push(s),r[i]=!0)});let n=0;if(this.cols.list.forEach(i=>{const s=i.getColId();if(r[s]!=null)return;s.startsWith(Ou)?Qh(t,i,n++):t.push(i)}),t=this.columnMoveService.placeLockedColumns(t),!this.columnMoveService.doesMovePassMarryChildren(t)){ke("Applying column order broke a group where columns should be married together. Applying new order has been discarded.");return}this.cols.list=t}sortColsLikeCols(e){!e||e.length<=1||e.filter(r=>this.cols.list.indexOf(r)<0).length>0||e.sort((r,n)=>{const i=this.cols.list.indexOf(r),s=this.cols.list.indexOf(n);return i-s})}resetColDefIntoCol(e,t){const r=e.getUserProvidedColDef();if(!r)return!1;const n=this.columnFactory.addColumnDefaultAndTypes(r,e.getColId());return e.setColDef(n,r,t),!0}queueResizeOperations(){this.shouldQueueResizeOperations=!0}isShouldQueueResizeOperations(){return this.shouldQueueResizeOperations}processResizeOperations(){this.shouldQueueResizeOperations=!1,this.resizeOperationQueue.forEach(e=>e()),this.resizeOperationQueue=[]}pushResizeOperation(e){this.resizeOperationQueue.push(e)}moveInCols(e,t,r){var n;L3((n=this.cols)==null?void 0:n.list,e,t),this.visibleColsService.refresh(r)}positionLockedCols(){this.cols.list=this.columnMoveService.placeLockedColumns(this.cols.list)}saveColOrder(){var e,t;this.showingPivotResult?this.lastPivotOrder=(e=this.cols)==null?void 0:e.list:this.lastOrder=(t=this.cols)==null?void 0:t.list}getColumnDefs(){if(!this.colDefCols)return;const e=this.colDefCols.list.slice();this.showingPivotResult?e.sort((n,i)=>this.lastOrder.indexOf(n)-this.lastOrder.indexOf(i)):this.lastOrder&&e.sort((n,i)=>this.cols.list.indexOf(n)-this.cols.list.indexOf(i));const t=this.funcColsService.getRowGroupColumns(),r=this.funcColsService.getPivotColumns();return this.columnDefFactory.buildColumnDefs(e,t,r)}isShowingPivotResult(){return this.showingPivotResult}isChangeEventsDispatching(){return this.changeEventsDispatching}isColSpanActive(){return this.colSpanActive}isProvidedColGroupsPresent(){var e;return((e=this.colDefCols)==null?void 0:e.treeDepth)>0}setColSpanActive(){this.colSpanActive=this.cols.list.some(e=>e.getColDef().colSpan!=null)}isAutoRowHeightActive(){return this.autoHeightActive}wasAutoRowHeightEverActive(){return this.autoHeightActiveAtLeastOnce}getHeaderRowCount(){return this.cols?this.cols.treeDepth+1:-1}isReady(){return this.ready}isPivotMode(){return this.pivotMode}setPivotMode(e,t){e===this.pivotMode||!this.isPivotSettingAllowed(this.pivotMode)||(this.pivotMode=e,this.ready&&(this.refreshCols(),this.visibleColsService.refresh(t),this.eventDispatcher.pivotModeChanged()))}isPivotSettingAllowed(e){return e&&this.gos.get("treeData")?(ke("Pivot mode not available with treeData."),!1):!0}isPivotActive(){const e=this.funcColsService.getPivotColumns();return this.pivotMode&&!xn(e)}recreateColumnDefs(e){this.cols&&(this.autoCols&&this.autoColService.updateAutoCols(this.autoCols.list,e),this.createColsFromColDefs(!0,e))}setColumnDefs(e,t){const r=!!this.colDefs;this.colDefs=e,this.createColsFromColDefs(r,t)}destroy(){var e,t;za(this.context,(e=this.colDefCols)==null?void 0:e.tree),za(this.context,(t=this.autoCols)==null?void 0:t.tree),super.destroy()}getColTree(){return this.cols.tree}getColDefColTree(){return this.colDefCols.tree}getColDefCols(){var e;return(e=this.colDefCols)!=null&&e.list?this.colDefCols.list:null}getCols(){var e;return((e=this.cols)==null?void 0:e.list)??[]}getAllCols(){var r,n;const e=this.pivotResultColsService.getPivotResultCols(),t=e==null?void 0:e.list;return[].concat(((r=this.colDefCols)==null?void 0:r.list)||[],((n=this.autoCols)==null?void 0:n.list)||[],t||[])}getColsForKeys(e){return e?e.map(r=>this.getCol(r)).filter(r=>r!=null):[]}getColDefCol(e){var t;return(t=this.colDefCols)!=null&&t.list?this.getColFromCollection(e,this.colDefCols):null}getCol(e){return e==null?null:this.getColFromCollection(e,this.cols)}getColFromCollection(e,t){if(t==null)return null;const{map:r,list:n}=t;if(typeof e=="string"&&r[e])return r[e];for(let i=0;i<n.length;i++)if(Ww(n[i],e))return n[i];return this.getAutoCol(e)}getAutoCol(e){return this.autoCols==null?null:this.autoCols.list.find(t=>Ww(t,e))||null}getAutoCols(){var e;return((e=this.autoCols)==null?void 0:e.list)||null}setColHeaderHeight(e,t){e.setAutoHeaderHeight(t)&&(e.isColumn?this.eventDispatcher.headerHeight(e):this.eventDispatcher.groupHeaderHeight(e))}getGroupRowsHeight(){const e=[],t=this.ctrlsService.getHeaderRowContainerCtrls();for(const r of t){if(!r)continue;const n=r.getGroupRowCount()||0;for(let i=0;i<n;i++){const s=r.getGroupRowCtrlAtIndex(i),o=e[i];if(s){const a=this.getColumnGroupHeaderRowHeight(s);(o==null||a>o)&&(e[i]=a)}}}return e}getColumnGroupHeaderRowHeight(e){const t=this.isPivotMode()?this.getPivotGroupHeaderHeight():this.getGroupHeaderHeight();let r=0;const n=e.getHeaderCtrls();for(const i of n){const s=i.getColumn();if(s.isAutoHeaderHeight()){const o=s.getAutoHeaderHeight();o!=null&&o>r&&(r=o)}}return Math.max(t,r)}getColumnHeaderRowHeight(){const e=this.isPivotMode()?this.getPivotHeaderHeight():this.getHeaderHeight(),r=this.visibleColsService.getAllCols().filter(n=>n.isAutoHeaderHeight()).map(n=>n.getAutoHeaderHeight()||0);return Math.max(e,...r)}getHeaderHeight(){return this.gos.get("headerHeight")??this.environment.getDefaultHeaderHeight()}getFloatingFiltersHeight(){return this.gos.get("floatingFiltersHeight")??this.getHeaderHeight()}getGroupHeaderHeight(){return this.gos.get("groupHeaderHeight")??this.getHeaderHeight()}getPivotHeaderHeight(){return this.gos.get("pivotHeaderHeight")??this.getHeaderHeight()}getPivotGroupHeaderHeight(){return this.gos.get("pivotGroupHeaderHeight")??this.getGroupHeaderHeight()}onFirstDataRendered(){const e=this.gos.get("autoSizeStrategy");if((e==null?void 0:e.type)!=="fitCellContents")return;const{colIds:t,skipHeader:r}=e;setTimeout(()=>{t?this.columnAutosizeService.autoSizeCols({colKeys:t,skipHeader:r,source:"autosizeColumns"}):this.columnAutosizeService.autoSizeAllColumns("autosizeColumns",r)})}onAutoGroupColumnDefChanged(e){this.autoCols&&this.autoColService.updateAutoCols(this.autoCols.list,e)}};function Wa(e){return e==="gridOptionsUpdated"?"gridOptionsChanged":e}function eI(e){e.map={},e.list.forEach(t=>e.map[t.getId()]=t)}function Ww(e,t){const r=e===t,n=e.getColDef()===t,i=e.getColId()==t;return r||n||i}function tI(e,t){return oa(e,t,(r,n)=>r.getColId()===n.getColId())}var rI=class extends Re{constructor(){super(...arguments),this.beanName="columnAutosizeService",this.timesDelayed=0}wireBeans(e){this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.animationFrameService=e.animationFrameService,this.autoWidthCalculator=e.autoWidthCalculator,this.eventDispatcher=e.columnEventDispatcher,this.ctrlsService=e.ctrlsService,this.renderStatusService=e.renderStatusService}autoSizeCols(e){if(this.columnModel.isShouldQueueResizeOperations()){this.columnModel.pushResizeOperation(()=>this.autoSizeCols(e));return}const{colKeys:t,skipHeader:r,skipHeaderGroups:n,stopAtGroup:i,source:s="api"}=e;if(this.animationFrameService.flushAllFrames(),this.timesDelayed<5&&this.renderStatusService&&!this.renderStatusService.areHeaderCellsRendered()){this.timesDelayed++,setTimeout(()=>this.autoSizeCols(e));return}this.timesDelayed=0;const o=[];let a=-1;const l=r??this.gos.get("skipHeaderOnAutoSize"),c=n??l;for(;a!==0;){a=0;const u=[];t.forEach(f=>{if(!f)return;const d=this.columnModel.getCol(f);if(!d||o.indexOf(d)>=0)return;const h=this.autoWidthCalculator.getPreferredWidthForColumn(d,l);if(h>0){const g=this.normaliseColumnWidth(d,h);d.setActualWidth(g,s),o.push(d),a++}u.push(d)}),u.length&&this.visibleColsService.refresh(s)}c||this.autoSizeColumnGroupsByColumns(t,s,i),this.eventDispatcher.columnResized(o,!0,"autosizeColumns")}autoSizeColumn(e,t,r){e&&this.autoSizeCols({colKeys:[e],skipHeader:r,skipHeaderGroups:!0,source:t})}autoSizeColumnGroupsByColumns(e,t,r){const n=new Set;this.columnModel.getColsForKeys(e).forEach(a=>{let l=a.getParent();for(;l&&l!=r;)l.isPadding()||n.add(l),l=l.getParent()});let s;const o=[];for(const a of n){for(const l of this.ctrlsService.getHeaderRowContainerCtrls())if(s=l.getHeaderCtrlForColumn(a),s)break;s&&s.resizeLeafColumnsToFit(t)}return o}autoSizeAllColumns(e,t){if(this.columnModel.isShouldQueueResizeOperations()){this.columnModel.pushResizeOperation(()=>this.autoSizeAllColumns(e,t));return}const r=this.visibleColsService.getAllCols();this.autoSizeCols({colKeys:r,skipHeader:t,source:e})}normaliseColumnWidth(e,t){const r=e.getMinWidth();t<r&&(t=r);const n=e.getMaxWidth();return e.isGreaterThanMax(t)&&(t=n),t}},nI=class extends Re{constructor(){super(...arguments),this.beanName="funcColsService",this.rowGroupCols=[],this.valueCols=[],this.pivotCols=[]}wireBeans(e){this.columnModel=e.columnModel,this.eventDispatcher=e.columnEventDispatcher,this.aggFuncService=e.aggFuncService,this.visibleColsService=e.visibleColsService}getModifyColumnsNoEventsCallbacks(){return{addGroupCol:e=>this.rowGroupCols.push(e),removeGroupCol:e=>an(this.rowGroupCols,e),addPivotCol:e=>this.pivotCols.push(e),removePivotCol:e=>an(this.pivotCols,e),addValueCol:e=>this.valueCols.push(e),removeValueCol:e=>an(this.valueCols,e)}}getSourceColumnsForGroupColumn(e){const t=e.getColDef().showRowGroup;if(!t)return null;if(t===!0)return this.rowGroupCols.slice(0);const r=this.columnModel.getColDefCol(t);return r?[r]:null}sortRowGroupColumns(e){this.rowGroupCols.sort(e)}sortPivotColumns(e){this.pivotCols.sort(e)}getValueColumns(){return this.valueCols?this.valueCols:[]}getPivotColumns(){return this.pivotCols?this.pivotCols:[]}getRowGroupColumns(){return this.rowGroupCols?this.rowGroupCols:[]}isRowGroupEmpty(){return xn(this.rowGroupCols)}setColumnAggFunc(e,t,r){if(!e)return;const n=this.columnModel.getColDefCol(e);n&&(n.setAggFunc(t),this.eventDispatcher.columnChanged("columnValueChanged",[n],r))}setRowGroupColumns(e,t){this.setColList(e,this.rowGroupCols,"columnRowGroupChanged",!0,!0,(r,n)=>this.setRowGroupActive(r,n,t),t)}setRowGroupActive(e,t,r){e!==t.isRowGroupActive()&&(t.setRowGroupActive(e,r),e&&!this.gos.get("suppressRowGroupHidesColumns")&&this.columnModel.setColsVisible([t],!1,r),!e&&!this.gos.get("suppressMakeColumnVisibleAfterUnGroup")&&this.columnModel.setColsVisible([t],!0,r))}addRowGroupColumns(e,t){this.updateColList(e,this.rowGroupCols,!0,!0,r=>this.setRowGroupActive(!0,r,t),"columnRowGroupChanged",t)}removeRowGroupColumns(e,t){this.updateColList(e,this.rowGroupCols,!1,!0,r=>this.setRowGroupActive(!1,r,t),"columnRowGroupChanged",t)}addPivotColumns(e,t){this.updateColList(e,this.pivotCols,!0,!1,r=>r.setPivotActive(!0,t),"columnPivotChanged",t)}setPivotColumns(e,t){this.setColList(e,this.pivotCols,"columnPivotChanged",!0,!1,(r,n)=>{n.setPivotActive(r,t)},t)}removePivotColumns(e,t){this.updateColList(e,this.pivotCols,!1,!1,r=>r.setPivotActive(!1,t),"columnPivotChanged",t)}setValueColumns(e,t){this.setColList(e,this.valueCols,"columnValueChanged",!1,!1,(r,n)=>this.setValueActive(r,n,t),t)}setValueActive(e,t,r){if(e!==t.isValueActive()&&(t.setValueActive(e,r),e&&!t.getAggFunc()&&this.aggFuncService)){const n=this.aggFuncService.getDefaultAggFunc(t);t.setAggFunc(n)}}addValueColumns(e,t){this.updateColList(e,this.valueCols,!0,!1,r=>this.setValueActive(!0,r,t),"columnValueChanged",t)}removeValueColumns(e,t){this.updateColList(e,this.valueCols,!1,!1,r=>this.setValueActive(!1,r,t),"columnValueChanged",t)}moveRowGroupColumn(e,t,r){if(this.isRowGroupEmpty())return;const n=this.rowGroupCols[e],i=this.rowGroupCols.slice(e,t);this.rowGroupCols.splice(e,1),this.rowGroupCols.splice(t,0,n),this.eventDispatcher.rowGroupChanged(i,r)}setColList(e,t,r,n,i,s,o){const a=this.columnModel.getCols();if(xn(a))return;const l=new Map;t.forEach((u,f)=>l.set(u,f)),t.length=0,je(e)&&e.forEach(u=>{const f=this.columnModel.getColDefCol(u);f&&t.push(f)}),t.forEach((u,f)=>{const d=l.get(u);if(d===void 0){l.set(u,0);return}n&&d!==f||l.delete(u)}),(this.columnModel.getColDefCols()||[]).forEach(u=>{const f=t.indexOf(u)>=0;s(f,u)}),i&&this.columnModel.refreshCols(),this.visibleColsService.refresh(o),this.eventDispatcher.columnChanged(r,[...l.keys()],o)}updateColList(e,t,r,n,i,s,o){if(!e||xn(e))return;let a=!1;const l=new Set;e.forEach(c=>{if(!c)return;const u=this.columnModel.getColDefCol(c);if(u){if(l.add(u),r){if(t.indexOf(u)>=0)return;t.push(u)}else{const f=t.indexOf(u);if(f<0)return;for(let d=f+1;d<t.length;d++)l.add(t[d]);an(t,u)}i(u),a=!0}}),a&&(n&&this.columnModel.refreshCols(),this.visibleColsService.refresh(o),this.eventDispatcher.genericColumnEvent(s,Array.from(l),o))}extractCols(e,t){this.extractRowGroupCols(e,t),this.extractPivotCols(e,t),this.extractValueCols(e,t)}extractValueCols(e,t){this.valueCols=this.extractColsCommon(t,this.valueCols,(r,n)=>r.setValueActive(n,e),()=>{},()=>{},r=>{const n=r.aggFunc;if(n===null||n==="")return null;if(n!==void 0)return!!n},r=>r.initialAggFunc!=null&&r.initialAggFunc!=""),this.valueCols.forEach(r=>{const n=r.getColDef();n.aggFunc!=null&&n.aggFunc!=""?r.setAggFunc(n.aggFunc):r.getAggFunc()||r.setAggFunc(n.initialAggFunc)})}extractRowGroupCols(e,t){this.rowGroupCols=this.extractColsCommon(t,this.rowGroupCols,(r,n)=>r.setRowGroupActive(n,e),r=>r.rowGroupIndex,r=>r.initialRowGroupIndex,r=>r.rowGroup,r=>r.initialRowGroup)}extractPivotCols(e,t){this.pivotCols=this.extractColsCommon(t,this.pivotCols,(r,n)=>r.setPivotActive(n,e),r=>r.pivotIndex,r=>r.initialPivotIndex,r=>r.pivot,r=>r.initialPivot)}extractColsCommon(e=[],t=[],r,n,i,s,o){const a=[],l=[];(this.columnModel.getColDefCols()||[]).forEach(d=>{const h=e.indexOf(d)<0,g=d.getColDef(),v=ev(s(g)),p=ev(o(g)),y=Lo(n(g)),m=Lo(i(g));let b;v!==void 0?b=v:y!==void 0?y===null?b=!1:b=y>=0:h?p!==void 0?b=p:m!==void 0?b=m!=null&&m>=0:b=!1:b=t.indexOf(d)>=0,b&&((h?y!=null||m!=null:y!=null)?a.push(d):l.push(d))});const u=d=>{const h=n(d.getColDef()),g=i(d.getColDef());return h??g};a.sort((d,h)=>{const g=u(d),v=u(h);return g===v?0:g<v?-1:1});const f=[].concat(a);return t.forEach(d=>{l.indexOf(d)>=0&&f.push(d)}),l.forEach(d=>{f.indexOf(d)<0&&f.push(d)}),t.forEach(d=>{f.indexOf(d)<0&&r(d,!1)}),f.forEach(d=>{t.indexOf(d)<0&&r(d,!0)}),f}generateColumnStateForRowGroupAndPivotIndexes(e,t){const r={},n=(i,s,o,a,l,c)=>{const u=this.columnModel.getColDefCols();if(!s.length||!u)return[];const f=Object.keys(i),d=new Set(f),h=new Set(f),g=new Set(s.map(F=>{const D=F.getColId();return h.delete(D),D}).concat(f)),v=[],p={};let y=0;for(let F=0;F<u.length;F++){const D=u[F].getColId();g.has(D)&&(v.push(D),p[D]=y++)}let m=1e3,b=!1,x=0;const P=F=>{const D=p[F];for(let O=x;O<D;O++){const j=v[O];h.has(j)&&(i[j][l]=m++,h.delete(j))}x=D};s.forEach(F=>{const D=F.getColId();if(d.has(D))P(D),i[D][l]=m++;else{const O=F.getColDef();(O[l]===null||O[l]===void 0&&O[c]==null)&&(b||(O[o]||O[o]===void 0&&O[a]?P(D):(h.forEach(W=>{i[W][l]=m+p[W]}),m+=v.length,b=!0)),r[D]||(r[D]={colId:D}),r[D][l]=m++)}})};return n(e,this.rowGroupCols,"rowGroup","initialRowGroup","rowGroupIndex","initialRowGroupIndex"),n(t,this.pivotCols,"pivot","initialPivot","pivotIndex","initialPivotIndex"),Object.values(r)}},iI=class extends Re{constructor(){super(...arguments),this.beanName="columnApplyStateService"}wireBeans(e){this.columnModel=e.columnModel,this.eventDispatcher=e.columnEventDispatcher,this.sortController=e.sortController,this.columnGetStateService=e.columnGetStateService,this.funcColsService=e.funcColsService,this.visibleColsService=e.visibleColsService,this.columnAnimationService=e.columnAnimationService,this.pivotResultColsService=e.pivotResultColsService}applyColumnState(e,t){const r=this.columnModel.getColDefCols()||[];if(xn(r))return!1;if(e&&e.state&&!e.state.forEach)return ke("applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state."),!1;const n=this.funcColsService.getModifyColumnsNoEventsCallbacks(),i=(a,l,c)=>{const u=this.compareColumnStatesAndDispatchEvents(t),f=l.slice(),d={},h={},g=[],v=[];let p=0;const y=this.funcColsService.getRowGroupColumns().slice(),m=this.funcColsService.getPivotColumns().slice();a.forEach(F=>{const D=F.colId||"";if(D.startsWith(Ou)){g.push(F),v.push(F);return}const j=c(D);j?(this.syncColumnWithStateItem(j,F,e.defaultState,d,h,!1,t,n),an(f,j)):(v.push(F),p+=1)});const b=F=>this.syncColumnWithStateItem(F,null,e.defaultState,d,h,!1,t,n);f.forEach(b),this.funcColsService.sortRowGroupColumns($w.bind(this,d,y)),this.funcColsService.sortPivotColumns($w.bind(this,h,m)),this.columnModel.refreshCols();const P=(this.columnModel.getAutoCols()||[]).slice();return g.forEach(F=>{const D=this.columnModel.getAutoCol(F.colId);an(P,D),this.syncColumnWithStateItem(D,F,e.defaultState,null,null,!0,t,n)}),P.forEach(b),this.orderLiveColsLikeState(e),this.visibleColsService.refresh(t),this.eventDispatcher.everythingChanged(t),u(),{unmatchedAndAutoStates:v,unmatchedCount:p}};this.columnAnimationService.start();let{unmatchedAndAutoStates:s,unmatchedCount:o}=i(e.state||[],r,a=>this.columnModel.getColDefCol(a));if(s.length>0||je(e.defaultState)){const a=this.pivotResultColsService.getPivotResultCols(),l=a==null?void 0:a.list;o=i(s,l||[],c=>this.pivotResultColsService.getPivotResultCol(c)).unmatchedCount}return this.columnAnimationService.finish(),o===0}resetColumnState(e){const t=this.columnModel.getColDefCols();if(xn(t))return;const r=this.columnModel.getColDefColTree(),n=ry(r),i=[];let s=1e3,o=1e3,a=[];const l=this.columnModel.getAutoCols();l&&(a=a.concat(l)),n&&(a=a.concat(n)),a.forEach(c=>{const u=this.getColumnStateFromColDef(c);_t(u.rowGroupIndex)&&u.rowGroup&&(u.rowGroupIndex=s++),_t(u.pivotIndex)&&u.pivot&&(u.pivotIndex=o++),i.push(u)}),this.applyColumnState({state:i,applyOrder:!0},e)}getColumnStateFromColDef(e){const t=(g,v)=>g??v??null,r=e.getColDef(),n=t(r.sort,r.initialSort),i=t(r.sortIndex,r.initialSortIndex),s=t(r.hide,r.initialHide),o=t(r.pinned,r.initialPinned),a=t(r.width,r.initialWidth),l=t(r.flex,r.initialFlex);let c=t(r.rowGroupIndex,r.initialRowGroupIndex),u=t(r.rowGroup,r.initialRowGroup);c==null&&(u==null||u==!1)&&(c=null,u=null);let f=t(r.pivotIndex,r.initialPivotIndex),d=t(r.pivot,r.initialPivot);f==null&&(d==null||d==!1)&&(f=null,d=null);const h=t(r.aggFunc,r.initialAggFunc);return{colId:e.getColId(),sort:n,sortIndex:i,hide:s,pinned:o,width:a,flex:l,rowGroup:u,rowGroupIndex:c,pivot:d,pivotIndex:f,aggFunc:h}}syncColumnWithStateItem(e,t,r,n,i,s,o,a){if(!e)return;const l=(x,P)=>{const F={value1:void 0,value2:void 0};let D=!1;return t&&(t[x]!==void 0&&(F.value1=t[x],D=!0),je(P)&&t[P]!==void 0&&(F.value2=t[P],D=!0)),!D&&r&&(r[x]!==void 0&&(F.value1=r[x]),je(P)&&r[P]!==void 0&&(F.value2=r[P])),F},c=l("hide").value1;c!==void 0&&e.setVisible(!c,o);const u=l("pinned").value1;u!==void 0&&e.setPinned(u);const f=e.getColDef().minWidth??V3,d=l("flex").value1;if(d!==void 0&&e.setFlex(d),d==null){const x=l("width").value1;x!=null&&f!=null&&x>=f&&e.setActualWidth(x,o)}const h=l("sort").value1;h!==void 0&&(h==="desc"||h==="asc"?e.setSort(h,o):e.setSort(void 0,o));const g=l("sortIndex").value1;if(g!==void 0&&e.setSortIndex(g),s||!e.isPrimary())return;const v=l("aggFunc").value1;v!==void 0&&(typeof v=="string"?(e.setAggFunc(v),e.isValueActive()||(e.setValueActive(!0,o),a.addValueCol(e))):(je(v)&&ke("stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON."),e.isValueActive()&&(e.setValueActive(!1,o),a.removeValueCol(e))));const{value1:p,value2:y}=l("rowGroup","rowGroupIndex");(p!==void 0||y!==void 0)&&(typeof y=="number"||p?(e.isRowGroupActive()||(e.setRowGroupActive(!0,o),a.addGroupCol(e)),n&&typeof y=="number"&&(n[e.getId()]=y)):e.isRowGroupActive()&&(e.setRowGroupActive(!1,o),a.removeGroupCol(e)));const{value1:m,value2:b}=l("pivot","pivotIndex");(m!==void 0||b!==void 0)&&(typeof b=="number"||m?(e.isPivotActive()||(e.setPivotActive(!0,o),a.addPivotCol(e)),i&&typeof b=="number"&&(i[e.getId()]=b)):e.isPivotActive()&&(e.setPivotActive(!1,o),a.removePivotCol(e)))}orderLiveColsLikeState(e){if(!e.applyOrder||!e.state)return;const t=[];e.state.forEach(r=>{r.colId!=null&&t.push(r.colId)}),this.columnModel.sortColsLikeKeys(t)}compareColumnStatesAndDispatchEvents(e){const t={rowGroupColumns:this.funcColsService.getRowGroupColumns().slice(),pivotColumns:this.funcColsService.getPivotColumns().slice(),valueColumns:this.funcColsService.getValueColumns().slice()},r=this.columnGetStateService.getColumnState(),n={};return r.forEach(i=>{n[i.colId]=i}),()=>{const i=this.columnModel.getAllCols(),s=(v,p,y,m)=>{const b=p.map(m),x=y.map(m);if(oa(b,x))return;const F=new Set(p);y.forEach(O=>{F.delete(O)||F.add(O)});const D=[...F];this.eventService.dispatchEvent({type:v,columns:D,column:D.length===1?D[0]:null,source:e})},o=v=>{const p=[];return i.forEach(y=>{const m=n[y.getColId()];m&&v(m,y)&&p.push(y)}),p},a=v=>v.getColId();s("columnRowGroupChanged",t.rowGroupColumns,this.funcColsService.getRowGroupColumns(),a),s("columnPivotChanged",t.pivotColumns,this.funcColsService.getPivotColumns(),a);const c=o((v,p)=>{const y=v.aggFunc!=null,m=y!=p.isValueActive(),b=y&&v.aggFunc!=p.getAggFunc();return m||b});c.length>0&&this.eventDispatcher.columnChanged("columnValueChanged",c,e);const u=(v,p)=>v.width!=p.getActualWidth();this.eventDispatcher.columnResized(o(u),!0,e);const f=(v,p)=>v.pinned!=p.getPinned();this.eventDispatcher.columnPinned(o(f),e);const d=(v,p)=>v.hide==p.isVisible();this.eventDispatcher.columnVisible(o(d),e);const g=o((v,p)=>v.sort!=p.getSort()||v.sortIndex!=p.getSortIndex());g.length>0&&this.sortController.dispatchSortChangedEvents(e,g),this.normaliseColumnMovedEventForColumnState(r,e)}}normaliseColumnMovedEventForColumnState(e,t){const r=this.columnGetStateService.getColumnState(),n={};r.forEach(l=>n[l.colId]=l);const i={};e.forEach(l=>{n[l.colId]&&(i[l.colId]=!0)});const s=e.filter(l=>i[l.colId]),o=r.filter(l=>i[l.colId]),a=[];o.forEach((l,c)=>{const u=s&&s[c];if(u&&u.colId!==l.colId){const f=this.columnModel.getCol(u.colId);f&&a.push(f)}}),a.length&&this.eventDispatcher.columnMoved({movedColumns:a,source:t,finished:!0})}},$w=(e,t,r,n)=>{const i=e[r.getId()],s=e[n.getId()],o=i!=null,a=s!=null;if(o&&a)return i-s;if(o)return-1;if(a)return 1;const l=t.indexOf(r),c=t.indexOf(n),u=l>=0,f=c>=0;return u&&f?l-c:u?-1:1},sI=class extends Re{constructor(){super(...arguments),this.beanName="columnMoveService"}wireBeans(e){this.columnModel=e.columnModel,this.columnAnimationService=e.columnAnimationService,this.eventDispatcher=e.columnEventDispatcher}moveColumnByIndex(e,t,r){const n=this.columnModel.getCols();if(!n)return;const i=n[e];this.moveColumns([i],t,r)}moveColumns(e,t,r,n=!0){const i=this.columnModel.getCols();if(!i)return;if(this.columnAnimationService.start(),t>i.length-e.length){ke("tried to insert columns in invalid location, toIndex = ",t),ke("remember that you should not count the moving columns when calculating the new index");return}const s=this.columnModel.getColsForKeys(e);this.doesMovePassRules(s,t)&&(this.columnModel.moveInCols(s,t,r),this.eventDispatcher.columnMoved({movedColumns:s,source:r,toIndex:t,finished:n}),this.columnAnimationService.finish())}doesMovePassRules(e,t){const r=this.getProposedColumnOrder(e,t);return this.doesOrderPassRules(r)}doesOrderPassRules(e){return!(!this.doesMovePassMarryChildren(e)||!this.doesMovePassLockedPositions(e))}getProposedColumnOrder(e,t){const n=this.columnModel.getCols().slice();return L3(n,e,t),n}doesMovePassLockedPositions(e){const t=s=>s?s==="left"||s===!0?-1:1:0,r=this.gos.get("enableRtl");let n=r?1:-1,i=!0;return e.forEach(s=>{const o=t(s.getColDef().lockPosition);r?o>n&&(i=!1):o<n&&(i=!1),n=o}),i}doesMovePassMarryChildren(e){let t=!0;const r=this.columnModel.getColTree();return ps(null,r,n=>{if(!sn(n))return;const i=n,s=i.getColGroupDef();if(!(s&&s.marryChildren))return;const a=[];i.getLeafColumns().forEach(d=>{const h=e.indexOf(d);a.push(h)});const l=Math.max.apply(Math,a),c=Math.min.apply(Math,a),u=l-c,f=i.getLeafColumns().length-1;u>f&&(t=!1)}),t}placeLockedColumns(e){const t=[],r=[],n=[];return e.forEach(s=>{const o=s.getColDef().lockPosition;o==="right"?n.push(s):o==="left"||o===!0?t.push(s):r.push(s)}),this.gos.get("enableRtl")?[...n,...r,...t]:[...t,...r,...n]}},oI=/[&<>"']/g,aI={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Bi(e,t){if(e==null)return null;const r=e.toString().toString();return t?r:r.replace(oI,n=>aI[n])}function lI(e){if(!e||e==null)return null;const t=/([a-z])([A-Z])/g,r=/([A-Z]+)([A-Z])([a-z])/g;return e.replace(t,"$1 $2").replace(r,"$1 $2$3").replace(/\./g," ").split(" ").map(i=>i.substring(0,1).toUpperCase()+(i.length>1?i.substring(1,i.length):"")).join(" ")}var cI=class extends Re{constructor(){super(...arguments),this.beanName="columnNameService"}wireBeans(e){this.expressionService=e.expressionService,this.funcColsService=e.funcColsService,this.columnModel=e.columnModel}getDisplayNameForColumn(e,t,r=!1){if(!e)return null;const n=this.getHeaderName(e.getColDef(),e,null,null,t);return r?this.wrapHeaderNameWithAggFunc(e,n):n}getDisplayNameForProvidedColumnGroup(e,t,r){const n=t?t.getColGroupDef():null;return n?this.getHeaderName(n,null,e,t,r):null}getDisplayNameForColumnGroup(e,t){return this.getDisplayNameForProvidedColumnGroup(e,e.getProvidedColumnGroup(),t)}getHeaderName(e,t,r,n,i){const s=e.headerValueGetter;if(s){const o=this.gos.addGridCommonParams({colDef:e,column:t,columnGroup:r,providedColumnGroup:n,location:i});return typeof s=="function"?s(o):typeof s=="string"?this.expressionService.evaluate(s,o):(ke("headerValueGetter must be a function or a string"),"")}else{if(e.headerName!=null)return e.headerName;if(e.field)return lI(e.field)}return""}wrapHeaderNameWithAggFunc(e,t){if(this.gos.get("suppressAggFuncInHeader"))return t;const r=e.getColDef().pivotValueColumn,n=je(r);let i=null,s;if(n){const o=this.funcColsService.getValueColumns(),a=this.gos.get("removePivotHeaderRowWhenSingleValueColumn")&&o.length===1,l=e.getColDef().pivotTotalColumnIds!==void 0;if(a&&!l)return t;i=r?r.getAggFunc():null,s=!0}else{const o=e.isValueActive(),a=this.columnModel.isPivotMode()||!this.funcColsService.isRowGroupEmpty();o&&a?(i=e.getAggFunc(),s=!0):s=!1}if(s){const o=typeof i=="string"?i:"func";return`${this.localeService.getLocaleTextFunc()(o,o)}(${t})`}return t}},uI=class extends Re{constructor(){super(...arguments),this.beanName="pivotResultColsService"}wireBeans(e){this.context=e.context,this.columnModel=e.columnModel,this.columnFactory=e.columnFactory,this.visibleColsService=e.visibleColsService}destroy(){var e;za(this.context,(e=this.pivotResultCols)==null?void 0:e.tree),super.destroy()}isPivotResultColsPresent(){return this.pivotResultCols!=null}lookupPivotResultCol(e,t){if(this.pivotResultCols==null)return null;const r=this.columnModel.getColDefCol(t);let n=null;return this.pivotResultCols.list.forEach(i=>{const s=i.getColDef().pivotKeys,o=i.getColDef().pivotValueColumn;oa(s,e)&&o===r&&(n=i)}),n}getPivotResultCols(){return this.pivotResultCols}getPivotResultCol(e){return this.pivotResultCols?this.columnModel.getColFromCollection(e,this.pivotResultCols):null}setPivotResultCols(e,t){var r,n;if(this.columnModel.isReady()&&!(e==null&&this.pivotResultCols==null)){if(e){this.processPivotResultColDef(e);const i=this.columnFactory.createColumnTree(e,!1,((r=this.pivotResultCols)==null?void 0:r.tree)||this.previousPivotResultCols||void 0,t);za(this.context,(n=this.pivotResultCols)==null?void 0:n.tree,i.columnTree);const s=i.columnTree,o=i.treeDept,a=ry(s),l={};this.pivotResultCols={tree:s,treeDepth:o,list:a,map:l},this.pivotResultCols.list.forEach(c=>this.pivotResultCols.map[c.getId()]=c),this.previousPivotResultCols=null}else this.previousPivotResultCols=this.pivotResultCols?this.pivotResultCols.tree:null,this.pivotResultCols=null;this.columnModel.refreshCols(),this.visibleColsService.refresh(t)}}processPivotResultColDef(e){const t=this.gos.get("processPivotResultColDef"),r=this.gos.get("processPivotResultColGroupDef");if(!t&&!r)return;const n=i=>{i.forEach(s=>{if(je(s.children)){const a=s;r&&r(a),n(a.children)}else t&&t(s)})};e&&n(e)}},dI=class extends Re{constructor(){super(...arguments),this.beanName="columnSizeService"}wireBeans(e){this.columnModel=e.columnModel,this.columnViewportService=e.columnViewportService,this.eventDispatcher=e.columnEventDispatcher,this.visibleColsService=e.visibleColsService,this.ctrlsService=e.ctrlsService}setColumnWidths(e,t,r,n){const i=[];e.forEach(s=>{const o=this.columnModel.getColDefCol(s.key)||this.columnModel.getCol(s.key);if(!o)return;if(i.push({width:s.newWidth,ratios:[1],columns:[o]}),this.gos.get("colResizeDefault")==="shift"&&(t=!t),t){const l=this.visibleColsService.getColAfter(o);if(!l)return;const c=o.getActualWidth()-s.newWidth,u=l.getActualWidth()+c;i.push({width:u,ratios:[1],columns:[l]})}}),i.length!==0&&this.resizeColumnSets({resizeSets:i,finished:r,source:n})}resizeColumnSets(e){const{resizeSets:t,finished:r,source:n}=e;if(!(!t||t.every(u=>this.checkMinAndMaxWidthsForSet(u)))){if(r){const u=t&&t.length>0?t[0].columns:null;this.eventDispatcher.columnResized(u,r,n)}return}const s=[],o=[];t.forEach(u=>{const{width:f,columns:d,ratios:h}=u,g={},v={};d.forEach(m=>o.push(m));let p=!0,y=0;for(;p;){if(y++,y>1e3){Vt("infinite loop in resizeColumnSets");break}p=!1;const m=[];let b=0,x=f;d.forEach((F,D)=>{if(v[F.getId()])x-=g[F.getId()];else{m.push(F);const j=h[D];b+=j}});const P=1/b;m.forEach((F,D)=>{const O=D===m.length-1;let j;O?j=x:(j=Math.round(h[D]*f*P),x-=j);const H=F.getMinWidth(),W=F.getMaxWidth();j<H?(j=H,v[F.getId()]=!0,p=!0):W>0&&j>W&&(j=W,v[F.getId()]=!0,p=!0),g[F.getId()]=j})}d.forEach(m=>{const b=g[m.getId()];m.getActualWidth()!==b&&(m.setActualWidth(b,n),s.push(m))})});const a=s.length>0;let l=[];a&&(l=this.refreshFlexedColumns({resizingCols:o,skipSetLeft:!0}),this.visibleColsService.setLeftValues(n),this.visibleColsService.updateBodyWidths(),this.columnViewportService.checkViewportColumns());const c=o.concat(l);(a||r)&&this.eventDispatcher.columnResized(c,r,n,l)}checkMinAndMaxWidthsForSet(e){const{columns:t,width:r}=e;let n=0,i=0,s=!0;t.forEach(l=>{const c=l.getMinWidth();n+=c||0;const u=l.getMaxWidth();u>0?i+=u:s=!1});const o=r>=n,a=!s||r<=i;return o&&a}refreshFlexedColumns(e={}){const t=e.source?e.source:"flex";if(e.viewportWidth!=null&&(this.flexViewportWidth=e.viewportWidth),!this.flexViewportWidth)return[];const r=this.visibleColsService.getCenterCols();let n=-1;if(e.resizingCols){const d=new Set(e.resizingCols);for(let h=r.length-1;h>=0;h--)if(d.has(r[h])){n=h;break}}let i=0,s=[],o=0,a=0;for(let d=0;d<r.length;d++)r[d].getFlex()&&d>n?(s.push(r[d]),a+=r[d].getFlex(),o+=r[d].getMinWidth()):i+=r[d].getActualWidth();if(!s.length)return[];let l=[];i+o>this.flexViewportWidth&&(s.forEach(d=>d.setActualWidth(d.getMinWidth(),t)),l=s,s=[]);const c=[];let u;e:for(;;){u=this.flexViewportWidth-i;const d=u/a;for(let h=0;h<s.length;h++){const g=s[h],v=d*g.getFlex();let p=0;const y=g.getMinWidth(),m=g.getMaxWidth();if(v<y?p=y:v>m&&(p=m),p){g.setActualWidth(p,t),N3(s,g),a-=g.getFlex(),l.push(g),i+=g.getActualWidth();continue e}c[h]=Math.floor(v)}break}let f=u;return s.forEach((d,h)=>{d.setActualWidth(Math.min(c[h],f),t),l.push(d),f-=c[h]}),e.skipSetLeft||this.visibleColsService.setLeftValues(t),e.updateBodyWidths&&this.visibleColsService.updateBodyWidths(),e.fireResizedEvent&&this.eventDispatcher.columnResized(l,!0,t,s),s}sizeColumnsToFit(e,t="sizeColumnsToFit",r,n){var d;if(this.columnModel.isShouldQueueResizeOperations()){this.columnModel.pushResizeOperation(()=>this.sizeColumnsToFit(e,t,r,n));return}const i={};n&&((d=n==null?void 0:n.columnLimits)==null||d.forEach(({key:h,...g})=>{i[typeof h=="string"?h:h.getColId()]=g}));const s=this.visibleColsService.getAllCols(),o=e===Qi(s);if(e<=0||!s.length||o)return;const a=[],l=[];s.forEach(h=>{h.getColDef().suppressSizeToFit===!0?l.push(h):a.push(h)});const c=a.slice(0);let u=!1;const f=h=>{an(a,h),l.push(h)};for(a.forEach(h=>{h.resetActualWidth(t);const g=i==null?void 0:i[h.getId()],v=(g==null?void 0:g.minWidth)??(n==null?void 0:n.defaultMinWidth),p=(g==null?void 0:g.maxWidth)??(n==null?void 0:n.defaultMaxWidth),y=h.getActualWidth();typeof v=="number"&&y<v?h.setActualWidth(v,t,!0):typeof p=="number"&&y>p&&h.setActualWidth(p,t,!0)});!u;){u=!0;const h=e-Qi(l);if(h<=0)a.forEach(g=>{var p;const v=((p=i==null?void 0:i[g.getId()])==null?void 0:p.minWidth)??(n==null?void 0:n.defaultMinWidth);if(typeof v=="number"){g.setActualWidth(v,t,!0);return}g.setMinimum(t)});else{const g=h/Qi(a);let v=h;for(let p=a.length-1;p>=0;p--){const y=a[p],m=i==null?void 0:i[y.getId()],b=(m==null?void 0:m.minWidth)??(n==null?void 0:n.defaultMinWidth),x=(m==null?void 0:m.maxWidth)??(n==null?void 0:n.defaultMaxWidth),P=y.getMinWidth(),F=y.getMaxWidth(),D=typeof b=="number"&&b>P?b:P,O=typeof x=="number"&&x<F?x:F;let j=Math.round(y.getActualWidth()*g);j<D?(j=D,f(y),u=!1):j>O?(j=O,f(y),u=!1):p===0&&(j=v),y.setActualWidth(j,t,!0),v-=j}}}c.forEach(h=>{h.fireColumnWidthChangedEvent(t)}),this.visibleColsService.setLeftValues(t),this.visibleColsService.updateBodyWidths(),!r&&this.eventDispatcher.columnResized(c,!0,t)}applyAutosizeStrategy(){const e=this.gos.get("autoSizeStrategy");if(!e)return;const{type:t}=e;setTimeout(()=>{if(t==="fitGridWidth"){const{columnLimits:r,defaultMinWidth:n,defaultMaxWidth:i}=e,s=r==null?void 0:r.map(({colId:o,minWidth:a,maxWidth:l})=>({key:o,minWidth:a,maxWidth:l}));this.ctrlsService.getGridBodyCtrl().sizeColumnsToFit({defaultMinWidth:n,defaultMaxWidth:i,columnLimits:s})}else t==="fitProvidedWidth"&&this.sizeColumnsToFit(e.width,"sizeColumnsToFit")})}};function W3(e,t){return e+"_"+t}function Cr(e){return e instanceof $3}var $3=class extends Re{constructor(e,t,r,n){super(),this.isColumn=!1,this.displayedChildren=[],this.autoHeaderHeight=null,this.parent=null,this.groupId=t,this.partId=r,this.providedColumnGroup=e,this.pinned=n}reset(){this.parent=null,this.children=null,this.displayedChildren=null}getParent(){return this.parent}setParent(e){this.parent=e}getUniqueId(){return W3(this.groupId,this.partId)}isEmptyGroup(){return this.displayedChildren.length===0}isMoving(){const e=this.getProvidedColumnGroup().getLeafColumns();return!e||e.length===0?!1:e.every(t=>t.isMoving())}checkLeft(){if(this.displayedChildren.forEach(e=>{Cr(e)&&e.checkLeft()}),this.displayedChildren.length>0)if(this.gos.get("enableRtl")){const t=Ot(this.displayedChildren).getLeft();this.setLeft(t)}else{const e=this.displayedChildren[0].getLeft();this.setLeft(e)}else this.setLeft(null)}getLeft(){return this.left}getOldLeft(){return this.oldLeft}setLeft(e){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.dispatchLocalEvent({type:"leftChanged"}))}getPinned(){return this.pinned}getGroupId(){return this.groupId}getPartId(){return this.partId}getActualWidth(){let e=0;return this.displayedChildren&&this.displayedChildren.forEach(t=>{e+=t.getActualWidth()}),e}isResizable(){if(!this.displayedChildren)return!1;let e=!1;return this.displayedChildren.forEach(t=>{t.isResizable()&&(e=!0)}),e}getMinWidth(){let e=0;return this.displayedChildren.forEach(t=>{e+=t.getMinWidth()}),e}addChild(e){this.children||(this.children=[]),this.children.push(e)}getDisplayedChildren(){return this.displayedChildren}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}getDisplayedLeafColumns(){const e=[];return this.addDisplayedLeafColumns(e),e}getDefinition(){return this.providedColumnGroup.getColGroupDef()}getColGroupDef(){return this.providedColumnGroup.getColGroupDef()}isPadding(){return this.providedColumnGroup.isPadding()}isExpandable(){return this.providedColumnGroup.isExpandable()}isExpanded(){return this.providedColumnGroup.isExpanded()}setExpanded(e){this.providedColumnGroup.setExpanded(e)}isAutoHeaderHeight(){var e;return!!((e=this.getColGroupDef())!=null&&e.autoHeaderHeight)}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}addDisplayedLeafColumns(e){this.displayedChildren.forEach(t=>{no(t)?e.push(t):Cr(t)&&t.addDisplayedLeafColumns(e)})}addLeafColumns(e){this.children.forEach(t=>{no(t)?e.push(t):Cr(t)&&t.addLeafColumns(e)})}getChildren(){return this.children}getColumnGroupShow(){return this.providedColumnGroup.getColumnGroupShow()}getProvidedColumnGroup(){return this.providedColumnGroup}getPaddingLevel(){const e=this.getParent();return!this.isPadding()||!e||!e.isPadding()?0:1+e.getPaddingLevel()}calculateDisplayedColumns(){this.displayedChildren=[];let e=this;for(;e!=null&&e.isPadding();)e=e.getParent();if(!(e?e.getProvidedColumnGroup().isExpandable():!1)){this.displayedChildren=this.children,this.dispatchLocalEvent({type:"displayedChildrenChanged"});return}this.children.forEach(r=>{if(Cr(r)&&(!r.displayedChildren||!r.displayedChildren.length))return;switch(r.getColumnGroupShow()){case"open":e.getProvidedColumnGroup().isExpanded()&&this.displayedChildren.push(r);break;case"closed":e.getProvidedColumnGroup().isExpanded()||this.displayedChildren.push(r);break;default:this.displayedChildren.push(r);break}}),this.dispatchLocalEvent({type:"displayedChildrenChanged"})}},U3=class{constructor(){this.existingIds={}}getInstanceIdForKey(e){const t=this.existingIds[e];let r;return typeof t!="number"?r=0:r=t+1,this.existingIds[e]=r,r}},hI=class extends Re{constructor(){super(...arguments),this.beanName="visibleColsService",this.colsAndGroupsMap={},this.columnsLeft=[],this.columnsRight=[],this.columnsCenter=[],this.columns=[],this.bodyWidth=0,this.leftWidth=0,this.rightWidth=0,this.bodyWidthDirty=!0}wireBeans(e){this.columnModel=e.columnModel,this.columnSizeService=e.columnSizeService,this.columnViewportService=e.columnViewportService,this.eventDispatcher=e.columnEventDispatcher}refresh(e,t=!1){t||this.buildTrees(),this.updateOpenClosedVisibilityInColumnGroups(),this.columnsLeft=Fp(this.treeLeft),this.columnsCenter=Fp(this.treeCenter),this.columnsRight=Fp(this.treeRight),this.joinColsAriaOrder(),this.joinCols(),this.setLeftValues(e),this.autoHeightCols=this.columns.filter(r=>r.isAutoHeight()),this.columnSizeService.refreshFlexedColumns(),this.updateBodyWidths(),this.columnViewportService.checkViewportColumns(!1),this.setFirstRightAndLastLeftPinned(e),this.eventDispatcher.visibleCols()}updateBodyWidths(){const e=Qi(this.columnsCenter),t=Qi(this.columnsLeft),r=Qi(this.columnsRight);this.bodyWidthDirty=this.bodyWidth!==e,(this.bodyWidth!==e||this.leftWidth!==t||this.rightWidth!==r)&&(this.bodyWidth=e,this.leftWidth=t,this.rightWidth=r,this.eventService.dispatchEvent({type:"columnContainerWidthChanged"}),this.eventService.dispatchEvent({type:"displayedColumnsWidthChanged"}))}setLeftValues(e){this.setLeftValuesOfCols(e),this.setLeftValuesOfGroups()}setFirstRightAndLastLeftPinned(e){let t,r;this.gos.get("enableRtl")?(t=this.columnsLeft?this.columnsLeft[0]:null,r=this.columnsRight?Ot(this.columnsRight):null):(t=this.columnsLeft?Ot(this.columnsLeft):null,r=this.columnsRight?this.columnsRight[0]:null),this.columnModel.getCols().forEach(n=>{n.setLastLeftPinned(n===t,e),n.setFirstRightPinned(n===r,e)})}buildTrees(){const e=this.columnModel.getColsToShow(),t=e.filter(s=>s.getPinned()=="left"),r=e.filter(s=>s.getPinned()=="right"),n=e.filter(s=>s.getPinned()!="left"&&s.getPinned()!="right"),i=new U3;this.treeLeft=this.createGroups({columns:t,idCreator:i,pinned:"left",oldDisplayedGroups:this.treeLeft}),this.treeRight=this.createGroups({columns:r,idCreator:i,pinned:"right",oldDisplayedGroups:this.treeRight}),this.treeCenter=this.createGroups({columns:n,idCreator:i,pinned:null,oldDisplayedGroups:this.treeCenter}),this.updateColsAndGroupsMap()}clear(){this.columnsLeft=[],this.columnsRight=[],this.columnsCenter=[],this.columns=[],this.ariaOrderColumns=[]}joinColsAriaOrder(){const e=this.columnModel.getCols(),t=[],r=[],n=[];for(const i of e){const s=i.getPinned();s?s===!0||s==="left"?t.push(i):n.push(i):r.push(i)}this.ariaOrderColumns=t.concat(r).concat(n)}getAriaColIndex(e){let t;return Cr(e)?t=e.getLeafColumns()[0]:t=e,this.ariaOrderColumns.indexOf(t)+1}getAllAutoHeightCols(){return this.autoHeightCols}setLeftValuesOfGroups(){[this.treeLeft,this.treeRight,this.treeCenter].forEach(e=>{e.forEach(t=>{Cr(t)&&t.checkLeft()})})}setLeftValuesOfCols(e){if(!this.columnModel.getColDefCols())return;const r=this.columnModel.getCols().slice(0),n=this.gos.get("enableRtl");[this.columnsLeft,this.columnsRight,this.columnsCenter].forEach(i=>{if(n){let s=Qi(i);i.forEach(o=>{s-=o.getActualWidth(),o.setLeft(s,e)})}else{let s=0;i.forEach(o=>{o.setLeft(s,e),s+=o.getActualWidth()})}ID(r,i)}),r.forEach(i=>{i.setLeft(null,e)})}joinCols(){this.gos.get("enableRtl")?this.columns=this.columnsRight.concat(this.columnsCenter).concat(this.columnsLeft):this.columns=this.columnsLeft.concat(this.columnsCenter).concat(this.columnsRight)}getColsCenter(){return this.columnsCenter}getAllTrees(){return this.treeLeft&&this.treeRight&&this.treeCenter?this.treeLeft.concat(this.treeCenter).concat(this.treeRight):null}getTreeLeft(){return this.treeLeft}getTreeRight(){return this.treeRight}getTreeCenter(){return this.treeCenter}getAllCols(){return this.columns}isColDisplayed(e){return this.getAllCols().indexOf(e)>=0}getLeftColsForRow(e){return this.columnModel.isColSpanActive()?this.getColsForRow(e,this.columnsLeft):this.columnsLeft}getRightColsForRow(e){return this.columnModel.isColSpanActive()?this.getColsForRow(e,this.columnsRight):this.columnsRight}getColsForRow(e,t,r,n){const i=[];let s=null;for(let o=0;o<t.length;o++){const a=t[o],l=t.length-o,c=Math.min(a.getColSpan(e),l),u=[a];if(c>1){const d=c-1;for(let h=1;h<=d;h++)u.push(t[o+h]);o+=d}let f;r?(f=!1,u.forEach(d=>{r(d)&&(f=!0)})):f=!0,f&&(i.length===0&&s&&(n&&n(a))&&i.push(s),i.push(a)),s=a}return i}getBodyContainerWidth(){return this.bodyWidth}getContainerWidth(e){switch(e){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}}getCenterCols(){return this.columnsCenter}getLeftCols(){return this.columnsLeft}getRightCols(){return this.columnsRight}getColBefore(e){const t=this.getAllCols(),r=t.indexOf(e);return r>0?t[r-1]:null}getGroupAtDirection(e,t){const r=e.getProvidedColumnGroup().getLevel()+e.getPaddingLevel(),n=e.getDisplayedLeafColumns(),i=t==="After"?Ot(n):n[0],s=`getCol${t}`;for(;;){const o=this[s](i);if(!o)return null;const a=this.getColGroupAtLevel(o,r);if(a!==e)return a}}getColGroupAtLevel(e,t){let r=e.getParent(),n,i;for(;n=r.getProvidedColumnGroup().getLevel(),i=r.getPaddingLevel(),!(n+i<=t);)r=r.getParent();return r}isPinningLeft(){return this.columnsLeft.length>0}isPinningRight(){return this.columnsRight.length>0}updateColsAndGroupsMap(){this.colsAndGroupsMap={};const e=t=>{this.colsAndGroupsMap[t.getUniqueId()]=t};xo(this.treeCenter,!1,e),xo(this.treeLeft,!1,e),xo(this.treeRight,!1,e)}isVisible(e){return this.colsAndGroupsMap[e.getUniqueId()]===e}updateOpenClosedVisibilityInColumnGroups(){const e=this.getAllTrees();xo(e,!1,t=>{Cr(t)&&t.calculateDisplayedColumns()})}getFirstColumn(){const e=this.gos.get("enableRtl"),t=["getLeftCols","getCenterCols","getRightCols"];e&&t.reverse();for(let r=0;r<t.length;r++){const n=this[t[r]]();if(n.length)return e?Ot(n):n[0]}return null}getColumnGroup(e,t){if(!e)return null;if(Cr(e))return e;const r=this.getAllTrees(),n=typeof t=="number";let i=null;return xo(r,!1,s=>{if(Cr(s)){const o=s;let a;n?a=e===o.getGroupId()&&t===o.getPartId():a=e===o.getGroupId(),a&&(i=o)}}),i}getColAfter(e){const t=this.getAllCols(),r=t.indexOf(e);return r<t.length-1?t[r+1]:null}isBodyWidthDirty(){return this.bodyWidthDirty}setBodyWidthDirty(){this.bodyWidthDirty=!0}getColsLeftWidth(){return Qi(this.columnsLeft)}getDisplayedColumnsRightWidth(){return Qi(this.columnsRight)}isColAtEdge(e,t){const r=this.getAllCols();if(!r.length)return!1;const n=t==="first";let i;if(Cr(e)){const s=e.getDisplayedLeafColumns();if(!s.length)return!1;i=n?s[0]:Ot(s)}else i=e;return(n?r[0]:Ot(r))===i}createGroups(e){const{columns:t,idCreator:r,pinned:n,oldDisplayedGroups:i,isStandaloneStructure:s}=e,o=this.mapOldGroupsById(i),a=[];let l=t;for(;l.length;){const c=l;l=[];let u=0;const f=d=>{const h=u;u=d;const g=c[h],p=(Cr(g)?g.getProvidedColumnGroup():g).getOriginalParent();if(p==null){for(let m=h;m<d;m++)a.push(c[m]);return}const y=this.createColGroup(p,r,o,n,s);for(let m=h;m<d;m++)y.addChild(c[m]);l.push(y)};for(let d=1;d<c.length;d++){const h=c[d],v=(Cr(h)?h.getProvidedColumnGroup():h).getOriginalParent(),p=c[u],m=(Cr(p)?p.getProvidedColumnGroup():p).getOriginalParent();v!==m&&f(d)}u<c.length&&f(c.length)}return s||this.setupParentsIntoCols(a,null),a}createColGroup(e,t,r,n,i){const s=e.getGroupId(),o=t.getInstanceIdForKey(s),a=W3(s,o);let l=r[a];return l&&l.getProvidedColumnGroup()!==e&&(l=null),je(l)?l.reset():(l=new $3(e,s,o,n),i||this.createBean(l)),l}mapOldGroupsById(e){const t={},r=n=>{n.forEach(i=>{if(Cr(i)){const s=i;t[i.getUniqueId()]=s,r(s.getChildren())}})};return e&&r(e),t}setupParentsIntoCols(e,t){e.forEach(r=>{if(r.setParent(t),Cr(r)){const n=r;this.setupParentsIntoCols(n.getChildren(),n)}})}};function xo(e,t,r){if(e)for(let n=0;n<e.length;n++){const i=e[n];if(Cr(i)){const s=t?i.getDisplayedChildren():i.getChildren();xo(s,t,r)}r(i)}}function Fp(e){const t=[];return xo(e,!0,r=>{no(r)&&t.push(r)}),t}var K3=["columnEverythingChanged","newColumnsLoaded","columnPivotModeChanged","pivotMaxColumnsExceeded","columnRowGroupChanged","expandOrCollapseAll","columnPivotChanged","gridColumnsChanged","columnValueChanged","columnMoved","columnVisible","columnPinned","columnGroupOpened","columnResized","displayedColumnsChanged","virtualColumnsChanged","columnHeaderMouseOver","columnHeaderMouseLeave","columnHeaderClicked","columnHeaderContextMenu","asyncTransactionsFlushed","rowGroupOpened","rowDataUpdated","pinnedRowDataChanged","rangeSelectionChanged","chartCreated","chartRangeSelectionChanged","chartOptionsChanged","chartDestroyed","toolPanelVisibleChanged","toolPanelSizeChanged","modelUpdated","cutStart","cutEnd","pasteStart","pasteEnd","fillStart","fillEnd","rangeDeleteStart","rangeDeleteEnd","undoStarted","undoEnded","redoStarted","redoEnded","cellClicked","cellDoubleClicked","cellMouseDown","cellContextMenu","cellValueChanged","cellEditRequest","rowValueChanged","headerFocused","cellFocused","rowSelected","selectionChanged","tooltipShow","tooltipHide","cellKeyDown","cellMouseOver","cellMouseOut","filterChanged","filterModified","filterOpened","advancedFilterBuilderVisibleChanged","sortChanged","virtualRowRemoved","rowClicked","rowDoubleClicked","gridReady","gridPreDestroyed","gridSizeChanged","viewportChanged","firstDataRendered","dragStarted","dragStopped","rowEditingStarted","rowEditingStopped","cellEditingStarted","cellEditingStopped","bodyScroll","bodyScrollEnd","paginationChanged","componentStateChanged","storeRefreshed","stateUpdated","columnMenuVisibleChanged","contextMenuVisibleChanged","rowDragEnter","rowDragMove","rowDragLeave","rowDragEnd"],fI=["scrollbarWidthChanged","keyShortcutChangedCellStart","keyShortcutChangedCellEnd","pinnedHeightChanged","cellFocusCleared","fullWidthRowFocused","checkboxChanged","heightScaleChanged","suppressMovableColumns","suppressMenuHide","suppressFieldDotNotation","columnPanelItemDragStart","columnPanelItemDragEnd","bodyHeightChanged","columnContainerWidthChanged","displayedColumnsWidthChanged","scrollVisibilityChanged","columnHoverChanged","flashCells","paginationPixelOffsetChanged","displayedRowsChanged","leftPinnedWidthChanged","rightPinnedWidthChanged","rowContainerHeightChanged","headerHeightChanged","columnGroupHeaderHeightChanged","columnHeaderHeightChanged","gridStylesChanged","storeUpdated","filterDestroyed","rowDataUpdateStarted","rowCountReady","advancedFilterEnabledChanged","dataTypesInferred","fieldValueChanged","fieldPickerValueSelected","richSelectListRowSelected","sideBarUpdated","alignedGridScroll","alignedGridColumn","gridOptionsChanged","chartTitleEdit","recalculateRowBounds","stickyTopOffsetChanged","overlayExclusiveChanged"],pI=[...K3,...fI],gI={enableBrowserTooltips:!0,tooltipTrigger:!0,tooltipMouseTrack:!0,tooltipShowMode:!0,tooltipInteraction:!0,defaultColGroupDef:!0,suppressAutoSize:!0,skipHeaderOnAutoSize:!0,autoSizeStrategy:!0,components:!0,stopEditingWhenCellsLoseFocus:!0,undoRedoCellEditing:!0,undoRedoCellEditingLimit:!0,excelStyles:!0,cacheQuickFilter:!0,advancedFilterModel:!0,customChartThemes:!0,chartThemeOverrides:!0,chartToolPanelsDef:!0,loadingCellRendererSelector:!0,localeText:!0,keepDetailRows:!0,keepDetailRowsCount:!0,detailRowHeight:!0,detailRowAutoHeight:!0,tabIndex:!0,valueCache:!0,valueCacheNeverExpires:!0,enableCellExpressions:!0,suppressTouch:!0,suppressAsyncEvents:!0,suppressBrowserResizeObserver:!0,suppressPropertyNamesCheck:!0,debug:!0,loadingOverlayComponent:!0,suppressLoadingOverlay:!0,noRowsOverlayComponent:!0,paginationPageSizeSelector:!0,paginateChildRows:!0,pivotPanelShow:!0,pivotSuppressAutoColumn:!0,suppressExpandablePivotGroups:!0,aggFuncs:!0,suppressAggFuncInHeader:!0,removePivotHeaderRowWhenSingleValueColumn:!0,allowShowChangeAfterFilter:!0,ensureDomOrder:!0,enableRtl:!0,suppressColumnVirtualisation:!0,suppressMaxRenderedRowRestriction:!0,suppressRowVirtualisation:!0,rowDragText:!0,suppressGroupMaintainValueType:!0,groupLockGroupColumns:!0,rowGroupPanelSuppressSort:!0,suppressGroupRowsSticky:!0,rowModelType:!0,cacheOverflowSize:!0,infiniteInitialRowCount:!0,serverSideInitialRowCount:!0,suppressServerSideInfiniteScroll:!0,maxBlocksInCache:!0,maxConcurrentDatasourceRequests:!0,blockLoadDebounceMillis:!0,serverSideOnlyRefreshFilteredGroups:!0,serverSidePivotResultFieldSeparator:!0,viewportRowModelPageSize:!0,viewportRowModelBufferSize:!0,debounceVerticalScrollbar:!0,suppressAnimationFrame:!0,suppressPreventDefaultOnMouseWheel:!0,scrollbarWidth:!0,icons:!0,suppressRowTransform:!0,gridId:!0,enableGroupEdit:!0,initialState:!0,processUnpinnedColumns:!0,createChartContainer:!0,getLocaleText:!0,getRowId:!0,reactiveCustomComponents:!0,columnMenu:!0},Xr=class{};Xr.STRING_PROPERTIES=["rowSelection","overlayLoadingTemplate","overlayNoRowsTemplate","gridId","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","groupDisplayType","treeDataDisplayType","colResizeDefault","tooltipTrigger","serverSidePivotResultFieldSeparator","columnMenu","tooltipShowMode","grandTotalRow"];Xr.OBJECT_PROPERTIES=["components","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","statusBar","sideBar","chartThemeOverrides","customChartThemes","chartToolPanelsDef","dataTypeDefinitions","advancedFilterModel","advancedFilterParent","advancedFilterBuilderParams","initialState","autoSizeStrategy"];Xr.ARRAY_PROPERTIES=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass","paginationPageSizeSelector"];Xr.NUMBER_PROPERTIES=["rowHeight","detailRowHeight","rowBuffer","headerHeight","groupHeaderHeight","groupLockGroupColumns","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","pivotDefaultExpanded","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDelay","cellFadeDelay","cellFlashDuration","cellFadeDuration","tabIndex","pivotMaxGeneratedColumns"];Xr.BOOLEAN_PROPERTIES=["suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellFocus","suppressHeaderFocus","suppressHorizontalScroll","groupSelectsChildren","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","groupIncludeTotalFooter","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressColumnMoveAnimation","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","suppressAsyncEvents","allowContextMenuWithControlKey","suppressContextMenu","enableCellChangeFlash","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","alwaysAggregateAtRootLevel","suppressFocusAfterRefresh","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupAllowUnbalanced","pagination","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","includeHiddenColumnsInQuickFilter","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","includeHiddenColumnsInAdvancedFilter","suppressMultiRangeSelection","enterNavigatesVerticallyAfterEdit","enterNavigatesVertically","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","enableCharts","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","tooltipInteraction","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","pivotSuppressAutoColumn","suppressExpandablePivotGroups","debounceVerticalScrollbar","detailRowAutoHeight","serverSideSortAllLevels","serverSideEnableClientSideSort","serverSideOnlyRefreshFilteredGroups","serverSideSortOnServer","serverSideFilterOnServer","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","maintainColumnOrder","groupMaintainOrder","columnHoverHighlight","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","suppressGroupRowsSticky","suppressCutToClipboard","suppressServerSideInfiniteScroll","rowGroupPanelSuppressSort","allowShowChangeAfterFilter","enableAdvancedFilter","masterDetail","treeData","suppressGroupMaintainValueType","reactiveCustomComponents","applyQuickFilterBeforePivotOrAgg","suppressServerSideFullWidthLoadingRow","suppressAdvancedFilterEval","loading"];Xr.OTHER_PROPERTIES=["suppressStickyTotalRow"];Xr.FUNCTION_PROPERTIES=["doesExternalFilterPass","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","rowDragText","groupRowRenderer","fullWidthCellRenderer","loadingCellRenderer","loadingOverlayComponent","noRowsOverlayComponent","detailCellRenderer","quickFilterParser","quickFilterMatcher","getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","isFullWidthRow","sendToClipboard","focusGridInnerElement","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processUnpinnedColumns","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","groupIncludeFooter","loadingCellRendererSelector","getRowId","groupAggFiltering","chartMenuItems","groupTotalRow"];Xr.ALL_PROPERTIES=[...Xr.ARRAY_PROPERTIES,...Xr.OBJECT_PROPERTIES,...Xr.STRING_PROPERTIES,...Xr.NUMBER_PROPERTIES,...Xr.FUNCTION_PROPERTIES,...Xr.BOOLEAN_PROPERTIES,...Xr.OTHER_PROPERTIES];var pu=Xr,Qn=class{static getCallbackForEvent(t){return!t||t.length<2?t:"on"+t[0].toUpperCase()+t.substring(1)}};Qn.VUE_OMITTED_PROPERTY="AG-VUE-OMITTED-PROPERTY";Qn.PUBLIC_EVENTS=K3;Qn.EVENT_CALLBACKS=pI.map(e=>Qn.getCallbackForEvent(e));Qn.BOOLEAN_PROPERTIES=pu.BOOLEAN_PROPERTIES;Qn.ALL_PROPERTIES=pu.ALL_PROPERTIES;Qn.ALL_PROPERTIES_AND_CALLBACKS=[...Qn.ALL_PROPERTIES,...Qn.EVENT_CALLBACKS];Qn.ALL_PROPERTIES_AND_CALLBACKS_SET=new Set(Qn.ALL_PROPERTIES_AND_CALLBACKS);var gu=Qn;function mI(e,t){typeof e!="object"&&(e={});const r={...e};return gu.ALL_PROPERTIES_AND_CALLBACKS.forEach(i=>{const s=t[i];typeof s<"u"&&s!==gu.VUE_OMITTED_PROPERTY&&(r[i]=s)}),r}function vI(e,t){if(!e)return;const r={};let n=!1;if(Object.keys(e).filter(o=>gu.ALL_PROPERTIES_AND_CALLBACKS_SET.has(o)).forEach(o=>{r[o]=e[o],n=!0}),!n)return;const i={type:"gridOptionsChanged",options:r};t.dispatchEvent(i);const s={type:"componentStateChanged"};bi(r,(o,a)=>{s[o]=a}),t.dispatchEvent(s)}var Du=class{constructor(e){this.cssClassStates={},this.getGui=e}addCssClass(e){const t=(e||"").split(" ");if(t.length>1){t.forEach(n=>this.addCssClass(n));return}if(this.cssClassStates[e]!==!0&&e.length){const n=this.getGui();n&&n.classList.add(e),this.cssClassStates[e]=!0}}removeCssClass(e){const t=(e||"").split(" ");if(t.length>1){t.forEach(n=>this.removeCssClass(n));return}if(this.cssClassStates[e]!==!1&&e.length){const n=this.getGui();n&&n.classList.remove(e),this.cssClassStates[e]=!1}}containsCssClass(e){const t=this.getGui();return t?t.classList.contains(e):!1}addOrRemoveCssClass(e,t){if(!e)return;if(e.indexOf(" ")>=0){const n=(e||"").split(" ");if(n.length>1){n.forEach(i=>this.addOrRemoveCssClass(i,t));return}}if(this.cssClassStates[e]!==t&&e.length){const n=this.getGui();n&&n.classList.toggle(e,t),this.cssClassStates[e]=t}}};function bs(e,t,r){r==null||typeof r=="string"&&r==""?q3(e,t):$i(e,t,r)}function $i(e,t,r){e.setAttribute(Y3(t),r.toString())}function q3(e,t){e.removeAttribute(Y3(t))}function Y3(e){return`aria-${e}`}function Pi(e,t){t?e.setAttribute("role",t):e.removeAttribute("role")}function yI(e){let t;return e==="asc"?t="ascending":e==="desc"?t="descending":e==="mixed"?t="other":t="none",t}function bI(e){return e.getAttribute("aria-label")}function bl(e,t){bs(e,"label",t)}function mu(e,t){bs(e,"labelledby",t)}function X3(e,t){bs(e,"live",t)}function wI(e,t){bs(e,"atomic",t)}function CI(e,t){bs(e,"relevant",t)}function SI(e,t){bs(e,"disabled",t)}function ny(e,t){bs(e,"hidden",t)}function Zh(e,t){$i(e,"expanded",t)}function xI(e,t){$i(e,"setsize",t)}function RI(e,t){$i(e,"posinset",t)}function EI(e,t){$i(e,"rowcount",t)}function TI(e,t){$i(e,"rowindex",t)}function PI(e,t){$i(e,"colcount",t)}function Q3(e,t){$i(e,"colindex",t)}function _I(e,t){$i(e,"colspan",t)}function MI(e,t){$i(e,"sort",t)}function kI(e){q3(e,"sort")}function Jh(e,t){bs(e,"selected",t)}function FI(e,t){bs(e,"controls",t.id),mu(t,e.id)}function iy(e,t){return t===void 0?e("ariaIndeterminate","indeterminate"):t===!0?e("ariaChecked","checked"):e("ariaUnchecked","unchecked")}var Ap,Pd,Op,Dp,Ip,Np,sv,ov;function Gi(){return Ap===void 0&&(Ap=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),Ap}function Z3(){if(Pd===void 0)if(Gi()){const e=navigator.userAgent.match(/version\/(\d+)/i);e&&(Pd=e[1]!=null?parseFloat(e[1]):0)}else Pd=0;return Pd}function sy(){if(Op===void 0){const e=window;Op=!!e.chrome&&(!!e.chrome.webstore||!!e.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return Op}function J3(){return Dp===void 0&&(Dp=/(firefox)/i.test(navigator.userAgent)),Dp}function eR(){return Ip===void 0&&(Ip=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),Ip}function uo(){return Np===void 0&&(Np=/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1),Np}function Uw(){return!Gi()||Z3()>=15}function av(e){if(!e)return null;const t=e.tabIndex,r=e.getAttribute("tabIndex");return t===-1&&(r===null||r===""&&!J3())?null:t.toString()}function AI(){if(!document.body)return-1;let e=1e6;const t=navigator.userAgent.toLowerCase().match(/firefox/)?6e6:1e9,r=document.createElement("div");for(document.body.appendChild(r);;){const n=e*2;if(r.style.height=n+"px",n>t||r.clientHeight!==n)break;e=n}return document.body.removeChild(r),e}function OI(){var e,t;return((e=document.body)==null?void 0:e.clientWidth)??(window.innerHeight||((t=document.documentElement)==null?void 0:t.clientWidth)||-1)}function DI(){var e,t;return((e=document.body)==null?void 0:e.clientHeight)??(window.innerHeight||((t=document.documentElement)==null?void 0:t.clientHeight)||-1)}function II(){return ov==null&&tR(),ov}function tR(){const e=document.body,t=document.createElement("div");t.style.width=t.style.height="100px",t.style.opacity="0",t.style.overflow="scroll",t.style.msOverflowStyle="scrollbar",t.style.position="absolute",e.appendChild(t);let r=t.offsetWidth-t.clientWidth;r===0&&t.clientWidth===0&&(r=null),t.parentNode&&t.parentNode.removeChild(t),r!=null&&(ov=r,sv=r===0)}function rR(){return sv==null&&tR(),sv}var _d,NI="[tabindex], input, select, button, textarea, [href]",nR="[disabled], .ag-disabled:not(.ag-button), .ag-disabled *";function oy(e){const t=Element.prototype.matches||Element.prototype.msMatchesSelector,r="input, select, button, textarea",n=t.call(e,r),i=t.call(e,nR),s=Vi(e);return n&&!i&&s}function fr(e,t,r={}){const{skipAriaHidden:n}=r;e.classList.toggle("ag-hidden",!t),n||ny(e,!t)}function LI(e,t,r={}){const{skipAriaHidden:n}=r;e.classList.toggle("ag-invisible",!t),n||ny(e,!t)}function vu(e,t){const r="disabled",n=t?i=>i.setAttribute(r,""):i=>i.removeAttribute(r);n(e),aR(e.querySelectorAll("input"),i=>n(i))}function tl(e,t,r){let n=0;for(;e;){if(e.classList.contains(t))return!0;if(e=e.parentElement,typeof r=="number"){if(++n>r)break}else if(e===r)break}return!1}function aa(e){const{height:t,width:r,borderTopWidth:n,borderRightWidth:i,borderBottomWidth:s,borderLeftWidth:o,paddingTop:a,paddingRight:l,paddingBottom:c,paddingLeft:u,marginTop:f,marginRight:d,marginBottom:h,marginLeft:g,boxSizing:v}=window.getComputedStyle(e);return{height:parseFloat(t||"0"),width:parseFloat(r||"0"),borderTopWidth:parseFloat(n||"0"),borderRightWidth:parseFloat(i||"0"),borderBottomWidth:parseFloat(s||"0"),borderLeftWidth:parseFloat(o||"0"),paddingTop:parseFloat(a||"0"),paddingRight:parseFloat(l||"0"),paddingBottom:parseFloat(c||"0"),paddingLeft:parseFloat(u||"0"),marginTop:parseFloat(f||"0"),marginRight:parseFloat(d||"0"),marginBottom:parseFloat(h||"0"),marginLeft:parseFloat(g||"0"),boxSizing:v}}function ay(e){const t=aa(e);return t.boxSizing==="border-box"?t.height-t.paddingTop-t.paddingBottom:t.height}function Iu(e){const t=aa(e);return t.boxSizing==="border-box"?t.width-t.paddingLeft-t.paddingRight:t.width}function iR(e){const{height:t,marginBottom:r,marginTop:n}=aa(e);return Math.floor(t+r+n)}function ef(e){const{width:t,marginLeft:r,marginRight:n}=aa(e);return Math.floor(t+r+n)}function sR(e){const t=e.getBoundingClientRect(),{borderTopWidth:r,borderLeftWidth:n,borderRightWidth:i,borderBottomWidth:s}=aa(e);return{top:t.top+(r||0),left:t.left+(n||0),right:t.right+(i||0),bottom:t.bottom+(s||0)}}function tf(){if(typeof _d=="boolean")return _d;const e=document.createElement("div");return e.style.direction="rtl",e.style.width="1px",e.style.height="1px",e.style.position="fixed",e.style.top="0px",e.style.overflow="hidden",e.dir="rtl",e.innerHTML=`<div style="width: 2px">
            <span style="display: inline-block; width: 1px"></span>
            <span style="display: inline-block; width: 1px"></span>
        </div>`,document.body.appendChild(e),e.scrollLeft=1,_d=Math.floor(e.scrollLeft)===0,document.body.removeChild(e),_d}function rf(e,t){let r=e.scrollLeft;return t&&(r=Math.abs(r),sy()&&!tf()&&(r=e.scrollWidth-e.clientWidth-r)),r}function nf(e,t,r){r&&(tf()?t*=-1:(Gi()||sy())&&(t=e.scrollWidth-e.clientWidth-t)),e.scrollLeft=t}function Dn(e){for(;e&&e.firstChild;)e.removeChild(e.firstChild)}function Xo(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function oR(e){return!!e.offsetParent}function Vi(e){const t=e;return t.checkVisibility?t.checkVisibility({checkVisibilityCSS:!0}):!(!oR(e)||window.getComputedStyle(e).visibility!=="visible")}function wl(e){const t=document.createElement("div");return t.innerHTML=(e||"").trim(),t.firstChild}function jI(e){return e.clientWidth<e.scrollWidth}function BI(e){return e.clientHeight<e.scrollHeight}function sf(e,t){t==="flex"?(e.style.removeProperty("width"),e.style.removeProperty("minWidth"),e.style.removeProperty("maxWidth"),e.style.flex="1 1 auto"):Ei(e,t)}function Ei(e,t){t=ly(t),e.style.width=t.toString(),e.style.maxWidth=t.toString(),e.style.minWidth=t.toString()}function Oc(e,t){t=ly(t),e.style.height=t.toString(),e.style.maxHeight=t.toString(),e.style.minHeight=t.toString()}function ly(e){return typeof e=="number"?`${e}px`:e}function cy(e){return e instanceof Node||e instanceof HTMLElement}function HI(e){if(e==null)return[];const t=[];return aR(e,r=>t.push(r)),t}function GI(e,t){if(e)for(let r=0;r<e.length;r++){const n=e[r];t(n.name,n.value)}}function Zn(e,t,r){r==null||r===""?e.removeAttribute(t):e.setAttribute(t,r.toString())}function aR(e,t){if(e!=null)for(let r=0;r<e.length;r++)t(e[r])}var Cl=class{constructor(e=0,t=1){this.nextValue=e,this.step=t}next(){const e=this.nextValue;return this.nextValue+=this.step,e}peek(){return this.nextValue}skip(e){this.nextValue+=e}},VI=1e3,zI=1e3,Kw=100,lR=class wo extends Re{constructor(t,r,n,i){super(),this.parentComp=t,this.tooltipShowDelayOverride=r,this.tooltipHideDelayOverride=n,this.shouldDisplayTooltip=i,this.interactionEnabled=!1,this.isInteractingWithTooltip=!1,this.state=0,this.tooltipInstanceCount=0,this.tooltipMouseTrack=!1}wireBeans(t){this.popupService=t.popupService,this.userComponentFactory=t.userComponentFactory}postConstruct(){this.gos.get("tooltipInteraction")&&(this.interactionEnabled=!0),this.tooltipTrigger=this.getTooltipTrigger(),this.tooltipMouseTrack=this.gos.get("tooltipMouseTrack");const t=this.parentComp.getGui();this.tooltipTrigger===0&&this.addManagedListeners(t,{mouseenter:this.onMouseEnter.bind(this),mouseleave:this.onMouseLeave.bind(this)}),this.tooltipTrigger===1&&this.addManagedListeners(t,{focusin:this.onFocusIn.bind(this),focusout:this.onFocusOut.bind(this)}),this.addManagedListeners(t,{mousemove:this.onMouseMove.bind(this)}),this.interactionEnabled||this.addManagedListeners(t,{mousedown:this.onMouseDown.bind(this),keydown:this.onKeyDown.bind(this)})}getGridOptionsTooltipDelay(t){const r=this.gos.get(t);return r<0&&ke(`${t} should not be lower than 0`),Math.max(200,r)}getTooltipDelay(t){return t==="show"?this.tooltipShowDelayOverride??this.getGridOptionsTooltipDelay("tooltipShowDelay"):this.tooltipHideDelayOverride??this.getGridOptionsTooltipDelay("tooltipHideDelay")}destroy(){this.setToDoNothing(),super.destroy()}getTooltipTrigger(){const t=this.gos.get("tooltipTrigger");return!t||t==="hover"?0:1}onMouseEnter(t){this.interactionEnabled&&this.interactiveTooltipTimeoutId&&(this.unlockService(),this.startHideTimeout()),!uo()&&(wo.isLocked?this.showTooltipTimeoutId=window.setTimeout(()=>{this.prepareToShowTooltip(t)},Kw):this.prepareToShowTooltip(t))}onMouseMove(t){this.lastMouseEvent&&(this.lastMouseEvent=t),this.tooltipMouseTrack&&this.state===2&&this.tooltipComp&&this.positionTooltip()}onMouseDown(){this.setToDoNothing()}onMouseLeave(){this.interactionEnabled?this.lockService():this.setToDoNothing()}onFocusIn(){this.prepareToShowTooltip()}onFocusOut(t){var s;const r=t.relatedTarget,n=this.parentComp.getGui(),i=(s=this.tooltipComp)==null?void 0:s.getGui();this.isInteractingWithTooltip||n.contains(r)||this.interactionEnabled&&(i!=null&&i.contains(r))||this.setToDoNothing()}onKeyDown(){this.setToDoNothing()}prepareToShowTooltip(t){if(this.state!=0||wo.isLocked)return;let r=0;t&&(r=this.isLastTooltipHiddenRecently()?200:this.getTooltipDelay("show")),this.lastMouseEvent=t||null,this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),r),this.state=1}isLastTooltipHiddenRecently(){const t=new Date().getTime(),r=wo.lastTooltipHideTime;return t-r<VI}setToDoNothing(t){!t&&this.state===2&&this.hideTooltip(),this.onBodyScrollEventCallback&&(this.onBodyScrollEventCallback(),this.onBodyScrollEventCallback=void 0),this.onColumnMovedEventCallback&&(this.onColumnMovedEventCallback(),this.onColumnMovedEventCallback=void 0),this.clearTimeouts(),this.state=0,this.lastMouseEvent=null}showTooltip(){const t={...this.parentComp.getTooltipParams()};if(!je(t.value)||this.shouldDisplayTooltip&&!this.shouldDisplayTooltip()){this.setToDoNothing();return}this.state=2,this.tooltipInstanceCount++;const r=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);this.userComponentFactory.getTooltipCompDetails(t).newAgStackInstance().then(r)}hideTooltip(t){!t&&this.isInteractingWithTooltip||(this.tooltipComp&&(this.destroyTooltipComp(),wo.lastTooltipHideTime=new Date().getTime()),this.eventService.dispatchEvent({type:"tooltipHide",parentGui:this.parentComp.getGui()}),t&&(this.isInteractingWithTooltip=!1),this.setToDoNothing(!0))}newTooltipComponentCallback(t,r){if(this.state!==2||this.tooltipInstanceCount!==t){this.destroyBean(r);return}const i=r.getGui();this.tooltipComp=r,i.classList.contains("ag-tooltip")||i.classList.add("ag-tooltip-custom"),this.tooltipTrigger===0&&i.classList.add("ag-tooltip-animate"),this.interactionEnabled&&i.classList.add("ag-tooltip-interactive");const s=this.localeService.getLocaleTextFunc(),o=this.popupService.addPopup({eChild:i,ariaLabel:s("ariaLabelTooltip","Tooltip")});if(o&&(this.tooltipPopupDestroyFunc=o.hideFunc),this.positionTooltip(),this.tooltipTrigger===1){const a=()=>this.setToDoNothing();[this.onBodyScrollEventCallback,this.onColumnMovedEventCallback]=this.addManagedEventListeners({bodyScroll:a,columnMoved:a})}this.interactionEnabled&&([this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener]=this.addManagedElementListeners(i,{mouseenter:this.onTooltipMouseEnter.bind(this),mouseleave:this.onTooltipMouseLeave.bind(this)}),this.tooltipTrigger===1&&([this.tooltipFocusInListener,this.tooltipFocusOutListener]=this.addManagedElementListeners(i,{focusin:this.onTooltipFocusIn.bind(this),focusout:this.onTooltipFocusOut.bind(this)}))),this.eventService.dispatchEvent({type:"tooltipShow",tooltipGui:i,parentGui:this.parentComp.getGui()}),this.startHideTimeout()}onTooltipMouseEnter(){this.isInteractingWithTooltip=!0,this.unlockService()}onTooltipMouseLeave(){this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,this.lockService())}onTooltipFocusIn(){this.isInteractingWithTooltip=!0}isTooltipFocused(){var n;const t=(n=this.tooltipComp)==null?void 0:n.getGui(),r=this.gos.getActiveDomElement();return!!t&&t.contains(r)}onTooltipFocusOut(t){const r=this.parentComp.getGui();this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,r.contains(t.relatedTarget)?this.startHideTimeout():this.hideTooltip())}positionTooltip(){const t={type:"tooltip",ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack};this.lastMouseEvent?this.popupService.positionPopupUnderMouseEvent({...t,mouseEvent:this.lastMouseEvent}):this.popupService.positionPopupByComponent({...t,eventSource:this.parentComp.getGui(),position:"under",keepWithinBounds:!0,nudgeY:5})}destroyTooltipComp(){this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");const t=this.tooltipPopupDestroyFunc,r=this.tooltipComp,n=this.tooltipTrigger===0?zI:0;window.setTimeout(()=>{t(),this.destroyBean(r)},n),this.clearTooltipListeners(),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0}clearTooltipListeners(){[this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener,this.tooltipFocusInListener,this.tooltipFocusOutListener].forEach(t=>{t&&t()}),this.tooltipMouseEnterListener=this.tooltipMouseLeaveListener=this.tooltipFocusInListener=this.tooltipFocusOutListener=null}lockService(){wo.isLocked=!0,this.interactiveTooltipTimeoutId=window.setTimeout(()=>{this.unlockService(),this.setToDoNothing()},Kw)}unlockService(){wo.isLocked=!1,this.clearInteractiveTimeout()}startHideTimeout(){this.clearHideTimeout(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.getTooltipDelay("hide"))}clearShowTimeout(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0)}clearHideTimeout(){this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)}clearInteractiveTimeout(){this.interactiveTooltipTimeoutId&&(window.clearTimeout(this.interactiveTooltipTimeoutId),this.interactiveTooltipTimeoutId=void 0)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout(),this.clearInteractiveTimeout()}};lR.isLocked=!1;var WI=lR,Ll=class extends Re{constructor(e,t){super(),this.ctrl=e,t&&(this.beans=t)}wireBeans(e){this.beans=e}postConstruct(){this.refreshToolTip()}setBrowserTooltip(e){const t="title",r=this.ctrl.getGui();r&&(e!=null&&e!=""?r.setAttribute(t,e):r.removeAttribute(t))}updateTooltipText(){this.tooltip=this.ctrl.getTooltipValue()}createTooltipFeatureIfNeeded(){var t,r,n,i;if(this.tooltipManager!=null)return;const e={getTooltipParams:()=>this.getTooltipParams(),getGui:()=>this.ctrl.getGui()};this.tooltipManager=this.createBean(new WI(e,(r=(t=this.ctrl).getTooltipShowDelayOverride)==null?void 0:r.call(t),(i=(n=this.ctrl).getTooltipHideDelayOverride)==null?void 0:i.call(n),this.ctrl.shouldDisplayTooltip),this.beans.context)}refreshToolTip(){this.browserTooltips=this.beans.gos.get("enableBrowserTooltips"),this.updateTooltipText(),this.browserTooltips?(this.setBrowserTooltip(this.tooltip),this.tooltipManager&&(this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context))):(this.setBrowserTooltip(null),this.createTooltipFeatureIfNeeded())}getTooltipParams(){var i,s,o,a,l;const e=this.ctrl,t=(i=e.getColumn)==null?void 0:i.call(e),r=(s=e.getColDef)==null?void 0:s.call(e),n=(o=e.getRowNode)==null?void 0:o.call(e);return{location:e.getLocation(),colDef:r,column:t,rowIndex:(a=e.getRowIndex)==null?void 0:a.call(e),node:n,data:n==null?void 0:n.data,value:this.getTooltipText(),valueFormatted:(l=e.getValueFormatted)==null?void 0:l.call(e),hideTooltipCallback:()=>{var c;return(c=this.tooltipManager)==null?void 0:c.hideTooltip(!0)}}}getTooltipText(){return this.tooltip}destroy(){this.tooltipManager&&(this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context)),super.destroy()}},$I=new Cl,ht=null,Jt=class cR extends Re{constructor(t,r){super(),this.suppressDataRefValidation=!1,this.displayed=!0,this.visible=!0,this.compId=$I.next(),this.cssClassManager=new Du(()=>this.eGui),this.componentSelectors=new Map((r??[]).map(n=>[n.selector,n])),t&&this.setTemplate(t)}preWireBeans(t){super.preWireBeans(t)}preConstruct(){this.usingBrowserTooltips=this.gos.get("enableBrowserTooltips"),this.wireTemplate(this.getGui())}wireTemplate(t,r){t&&this.gos&&(this.applyElementsToComponent(t),this.createChildComponentsFromTags(t,r))}getCompId(){return this.compId}getTooltipParams(){return{value:this.tooltipText,location:"UNKNOWN"}}setTooltip(t){const{newTooltipText:r,showDelayOverride:n,hideDelayOverride:i,location:s,shouldDisplayTooltip:o}=t||{};this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),this.tooltipText!==r&&(this.tooltipText=r);const a=()=>this.tooltipText;r!=null&&(this.tooltipFeature=this.createBean(new Ll({getTooltipValue:a,getGui:()=>this.getGui(),getLocation:()=>s??"UNKNOWN",getColDef:t==null?void 0:t.getColDef,getColumn:t==null?void 0:t.getColumn,getTooltipShowDelayOverride:n!=null?()=>n:void 0,getTooltipHideDelayOverride:i!=null?()=>i:void 0,shouldDisplayTooltip:o})))}getDataRefAttribute(t){return t.getAttribute?t.getAttribute("data-ref"):null}applyElementsToComponent(t,r,n,i=null){if(r===void 0&&(r=this.getDataRefAttribute(t)),r){const s=this[r];if(s===ht)this[r]=i??t;else{const o=n&&n[r];!this.suppressDataRefValidation&&!o&&ke(`Issue with data-ref: ${r} on ${this.constructor.name} with ${s}`)}}}createChildComponentsFromTags(t,r){HI(t.childNodes).forEach(i=>{if(!(i instanceof HTMLElement))return;const s=this.createComponentFromElement(i,o=>{o.getGui()&&this.copyAttributesFromNode(i,o.getGui())},r);if(s){if(s.addItems&&i.children.length){this.createChildComponentsFromTags(i,r);const o=Array.prototype.slice.call(i.children);s.addItems(o)}this.swapComponentForNode(s,t,i)}else i.childNodes&&this.createChildComponentsFromTags(i,r)})}createComponentFromElement(t,r,n){const i=t.nodeName,s=this.getDataRefAttribute(t),o=i.indexOf("AG-")===0,a=o?this.componentSelectors.get(i):null;let l=null;if(a){cR.elementGettingCreated=t;const c=n&&s?n[s]:void 0;l=new a.component(c),l.setParentComponent(this),this.createBean(l,null,r)}else o&&ke(`Missing selector: ${i}`);return this.applyElementsToComponent(t,s,n,l),l}copyAttributesFromNode(t,r){GI(t.attributes,(n,i)=>r.setAttribute(n,i))}swapComponentForNode(t,r,n){const i=t.getGui();r.replaceChild(i,n),r.insertBefore(document.createComment(n.nodeName),i),this.addDestroyFunc(this.destroyBean.bind(this,t))}activateTabIndex(t){const r=this.gos.get("tabIndex");t||(t=[]),t.length||t.push(this.getGui()),t.forEach(n=>n.setAttribute("tabindex",r.toString()))}setTemplate(t,r,n){const i=wl(t);this.setTemplateFromElement(i,r,n)}setTemplateFromElement(t,r,n,i=!1){if(this.eGui=t,this.suppressDataRefValidation=i,r)for(let s=0;s<r.length;s++){const o=r[s];this.componentSelectors.set(o.selector,o)}this.wireTemplate(t,n)}getGui(){return this.eGui}getFocusableElement(){return this.eGui}getAriaElement(){return this.getFocusableElement()}setParentComponent(t){this.parentComponent=t}getParentComponent(){return this.parentComponent}setGui(t){this.eGui=t}queryForHtmlElement(t){return this.eGui.querySelector(t)}getContainerAndElement(t,r){let n=r;return t==null?null:(n||(n=this.eGui),cy(t)?{element:t,parent:n}:{element:t.getGui(),parent:n})}prependChild(t,r){const{element:n,parent:i}=this.getContainerAndElement(t,r)||{};!n||!i||i.insertAdjacentElement("afterbegin",n)}appendChild(t,r){const{element:n,parent:i}=this.getContainerAndElement(t,r)||{};!n||!i||i.appendChild(n)}isDisplayed(){return this.displayed}setVisible(t,r={}){if(t!==this.visible){this.visible=t;const{skipAriaHidden:n}=r;LI(this.eGui,t,{skipAriaHidden:n})}}setDisplayed(t,r={}){if(t!==this.displayed){this.displayed=t;const{skipAriaHidden:n}=r;fr(this.eGui,t,{skipAriaHidden:n});const i={type:"displayChanged",visible:this.displayed};this.dispatchLocalEvent(i)}}destroy(){this.parentComponent&&(this.parentComponent=void 0),this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),super.destroy()}addGuiEventListener(t,r,n){this.eGui.addEventListener(t,r,n),this.addDestroyFunc(()=>this.eGui.removeEventListener(t,r))}addCssClass(t){this.cssClassManager.addCssClass(t)}removeCssClass(t){this.cssClassManager.removeCssClass(t)}containsCssClass(t){return this.cssClassManager.containsCssClass(t)}addOrRemoveCssClass(t,r){this.cssClassManager.addOrRemoveCssClass(t,r)}},uR={columnGroupOpened:"expanded",columnGroupClosed:"contracted",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate",columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",groupContracted:"tree-closed",groupExpanded:"tree-open",setFilterGroupClosed:"tree-closed",setFilterGroupOpen:"tree-open",setFilterGroupIndeterminate:"tree-indeterminate",chart:"chart",close:"cross",cancel:"cancel",check:"tick",first:"first",previous:"previous",next:"next",last:"last",linked:"linked",unlinked:"unlinked",colorPicker:"color-picker",groupLoading:"loading",menu:"menu",menuAlt:"menu-alt",filter:"filter",columns:"columns",maximize:"maximize",minimize:"minimize",menuPin:"pin",menuValue:"aggregation",menuAddRowGroup:"group",menuRemoveRowGroup:"group",clipboardCopy:"copy",clipboardCut:"cut",clipboardPaste:"paste",pivotPanel:"pivot",rowGroupPanel:"group",valuePanel:"aggregation",columnDrag:"grip",rowDrag:"grip",save:"save",csvExport:"csv",excelExport:"excel",smallDown:"small-down",smallLeft:"small-left",smallRight:"small-right",smallUp:"small-up",sortAscending:"asc",sortDescending:"desc",sortUnSort:"none",advancedFilterBuilder:"group",advancedFilterBuilderDrag:"grip",advancedFilterBuilderInvalid:"not-allowed",advancedFilterBuilderMoveUp:"up",advancedFilterBuilderMoveDown:"down",advancedFilterBuilderAdd:"plus",advancedFilterBuilderRemove:"minus",chartsMenuEdit:"chart",chartsMenuAdvancedSettings:"settings",chartsMenuAdd:"plus",checkboxChecked:"checkbox-checked",checkboxIndeterminate:"checkbox-indeterminate",checkboxUnchecked:"checkbox-unchecked",radioButtonOn:"radio-button-on",radioButtonOff:"radio-button-off"},UI=(()=>{const e=new Set(Object.values(uR));return e.add("eye"),e})();function KI(e,t,r){const n=kn(e,t,r);if(n){const{className:s}=n;if(typeof s=="string"&&s.indexOf("ag-icon")>-1||typeof s=="object"&&s["ag-icon"])return n}const i=document.createElement("span");return i.appendChild(n),i}function kn(e,t,r,n){let i=null;const s=r&&r.getColDef().icons;if(s&&(i=s[e]),t&&!i){const o=t.get("icons");o&&(i=o[e])}if(i){let o;if(typeof i=="function")o=i();else if(typeof i=="string")o=i;else throw new Error("icon from grid options needs to be a string or a function");if(typeof o=="string")return wl(o);if(cy(o))return o;ke("iconRenderer should return back a string or a dom object")}else{const o=document.createElement("span");let a=uR[e]??(UI.has(e)?e:void 0);return a||(n?a=e:(ke(`Did not find icon ${e}`),a="")),o.setAttribute("class",`ag-icon ag-icon-${a}`),o.setAttribute("unselectable","on"),Pi(o,"presentation"),o}}function dR(e,t,r){if(r===0)return!1;const n=Math.abs(e.clientX-t.clientX),i=Math.abs(e.clientY-t.clientY);return Math.max(n,i)<=r}var Xs=class{constructor(e,t=!1){this.DOUBLE_TAP_MILLIS=500,this.destroyFuncs=[],this.touching=!1,this.localEventService=new Nl,this.eElement=e,this.preventMouseClick=t;const r=this.onTouchStart.bind(this),n=this.onTouchMove.bind(this),i=this.onTouchEnd.bind(this);this.eElement.addEventListener("touchstart",r,{passive:!0}),this.eElement.addEventListener("touchmove",n,{passive:!0}),this.eElement.addEventListener("touchend",i,{passive:!1}),this.destroyFuncs.push(()=>{this.eElement.removeEventListener("touchstart",r,{passive:!0}),this.eElement.removeEventListener("touchmove",n,{passive:!0}),this.eElement.removeEventListener("touchend",i,{passive:!1})})}getActiveTouch(e){for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null}addEventListener(e,t){this.localEventService.addEventListener(e,t)}removeEventListener(e,t){this.localEventService.removeEventListener(e,t)}onTouchStart(e){if(this.touching)return;this.touchStart=e.touches[0],this.touching=!0,this.moved=!1;const t=this.touchStart;window.setTimeout(()=>{const r=this.touchStart===t;if(this.touching&&r&&!this.moved){this.moved=!0;const n={type:"longTap",touchStart:this.touchStart,touchEvent:e};this.localEventService.dispatchEvent(n)}},500)}onTouchMove(e){if(!this.touching)return;const t=this.getActiveTouch(e.touches);if(!t)return;!dR(t,this.touchStart,4)&&(this.moved=!0)}onTouchEnd(e){if(this.touching){if(!this.moved){const t={type:"tap",touchStart:this.touchStart};this.localEventService.dispatchEvent(t),this.checkForDoubleTap()}this.preventMouseClick&&e.cancelable&&e.preventDefault(),this.touching=!1}}checkForDoubleTap(){const e=new Date().getTime();if(this.lastTapTime&&this.lastTapTime>0)if(e-this.lastTapTime>this.DOUBLE_TAP_MILLIS){const r={type:"doubleTap",touchStart:this.touchStart};this.localEventService.dispatchEvent(r),this.lastTapTime=null}else this.lastTapTime=e;else this.lastTapTime=e}destroy(){this.destroyFuncs.forEach(e=>e())}};function ic(e,t){return`<span data-ref="eSort${e}" class="ag-sort-indicator-icon ag-sort-${t} ag-hidden" aria-hidden="true"></span>`}var qI=`<span class="ag-sort-indicator-container">
        ${ic("Order","order")}
        ${ic("Asc","ascending-icon")}
        ${ic("Desc","descending-icon")}
        ${ic("Mixed","mixed-icon")}
        ${ic("None","none-icon")}
    </span>`,uy=class extends Jt{constructor(e){super(),this.eSortOrder=ht,this.eSortAsc=ht,this.eSortDesc=ht,this.eSortMixed=ht,this.eSortNone=ht,e||this.setTemplate(qI)}wireBeans(e){this.sortController=e.sortController}attachCustomElements(e,t,r,n,i){this.eSortOrder=e,this.eSortAsc=t,this.eSortDesc=r,this.eSortMixed=n,this.eSortNone=i}setupSort(e,t=!1){if(this.column=e,this.suppressOrder=t,this.setupMultiSortIndicator(),!this.column.isSortable()&&!this.column.getColDef().showRowGroup)return;this.addInIcon("sortAscending",this.eSortAsc,e),this.addInIcon("sortDescending",this.eSortDesc,e),this.addInIcon("sortUnSort",this.eSortNone,e);const r=this.updateIcons.bind(this),n=this.onSortChanged.bind(this);this.addManagedPropertyListener("unSortIcon",r),this.addManagedEventListeners({newColumnsLoaded:r,sortChanged:n,columnRowGroupChanged:n}),this.onSortChanged()}addInIcon(e,t,r){if(t==null)return;const n=kn(e,this.gos,r);n&&t.appendChild(n)}onSortChanged(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()}updateIcons(){const e=this.sortController.getDisplaySortForColumn(this.column);if(this.eSortAsc){const t=e==="asc";fr(this.eSortAsc,t,{skipAriaHidden:!0})}if(this.eSortDesc){const t=e==="desc";fr(this.eSortDesc,t,{skipAriaHidden:!0})}if(this.eSortNone){const t=!this.column.getColDef().unSortIcon&&!this.gos.get("unSortIcon"),r=e==null;fr(this.eSortNone,!t&&r,{skipAriaHidden:!0})}}setupMultiSortIndicator(){this.addInIcon("sortUnSort",this.eSortMixed,this.column);const e=this.column.getColDef().showRowGroup;this.gos.isColumnsSortingCoupledToGroup()&&e&&(this.addManagedEventListeners({sortChanged:this.updateMultiSortIndicator.bind(this),columnRowGroupChanged:this.updateMultiSortIndicator.bind(this)}),this.updateMultiSortIndicator())}updateMultiSortIndicator(){if(this.eSortMixed){const e=this.sortController.getDisplaySortForColumn(this.column)==="mixed";fr(this.eSortMixed,e,{skipAriaHidden:!0})}}updateSortOrder(){if(!this.eSortOrder)return;const e=this.sortController.getColumnsWithSortingOrdered(),t=this.sortController.getDisplaySortIndexForColumn(this.column)??-1,r=e.some(i=>this.sortController.getDisplaySortIndexForColumn(i)??-1>=1),n=t>=0&&r;fr(this.eSortOrder,n,{skipAriaHidden:!0}),t>=0?this.eSortOrder.textContent=(t+1).toString():Dn(this.eSortOrder)}},YI={selector:"AG-SORT-INDICATOR",component:uy},XI=`<div class="ag-cell-label-container" role="presentation">
        <span data-ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>
        <span data-ref="eFilterButton" class="ag-header-icon ag-header-cell-filter-button" aria-hidden="true"></span>
        <div data-ref="eLabel" class="ag-header-cell-label" role="presentation">
            <span data-ref="eText" class="ag-header-cell-text"></span>
            <span data-ref="eFilter" class="ag-header-icon ag-header-label-icon ag-filter-icon" aria-hidden="true"></span>
            <ag-sort-indicator data-ref="eSortIndicator"></ag-sort-indicator>
        </div>
    </div>`,lv=class extends Jt{constructor(){super(...arguments),this.eFilter=ht,this.eFilterButton=ht,this.eSortIndicator=ht,this.eMenu=ht,this.eLabel=ht,this.eText=ht,this.eSortOrder=ht,this.eSortAsc=ht,this.eSortDesc=ht,this.eSortMixed=ht,this.eSortNone=ht,this.lastMovingChanged=0}wireBeans(e){this.sortController=e.sortController,this.menuService=e.menuService,this.funcColsService=e.funcColsService}destroy(){super.destroy()}refresh(e){const t=this.params;return this.params=e,this.workOutTemplate()!=this.currentTemplate||this.workOutShowMenu()!=this.currentShowMenu||this.workOutSort()!=this.currentSort||this.shouldSuppressMenuHide()!=this.currentSuppressMenuHide||t.enableFilterButton!=e.enableFilterButton||t.enableFilterIcon!=e.enableFilterIcon?!1:(this.setDisplayName(e),!0)}workOutTemplate(){let e=this.params.template??XI;return e=e&&e.trim?e.trim():e,e}init(e){this.params=e,this.currentTemplate=this.workOutTemplate(),this.setTemplate(this.currentTemplate,[YI]),this.setupTap(),this.setMenu(),this.setupSort(),this.setupFilterIcon(),this.setupFilterButton(),this.setDisplayName(e)}setDisplayName(e){if(this.currentDisplayName!=e.displayName){this.currentDisplayName=e.displayName;const t=Bi(this.currentDisplayName,!0);this.eText&&(this.eText.textContent=t)}}addInIcon(e,t,r){if(t==null)return;const n=kn(e,this.gos,r);n&&t.appendChild(n)}setupTap(){const{gos:e}=this;if(e.get("suppressTouch"))return;const t=new Xs(this.getGui(),!0),r=this.shouldSuppressMenuHide(),n=r&&je(this.eMenu),i=n?new Xs(this.eMenu,!0):t;if(this.params.enableMenu){const s=n?"tap":"longTap",o=a=>this.params.showColumnMenuAfterMouseClick(a.touchStart);this.addManagedListeners(i,{[s]:o})}if(this.params.enableSorting){const s=o=>{var l,c;const a=o.touchStart.target;r&&((l=this.eMenu)!=null&&l.contains(a)||(c=this.eFilterButton)!=null&&c.contains(a))||this.sortController.progressSort(this.params.column,!1,"uiColumnSorted")};this.addManagedListeners(t,{tap:s})}if(this.params.enableFilterButton){const s=new Xs(this.eFilterButton,!0);this.addManagedListeners(s,{tap:()=>this.params.showFilter(this.eFilterButton)}),this.addDestroyFunc(()=>s.destroy())}this.addDestroyFunc(()=>t.destroy()),n&&this.addDestroyFunc(()=>i.destroy())}workOutShowMenu(){return this.params.enableMenu&&this.menuService.isHeaderMenuButtonEnabled()}shouldSuppressMenuHide(){return this.menuService.isHeaderMenuButtonAlwaysShowEnabled()}setMenu(){if(!this.eMenu)return;if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu){Xo(this.eMenu),this.eMenu=void 0;return}const e=this.menuService.isLegacyMenuEnabled();this.addInIcon(e?"menu":"menuAlt",this.eMenu,this.params.column),this.eMenu.classList.toggle("ag-header-menu-icon",!e),this.currentSuppressMenuHide=this.shouldSuppressMenuHide(),this.addManagedElementListeners(this.eMenu,{click:()=>this.params.showColumnMenu(this.eMenu)}),this.eMenu.classList.toggle("ag-header-menu-always-show",this.currentSuppressMenuHide)}onMenuKeyboardShortcut(e){const t=this.params.column,r=this.menuService.isLegacyMenuEnabled();if(e&&!r){if(this.menuService.isFilterMenuInHeaderEnabled(t))return this.params.showFilter(this.eFilterButton??this.eMenu??this.getGui()),!0}else if(this.params.enableMenu)return this.params.showColumnMenu(this.eMenu??this.eFilterButton??this.getGui()),!0;return!1}workOutSort(){return this.params.enableSorting}setupSort(){if(this.currentSort=this.params.enableSorting,this.eSortIndicator||(this.eSortIndicator=this.createBean(new uy(!0)),this.eSortIndicator.attachCustomElements(this.eSortOrder,this.eSortAsc,this.eSortDesc,this.eSortMixed,this.eSortNone)),this.eSortIndicator.setupSort(this.params.column),!this.currentSort)return;this.addManagedListeners(this.params.column,{movingChanged:()=>{this.lastMovingChanged=new Date().getTime()}}),this.eLabel&&this.addManagedElementListeners(this.eLabel,{click:t=>{const r=this.params.column.isMoving(),i=new Date().getTime()-this.lastMovingChanged<50;if(!(r||i)){const a=this.gos.get("multiSortKey")==="ctrl"?t.ctrlKey||t.metaKey:t.shiftKey;this.params.progressSort(a)}}});const e=()=>{const t=this.params.column.getSort();if(this.addOrRemoveCssClass("ag-header-cell-sorted-asc",t==="asc"),this.addOrRemoveCssClass("ag-header-cell-sorted-desc",t==="desc"),this.addOrRemoveCssClass("ag-header-cell-sorted-none",!t),this.params.column.getColDef().showRowGroup){const r=this.funcColsService.getSourceColumnsForGroupColumn(this.params.column),i=!(r==null?void 0:r.every(s=>this.params.column.getSort()==s.getSort()));this.addOrRemoveCssClass("ag-header-cell-sorted-mixed",i)}};this.addManagedEventListeners({sortChanged:e,columnRowGroupChanged:e})}setupFilterIcon(){this.eFilter&&this.configureFilter(this.params.enableFilterIcon,this.eFilter,this.onFilterChangedIcon.bind(this))}setupFilterButton(){if(!this.eFilterButton)return;this.configureFilter(this.params.enableFilterButton,this.eFilterButton,this.onFilterChangedButton.bind(this))?this.addManagedElementListeners(this.eFilterButton,{click:()=>this.params.showFilter(this.eFilterButton)}):this.eFilterButton=void 0}configureFilter(e,t,r){if(!e)return Xo(t),!1;const n=this.params.column;return this.addInIcon("filter",t,n),this.addManagedListeners(n,{filterChanged:r}),r(),!0}onFilterChangedIcon(){const e=this.params.column.isFilterActive();fr(this.eFilter,e,{skipAriaHidden:!0})}onFilterChangedButton(){const e=this.params.column.isFilterActive();this.eFilterButton.classList.toggle("ag-filter-active",e)}getAnchorElementForMenu(e){return e?this.eFilterButton??this.eMenu??this.getGui():this.eMenu??this.eFilterButton??this.getGui()}},QI=class extends Jt{constructor(){super(`<div class="ag-header-group-cell-label" role="presentation">
            <span data-ref="agLabel" class="ag-header-group-text" role="presentation"></span>
            <span data-ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span>
            <span data-ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span>
        </div>`),this.agOpened=ht,this.agClosed=ht,this.agLabel=ht}wireBeans(e){this.columnModel=e.columnModel}destroy(){super.destroy()}init(e){this.params=e,this.checkWarnings(),this.setupLabel(),this.addGroupExpandIcon(),this.setupExpandIcons()}checkWarnings(){this.params.template&&ke("A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)")}setupExpandIcons(){this.addInIcon("columnGroupOpened",this.agOpened),this.addInIcon("columnGroupClosed",this.agClosed);const e=i=>{if(ns(i))return;const s=!this.params.columnGroup.isExpanded();this.columnModel.setColumnGroupOpened(this.params.columnGroup.getProvidedColumnGroup(),s,"uiColumnExpanded")};this.addTouchAndClickListeners(this.agClosed,e),this.addTouchAndClickListeners(this.agOpened,e);const t=i=>{yl(i)};this.addManagedElementListeners(this.agClosed,{dblclick:t}),this.addManagedElementListeners(this.agOpened,{dblclick:t}),this.addManagedElementListeners(this.getGui(),{dblclick:e}),this.updateIconVisibility();const r=this.params.columnGroup.getProvidedColumnGroup(),n=this.updateIconVisibility.bind(this);this.addManagedListeners(r,{expandedChanged:n,expandableChanged:n})}addTouchAndClickListeners(e,t){const r=new Xs(e,!0);this.addManagedListeners(r,{tap:t}),this.addDestroyFunc(()=>r.destroy()),this.addManagedElementListeners(e,{click:t})}updateIconVisibility(){if(this.params.columnGroup.isExpandable()){const t=this.params.columnGroup.isExpanded();fr(this.agOpened,t),fr(this.agClosed,!t)}else fr(this.agOpened,!1),fr(this.agClosed,!1)}addInIcon(e,t){const r=kn(e,this.gos,null);r&&t.appendChild(r)}addGroupExpandIcon(){if(!this.params.columnGroup.isExpandable()){fr(this.agOpened,!1),fr(this.agClosed,!1);return}}setupLabel(){var r;const{displayName:e,columnGroup:t}=this.params;if(je(e)){const n=Bi(e,!0);this.agLabel.textContent=n}this.addOrRemoveCssClass("ag-sticky-label",!((r=t.getColGroupDef())!=null&&r.suppressStickyLabel))}},hR=(e=>(e.CommunityCoreModule="@ag-grid-community/core",e.InfiniteRowModelModule="@ag-grid-community/infinite-row-model",e.ClientSideRowModelModule="@ag-grid-community/client-side-row-model",e.CsvExportModule="@ag-grid-community/csv-export",e.EnterpriseCoreModule="@ag-grid-enterprise/core",e.RowGroupingModule="@ag-grid-enterprise/row-grouping",e.ColumnsToolPanelModule="@ag-grid-enterprise/column-tool-panel",e.FiltersToolPanelModule="@ag-grid-enterprise/filter-tool-panel",e.MenuModule="@ag-grid-enterprise/menu",e.SetFilterModule="@ag-grid-enterprise/set-filter",e.MultiFilterModule="@ag-grid-enterprise/multi-filter",e.StatusBarModule="@ag-grid-enterprise/status-bar",e.SideBarModule="@ag-grid-enterprise/side-bar",e.RangeSelectionModule="@ag-grid-enterprise/range-selection",e.MasterDetailModule="@ag-grid-enterprise/master-detail",e.RichSelectModule="@ag-grid-enterprise/rich-select",e.GridChartsModule="@ag-grid-enterprise/charts",e.ViewportRowModelModule="@ag-grid-enterprise/viewport-row-model",e.ServerSideRowModelModule="@ag-grid-enterprise/server-side-row-model",e.ExcelExportModule="@ag-grid-enterprise/excel-export",e.ClipboardModule="@ag-grid-enterprise/clipboard",e.SparklinesModule="@ag-grid-enterprise/sparklines",e.AdvancedFilterModule="@ag-grid-enterprise/advanced-filter",e.AngularModule="@ag-grid-community/angular",e.ReactModule="@ag-grid-community/react",e.VueModule="@ag-grid-community/vue",e))(hR||{}),If=class Ht{static register(t){Ht.__register(t,!0,void 0)}static registerModules(t){Ht.__registerModules(t,!0,void 0)}static __register(t,r,n){Ht.runVersionChecks(t),n!==void 0?(Ht.areGridScopedModules=!0,Ht.gridModulesMap[n]===void 0&&(Ht.gridModulesMap[n]={}),Ht.gridModulesMap[n][t.moduleName]=t):Ht.globalModulesMap[t.moduleName]=t,Ht.setModuleBased(r)}static __unRegisterGridModules(t){delete Ht.gridModulesMap[t]}static __registerModules(t,r,n){Ht.setModuleBased(r),t&&t.forEach(i=>Ht.__register(i,r,n))}static isValidModuleVersion(t){const[r,n]=t.version.split(".")||[],[i,s]=Ht.currentModuleVersion.split(".")||[];return r===i&&n===s}static runVersionChecks(t){Ht.currentModuleVersion||(Ht.currentModuleVersion=t.version);const r=n=>`You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. ${n} Please update all modules to the same version.`;if(t.version?Ht.isValidModuleVersion(t)||Vt(r(`'${t.moduleName}' is version ${t.version} but the other modules are version ${Ht.currentModuleVersion}.`)):Vt(r(`'${t.moduleName}' is incompatible.`)),t.validate){const n=t.validate();n.isValid||Vt(`${n.message}`)}}static setModuleBased(t){Ht.moduleBased===void 0?Ht.moduleBased=t:Ht.moduleBased!==t&&(Vt("AG Grid: You are mixing modules (i.e. @ag-grid-community/core) and packages (ag-grid-community) - you can only use one or the other of these mechanisms."),Vt("Please see https://www.ag-grid.com/javascript-grid/modules/ for more information."))}static __setIsBundled(){Ht.isBundled=!0}static __assertRegistered(t,r,n){var s;if(this.__isRegistered(t,n))return!0;let i;if(Ht.isBundled)i=`AG Grid: unable to use ${r} as 'ag-grid-enterprise' has not been loaded. Check you are using the Enterprise bundle:
        
        <script src="https://cdn.jsdelivr.net/npm/ag-grid-enterprise@AG_GRID_VERSION/dist/ag-grid-enterprise.min.js"><\/script>
        
For more info see: https://ag-grid.com/javascript-data-grid/getting-started/#getting-started-with-ag-grid-enterprise`;else if(Ht.moduleBased||Ht.moduleBased===void 0){const o=(s=Object.entries(hR).find(([a,l])=>l===t))==null?void 0:s[0];i=`AG Grid: unable to use ${r} as the ${o} is not registered${Ht.areGridScopedModules?` for gridId: ${n}`:""}. Check if you have registered the module:
           
    import { ModuleRegistry } from '@ag-grid-community/core';
    import { ${o} } from '${t}';
    
    ModuleRegistry.registerModules([ ${o} ]);

For more info see: https://www.ag-grid.com/javascript-grid/modules/`}else i=`AG Grid: unable to use ${r} as package 'ag-grid-enterprise' has not been imported. Check that you have imported the package:
            
    import 'ag-grid-enterprise';`;return Vt(i),!1}static __isRegistered(t,r){var n;return!!Ht.globalModulesMap[t]||!!((n=Ht.gridModulesMap[r])!=null&&n[t])}static __getRegisteredModules(t){return[...Jd(Ht.globalModulesMap),...Jd(Ht.gridModulesMap[t]||{})]}static __getGridRegisteredModules(t){return Jd(Ht.gridModulesMap[t]??{})||[]}static __isPackageBased(){return!Ht.moduleBased}};If.globalModulesMap={};If.gridModulesMap={};If.areGridScopedModules=!1;var Zr=If,ZI="↑",JI="↓",e7=class extends Jt{constructor(){super(),this.refreshCount=0;const e=document.createElement("span"),t=document.createElement("span");t.setAttribute("class","ag-value-change-delta");const r=document.createElement("span");r.setAttribute("class","ag-value-change-value"),e.appendChild(t),e.appendChild(r),this.setTemplateFromElement(e)}wireBeans(e){this.filterManager=e.filterManager}init(e){this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(e,!0)}showDelta(e,t){const r=Math.abs(t),n=e.formatValue(r),i=je(n)?n:r,s=t>=0;s?this.eDelta.textContent=ZI+i:this.eDelta.textContent=JI+i,this.eDelta.classList.toggle("ag-value-change-delta-up",s),this.eDelta.classList.toggle("ag-value-change-delta-down",!s)}setTimerToRemoveDelta(){this.refreshCount++;const e=this.refreshCount;this.getFrameworkOverrides().wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.hideDeltaValue()},2e3)})}hideDeltaValue(){this.eValue.classList.remove("ag-value-change-value-highlight"),Dn(this.eDelta)}refresh(e,t=!1){var n;const r=e.value;if(r===this.lastValue||(je(e.valueFormatted)?this.eValue.textContent=e.valueFormatted:je(e.value)?this.eValue.textContent=r:Dn(this.eValue),(n=this.filterManager)!=null&&n.isSuppressFlashingCellsBecauseFiltering()))return!1;if(typeof r=="number"&&typeof this.lastValue=="number"){const i=r-this.lastValue;this.showDelta(e,i)}return this.lastValue&&this.eValue.classList.add("ag-value-change-value-highlight"),t||this.setTimerToRemoveDelta(),this.lastValue=r,!0}},t7=class extends Jt{constructor(){super(),this.refreshCount=0;const e=document.createElement("span"),t=document.createElement("span");t.setAttribute("class","ag-value-slide-current"),e.appendChild(t),this.setTemplateFromElement(e),this.eCurrent=this.queryForHtmlElement(".ag-value-slide-current")}wireBeans(e){this.filterManager=e.filterManager}init(e){this.refresh(e,!0)}addSlideAnimation(){this.refreshCount++;const e=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious);const t=document.createElement("span");t.setAttribute("class","ag-value-slide-previous ag-value-slide-out"),this.ePrevious=t,this.ePrevious.textContent=this.eCurrent.textContent,this.getGui().insertBefore(this.ePrevious,this.eCurrent),this.getFrameworkOverrides().wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.ePrevious.classList.add("ag-value-slide-out-end")},50),window.setTimeout(()=>{e===this.refreshCount&&(this.getGui().removeChild(this.ePrevious),this.ePrevious=null)},3e3)})}refresh(e,t=!1){var n;let r=e.value;return _t(r)&&(r=""),r===this.lastValue||(n=this.filterManager)!=null&&n.isSuppressFlashingCellsBecauseFiltering()?!1:(t||this.addSlideAnimation(),this.lastValue=r,je(e.valueFormatted)?this.eCurrent.textContent=e.valueFormatted:je(e.value)?this.eCurrent.textContent=r:Dn(this.eCurrent),!0)}},Se=class{};Se.BACKSPACE="Backspace";Se.TAB="Tab";Se.ENTER="Enter";Se.ESCAPE="Escape";Se.SPACE=" ";Se.LEFT="ArrowLeft";Se.UP="ArrowUp";Se.RIGHT="ArrowRight";Se.DOWN="ArrowDown";Se.DELETE="Delete";Se.F2="F2";Se.PAGE_UP="PageUp";Se.PAGE_DOWN="PageDown";Se.PAGE_HOME="Home";Se.PAGE_END="End";Se.A="KeyA";Se.C="KeyC";Se.D="KeyD";Se.V="KeyV";Se.X="KeyX";Se.Y="KeyY";Se.Z="KeyZ";var r7=class extends Jt{constructor(e,t,r){super(t,r),this.labelSeparator="",this.labelAlignment="left",this.disabled=!1,this.label="",this.config=e||{}}postConstruct(){this.addCssClass("ag-labeled"),this.eLabel.classList.add("ag-label");const{labelSeparator:e,label:t,labelWidth:r,labelAlignment:n,disabled:i}=this.config;i!=null&&this.setDisabled(i),e!=null&&this.setLabelSeparator(e),t!=null&&this.setLabel(t),r!=null&&this.setLabelWidth(r),this.setLabelAlignment(n||this.labelAlignment),this.refreshLabel()}refreshLabel(){Dn(this.eLabel),typeof this.label=="string"?this.eLabel.innerText=this.label+this.labelSeparator:this.label&&this.eLabel.appendChild(this.label),this.label===""?(fr(this.eLabel,!1),Pi(this.eLabel,"presentation")):(fr(this.eLabel,!0),Pi(this.eLabel,null))}setLabelSeparator(e){return this.labelSeparator===e?this:(this.labelSeparator=e,this.label!=null&&this.refreshLabel(),this)}getLabelId(){return this.eLabel.id=this.eLabel.id||`ag-${this.getCompId()}-label`,this.eLabel.id}getLabel(){return this.label}setLabel(e){return this.label===e?this:(this.label=e,this.refreshLabel(),this)}setLabelAlignment(e){const r=this.getGui().classList;return r.toggle("ag-label-align-left",e==="left"),r.toggle("ag-label-align-right",e==="right"),r.toggle("ag-label-align-top",e==="top"),this}setLabelEllipsis(e){return this.eLabel.classList.toggle("ag-label-ellipsis",e),this}setLabelWidth(e){return this.label==null?this:(sf(this.eLabel,e),this)}setDisabled(e){e=!!e;const t=this.getGui();return vu(t,e),t.classList.toggle("ag-disabled",e),this.disabled=e,this}isDisabled(){return!!this.disabled}},fR=class extends r7{constructor(e,t,r,n){super(e,t,r),this.className=n}postConstruct(){super.postConstruct();const{width:e,value:t,onValueChange:r}=this.config;e!=null&&this.setWidth(e),t!=null&&this.setValue(t),r!=null&&this.onValueChange(r),this.className&&this.addCssClass(this.className),this.refreshAriaLabelledBy()}setLabel(e){return super.setLabel(e),this.refreshAriaLabelledBy(),this}refreshAriaLabelledBy(){const e=this.getAriaElement(),t=this.getLabelId(),r=this.getLabel();r==null||r==""||bI(e)!==null?mu(e,""):mu(e,t??"")}setAriaLabel(e){return bl(this.getAriaElement(),e),this.refreshAriaLabelledBy(),this}onValueChange(e){return this.addManagedListeners(this,{fieldValueChanged:()=>e(this.getValue())}),this}getWidth(){return this.getGui().clientWidth}setWidth(e){return Ei(this.getGui(),e),this}getPreviousValue(){return this.previousValue}getValue(){return this.value}setValue(e,t){return this.value===e?this:(this.previousValue=this.value,this.value=e,t||this.dispatchLocalEvent({type:"fieldValueChanged"}),this)}},Fo=class extends fR{constructor(e,t,r="text",n="input"){super(e,(e==null?void 0:e.template)??`
            <div role="presentation">
                <div data-ref="eLabel" class="ag-input-field-label"></div>
                <div data-ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">
                    <${n} data-ref="eInput" class="ag-input-field-input"></${n}>
                </div>
            </div>`,[],t),this.inputType=r,this.displayFieldTag=n,this.eLabel=ht,this.eWrapper=ht,this.eInput=ht}postConstruct(){super.postConstruct(),this.setInputType(),this.eLabel.classList.add(`${this.className}-label`),this.eWrapper.classList.add(`${this.className}-input-wrapper`),this.eInput.classList.add(`${this.className}-input`),this.addCssClass("ag-input-field"),this.eInput.id=this.eInput.id||`ag-${this.getCompId()}-input`;const{inputName:e,inputWidth:t}=this.config;e!=null&&this.setInputName(e),t!=null&&this.setInputWidth(t),this.addInputListeners(),this.activateTabIndex([this.eInput])}addInputListeners(){this.addManagedElementListeners(this.eInput,{input:e=>this.setValue(e.target.value)})}setInputType(){this.displayFieldTag==="input"&&this.eInput.setAttribute("type",this.inputType)}getInputElement(){return this.eInput}setInputWidth(e){return sf(this.eWrapper,e),this}setInputName(e){return this.getInputElement().setAttribute("name",e),this}getFocusableElement(){return this.eInput}setMaxLength(e){const t=this.eInput;return t.maxLength=e,this}setInputPlaceholder(e){return Zn(this.eInput,"placeholder",e),this}setInputAriaLabel(e){return bl(this.eInput,e),this.refreshAriaLabelledBy(),this}setDisabled(e){return vu(this.eInput,e),super.setDisabled(e)}setAutoComplete(e){if(e===!0)Zn(this.eInput,"autocomplete",null);else{const t=typeof e=="string"?e:"off";Zn(this.eInput,"autocomplete",t)}return this}},dy=class extends Fo{constructor(e,t="ag-checkbox",r="checkbox"){super(e,t,r),this.labelAlignment="right",this.selected=!1,this.readOnly=!1,this.passive=!1}postConstruct(){super.postConstruct();const{readOnly:e,passive:t}=this.config;typeof e=="boolean"&&this.setReadOnly(e),typeof t=="boolean"&&this.setPassive(t)}addInputListeners(){this.addManagedElementListeners(this.eInput,{click:this.onCheckboxClick.bind(this)}),this.addManagedElementListeners(this.eLabel,{click:this.toggle.bind(this)})}getNextValue(){return this.selected===void 0?!0:!this.selected}setPassive(e){this.passive=e}isReadOnly(){return this.readOnly}setReadOnly(e){this.eWrapper.classList.toggle("ag-disabled",e),this.eInput.disabled=e,this.readOnly=e}setDisabled(e){return this.eWrapper.classList.toggle("ag-disabled",e),super.setDisabled(e)}toggle(){if(this.eInput.disabled)return;const e=this.isSelected(),t=this.getNextValue();this.passive?this.dispatchChange(t,e):this.setValue(t)}getValue(){return this.isSelected()}setValue(e,t){return this.refreshSelectedClass(e),this.setSelected(e,t),this}setName(e){const t=this.getInputElement();return t.name=e,this}isSelected(){return this.selected}setSelected(e,t){this.isSelected()!==e&&(this.previousValue=this.isSelected(),e=this.selected=typeof e=="boolean"?e:void 0,this.eInput.checked=e,this.eInput.indeterminate=e===void 0,t||this.dispatchChange(this.selected,this.previousValue))}dispatchChange(e,t,r){this.dispatchLocalEvent({type:"fieldValueChanged",selected:e,previousValue:t,event:r});const n=this.getInputElement();this.eventService.dispatchEvent({type:"checkboxChanged",id:n.id,name:n.name,selected:e,previousValue:t})}onCheckboxClick(e){if(this.passive||this.eInput.disabled)return;const t=this.isSelected(),r=this.selected=e.target.checked;this.refreshSelectedClass(r),this.dispatchChange(r,t,e)}refreshSelectedClass(e){this.eWrapper.classList.toggle("ag-checked",e===!0),this.eWrapper.classList.toggle("ag-indeterminate",e==null)}},hy={selector:"AG-CHECKBOX",component:dy},n7=class extends Jt{constructor(){super(`
            <div class="ag-cell-wrapper ag-checkbox-cell" role="presentation">
                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>
            </div>`,[hy]),this.eCheckbox=ht}init(e){this.params=e,this.updateCheckbox(e);const t=this.eCheckbox.getInputElement();t.setAttribute("tabindex","-1"),X3(t,"polite"),this.addManagedListeners(t,{click:r=>{if(yl(r),this.eCheckbox.isDisabled())return;const n=this.eCheckbox.getValue();this.onCheckboxChanged(n)},dblclick:r=>{yl(r)}}),this.addManagedElementListeners(this.params.eGridCell,{keydown:r=>{if(r.key===Se.SPACE&&!this.eCheckbox.isDisabled()){this.params.eGridCell===this.gos.getActiveDomElement()&&this.eCheckbox.toggle();const n=this.eCheckbox.getValue();this.onCheckboxChanged(n),r.preventDefault()}}})}refresh(e){return this.params=e,this.updateCheckbox(e),!0}updateCheckbox(e){var a;let t,r=!0;if(e.node.group&&e.column)if(typeof e.value=="boolean")t=e.value;else{const l=e.column.getColId();l.startsWith(Ou)?t=e.value==null||e.value===""?void 0:e.value==="true":e.node.aggData&&e.node.aggData[l]!==void 0?t=e.value??void 0:r=!1}else t=e.value??void 0;if(!r){this.eCheckbox.setDisplayed(!1);return}this.eCheckbox.setValue(t);const n=e.disabled!=null?e.disabled:!((a=e.column)!=null&&a.isCellEditable(e.node));this.eCheckbox.setDisabled(n);const i=this.localeService.getLocaleTextFunc(),s=iy(i,t),o=n?s:`${i("ariaToggleCellValue","Press SPACE to toggle cell value")} (${s})`;this.eCheckbox.setInputAriaLabel(o)}onCheckboxChanged(e){const{column:t,node:r,value:n}=this.params;this.eventService.dispatchEvent({type:"cellEditingStarted",column:t,colDef:t==null?void 0:t.getColDef(),data:r.data,node:r,rowIndex:r.rowIndex,rowPinned:r.rowPinned,value:n});const i=this.params.node.setDataValue(this.params.column,e,"edit");this.eventService.dispatchEvent({type:"cellEditingStopped",column:t,colDef:t==null?void 0:t.getColDef(),data:r.data,node:r,rowIndex:r.rowIndex,rowPinned:r.rowPinned,value:n,oldValue:n,newValue:e,valueChanged:i})}},i7=class extends Jt{constructor(){super(`<div class="ag-loading">
            <span class="ag-loading-icon" data-ref="eLoadingIcon"></span>
            <span class="ag-loading-text" data-ref="eLoadingText"></span>
        </div>`),this.eLoadingIcon=ht,this.eLoadingText=ht}init(e){e.node.failedLoad?this.setupFailed():this.setupLoading()}setupFailed(){const e=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=e("loadingError","ERR")}setupLoading(){const e=kn("groupLoading",this.gos,null);e&&this.eLoadingIcon.appendChild(e);const t=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=t("loadingOoo","Loading")}refresh(e){return!1}destroy(){super.destroy()}},s7=class extends Jt{constructor(){super('<div class="ag-skeleton-container"></div>')}init(e){const t=`ag-cell-skeleton-renderer-${this.getCompId()}`;this.getGui().setAttribute("id",t),this.addDestroyFunc(()=>mu(e.eParentOfValue)),mu(e.eParentOfValue,t),e.node.failedLoad?this.setupFailed():this.setupLoading(e)}setupFailed(){const e=this.localeService.getLocaleTextFunc();this.getGui().innerText=e("loadingError","ERR");const t=e("ariaSkeletonCellLoadingFailed","Row failed to load");bl(this.getGui(),t)}setupLoading(e){const r=this.gos.getDocument().createElement("div");r.classList.add("ag-skeleton-effect");const n=e.node.rowIndex;if(n!=null){const o=75+25*(n%2===0?Math.sin(n):Math.cos(n));r.style.width=`${o}%`}this.getGui().appendChild(r);const s=this.localeService.getLocaleTextFunc()("ariaSkeletonCellLoading","Row data is loading");bl(this.getGui(),s)}refresh(e){return!1}destroy(){super.destroy()}},pR=class extends Jt{constructor(){super()}destroy(){super.destroy()}},o7=class extends pR{init(){var t;const e=is((t=this.gos.get("overlayLoadingTemplate"))==null?void 0:t.trim());if(this.setTemplate(e??'<span aria-live="polite" aria-atomic="true" class="ag-overlay-loading-center"></span>'),!e){const r=this.localeService.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=r("loadingOoo","Loading...")})}}},a7=class extends pR{init(){var t;const e=is((t=this.gos.get("overlayNoRowsTemplate"))==null?void 0:t.trim());if(this.setTemplate(e??'<span class="ag-overlay-no-rows-center"></span>'),!e){const r=this.localeService.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=r("noRowsToShow","No Rows To Show")})}}},jl=class extends Jt{isPopup(){return!0}setParentComponent(e){e.addCssClass("ag-has-popup"),super.setParentComponent(e)}destroy(){const e=this.parentComponent;e&&e.isAlive()&&e.getGui().classList.remove("ag-has-popup"),super.destroy()}},l7=class extends jl{constructor(){super('<div class="ag-tooltip"></div>')}init(e){const{value:t}=e;this.getGui().textContent=Bi(t,!0)}};function c7(e,t,r){const n={},i=e.filter(s=>!t.some(o=>o===s));return i.length>0&&i.forEach(s=>n[s]=gR(s,r).values),n}function gR(e,t,r,n){let i=t.map((a,l)=>({value:a,relevance:u7(e.toLowerCase(),a.toLocaleLowerCase()),idx:l}));if(i.sort((a,l)=>l.relevance-a.relevance),r&&(i=i.filter(a=>a.relevance!==0)),i.length>0&&n&&n>0){const l=i[0].relevance*n;i=i.filter(c=>l-c.relevance<0)}const s=[],o=[];for(const a of i)s.push(a.value),o.push(a.idx);return{values:s,indices:o}}function u7(e,t){const r=e.replace(/\s/g,""),n=t.replace(/\s/g,"");let i=0,s=-1;for(let o=0;o<r.length;o++){const a=n.indexOf(r[o],s+1);a!==-1&&(s=a,i+=100-s*100/1e4*100)}return i}var d7=class extends Re{constructor(){super(...arguments),this.beanName="userComponentRegistry",this.agGridDefaults={agColumnHeader:lv,agColumnGroupHeader:QI,agSortIndicator:uy,agAnimateShowChangeCellRenderer:e7,agAnimateSlideCellRenderer:t7,agLoadingCellRenderer:i7,agSkeletonCellRenderer:s7,agCheckboxCellRenderer:n7,agLoadingOverlay:o7,agNoRowsOverlay:a7,agTooltipComponent:l7},this.enterpriseAgDefaultCompsModule={agSetColumnFilter:"@ag-grid-enterprise/set-filter",agSetColumnFloatingFilter:"@ag-grid-enterprise/set-filter",agMultiColumnFilter:"@ag-grid-enterprise/multi-filter",agMultiColumnFloatingFilter:"@ag-grid-enterprise/multi-filter",agGroupColumnFilter:"@ag-grid-enterprise/row-grouping",agGroupColumnFloatingFilter:"@ag-grid-enterprise/row-grouping",agGroupCellRenderer:"@ag-grid-enterprise/row-grouping",agGroupRowRenderer:"@ag-grid-enterprise/row-grouping",agRichSelect:"@ag-grid-enterprise/rich-select",agRichSelectCellEditor:"@ag-grid-enterprise/rich-select",agDetailCellRenderer:"@ag-grid-enterprise/master-detail",agSparklineCellRenderer:"@ag-grid-enterprise/sparklines"},this.jsComps={}}postConstruct(){const e=this.gos.get("components");e!=null&&bi(e,(t,r)=>this.registerJsComponent(t,r))}registerDefaultComponent(e,t){this.agGridDefaults[e]=t}registerJsComponent(e,t){this.jsComps[e]=t}retrieve(e,t){const r=(a,l)=>({componentFromFramework:l,component:a}),n=this.getFrameworkOverrides().frameworkComponent(t,this.gos.get("components"));if(n!=null)return r(n,!0);const i=this.jsComps[t];if(i){const a=this.getFrameworkOverrides().isFrameworkComponent(i);return r(i,a)}const s=this.agGridDefaults[t];if(s)return r(s,!1);const o=this.enterpriseAgDefaultCompsModule[t];return o?Zr.__assertRegistered(o,`AG Grid '${e}' component: ${t}`,this.gridId):ey(()=>{this.warnAboutMissingComponent(e,t)},"MissingComp"+t),null}warnAboutMissingComponent(e,t){const r=[...Object.keys(this.agGridDefaults).filter(i=>!["agCellEditor","agGroupRowRenderer","agSortIndicator"].includes(i)),...Object.keys(this.jsComps)],n=gR(t,r,!0,.8).values;ke(`Could not find '${t}' component. It was configured as "${e}: '${t}'" but it wasn't found in the list of registered components.`),n.length>0&&ke(`         Did you mean: [${n.slice(0,3)}]?`),ke(`If using a custom component check it has been registered as described in: ${this.getFrameworkOverrides().getDocLink("components/")}`)}},br=class fc{constructor(t){this.status=0,this.resolution=null,this.waiters=[],t(r=>this.onDone(r),r=>this.onReject(r))}static all(t){return t.length?new fc(r=>{let n=t.length;const i=new Array(n);t.forEach((s,o)=>{s.then(a=>{i[o]=a,n--,n===0&&r(i)})})}):fc.resolve()}static resolve(t=null){return new fc(r=>r(t))}then(t){return new fc(r=>{this.status===1?r(t(this.resolution)):this.waiters.push(n=>r(t(n)))})}onDone(t){this.status=1,this.resolution=t,this.waiters.forEach(r=>r(t))}onReject(t){}},h7={propertyName:"dateComponent",cellRenderer:!1},f7={propertyName:"headerComponent",cellRenderer:!1},p7={propertyName:"headerGroupComponent",cellRenderer:!1},qw={propertyName:"cellRenderer",cellRenderer:!0},g7={propertyName:"cellRenderer",cellRenderer:!1},m7={propertyName:"loadingCellRenderer",cellRenderer:!0},v7={propertyName:"cellEditor",cellRenderer:!1},Yw={propertyName:"innerRenderer",cellRenderer:!0},y7={propertyName:"loadingOverlayComponent",cellRenderer:!1},b7={propertyName:"noRowsOverlayComponent",cellRenderer:!1},w7={propertyName:"tooltipComponent",cellRenderer:!1},fy={propertyName:"filter",cellRenderer:!1},C7={propertyName:"floatingFilterComponent",cellRenderer:!1},S7={propertyName:"toolPanel",cellRenderer:!1},x7={propertyName:"statusPanel",cellRenderer:!1},R7={propertyName:"fullWidthCellRenderer",cellRenderer:!0},E7={propertyName:"loadingCellRenderer",cellRenderer:!0},T7={propertyName:"groupRowRenderer",cellRenderer:!0},P7={propertyName:"detailCellRenderer",cellRenderer:!0},_7={propertyName:"menuItem",cellRenderer:!1},mR=class vR extends Re{constructor(){super(...arguments),this.beanName="userComponentFactory"}wireBeans(t){this.agComponentUtils=t.agComponentUtils,this.componentMetadataProvider=t.componentMetadataProvider,this.userComponentRegistry=t.userComponentRegistry,this.frameworkComponentWrapper=t.frameworkComponentWrapper,this.gridOptions=t.gridOptions}getHeaderCompDetails(t,r){return this.getCompDetails(t,f7,"agColumnHeader",r)}getHeaderGroupCompDetails(t){const r=t.columnGroup.getColGroupDef();return this.getCompDetails(r,p7,"agColumnGroupHeader",t)}getFullWidthCellRendererDetails(t){return this.getCompDetails(this.gridOptions,R7,null,t,!0)}getFullWidthLoadingCellRendererDetails(t){return this.getCompDetails(this.gridOptions,E7,"agLoadingCellRenderer",t,!0)}getFullWidthGroupCellRendererDetails(t){return this.getCompDetails(this.gridOptions,T7,"agGroupRowRenderer",t,!0)}getFullWidthDetailCellRendererDetails(t){return this.getCompDetails(this.gridOptions,P7,"agDetailCellRenderer",t,!0)}getInnerRendererDetails(t,r){return this.getCompDetails(t,Yw,null,r)}getFullWidthGroupRowInnerCellRenderer(t,r){return this.getCompDetails(t,Yw,null,r)}getCellRendererDetails(t,r){return this.getCompDetails(t,qw,null,r)}getEditorRendererDetails(t,r){return this.getCompDetails(t,g7,null,r)}getLoadingCellRendererDetails(t,r){return this.getCompDetails(t,m7,"agSkeletonCellRenderer",r,!0)}getCellEditorDetails(t,r){return this.getCompDetails(t,v7,"agCellEditor",r,!0)}getFilterDetails(t,r,n){return this.getCompDetails(t,fy,n,r,!0)}getDateCompDetails(t){return this.getCompDetails(this.gridOptions,h7,"agDateInput",t,!0)}getLoadingOverlayCompDetails(t){return this.getCompDetails(this.gridOptions,y7,"agLoadingOverlay",t,!0)}getNoRowsOverlayCompDetails(t){return this.getCompDetails(this.gridOptions,b7,"agNoRowsOverlay",t,!0)}getTooltipCompDetails(t){return this.getCompDetails(t.colDef,w7,"agTooltipComponent",t,!0)}getSetFilterCellRendererDetails(t,r){return this.getCompDetails(t,qw,null,r)}getFloatingFilterCompDetails(t,r,n){return this.getCompDetails(t,C7,n,r)}getToolPanelCompDetails(t,r){return this.getCompDetails(t,S7,null,r,!0)}getStatusPanelCompDetails(t,r){return this.getCompDetails(t,x7,null,r,!0)}getMenuItemCompDetails(t,r){return this.getCompDetails(t,_7,"agMenuItem",r,!0)}getCompDetails(t,r,n,i,s=!1){const{propertyName:o,cellRenderer:a}=r;let{compName:l,jsComp:c,fwComp:u,paramsFromSelector:f,popupFromSelector:d,popupPositionFromSelector:h}=vR.getCompKeys(this.frameworkOverrides,t,r,i);const g=m=>{const b=this.userComponentRegistry.retrieve(o,m);b&&(c=b.componentFromFramework?void 0:b.component,u=b.componentFromFramework?b.component:void 0)};if(l!=null&&g(l),c==null&&u==null&&n!=null&&g(n),c&&a&&!this.agComponentUtils.doesImplementIComponent(c)&&(c=this.agComponentUtils.adaptFunction(o,c)),!c&&!u){s&&Vt(`Could not find component ${l}, did you forget to configure this component?`);return}const v=this.mergeParamsWithApplicationProvidedParams(t,r,i,f),p=c==null,y=c||u;return{componentFromFramework:p,componentClass:y,params:v,type:r,popupFromSelector:d,popupPositionFromSelector:h,newAgStackInstance:()=>this.newAgStackInstance(y,p,v,r)}}static getCompKeys(t,r,n,i){const{propertyName:s}=n;let o,a,l,c,u,f;if(r){const d=r,h=d[s+"Selector"],g=h?h(i):null,v=p=>{typeof p=="string"?o=p:p!=null&&p!==!0&&(t.isFrameworkComponent(p)?l=p:a=p)};g?(v(g.component),c=g.params,u=g.popup,f=g.popupPosition):v(d[s])}return{compName:o,jsComp:a,fwComp:l,paramsFromSelector:c,popupFromSelector:u,popupPositionFromSelector:f}}newAgStackInstance(t,r,n,i){const s=i.propertyName,o=!r;let a;if(o)a=new t;else{const c=this.componentMetadataProvider.retrieve(s);a=this.frameworkComponentWrapper.wrap(t,c.mandatoryMethodList,c.optionalMethodList,i)}const l=this.initComponent(a,n);return l==null?br.resolve(a):l.then(()=>a)}mergeParamsWithApplicationProvidedParams(t,r,n,i=null){const s=this.gos.getGridCommonParams();Kn(s,n);const o=t,a=o&&o[r.propertyName+"Params"];if(typeof a=="function"){const l=a(n);Kn(s,l)}else typeof a=="object"&&Kn(s,a);return Kn(s,i),s}initComponent(t,r){if(this.createBean(t),t.init!=null)return t.init(r)}};function Dc(e){const t=e;return t!=null&&t.getFrameworkComponentInstance!=null?t.getFrameworkComponentInstance():e}var M7=class{constructor(e){this.beans={},this.createdBeans=[],this.destroyed=!1,!(!e||!e.beanClasses)&&(this.beanDestroyComparator=e.beanDestroyComparator,this.init(e))}init(e){var t;Object.entries(e.providedBeanInstances).forEach(([r,n])=>{this.beans[r]=n}),e.beanClasses.forEach(r=>{const n=new r;n.beanName?this.beans[n.beanName]=n:console.error(`Bean ${r.name} is missing beanName`),this.createdBeans.push(n)}),(t=e.derivedBeans)==null||t.forEach(r=>{const{beanName:n,bean:i}=r(this);this.beans[n]=i,this.createdBeans.push(i)}),e.beanInitComparator&&this.createdBeans.sort(e.beanInitComparator),this.initBeans(this.createdBeans)}getBeanInstances(){return Object.values(this.beans)}createBean(e,t){if(!e)throw Error("Can't wire to bean since it is null");return this.initBeans([e],t),e}initBeans(e,t){e.forEach(r=>{var n,i;(n=r.preWireBeans)==null||n.call(r,this.beans),(i=r.wireBeans)==null||i.call(r,this.beans)}),e.forEach(r=>{var n;return(n=r.preConstruct)==null?void 0:n.call(r)}),t&&e.forEach(t),e.forEach(r=>{var n;return(n=r.postConstruct)==null?void 0:n.call(r)})}getBeans(){return this.beans}getBean(e){return this.beans[e]}destroy(){if(this.destroyed)return;this.destroyed=!0;const e=this.getBeanInstances();this.beanDestroyComparator&&e.sort(this.beanDestroyComparator),this.destroyBeans(e),this.beans={},this.createdBeans=[]}destroyBean(e){var t;(t=e==null?void 0:e.destroy)==null||t.call(e)}destroyBeans(e){if(e)for(let t=0;t<e.length;t++)this.destroyBean(e[t]);return[]}isDestroyed(){return this.destroyed}},k7=class extends M7{init(e){this.gridId=e.gridId,this.beans.context=this,super.init(e)}destroy(){super.destroy(),Zr.__unRegisterGridModules(this.gridId)}getGridId(){return this.gridId}},yR=(e=>(e[e.Left=0]="Left",e[e.Right=1]="Right",e))(yR||{}),F7=`<div class="ag-dnd-ghost ag-unselectable">
<span class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>
<div class="ag-dnd-ghost-label"></div>
</div>`,A7=class extends Re{constructor(){super(...arguments),this.beanName="dragAndDropService",this.dragSourceAndParamsList=[],this.dropTargets=[]}wireBeans(e){this.dragService=e.dragService,this.mouseEventService=e.mouseEventService,this.environment=e.environment}postConstruct(){const e=t=>KI(t,this.gos,null);this.dropIconMap={pinned:e("columnMovePin"),hide:e("columnMoveHide"),move:e("columnMoveMove"),left:e("columnMoveLeft"),right:e("columnMoveRight"),group:e("columnMoveGroup"),aggregate:e("columnMoveValue"),pivot:e("columnMovePivot"),notAllowed:e("dropNotAllowed")}}addDragSource(e,t=!1){const r={eElement:e.eElement,dragStartPixels:e.dragStartPixels,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this),includeTouch:t};this.dragSourceAndParamsList.push({params:r,dragSource:e}),this.dragService.addDragSource(r)}removeDragSource(e){const t=this.dragSourceAndParamsList.find(r=>r.dragSource===e);t&&(this.dragService.removeDragSource(t.params),an(this.dragSourceAndParamsList,t))}destroy(){this.dragSourceAndParamsList.forEach(e=>this.dragService.removeDragSource(e.params)),this.dragSourceAndParamsList.length=0,this.dropTargets.length=0,super.destroy()}nudge(){this.dragging&&this.onDragging(this.eventLastTime,!0)}onDragStart(e,t){var r,n;this.dragging=!0,this.dragSource=e,this.eventLastTime=t,this.dragItem=this.dragSource.getDragItem(),(n=(r=this.dragSource).onDragStarted)==null||n.call(r),this.createGhost()}onDragStop(e){var t,r,n;if(this.eventLastTime=null,this.dragging=!1,(r=(t=this.dragSource).onDragStopped)==null||r.call(t),(n=this.lastDropTarget)!=null&&n.onDragStop){const i=this.createDropTargetEvent(this.lastDropTarget,e,null,null,!1);this.lastDropTarget.onDragStop(i)}this.lastDropTarget=void 0,this.dragItem=null,this.removeGhost()}onDragging(e,t){var o,a,l,c;const r=this.getHorizontalDirection(e),n=this.getVerticalDirection(e);this.eventLastTime=e,this.positionGhost(e);const i=this.dropTargets.filter(u=>this.isMouseOnDropTarget(e,u)),s=this.findCurrentDropTarget(e,i);if(s!==this.lastDropTarget)this.leaveLastTargetIfExists(e,r,n,t),this.lastDropTarget!==null&&s===null&&((a=(o=this.dragSource).onGridExit)==null||a.call(o,this.dragItem)),this.lastDropTarget===null&&s!==null&&((c=(l=this.dragSource).onGridEnter)==null||c.call(l,this.dragItem)),this.enterDragTargetIfExists(s,e,r,n,t),this.lastDropTarget=s;else if(s&&s.onDragging){const u=this.createDropTargetEvent(s,e,r,n,t);s.onDragging(u)}}getAllContainersFromDropTarget(e){const t=e.getSecondaryContainers?e.getSecondaryContainers():null,r=[[e.getContainer()]];return t?r.concat(t):r}allContainersIntersect(e,t){for(const r of t){const{width:n,height:i,left:s,right:o,top:a,bottom:l}=r.getBoundingClientRect();if(n===0||i===0)return!1;const c=e.clientX>=s&&e.clientX<o,u=e.clientY>=a&&e.clientY<l;if(!c||!u)return!1}return!0}isMouseOnDropTarget(e,t){const r=this.getAllContainersFromDropTarget(t);let n=!1;for(const o of r)if(this.allContainersIntersect(e,o)){n=!0;break}const{eElement:i,type:s}=this.dragSource;return t.targetContainsSource&&!t.getContainer().contains(i)?!1:n&&t.isInterestedIn(s,i)}findCurrentDropTarget(e,t){const r=t.length;if(r===0)return null;if(r===1)return t[0];const i=this.gos.getRootNode().elementsFromPoint(e.clientX,e.clientY);for(const s of i)for(const o of t)if(LD(this.getAllContainersFromDropTarget(o)).indexOf(s)!==-1)return o;return null}enterDragTargetIfExists(e,t,r,n,i){if(e){if(e.onDragEnter){const s=this.createDropTargetEvent(e,t,r,n,i);e.onDragEnter(s)}this.setGhostIcon(e.getIconName?e.getIconName():null)}}leaveLastTargetIfExists(e,t,r,n){if(this.lastDropTarget){if(this.lastDropTarget.onDragLeave){const i=this.createDropTargetEvent(this.lastDropTarget,e,t,r,n);this.lastDropTarget.onDragLeave(i)}this.setGhostIcon(null)}}addDropTarget(e){this.dropTargets.push(e)}removeDropTarget(e){this.dropTargets=this.dropTargets.filter(t=>t.getContainer()!==e.getContainer())}hasExternalDropZones(){return this.dropTargets.some(e=>e.external)}findExternalZone(e){return this.dropTargets.filter(r=>r.external).find(r=>r.getContainer()===e.getContainer())||null}getHorizontalDirection(e){const t=this.eventLastTime&&this.eventLastTime.clientX,r=e.clientX;return t===r?null:t>r?0:1}getVerticalDirection(e){const t=this.eventLastTime&&this.eventLastTime.clientY,r=e.clientY;return t===r?null:t>r?0:1}createDropTargetEvent(e,t,r,n,i){const s=e.getContainer(),o=s.getBoundingClientRect(),{dragItem:a,dragSource:l}=this,c=t.clientX-o.left,u=t.clientY-o.top;return this.gos.addGridCommonParams({event:t,x:c,y:u,vDirection:n,hDirection:r,dragSource:l,fromNudge:i,dragItem:a,dropZoneTarget:s})}positionGhost(e){const t=this.eGhost;if(!t)return;const n=t.getBoundingClientRect().height,i=OI()-2,s=DI()-2,o=sR(t.offsetParent),{clientY:a,clientX:l}=e;let c=a-o.top-n/2,u=l-o.left-10;const f=this.gos.getDocument(),d=f.defaultView||window,h=d.pageYOffset||f.documentElement.scrollTop,g=d.pageXOffset||f.documentElement.scrollLeft;i>0&&u+t.clientWidth>i+g&&(u=i+g-t.clientWidth),u<0&&(u=0),s>0&&c+t.clientHeight>s+h&&(c=s+h-t.clientHeight),c<0&&(c=0),t.style.left=`${u}px`,t.style.top=`${c}px`}removeGhost(){this.eGhost&&this.eGhostParent&&this.eGhostParent.removeChild(this.eGhost),this.eGhost=null}createGhost(){this.eGhost=wl(F7),this.mouseEventService.stampTopLevelGridCompWithGridInstance(this.eGhost),this.environment.applyThemeClasses(this.eGhost),this.eGhostIcon=this.eGhost.querySelector(".ag-dnd-ghost-icon"),this.setGhostIcon(null);const e=this.eGhost.querySelector(".ag-dnd-ghost-label");let t=this.dragSource.dragItemName;ty(t)&&(t=t()),e.innerHTML=Bi(t)||"",this.eGhost.style.height="25px",this.eGhost.style.top="20px",this.eGhost.style.left="20px";const r=this.gos.getDocument();let n=null,i=null;try{n=r.fullscreenElement}catch{}finally{n||(n=this.gos.getRootNode());const s=n.querySelector("body");s?i=s:n instanceof ShadowRoot?i=n:n instanceof Document?i=n==null?void 0:n.documentElement:i=n}this.eGhostParent=i,this.eGhostParent?this.eGhostParent.appendChild(this.eGhost):ke("Could not find document body, it is needed for dragging columns")}setGhostIcon(e,t=!1){Dn(this.eGhostIcon);let r=null;e||(e=this.dragSource.getDefaultIconName?this.dragSource.getDefaultIconName():"notAllowed"),r=this.dropIconMap[e],this.eGhostIcon.classList.toggle("ag-shake-left-to-right",t),!(r===this.dropIconMap.hide&&this.gos.get("suppressDragLeaveHidesColumns"))&&r&&this.eGhostIcon.appendChild(r)}},O7=class{constructor(e){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=e.scrollContainer,this.scrollHorizontally=e.scrollAxis.indexOf("x")!==-1,this.scrollVertically=e.scrollAxis.indexOf("y")!==-1,this.scrollByTick=e.scrollByTick!=null?e.scrollByTick:20,e.onScrollCallback&&(this.onScrollCallback=e.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=e.getVerticalPosition,this.setVerticalPosition=e.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=e.getHorizontalPosition,this.setHorizontalPosition=e.setHorizontalPosition),this.shouldSkipVerticalScroll=e.shouldSkipVerticalScroll||(()=>!1),this.shouldSkipHorizontalScroll=e.shouldSkipHorizontalScroll||(()=>!1)}check(e,t=!1){const r=t||this.shouldSkipVerticalScroll();if(r&&this.shouldSkipHorizontalScroll())return;const n=this.scrollContainer.getBoundingClientRect(),i=this.scrollByTick;this.tickLeft=e.clientX<n.left+i,this.tickRight=e.clientX>n.right-i,this.tickUp=e.clientY<n.top+i&&!r,this.tickDown=e.clientY>n.bottom-i&&!r,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}ensureTickingStarted(){this.tickingInterval===null&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)}doTick(){this.tickCount++;const e=this.tickCount>20?200:this.tickCount>10?80:40;if(this.scrollVertically){const t=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(t-e),this.tickDown&&this.setVerticalPosition(t+e)}if(this.scrollHorizontally){const t=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(t-e),this.tickRight&&this.setHorizontalPosition(t+e)}this.onScrollCallback&&this.onScrollCallback()}ensureCleared(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)}},D7=class extends Re{wireBeans(e){this.dragAndDropService=e.dragAndDropService,this.rowModel=e.rowModel,this.pageBoundsService=e.pageBoundsService,this.focusService=e.focusService,this.sortController=e.sortController,this.filterManager=e.filterManager,this.selectionService=e.selectionService,this.mouseEventService=e.mouseEventService,this.ctrlsService=e.ctrlsService,this.funcColsService=e.funcColsService,this.rangeService=e.rangeService}constructor(e){super(),this.eContainer=e}postConstruct(){this.gos.isRowModelType("clientSide")&&(this.clientSideRowModel=this.rowModel),this.ctrlsService.whenReady(e=>{const t=e.gridBodyCtrl;this.autoScrollService=new O7({scrollContainer:t.getBodyViewportElement(),scrollAxis:"y",getVerticalPosition:()=>t.getScrollFeature().getVScrollPosition().top,setVerticalPosition:r=>t.getScrollFeature().setVerticalScrollPosition(r),onScrollCallback:()=>{this.onDragging(this.lastDraggingEvent)}})})}getContainer(){return this.eContainer}isInterestedIn(e){return e===2}getIconName(){return this.gos.get("rowDragManaged")&&this.shouldPreventRowMove()?"notAllowed":"move"}shouldPreventRowMove(){var n;return!!(this.funcColsService.getRowGroupColumns().length||((n=this.filterManager)==null?void 0:n.isAnyFilterPresent())||this.sortController.isSortActive())}getRowNodes(e){if(!this.isFromThisGrid(e))return e.dragItem.rowNodes||[];const t=e.dragItem.rowNode;if(this.gos.get("rowDragMultiRow")){const n=[...this.selectionService.getSelectedNodes()].sort((i,s)=>i.rowIndex==null||s.rowIndex==null?0:this.getRowIndexNumber(i)-this.getRowIndexNumber(s));if(n.indexOf(t)!==-1)return n}return[t]}onDragEnter(e){e.dragItem.rowNodes=this.getRowNodes(e),this.dispatchGridEvent("rowDragEnter",e),this.getRowNodes(e).forEach(t=>{t.setDragging(!0)}),this.onEnterOrDragging(e)}onDragging(e){this.onEnterOrDragging(e)}isFromThisGrid(e){const{dragSourceDomDataKey:t}=e.dragSource;return t===this.gos.getDomDataKey()}isDropZoneWithinThisGrid(e){const r=this.ctrlsService.getGridBodyCtrl().getGui(),{dropZoneTarget:n}=e;return!r.contains(n)}onEnterOrDragging(e){this.dispatchGridEvent("rowDragMove",e),this.lastDraggingEvent=e;const t=this.mouseEventService.getNormalisedPosition(e).y;this.gos.get("rowDragManaged")&&this.doManagedDrag(e,t),this.autoScrollService.check(e.event)}doManagedDrag(e,t){const r=this.isFromThisGrid(e),n=this.gos.get("rowDragManaged"),i=e.dragItem.rowNodes;n&&this.shouldPreventRowMove()||(this.gos.get("suppressMoveWhenRowDragging")||!r?this.isDropZoneWithinThisGrid(e)||this.clientSideRowModel.highlightRowAtPixel(i[0],t):this.moveRows(i,t))}getRowIndexNumber(e){const t=e.getRowIndexString();return parseInt(Ot(t.split("-")),10)}moveRowAndClearHighlight(e){const t=this.clientSideRowModel.getLastHighlightedRowNode(),r=t&&t.highlighted===1,n=this.mouseEventService.getNormalisedPosition(e).y,i=e.dragItem.rowNodes;let s=r?1:0;if(this.isFromThisGrid(e))i.forEach(o=>{o.rowTop<n&&(s-=1)}),this.moveRows(i,n,s);else{const o=this.gos.getRowIdCallback();let a=this.clientSideRowModel.getRowIndexAtPixel(n)+1;this.clientSideRowModel.getHighlightPosition(n)===0&&a--,this.clientSideRowModel.updateRowData({add:i.filter(l=>!this.clientSideRowModel.getRowNode((o==null?void 0:o({data:l.data,level:0,rowPinned:l.rowPinned}))??l.data.id)).map(l=>l.data),addIndex:a})}this.clearRowHighlight()}clearRowHighlight(){this.clientSideRowModel.highlightRowAtPixel(null)}moveRows(e,t,r=0){var i;this.clientSideRowModel.ensureRowsAtPixel(e,t,r)&&(this.focusService.clearFocusedCell(),(i=this.rangeService)==null||i.removeAllCellRanges())}addRowDropZone(e){if(!e.getContainer()){ke("addRowDropZone - A container target needs to be provided");return}if(this.dragAndDropService.findExternalZone(e)){ke("addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.");return}let t={getContainer:e.getContainer};e.fromGrid?t=e:(e.onDragEnter&&(t.onDragEnter=r=>{e.onDragEnter(this.draggingToRowDragEvent("rowDragEnter",r))}),e.onDragLeave&&(t.onDragLeave=r=>{e.onDragLeave(this.draggingToRowDragEvent("rowDragLeave",r))}),e.onDragging&&(t.onDragging=r=>{e.onDragging(this.draggingToRowDragEvent("rowDragMove",r))}),e.onDragStop&&(t.onDragStop=r=>{e.onDragStop(this.draggingToRowDragEvent("rowDragEnd",r))})),this.dragAndDropService.addDropTarget({isInterestedIn:r=>r===2,getIconName:()=>"move",external:!0,...t})}getRowDropZone(e){const t=this.getContainer.bind(this),r=this.onDragEnter.bind(this),n=this.onDragLeave.bind(this),i=this.onDragging.bind(this),s=this.onDragStop.bind(this);return e?{getContainer:t,onDragEnter:e.onDragEnter?o=>{r(o),e.onDragEnter(this.draggingToRowDragEvent("rowDragEnter",o))}:r,onDragLeave:e.onDragLeave?o=>{n(o),e.onDragLeave(this.draggingToRowDragEvent("rowDragLeave",o))}:n,onDragging:e.onDragging?o=>{i(o),e.onDragging(this.draggingToRowDragEvent("rowDragMove",o))}:i,onDragStop:e.onDragStop?o=>{s(o),e.onDragStop(this.draggingToRowDragEvent("rowDragEnd",o))}:s,fromGrid:!0}:{getContainer:t,onDragEnter:r,onDragLeave:n,onDragging:i,onDragStop:s,fromGrid:!0}}draggingToRowDragEvent(e,t){const r=this.mouseEventService.getNormalisedPosition(t).y,n=r>this.pageBoundsService.getCurrentPageHeight();let i=-1,s;n||(i=this.rowModel.getRowIndexAtPixel(r),s=this.rowModel.getRow(i));let o;switch(t.vDirection){case 1:o="down";break;case 0:o="up";break;default:o=null;break}return this.gos.addGridCommonParams({type:e,event:t.event,node:t.dragItem.rowNode,nodes:t.dragItem.rowNodes,overIndex:i,overNode:s,y:r,vDirection:o})}dispatchGridEvent(e,t){const r=this.draggingToRowDragEvent(e,t);this.eventService.dispatchEvent(r)}onDragLeave(e){this.dispatchGridEvent("rowDragLeave",e),this.stopDragging(e),this.gos.get("rowDragManaged")&&this.clearRowHighlight()}onDragStop(e){this.dispatchGridEvent("rowDragEnd",e),this.stopDragging(e),this.gos.get("rowDragManaged")&&(this.gos.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&!this.isDropZoneWithinThisGrid(e)&&this.moveRowAndClearHighlight(e)}stopDragging(e){this.autoScrollService.ensureCleared(),this.getRowNodes(e).forEach(t=>{t.setDragging(!1)})}},I7=class extends Re{constructor(){super(...arguments),this.beanName="dragService",this.dragEndFunctions=[],this.dragSources=[]}wireBeans(e){this.mouseEventService=e.mouseEventService}destroy(){this.dragSources.forEach(this.removeListener.bind(this)),this.dragSources.length=0,super.destroy()}removeListener(e){const t=e.dragSource.eElement,r=e.mouseDownListener;if(t.removeEventListener("mousedown",r),e.touchEnabled){const n=e.touchStartListener;t.removeEventListener("touchstart",n,{passive:!0})}}removeDragSource(e){const t=this.dragSources.find(r=>r.dragSource===e);t&&(this.removeListener(t),an(this.dragSources,t))}isDragging(){return this.dragging}addDragSource(e){const t=this.onMouseDown.bind(this,e),{eElement:r,includeTouch:n,stopPropagationForTouch:i}=e;r.addEventListener("mousedown",t);let s=null;const o=this.gos.get("suppressTouch");n&&!o&&(s=a=>{oy(a.target)||(i&&a.stopPropagation(),this.onTouchStart(e,a))},r.addEventListener("touchstart",s,{passive:!1})),this.dragSources.push({dragSource:e,mouseDownListener:t,touchStartListener:s,touchEnabled:!!n})}getStartTarget(){return this.startTarget}onTouchStart(e,t){this.currentDragParams=e,this.dragging=!1;const r=t.touches[0];this.touchLastTime=r,this.touchStart=r;const n=l=>this.onTouchMove(l,e.eElement),i=l=>this.onTouchUp(l,e.eElement),s=l=>{l.cancelable&&l.preventDefault()},o=t.target,a=[{target:this.gos.getRootNode(),type:"touchmove",listener:s,options:{passive:!1}},{target:o,type:"touchmove",listener:n,options:{passive:!0}},{target:o,type:"touchend",listener:i,options:{passive:!0}},{target:o,type:"touchcancel",listener:i,options:{passive:!0}}];this.addTemporaryEvents(a),e.dragStartPixels===0&&this.onCommonMove(r,this.touchStart,e.eElement)}onMouseDown(e,t){const r=t;if(e.skipMouseEvent&&e.skipMouseEvent(t)||r._alreadyProcessedByDragService||(r._alreadyProcessedByDragService=!0,t.button!==0))return;this.shouldPreventMouseEvent(t)&&t.preventDefault(),this.currentDragParams=e,this.dragging=!1,this.mouseStartEvent=t,this.startTarget=t.target;const n=l=>this.onMouseMove(l,e.eElement),i=l=>this.onMouseUp(l,e.eElement),s=l=>l.preventDefault(),o=this.gos.getRootNode(),a=[{target:o,type:"mousemove",listener:n},{target:o,type:"mouseup",listener:i},{target:o,type:"contextmenu",listener:s}];this.addTemporaryEvents(a),e.dragStartPixels===0&&this.onMouseMove(t,e.eElement)}addTemporaryEvents(e){e.forEach(t=>{const{target:r,type:n,listener:i,options:s}=t;r.addEventListener(n,i,s)}),this.dragEndFunctions.push(()=>{e.forEach(t=>{const{target:r,type:n,listener:i,options:s}=t;r.removeEventListener(n,i,s)})})}isEventNearStartEvent(e,t){const{dragStartPixels:r}=this.currentDragParams,n=je(r)?r:4;return dR(e,t,n)}getFirstActiveTouch(e){for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null}onCommonMove(e,t,r){if(!this.dragging){if(!this.dragging&&this.isEventNearStartEvent(e,t))return;this.dragging=!0,this.eventService.dispatchEvent({type:"dragStarted",target:r}),this.currentDragParams.onDragStart(t),this.currentDragParams.onDragging(t)}this.currentDragParams.onDragging(e)}onTouchMove(e,t){const r=this.getFirstActiveTouch(e.touches);r&&this.onCommonMove(r,this.touchStart,t)}onMouseMove(e,t){var r;Gi()&&((r=this.gos.getDocument().getSelection())==null||r.removeAllRanges()),this.shouldPreventMouseEvent(e)&&e.preventDefault(),this.onCommonMove(e,this.mouseStartEvent,t)}shouldPreventMouseEvent(e){const t=this.gos.get("enableCellTextSelection"),r=e.type==="mousemove";return t&&r&&e.cancelable&&this.mouseEventService.isEventFromThisGrid(e)&&!this.isOverFormFieldElement(e)}isOverFormFieldElement(e){const t=e.target,r=t==null?void 0:t.tagName.toLocaleLowerCase();return!!(r!=null&&r.match("^a$|textarea|input|select|button"))}onTouchUp(e,t){let r=this.getFirstActiveTouch(e.changedTouches);r||(r=this.touchLastTime),this.onUpCommon(r,t)}onMouseUp(e,t){this.onUpCommon(e,t)}onUpCommon(e,t){this.dragging&&(this.dragging=!1,this.currentDragParams.onDragStop(e),this.eventService.dispatchEvent({type:"dragStopped",target:t})),this.mouseStartEvent=null,this.startTarget=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null,this.dragEndFunctions.forEach(r=>r()),this.dragEndFunctions.length=0}},cv=class extends Jt{constructor(e,t,r,n,i,s){super(),this.cellValueFn=e,this.rowNode=t,this.column=r,this.customGui=n,this.dragStartPixels=i,this.suppressVisibilityChange=s,this.dragSource=null}wireBeans(e){this.beans=e}isCustomGui(){return this.customGui!=null}postConstruct(){if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate('<div class="ag-drag-handle ag-row-drag" aria-hidden="true"></div>'),this.getGui().appendChild(kn("rowDrag",this.gos,null)),this.addDragSource()),this.checkCompatibility(),!this.suppressVisibilityChange){const e=this.gos.get("rowDragManaged")?new L7(this,this.beans,this.rowNode,this.column):new N7(this,this.beans,this.rowNode,this.column);this.createManagedBean(e,this.beans.context)}}setDragElement(e,t){this.setTemplateFromElement(e),this.addDragSource(t)}getSelectedNodes(){if(!this.gos.get("rowDragMultiRow"))return[this.rowNode];const t=this.beans.selectionService.getSelectedNodes();return t.indexOf(this.rowNode)!==-1?t:[this.rowNode]}checkCompatibility(){const e=this.gos.get("rowDragManaged");this.gos.get("treeData")&&e&&ke("If using row drag with tree data, you cannot have rowDragManaged=true")}getDragItem(){return{rowNode:this.rowNode,rowNodes:this.getSelectedNodes(),columns:this.column?[this.column]:void 0,defaultTextValue:this.cellValueFn()}}getRowDragText(e){if(e){const t=e.getColDef();if(t.rowDragText)return t.rowDragText}return this.gos.get("rowDragText")}addDragSource(e=4){this.dragSource&&this.removeDragSource();const t=this.getGui();this.gos.get("enableCellTextSelection")&&(this.removeMouseDownListener(),this.mouseDownListener=this.addManagedElementListeners(t,{mousedown:n=>{n==null||n.preventDefault()}})[0]);const r=this.localeService.getLocaleTextFunc();this.dragSource={type:2,eElement:t,dragItemName:()=>{var o;const n=this.getDragItem(),i=((o=n.rowNodes)==null?void 0:o.length)||1,s=this.getRowDragText(this.column);return s?s(n,i):i===1?this.cellValueFn():`${i} ${r("rowDragRows","rows")}`},getDragItem:()=>this.getDragItem(),dragStartPixels:e,dragSourceDomDataKey:this.gos.getDomDataKey()},this.beans.dragAndDropService.addDragSource(this.dragSource,!0)}destroy(){this.removeDragSource(),this.removeMouseDownListener(),super.destroy()}removeDragSource(){this.dragSource&&(this.beans.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null)}removeMouseDownListener(){this.mouseDownListener&&(this.mouseDownListener(),this.mouseDownListener=void 0)}},bR=class extends Re{constructor(e,t,r){super(),this.parent=e,this.rowNode=t,this.column=r}setDisplayedOrVisible(e){const t={skipAriaHidden:!0};if(e)this.parent.setDisplayed(!1,t);else{let r=!0,n=!1;this.column&&(r=this.column.isRowDrag(this.rowNode)||this.parent.isCustomGui(),n=ty(this.column.getColDef().rowDrag)),n?(this.parent.setDisplayed(!0,t),this.parent.setVisible(r,t)):(this.parent.setDisplayed(r,t),this.parent.setVisible(!0,t))}}},N7=class extends bR{constructor(e,t,r,n){super(e,r,n),this.beans=t}postConstruct(){this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this));const e=this.workOutVisibility.bind(this);this.addManagedListeners(this.rowNode,{dataChanged:e,cellChanged:e}),this.addManagedListeners(this.beans.eventService,{newColumnsLoaded:e}),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const e=this.gos.get("suppressRowDrag");this.setDisplayedOrVisible(e)}},L7=class extends bR{constructor(e,t,r,n){super(e,r,n),this.beans=t}postConstruct(){const e=this.workOutVisibility.bind(this);this.addManagedListeners(this.beans.eventService,{sortChanged:e,filterChanged:e,columnRowGroupChanged:e,newColumnsLoaded:e}),this.addManagedListeners(this.rowNode,{dataChanged:e,cellChanged:e}),this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const t=this.beans.ctrlsService.getGridBodyCtrl().getRowDragFeature(),r=t&&t.shouldPreventRowMove(),n=this.gos.get("suppressRowDrag"),i=this.beans.dragAndDropService.hasExternalDropZones(),s=r&&!i||n;this.setDisplayedOrVisible(s)}},j7=new Set(["localEventService","__objectId","sticky"]),Nu=class Ra{constructor(t){this.rowIndex=null,this.key=null,this.childrenMapped={},this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=Ra.OBJECT_ID_SEQUENCE++,this.__autoHeights={},this.alreadyRendered=!1,this.highlighted=null,this.hovered=!1,this.selected=!1,this.beans=t}setData(t){this.setDataCommon(t,!1)}updateData(t){this.setDataCommon(t,!0)}setDataCommon(t,r){var s;const n=this.data;this.data=t,this.beans.valueCache.onDataChanged(),this.updateDataOnDetailNode(),this.checkRowSelectable(),this.resetQuickFilterAggregateText();const i=this.createDataChangedEvent(t,n,r);(s=this.localEventService)==null||s.dispatchEvent(i)}updateDataOnDetailNode(){this.detailNode&&(this.detailNode.data=this.data)}createDataChangedEvent(t,r,n){return{type:"dataChanged",node:this,oldData:r,newData:t,update:n}}getRowIndexString(){return this.rowIndex==null?(Vt("Could not find rowIndex, this means tasks are being executed on a rowNode that has been removed from the grid."),null):this.rowPinned==="top"?"t-"+this.rowIndex:this.rowPinned==="bottom"?"b-"+this.rowIndex:this.rowIndex.toString()}createDaemonNode(){const t=new Ra(this.beans);return t.id=this.id,t.data=this.data,t.__daemon=!0,t.selected=this.selected,t.level=this.level,t}setDataAndId(t,r){var o;const n=je(this.id)?this.createDaemonNode():null,i=this.data;this.data=t,this.updateDataOnDetailNode(),this.setId(r),this.checkRowSelectable(),this.beans.selectionService.syncInRowNode(this,n);const s=this.createDataChangedEvent(t,i,!1);(o=this.localEventService)==null||o.dispatchEvent(s)}checkRowSelectable(){const t=this.beans.gos.get("isRowSelectable");this.setRowSelectable(t?t(this):!0)}setRowSelectable(t,r){if(this.selectable!==t){if(this.selectable=t,this.dispatchRowEvent("selectableChanged"),r)return;if(this.beans.gos.get("groupSelectsChildren")){const i=this.calculateSelectedFromChildren();this.setSelectedParams({newValue:i??!1,source:"selectableChanged"});return}this.isSelected()&&!this.selectable&&this.setSelectedParams({newValue:!1,source:"selectableChanged"})}}setId(t){const r=this.beans.gos.getRowIdCallback();if(r)if(this.data){const n=this.getGroupKeys(!0);this.id=r({data:this.data,parentKeys:n.length>0?n:void 0,level:this.level,rowPinned:this.rowPinned}),this.id.startsWith(Ra.ID_PREFIX_ROW_GROUP)&&Vt(`Row IDs cannot start with ${Ra.ID_PREFIX_ROW_GROUP}, this is a reserved prefix for AG Grid's row grouping feature.`)}else this.id=void 0;else this.id=t}getGroupKeys(t=!1){const r=[];let n=this;for(t&&(n=n.parent);n&&n.level>=0;)r.push(n.key),n=n.parent;return r.reverse(),r}isPixelInRange(t){return!je(this.rowTop)||!je(this.rowHeight)?!1:t>=this.rowTop&&t<this.rowTop+this.rowHeight}updateIfDifferent(t,r,n){this[t]!==r&&(this[t]=r,this.dispatchRowEvent(n))}setFirstChild(t){this.updateIfDifferent("firstChild",t,"firstChildChanged")}setLastChild(t){this.updateIfDifferent("lastChild",t,"lastChildChanged")}setChildIndex(t){this.updateIfDifferent("childIndex",t,"childIndexChanged")}setRowTop(t){this.oldRowTop=this.rowTop,this.rowTop!==t&&(this.rowTop=t,this.dispatchRowEvent("topChanged"),this.setDisplayed(t!==null))}clearRowTopAndRowIndex(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)}setDisplayed(t){this.updateIfDifferent("displayed",t,"displayedChanged")}setDragging(t){this.updateIfDifferent("dragging",t,"draggingChanged")}setHighlighted(t){this.updateIfDifferent("highlighted",t,"rowHighlightChanged")}setHovered(t){this.hovered!==t&&(this.hovered=t)}isHovered(){return this.hovered}setAllChildrenCount(t){this.updateIfDifferent("allChildrenCount",t,"allChildrenCountChanged")}setMaster(t){this.master!==t&&(this.master&&!t&&(this.expanded=!1),this.master=t,this.dispatchRowEvent("masterChanged"))}setGroup(t){this.group!==t&&(this.group&&!t&&(this.expanded=!1),this.group=t,this.updateHasChildren(),this.checkRowSelectable(),this.dispatchRowEvent("groupChanged"))}setRowHeight(t,r=!1){this.rowHeight=t,this.rowHeightEstimated=r,this.dispatchRowEvent("heightChanged")}setRowAutoHeight(t,r){this.__autoHeights||(this.__autoHeights={}),this.__autoHeights[r.getId()]=t,t!=null&&(this.checkAutoHeightsDebounced==null&&(this.checkAutoHeightsDebounced=ln(this.checkAutoHeights.bind(this),1)),this.checkAutoHeightsDebounced())}checkAutoHeights(){let t=!1,r=!0,n=0;const i=this.__autoHeights;if(i==null||(this.beans.visibleColsService.getAllAutoHeightCols().forEach(a=>{let l=i[a.getId()];if(l==null)if(this.beans.columnModel.isColSpanActive()){let c=[];switch(a.getPinned()){case"left":c=this.beans.visibleColsService.getLeftColsForRow(this);break;case"right":c=this.beans.visibleColsService.getRightColsForRow(this);break;case null:c=this.beans.columnViewportService.getColsWithinViewport(this);break}if(c.includes(a)){t=!0;return}l=-1}else{t=!0;return}else r=!1;l>n&&(n=l)}),t)||((r||n<10)&&(n=this.beans.gos.getRowHeightForNode(this).height),n==this.rowHeight))return;this.setRowHeight(n);const o=this.beans.rowModel;o.onRowHeightChangedDebounced&&o.onRowHeightChangedDebounced()}setRowIndex(t){this.updateIfDifferent("rowIndex",t,"rowIndexChanged")}setUiLevel(t){this.updateIfDifferent("uiLevel",t,"uiLevelChanged")}setExpanded(t,r,n){if(this.expanded===t)return;this.expanded=t,this.dispatchRowEvent("expandedChanged");const i={...this.createGlobalRowEvent("rowGroupOpened"),expanded:t,event:r||null};this.beans.rowNodeEventThrottle.dispatchExpanded(i,n),this.beans.rowRenderer.refreshCells({rowNodes:[this]})}createGlobalRowEvent(t){return this.beans.gos.addGridCommonParams({type:t,node:this,data:this.data,rowIndex:this.rowIndex,rowPinned:this.rowPinned})}setDataValue(t,r,n){const s=(()=>typeof t!="string"?t:this.beans.columnModel.getCol(t)??this.beans.columnModel.getColDefCol(t))(),o=this.getValueFromValueService(s);if(this.beans.gos.get("readOnlyEdit"))return this.beans.eventService.dispatchEvent({type:"cellEditRequest",event:null,rowIndex:this.rowIndex,rowPinned:this.rowPinned,column:s,colDef:s.getColDef(),data:this.data,node:this,oldValue:o,newValue:r,value:r,source:n}),!1;const a=this.beans.valueService.setValue(this,s,r,n);return this.dispatchCellChangedEvent(s,r,o),this.checkRowSelectable(),a}getValueFromValueService(t){const r=this.leafGroup&&this.beans.columnModel.isPivotMode(),n=this.group&&this.expanded&&!this.footer&&!r;let i=!1;const s=this.beans.gos.get("groupTotalRow")??this.beans.gos.get("groupIncludeFooter");typeof s!="function"?i=!!s:i=!!(this.beans.gos.getCallback("groupTotalRow")??this.beans.gos.getCallback("groupIncludeFooter"))({node:this});const o=this.beans.gos.get("groupSuppressBlankHeader"),a=n&&i&&!o;return this.beans.valueService.getValue(t,this,!1,a)}setGroupValue(t,r){const n=this.beans.columnModel.getCol(t);_t(this.groupData)&&(this.groupData={});const i=n.getColId(),s=this.groupData[i];s!==r&&(this.groupData[i]=r,this.dispatchCellChangedEvent(n,r,s))}setAggData(t){const r=this.aggData;if(this.aggData=t,this.localEventService){const n=i=>{const s=this.aggData?this.aggData[i]:void 0,o=r?r[i]:void 0;if(s===o)return;const a=this.beans.columnModel.getCol(i);a&&this.dispatchCellChangedEvent(a,s,o)};for(const i in this.aggData)n(i);for(const i in t)i in this.aggData||n(i)}}updateHasChildren(){let t=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;if(this.beans.gos.isRowModelType("serverSide")){const n=this.beans.gos.get("treeData"),i=this.beans.gos.get("isServerSideGroup");t=!this.stub&&!this.footer&&(n?!!i&&i(this.data):!!this.group)}t!==this.__hasChildren&&(this.__hasChildren=!!t,this.dispatchRowEvent("hasChildrenChanged"))}hasChildren(){return this.__hasChildren==null&&this.updateHasChildren(),this.__hasChildren}isEmptyRowGroupNode(){return(this.group&&xn(this.childrenAfterGroup))??!1}dispatchCellChangedEvent(t,r,n){var s;const i={type:"cellChanged",node:this,column:t,newValue:r,oldValue:n};(s=this.localEventService)==null||s.dispatchEvent(i)}resetQuickFilterAggregateText(){this.quickFilterAggregateText=null}isExpandable(){return this.footer?!1:this.beans.columnModel.isPivotMode()?this.hasChildren()&&!this.leafGroup:this.hasChildren()||!!this.master}isSelected(){return this.footer?this.sibling.isSelected():this.selected}depthFirstSearch(t){this.childrenAfterGroup&&this.childrenAfterGroup.forEach(r=>r.depthFirstSearch(t)),t(this)}calculateSelectedFromChildren(){var i;let t=!1,r=!1,n=!1;if(!((i=this.childrenAfterGroup)!=null&&i.length))return this.selectable?this.selected:null;for(let s=0;s<this.childrenAfterGroup.length;s++){const o=this.childrenAfterGroup[s];let a=o.isSelected();if(!o.selectable){const l=o.calculateSelectedFromChildren();if(l===null)continue;a=l}switch(a){case!0:t=!0;break;case!1:r=!0;break;default:n=!0;break}}if(!(n||t&&r))return t?!0:r?!1:this.selectable?this.selected:null}setSelectedInitialValue(t){this.selected=t}dispatchRowEvent(t){var n;const r={type:t,node:this};(n=this.localEventService)==null||n.dispatchEvent(r)}selectThisNode(t,r,n="api"){const i=!this.selectable&&t,s=this.selected===t;if(i||s)return!1;this.selected=t,this.dispatchRowEvent("rowSelected");const o=this.sibling;return o&&o.footer&&o.localEventService&&o.dispatchRowEvent("rowSelected"),this.beans.eventService.dispatchEvent({...this.createGlobalRowEvent("rowSelected"),event:r||null,source:n}),!0}setSelected(t,r=!1,n="api"){if(typeof n=="boolean"){ke("since version v30, rowNode.setSelected() property `suppressFinishActions` has been removed, please use `gridApi.setNodesSelected()` for bulk actions, and the event `source` property for ignoring events instead.");return}this.setSelectedParams({newValue:t,clearSelection:r,rangeSelect:!1,source:n})}setSelectedParams(t){return this.rowPinned?(ke("cannot select pinned rows"),0):this.id===void 0?(ke("cannot select node until id for node is known"),0):this.beans.selectionService.setNodesSelected({...t,nodes:[this.footer?this.sibling:this]})}isRowPinned(){return this.rowPinned==="top"||this.rowPinned==="bottom"}isParentOfNode(t){let r=this.parent;for(;r;){if(r===t)return!0;r=r.parent}return!1}addEventListener(t,r){var i;this.localEventService||(this.localEventService=new Nl),this.beans.frameworkOverrides.shouldWrapOutgoing&&!this.frameworkEventListenerService&&(this.localEventService.setFrameworkOverrides(this.beans.frameworkOverrides),this.frameworkEventListenerService=new Z0(this.beans.frameworkOverrides));const n=((i=this.frameworkEventListenerService)==null?void 0:i.wrap(r))??r;this.localEventService.addEventListener(t,n)}removeEventListener(t,r){var i;if(!this.localEventService)return;const n=((i=this.frameworkEventListenerService)==null?void 0:i.unwrap(r))??r;this.localEventService.removeEventListener(t,n),this.localEventService.noRegisteredListenersExist()&&(this.localEventService=null)}onMouseEnter(){this.dispatchRowEvent("mouseEnter")}onMouseLeave(){this.dispatchRowEvent("mouseLeave")}getFirstChildOfFirstChild(t){let r=this,n=!0,i=!1,s=null;for(;n&&!i;){const o=r.parent;je(o)&&r.firstChild?o.rowGroupColumn===t&&(i=!0,s=o):n=!1,r=o}return i?s:null}isFullWidthCell(){if(this.detail)return!0;const t=this.beans.gos.getCallback("isFullWidthRow");return t?t({rowNode:this}):!1}getRoute(){if(this.key==null)return;const t=[];let r=this;for(;r&&r.key!=null;)t.push(r.key),r=r.parent;return t.reverse()}createFooter(){if(this.sibling)return;const t=new Ra(this.beans);Object.keys(this).forEach(r=>{j7.has(r)||(t[r]=this[r])}),t.footer=!0,t.setRowTop(null),t.setRowIndex(null),t.oldRowTop=null,t.id="rowGroupFooter_"+this.id,t.sibling=this,this.sibling=t}destroyFooter(){this.sibling&&(this.sibling.setRowTop(null),this.sibling.setRowIndex(null),this.sibling=void 0)}};Nu.ID_PREFIX_ROW_GROUP="row-group-";Nu.ID_PREFIX_TOP_PINNED="t-";Nu.ID_PREFIX_BOTTOM_PINNED="b-";Nu.OBJECT_ID_SEQUENCE=0;var ss=Nu,B7=class extends Re{constructor(){super(...arguments),this.beanName="filterManager",this.advancedFilterModelUpdateQueue=[]}wireBeans(e){this.columnModel=e.columnModel,this.dataTypeService=e.dataTypeService,this.quickFilterService=e.quickFilterService,this.advancedFilterService=e.advancedFilterService,this.columnFilterService=e.columnFilterService}postConstruct(){const e=this.refreshFiltersForAggregations.bind(this),t=this.updateAdvancedFilterColumns.bind(this);this.addManagedEventListeners({columnValueChanged:e,columnPivotChanged:e,columnPivotModeChanged:e,newColumnsLoaded:t,columnVisible:t,advancedFilterEnabledChanged:({enabled:r})=>this.onAdvancedFilterEnabledChanged(r),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.addManagedPropertyListeners(["isExternalFilterPresent","doesExternalFilterPass"],()=>{this.onFilterChanged({source:"api"})}),this.updateAggFiltering(),this.addManagedPropertyListener("groupAggFiltering",()=>{this.updateAggFiltering(),this.onFilterChanged()}),this.addManagedPropertyListener("advancedFilterModel",r=>this.setAdvancedFilterModel(r.currentValue)),this.quickFilterService&&this.addManagedListeners(this.quickFilterService,{quickFilterChanged:()=>this.onFilterChanged({source:"quickFilter"})})}isExternalFilterPresentCallback(){const e=this.gos.getCallback("isExternalFilterPresent");return typeof e=="function"?e({}):!1}doesExternalFilterPass(e){const t=this.gos.get("doesExternalFilterPass");return typeof t=="function"?t(e):!1}setFilterModel(e,t="api"){var r;if(this.isAdvancedFilterEnabled()){this.warnAdvancedFilters();return}(r=this.columnFilterService)==null||r.setFilterModel(e,t)}getFilterModel(){var e;return((e=this.columnFilterService)==null?void 0:e.getFilterModel())??{}}isColumnFilterPresent(){var e;return!!((e=this.columnFilterService)!=null&&e.isColumnFilterPresent())}isAggregateFilterPresent(){var e;return!!((e=this.columnFilterService)!=null&&e.isAggregateFilterPresent())}isExternalFilterPresent(){return this.externalFilterPresent}isChildFilterPresent(){return this.isColumnFilterPresent()||this.isQuickFilterPresent()||this.isExternalFilterPresent()||this.isAdvancedFilterPresent()}isAdvancedFilterPresent(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isFilterPresent()}onAdvancedFilterEnabledChanged(e){var t,r;e?(t=this.columnFilterService)!=null&&t.disableColumnFilters()&&this.onFilterChanged({source:"advancedFilter"}):(r=this.advancedFilterService)!=null&&r.isFilterPresent()&&(this.advancedFilterService.setModel(null),this.onFilterChanged({source:"advancedFilter"}))}isAdvancedFilterEnabled(){var e;return!!((e=this.advancedFilterService)!=null&&e.isEnabled())}isAdvancedFilterHeaderActive(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isHeaderActive()}isAnyFilterPresent(){return this.isQuickFilterPresent()||this.isColumnFilterPresent()||this.isAggregateFilterPresent()||this.isExternalFilterPresent()||this.isAdvancedFilterPresent()}resetQuickFilterCache(){var e;(e=this.quickFilterService)==null||e.resetQuickFilterCache()}refreshFiltersForAggregations(){this.gos.getGroupAggFiltering()&&this.onFilterChanged()}onFilterChanged(e={}){const{source:t,additionalEventAttributes:r,columns:n=[]}=e;this.externalFilterPresent=this.isExternalFilterPresentCallback(),(this.columnFilterService?this.columnFilterService.updateBeforeFilterChanged(e):br.resolve()).then(()=>{var s;const i={source:t,type:"filterChanged",columns:n};r&&Kn(i,r),this.eventService.dispatchEvent(i),(s=this.columnFilterService)==null||s.updateAfterFilterChanged()})}isSuppressFlashingCellsBecauseFiltering(){var e;return!!((e=this.columnFilterService)!=null&&e.isSuppressFlashingCellsBecauseFiltering())}isQuickFilterPresent(){var e;return!!((e=this.quickFilterService)!=null&&e.isQuickFilterPresent())}updateAggFiltering(){this.aggFiltering=!!this.gos.getGroupAggFiltering()}isAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&this.shouldApplyQuickFilterAfterAgg()}isNonAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&!this.shouldApplyQuickFilterAfterAgg()}shouldApplyQuickFilterAfterAgg(){return(this.aggFiltering||this.columnModel.isPivotMode())&&!this.gos.get("applyQuickFilterBeforePivotOrAgg")}doesRowPassOtherFilters(e,t){return this.doesRowPassFilter({rowNode:t,filterInstanceToSkip:e})}doesRowPassAggregateFilters(e){return!(this.isAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(e.rowNode)||this.isAggregateFilterPresent()&&!this.columnFilterService.doAggregateFiltersPass(e.rowNode,e.filterInstanceToSkip))}doesRowPassFilter(e){return!(this.isNonAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(e.rowNode)||this.isExternalFilterPresent()&&!this.doesExternalFilterPass(e.rowNode)||this.isColumnFilterPresent()&&!this.columnFilterService.doColumnFiltersPass(e.rowNode,e.filterInstanceToSkip)||this.isAdvancedFilterPresent()&&!this.advancedFilterService.doesFilterPass(e.rowNode))}isFilterActive(e){var t;return!!((t=this.columnFilterService)!=null&&t.isFilterActive(e))}getOrCreateFilterWrapper(e){var t;return((t=this.columnFilterService)==null?void 0:t.getOrCreateFilterWrapper(e))??null}getDefaultFloatingFilter(e){return this.columnFilterService.getDefaultFloatingFilter(e)}createFilterParams(e,t){return this.columnFilterService.createFilterParams(e,t)}isFilterAllowed(e){var t;return this.isAdvancedFilterEnabled()?!1:!!((t=this.columnFilterService)!=null&&t.isFilterAllowed(e))}getFloatingFilterCompDetails(e,t){var r;return(r=this.columnFilterService)==null?void 0:r.getFloatingFilterCompDetails(e,t)}getCurrentFloatingFilterParentModel(e){var t;return(t=this.columnFilterService)==null?void 0:t.getCurrentFloatingFilterParentModel(e)}destroyFilter(e,t="api"){var r;(r=this.columnFilterService)==null||r.destroyFilter(e,t)}areFilterCompsDifferent(e,t){var r;return!!((r=this.columnFilterService)!=null&&r.areFilterCompsDifferent(e,t))}getAdvancedFilterModel(){return this.isAdvancedFilterEnabled()?this.advancedFilterService.getModel():null}setAdvancedFilterModel(e){var t;if(this.isAdvancedFilterEnabled()){if((t=this.dataTypeService)!=null&&t.isPendingInference()){this.advancedFilterModelUpdateQueue.push(e);return}this.advancedFilterService.setModel(e??null),this.onFilterChanged({source:"advancedFilter"})}}toggleAdvancedFilterBuilder(e,t){this.isAdvancedFilterEnabled()&&this.advancedFilterService.getCtrl().toggleFilterBuilder({source:t,force:e})}updateAdvancedFilterColumns(){this.isAdvancedFilterEnabled()&&this.advancedFilterService.updateValidity()&&this.onFilterChanged({source:"advancedFilter"})}hasFloatingFilters(){var e;return this.isAdvancedFilterEnabled()?!1:!!((e=this.columnFilterService)!=null&&e.hasFloatingFilters())}getFilterInstance(e,t){var r;if(this.isAdvancedFilterEnabled()){this.warnAdvancedFilters();return}return(r=this.columnFilterService)==null?void 0:r.getFilterInstance(e,t)}getColumnFilterInstance(e){var t;return this.isAdvancedFilterEnabled()?(this.warnAdvancedFilters(),Promise.resolve(void 0)):((t=this.columnFilterService)==null?void 0:t.getColumnFilterInstance(e))??Promise.resolve(void 0)}warnAdvancedFilters(){ke("Column Filter API methods have been disabled as Advanced Filters are enabled.")}setupAdvancedFilterHeaderComp(e){var t;(t=this.advancedFilterService)==null||t.getCtrl().setupHeaderComp(e)}getHeaderRowCount(){return this.isAdvancedFilterHeaderActive()?1:0}getHeaderHeight(){return this.isAdvancedFilterHeaderActive()?this.advancedFilterService.getCtrl().getHeaderHeight():0}processFilterModelUpdateQueue(){this.advancedFilterModelUpdateQueue.forEach(e=>this.setAdvancedFilterModel(e)),this.advancedFilterModelUpdateQueue=[]}getColumnFilterModel(e){var t;return(t=this.columnFilterService)==null?void 0:t.getColumnFilterModel(e)}setColumnFilterModel(e,t){var r;return this.isAdvancedFilterEnabled()?(this.warnAdvancedFilters(),Promise.resolve()):((r=this.columnFilterService)==null?void 0:r.setColumnFilterModel(e,t))??Promise.resolve()}},H7=class extends Jt{constructor(e,t){super('<div class="ag-filter"></div>'),this.column=e,this.source=t,this.filterWrapper=null}wireBeans(e){this.filterManager=e.filterManager,this.columnModel=e.columnModel}postConstruct(){this.createFilter(!0),this.addManagedEventListeners({filterDestroyed:this.onFilterDestroyed.bind(this)})}hasFilter(){return!!this.filterWrapper}getFilter(){var e;return((e=this.filterWrapper)==null?void 0:e.filterPromise)??null}afterInit(){var e,t;return((t=(e=this.filterWrapper)==null?void 0:e.filterPromise)==null?void 0:t.then(()=>{}))??br.resolve()}afterGuiAttached(e){var t,r;(r=(t=this.filterWrapper)==null?void 0:t.filterPromise)==null||r.then(n=>{var i;(i=n==null?void 0:n.afterGuiAttached)==null||i.call(n,e)})}afterGuiDetached(){var e,t;(t=(e=this.filterWrapper)==null?void 0:e.filterPromise)==null||t.then(r=>{var n;(n=r==null?void 0:r.afterGuiDetached)==null||n.call(r)})}createFilter(e){var n,i;const{column:t,source:r}=this;this.filterWrapper=((n=this.filterManager)==null?void 0:n.getOrCreateFilterWrapper(t))??null,(i=this.filterWrapper)!=null&&i.filterPromise&&this.filterWrapper.filterPromise.then(s=>{const o=s.getGui();je(o)||ke(`getGui method from filter returned ${o}; it should be a DOM element.`),this.appendChild(o),e&&this.eventService.dispatchEvent({type:"filterOpened",column:t,source:r,eGui:this.getGui()})})}onFilterDestroyed(e){(e.source==="api"||e.source==="paramsUpdated")&&e.column.getId()===this.column.getId()&&this.columnModel.getColDefCol(this.column)&&(Dn(this.getGui()),this.createFilter())}destroy(){this.filterWrapper=null,super.destroy()}},wR="ag-resizer-wrapper",Ps=(e,t)=>`<div data-ref="${e}Resizer" class="ag-resizer ag-resizer-${t}"></div>`,G7=`<div class="${wR}">
        ${Ps("eTopLeft","topLeft")}
        ${Ps("eTop","top")}
        ${Ps("eTopRight","topRight")}
        ${Ps("eRight","right")}
        ${Ps("eBottomRight","bottomRight")}
        ${Ps("eBottom","bottom")}
        ${Ps("eBottomLeft","bottomLeft")}
        ${Ps("eLeft","left")}
    </div>`,V7=class extends Re{constructor(e,t){super(),this.element=e,this.dragStartPosition={x:0,y:0},this.position={x:0,y:0},this.lastSize={width:-1,height:-1},this.positioned=!1,this.resizersAdded=!1,this.resizeListeners=[],this.boundaryEl=null,this.isResizing=!1,this.isMoving=!1,this.resizable={},this.movable=!1,this.currentResizer=null,this.config=Object.assign({},{popup:!1},t)}wireBeans(e){this.popupService=e.popupService,this.resizeObserverService=e.resizeObserverService,this.dragService=e.dragService}center(){const{clientHeight:e,clientWidth:t}=this.offsetParent,r=t/2-this.getWidth()/2,n=e/2-this.getHeight()/2;this.offsetElement(r,n)}initialisePosition(){if(this.positioned)return;const{centered:e,forcePopupParentAsOffsetParent:t,minWidth:r,width:n,minHeight:i,height:s,x:o,y:a}=this.config;this.offsetParent||this.setOffsetParent();let l=0,c=0;const u=Vi(this.element);if(u){const f=this.findBoundaryElement(),d=window.getComputedStyle(f);if(d.minWidth!=null){const h=f.offsetWidth-this.element.offsetWidth;c=parseInt(d.minWidth,10)-h}if(d.minHeight!=null){const h=f.offsetHeight-this.element.offsetHeight;l=parseInt(d.minHeight,10)-h}}if(this.minHeight=i||l,this.minWidth=r||c,n&&this.setWidth(n),s&&this.setHeight(s),(!n||!s)&&this.refreshSize(),e)this.center();else if(o||a)this.offsetElement(o,a);else if(u&&t){let f=this.boundaryEl,d=!0;if(f||(f=this.findBoundaryElement(),d=!1),f){const h=parseFloat(f.style.top),g=parseFloat(f.style.left);d?this.offsetElement(isNaN(g)?0:g,isNaN(h)?0:h):this.setPosition(g,h)}}this.positioned=!!this.offsetParent}isPositioned(){return this.positioned}getPosition(){return this.position}setMovable(e,t){if(!this.config.popup||e===this.movable)return;this.movable=e;const r=this.moveElementDragListener||{eElement:t,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};e?(this.dragService.addDragSource(r),this.moveElementDragListener=r):(this.dragService.removeDragSource(r),this.moveElementDragListener=void 0)}setResizable(e){if(this.clearResizeListeners(),e?this.addResizers():this.removeResizers(),typeof e=="boolean"){if(e===!1)return;e={topLeft:e,top:e,topRight:e,right:e,bottomRight:e,bottom:e,bottomLeft:e,left:e}}Object.keys(e).forEach(t=>{const n=!!e[t],i=this.getResizerElement(t),s={dragStartPixels:0,eElement:i,onDragStart:o=>this.onResizeStart(o,t),onDragging:this.onResize.bind(this),onDragStop:o=>this.onResizeEnd(o,t)};(n||!this.isAlive()&&!n)&&(n?(this.dragService.addDragSource(s),this.resizeListeners.push(s),i.style.pointerEvents="all"):i.style.pointerEvents="none",this.resizable[t]=n)})}removeSizeFromEl(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")}restoreLastSize(){this.element.style.flex="0 0 auto";const{height:e,width:t}=this.lastSize;t!==-1&&(this.element.style.width=`${t}px`),e!==-1&&(this.element.style.height=`${e}px`)}getHeight(){return this.element.offsetHeight}setHeight(e){const{popup:t}=this.config,r=this.element;let n=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)Oc(r,e),e=iR(r),n=!0;else if(e=Math.max(this.minHeight,e),this.positioned){const i=this.getAvailableHeight();i&&e>i&&(e=i)}this.getHeight()!==e&&(n?(r.style.maxHeight="unset",r.style.minHeight="unset"):t?Oc(r,e):(r.style.height=`${e}px`,r.style.flex="0 0 auto",this.lastSize.height=typeof e=="number"?e:parseFloat(e)))}getAvailableHeight(){const{popup:e,forcePopupParentAsOffsetParent:t}=this.config;this.positioned||this.initialisePosition();const{clientHeight:r}=this.offsetParent;if(!r)return null;const n=this.element.getBoundingClientRect(),i=this.offsetParent.getBoundingClientRect(),s=e?this.position.y:n.top,o=e?0:i.top;let a=0;if(t){const c=this.element.parentElement;if(c){const{bottom:u}=c.getBoundingClientRect();a=u-n.bottom}}return r+o-s-a}getWidth(){return this.element.offsetWidth}setWidth(e){const t=this.element,{popup:r}=this.config;let n=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)Ei(t,e),e=ef(t),n=!0;else if(this.positioned){e=Math.max(this.minWidth,e);const{clientWidth:i}=this.offsetParent,s=r?this.position.x:this.element.getBoundingClientRect().left;i&&e+s>i&&(e=i-s)}this.getWidth()!==e&&(n?(t.style.maxWidth="unset",t.style.minWidth="unset"):this.config.popup?Ei(t,e):(t.style.width=`${e}px`,t.style.flex=" unset",this.lastSize.width=typeof e=="number"?e:parseFloat(e)))}offsetElement(e=0,t=0){const{forcePopupParentAsOffsetParent:r}=this.config,n=r?this.boundaryEl:this.element;n&&(this.popupService.positionPopup({ePopup:n,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:()=>({x:e,y:t})}),this.setPosition(parseFloat(n.style.left),parseFloat(n.style.top)))}constrainSizeToAvailableHeight(e){if(!this.config.forcePopupParentAsOffsetParent)return;const t=()=>{const r=this.getAvailableHeight();this.element.style.setProperty("max-height",`${r}px`)};e?this.resizeObserverSubscriber=this.resizeObserverService.observeResize(this.popupService.getPopupParent(),t):(this.element.style.removeProperty("max-height"),this.resizeObserverSubscriber&&(this.resizeObserverSubscriber(),this.resizeObserverSubscriber=void 0))}setPosition(e,t){this.position.x=e,this.position.y=t}updateDragStartPosition(e,t){this.dragStartPosition={x:e,y:t}}calculateMouseMovement(e){const{e:t,isLeft:r,isTop:n,anywhereWithin:i,topBuffer:s}=e,o=t.clientX-this.dragStartPosition.x,a=t.clientY-this.dragStartPosition.y,l=this.shouldSkipX(t,!!r,!!i,o)?0:o,c=this.shouldSkipY(t,!!n,s,a)?0:a;return{movementX:l,movementY:c}}shouldSkipX(e,t,r,n){const i=this.element.getBoundingClientRect(),s=this.offsetParent.getBoundingClientRect(),o=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.x:i.left;let l=a<=0&&s.left>=e.clientX||s.right<=e.clientX&&s.right<=o.right;return l?!0:(t?l=n<0&&e.clientX>a+s.left||n>0&&e.clientX<a+s.left:r?l=n<0&&e.clientX>o.right||n>0&&e.clientX<a+s.left:l=n<0&&e.clientX>o.right||n>0&&e.clientX<o.right,l)}shouldSkipY(e,t,r=0,n){const i=this.element.getBoundingClientRect(),s=this.offsetParent.getBoundingClientRect(),o=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.y:i.top;let l=a<=0&&s.top>=e.clientY||s.bottom<=e.clientY&&s.bottom<=o.bottom;return l?!0:(t?l=n<0&&e.clientY>a+s.top+r||n>0&&e.clientY<a+s.top:l=n<0&&e.clientY>o.bottom||n>0&&e.clientY<o.bottom,l)}createResizeMap(){const e=this.element;this.resizerMap={topLeft:{element:e.querySelector("[data-ref=eTopLeftResizer]")},top:{element:e.querySelector("[data-ref=eTopResizer]")},topRight:{element:e.querySelector("[data-ref=eTopRightResizer]")},right:{element:e.querySelector("[data-ref=eRightResizer]")},bottomRight:{element:e.querySelector("[data-ref=eBottomRightResizer]")},bottom:{element:e.querySelector("[data-ref=eBottomResizer]")},bottomLeft:{element:e.querySelector("[data-ref=eBottomLeftResizer]")},left:{element:e.querySelector("[data-ref=eLeftResizer]")}}}addResizers(){if(this.resizersAdded)return;const e=this.element;if(!e)return;const r=new DOMParser().parseFromString(G7,"text/html").body;e.appendChild(r.firstChild),this.createResizeMap(),this.resizersAdded=!0}removeResizers(){this.resizerMap=void 0;const e=this.element.querySelector(`.${wR}`);e&&this.element.removeChild(e),this.resizersAdded=!1}getResizerElement(e){return this.resizerMap[e].element}onResizeStart(e,t){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!t.match(/top/i),isRight:!!t.match(/right/i),isBottom:!!t.match(/bottom/i),isLeft:!!t.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[t].element.classList.add("ag-active");const{popup:r,forcePopupParentAsOffsetParent:n}=this.config;!r&&!n&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(e.clientX,e.clientY)}getSiblings(){const t=this.element.parentElement;return t?Array.prototype.slice.call(t.children).filter(r=>!r.classList.contains("ag-hidden")):null}getMinSizeOfSiblings(){const e=this.getSiblings()||[];let t=0,r=0;for(let n=0;n<e.length;n++){const i=e[n],s=!!i.style.flex&&i.style.flex!=="0 0 auto";if(i===this.element)continue;let o=this.minHeight||0,a=this.minWidth||0;if(s){const l=window.getComputedStyle(i);l.minHeight&&(o=parseInt(l.minHeight,10)),l.minWidth&&(a=parseInt(l.minWidth,10))}else o=i.offsetHeight,a=i.offsetWidth;t+=o,r+=a}return{height:t,width:r}}applySizeToSiblings(e){let t=null;const r=this.getSiblings();if(r){for(let n=0;n<r.length;n++){const i=r[n];i!==t&&(e?i.style.height=`${i.offsetHeight}px`:i.style.width=`${i.offsetWidth}px`,i.style.flex="0 0 auto",i===this.element&&(t=r[n+1]))}t&&(t.style.removeProperty("height"),t.style.removeProperty("min-height"),t.style.removeProperty("max-height"),t.style.flex="1 1 auto")}}isResizable(){return Object.values(this.resizable).some(e=>e)}onResize(e){if(!this.isResizing||!this.currentResizer)return;const{popup:t,forcePopupParentAsOffsetParent:r}=this.config,{isTop:n,isRight:i,isBottom:s,isLeft:o}=this.currentResizer,a=i||o,l=s||n,{movementX:c,movementY:u}=this.calculateMouseMovement({e,isLeft:o,isTop:n}),f=this.position.x,d=this.position.y;let h=0,g=0;if(a&&c){const v=o?-1:1,p=this.getWidth(),y=p+c*v;let m=!1;o&&(h=p-y,(f+h<=0||y<=this.minWidth)&&(m=!0,h=0)),m||this.setWidth(y)}if(l&&u){const v=n?-1:1,p=this.getHeight(),y=p+u*v;let m=!1;n?(g=p-y,(d+g<=0||y<=this.minHeight)&&(m=!0,g=0)):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&p<y&&this.getMinSizeOfSiblings().height+y>this.element.parentElement.offsetHeight&&(m=!0),m||this.setHeight(y)}this.updateDragStartPosition(e.clientX,e.clientY),((t||r)&&h||g)&&this.offsetElement(f+h,d+g)}onResizeEnd(e,t){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null,this.element.classList.remove("ag-resizing"),this.resizerMap[t].element.classList.remove("ag-active"),this.dispatchLocalEvent({type:"resize"})}refreshSize(){const e=this.element;this.config.popup&&(this.config.width||this.setWidth(e.offsetWidth),this.config.height||this.setHeight(e.offsetHeight))}onMoveStart(e){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(e.clientX,e.clientY)}onMove(e){if(!this.isMoving)return;const{x:t,y:r}=this.position;let n;this.config.calculateTopBuffer&&(n=this.config.calculateTopBuffer());const{movementX:i,movementY:s}=this.calculateMouseMovement({e,isTop:!0,anywhereWithin:!0,topBuffer:n});this.offsetElement(t+i,r+s),this.updateDragStartPosition(e.clientX,e.clientY)}onMoveEnd(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")}setOffsetParent(){this.config.forcePopupParentAsOffsetParent?this.offsetParent=this.popupService.getPopupParent():this.offsetParent=this.element.offsetParent}findBoundaryElement(){let e=this.element;for(;e;){if(window.getComputedStyle(e).position!=="static")return e;e=e.parentElement}return this.element}clearResizeListeners(){for(;this.resizeListeners.length;){const e=this.resizeListeners.pop();this.dragService.removeDragSource(e)}}destroy(){super.destroy(),this.moveElementDragListener&&this.dragService.removeDragSource(this.moveElementDragListener),this.constrainSizeToAvailableHeight(!1),this.clearResizeListeners(),this.removeResizers()}},CR=class SR extends Re{constructor(t,r={}){super(),this.eFocusableElement=t,this.callbacks=r,this.callbacks={shouldStopEventPropagation:()=>!1,onTabKeyDown:n=>{if(n.defaultPrevented)return;const i=this.focusService.findNextFocusableElement(this.eFocusableElement,!1,n.shiftKey);i&&(i.focus(),n.preventDefault())},...r}}wireBeans(t){this.focusService=t.focusService}postConstruct(){this.eFocusableElement.classList.add(SR.FOCUS_MANAGED_CLASS),this.addKeyDownListeners(this.eFocusableElement),this.callbacks.onFocusIn&&this.addManagedElementListeners(this.eFocusableElement,{focusin:this.callbacks.onFocusIn}),this.callbacks.onFocusOut&&this.addManagedElementListeners(this.eFocusableElement,{focusout:this.callbacks.onFocusOut})}addKeyDownListeners(t){this.addManagedElementListeners(t,{keydown:r=>{if(!(r.defaultPrevented||ns(r))){if(this.callbacks.shouldStopEventPropagation(r)){yl(r);return}r.key===Se.TAB?this.callbacks.onTabKeyDown(r):this.callbacks.handleKeyDown&&this.callbacks.handleKeyDown(r)}}})}};CR.FOCUS_MANAGED_CLASS="ag-focus-managed";var la=CR,xR={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose one",equals:"Equals",notEqual:"Does not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"Between",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equal to",greaterThanOrEqual:"Greater than or equal to",contains:"Contains",notContains:"Does not contain",startsWith:"Begins with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",before:"Before",after:"After",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"};function py(e,t){return of(e)?(e.debounceMs!=null&&ke("debounceMs is ignored when apply button is present"),0):e.debounceMs!=null?e.debounceMs:t}function of(e){return!!e.buttons&&e.buttons.indexOf("apply")>=0}var z7=class extends Jt{constructor(e){super(),this.filterNameKey=e,this.applyActive=!1,this.hidePopup=null,this.debouncePending=!1,this.appliedModel=null,this.eFilterBody=ht,this.buttonListeners=[]}wireBeans(e){this.rowModel=e.rowModel}postConstruct(){this.resetTemplate(),this.createManagedBean(new la(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.positionableFeature=new V7(this.getPositionableElement(),{forcePopupParentAsOffsetParent:!0}),this.createBean(this.positionableFeature)}handleKeyDown(e){}getFilterTitle(){return this.translate(this.filterNameKey)}isFilterActive(){return!!this.appliedModel}resetTemplate(e){let t=this.getGui();t&&t.removeEventListener("submit",this.onFormSubmit);const r=`
            <form class="ag-filter-wrapper">
                <div class="ag-filter-body-wrapper ag-${this.getCssIdentifier()}-body-wrapper" data-ref="eFilterBody">
                    ${this.createBodyTemplate()}
                </div>
            </form>`;this.setTemplate(r,this.getAgComponents(),e),t=this.getGui(),t&&t.addEventListener("submit",this.onFormSubmit)}isReadOnly(){return!!this.providedFilterParams.readOnly}init(e){this.setParams(e),this.resetUiToDefaults(!0).then(()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()})}setParams(e){this.providedFilterParams=e,this.applyActive=of(e),this.resetButtonsPanel(e)}updateParams(e){this.providedFilterParams=e,this.applyActive=of(e),this.resetUiToActiveModel(this.getModel(),()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()})}resetButtonsPanel(e,t){const{buttons:r,readOnly:n}=t??{},{buttons:i,readOnly:s}=e;if(n===s&&fu(r,i))return;const o=i&&i.length>0&&!this.isReadOnly();if(this.eButtonsPanel?(Dn(this.eButtonsPanel),this.buttonListeners.forEach(c=>c()),this.buttonListeners=[]):o&&(this.eButtonsPanel=document.createElement("div"),this.eButtonsPanel.classList.add("ag-filter-apply-panel")),!o){this.eButtonsPanel&&Xo(this.eButtonsPanel);return}const a=document.createDocumentFragment(),l=c=>{let u,f;switch(c){case"apply":u=this.translate("applyFilter"),f=g=>this.onBtApply(!1,!1,g);break;case"clear":u=this.translate("clearFilter"),f=()=>this.onBtClear();break;case"reset":u=this.translate("resetFilter"),f=()=>this.onBtReset();break;case"cancel":u=this.translate("cancelFilter"),f=g=>{this.onBtCancel(g)};break;default:ke("Unknown button type specified");return}const h=wl(`<button
                    type="${c==="apply"?"submit":"button"}"
                    data-ref="${c}FilterButton"
                    class="ag-button ag-standard-button ag-filter-apply-panel-button"
                >${u}
                </button>`);this.buttonListeners.push(...this.addManagedElementListeners(h,{click:f})),a.append(h)};i.forEach(c=>l(c)),this.eButtonsPanel.append(a),this.getGui().appendChild(this.eButtonsPanel)}getDefaultDebounceMs(){return 0}setupOnBtApplyDebounce(){const e=py(this.providedFilterParams,this.getDefaultDebounceMs()),t=ln(this.checkApplyDebounce.bind(this),e);this.onBtApplyDebounce=()=>{this.debouncePending=!0,t()}}checkApplyDebounce(){this.debouncePending&&(this.debouncePending=!1,this.onBtApply())}getModel(){return this.appliedModel?this.appliedModel:null}setModel(e){return(e!=null?this.setModelIntoUi(e):this.resetUiToDefaults()).then(()=>{this.updateUiVisibility(),this.applyModel("api")})}onBtCancel(e){this.resetUiToActiveModel(this.getModel(),()=>{this.handleCancelEnd(e)})}handleCancelEnd(e){this.providedFilterParams.closeOnApply&&this.close(e)}resetUiToActiveModel(e,t){const r=()=>{this.onUiChanged(!1,"prevent"),t==null||t()};e!=null?this.setModelIntoUi(e).then(r):this.resetUiToDefaults().then(r)}onBtClear(){this.resetUiToDefaults().then(()=>this.onUiChanged())}onBtReset(){this.onBtClear(),this.onBtApply()}applyModel(e="api"){const t=this.getModelFromUi();if(!this.isModelValid(t))return!1;const r=this.appliedModel;return this.appliedModel=t,!this.areModelsEqual(r,t)}isModelValid(e){return!0}onFormSubmit(e){e.preventDefault()}onBtApply(e=!1,t=!1,r){if(r&&r.preventDefault(),this.applyModel(t?"rowDataUpdated":"ui")){const i="columnFilter";this.providedFilterParams.filterChangedCallback({afterFloatingFilter:e,afterDataChange:t,source:i})}const{closeOnApply:n}=this.providedFilterParams;n&&this.applyActive&&!e&&!t&&this.close(r)}onNewRowsLoaded(){}close(e){if(!this.hidePopup)return;const t=e,r=t&&t.key;let n;(r==="Enter"||r==="Space")&&(n={keyboardEvent:t}),this.hidePopup(n),this.hidePopup=null}onUiChanged(e=!1,t){if(this.updateUiVisibility(),this.providedFilterParams.filterModifiedCallback(),this.applyActive&&!this.isReadOnly()){const r=this.isModelValid(this.getModelFromUi()),n=this.queryForHtmlElement('[data-ref="applyFilterButton"]');n&&vu(n,!r)}e&&!t||t==="immediately"?this.onBtApply(e):(!this.applyActive&&!t||t==="debounce")&&this.onBtApplyDebounce()}afterGuiAttached(e){e&&(this.hidePopup=e.hidePopup),this.refreshFilterResizer(e==null?void 0:e.container)}refreshFilterResizer(e){if(!this.positionableFeature||e==="toolPanel")return;const t=e==="floatingFilter"||e==="columnFilter",{positionableFeature:r,gos:n}=this;t?(r.restoreLastSize(),r.setResizable(n.get("enableRtl")?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0})):(this.positionableFeature.removeSizeFromEl(),this.positionableFeature.setResizable(!1)),this.positionableFeature.constrainSizeToAvailableHeight(!0)}afterGuiDetached(){this.checkApplyDebounce(),this.positionableFeature&&this.positionableFeature.constrainSizeToAvailableHeight(!1)}refresh(e){const t=this.providedFilterParams;return this.providedFilterParams=e,this.resetButtonsPanel(e,t),!0}destroy(){const e=this.getGui();e&&e.removeEventListener("submit",this.onFormSubmit),this.hidePopup=null,this.positionableFeature&&(this.positionableFeature=this.destroyBean(this.positionableFeature)),this.appliedModel=null,super.destroy()}translate(e){return this.localeService.getLocaleTextFunc()(e,xR[e])}getCellValue(e){return this.providedFilterParams.getValue(e)}getPositionableElement(){return this.eFilterBody}},W7=class extends dy{constructor(e){super(e,"ag-radio-button","radio")}isSelected(){return this.eInput.checked}toggle(){this.eInput.disabled||this.isSelected()||this.setValue(!0)}addInputListeners(){super.addInputListeners(),this.addManagedEventListeners({checkboxChanged:this.onChange.bind(this)})}onChange(e){e.selected&&e.name&&this.eInput.name&&this.eInput.name===e.name&&e.id&&this.eInput.id!==e.id&&this.setValue(!1,!0)}},$7=class extends Jt{constructor(e="default",t=!1){super(`<div class="ag-list ag-${e}-list" role="listbox"></div>`),this.cssIdentifier=e,this.unFocusable=t,this.activeClass="ag-active-item",this.options=[],this.itemEls=[]}postConstruct(){const e=this.getGui();this.addManagedElementListeners(e,{mouseleave:()=>this.clearHighlighted()}),!this.unFocusable&&this.addManagedElementListeners(e,{keydown:this.handleKeyDown.bind(this)})}handleKeyDown(e){const t=e.key;switch(t){case Se.ENTER:if(!this.highlightedEl)this.setValue(this.getValue());else{const r=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(r)}break;case Se.DOWN:case Se.UP:e.preventDefault(),this.navigate(t);break;case Se.PAGE_DOWN:case Se.PAGE_UP:case Se.PAGE_HOME:case Se.PAGE_END:e.preventDefault(),this.navigateToPage(t);break}}navigate(e){const t=e===Se.DOWN;let r;if(!this.highlightedEl)r=this.itemEls[t?0:this.itemEls.length-1];else{let i=this.itemEls.indexOf(this.highlightedEl)+(t?1:-1);i=Math.min(Math.max(i,0),this.itemEls.length-1),r=this.itemEls[i]}this.highlightItem(r)}navigateToPage(e){if(!this.highlightedEl||this.itemEls.length===0)return;const t=this.itemEls.indexOf(this.highlightedEl),r=this.options.length-1,n=this.itemEls[0].clientHeight,i=Math.floor(this.getGui().clientHeight/n);let s=-1;e===Se.PAGE_HOME?s=0:e===Se.PAGE_END?s=r:e===Se.PAGE_DOWN?s=Math.min(t+i,r):e===Se.PAGE_UP&&(s=Math.max(t-i,0)),s!==-1&&this.highlightItem(this.itemEls[s])}addOptions(e){return e.forEach(t=>this.addOption(t)),this}addOption(e){const{value:t,text:r}=e,n=r||t;return this.options.push({value:t,text:n}),this.renderOption(t,n),this.updateIndices(),this}clearOptions(){this.options=[],this.reset(!0),this.itemEls.forEach(e=>{Xo(e)}),this.itemEls=[]}updateIndices(){const e=this.getGui().querySelectorAll(".ag-list-item");e.forEach((t,r)=>{RI(t,r+1),xI(t,e.length)})}renderOption(e,t){const r=this.gos.getDocument(),n=r.createElement("div");Pi(n,"option"),n.classList.add("ag-list-item",`ag-${this.cssIdentifier}-list-item`);const i=r.createElement("span");n.appendChild(i),i.textContent=t,this.unFocusable||(n.tabIndex=-1),this.itemEls.push(n),this.addManagedListeners(n,{mouseover:()=>this.highlightItem(n),mousedown:s=>{s.preventDefault(),s.stopPropagation(),this.setValue(e)}}),this.createManagedBean(new Ll({getTooltipValue:()=>t,getGui:()=>n,getLocation:()=>"UNKNOWN",shouldDisplayTooltip:()=>i.scrollWidth>i.clientWidth})),this.getGui().appendChild(n)}setValue(e,t){if(this.value===e)return this.fireItemSelected(),this;if(e==null)return this.reset(t),this;const r=this.options.findIndex(n=>n.value===e);if(r!==-1){const n=this.options[r];this.value=n.value,this.displayValue=n.text,this.highlightItem(this.itemEls[r]),t||this.fireChangeEvent()}return this}setValueByIndex(e){return this.setValue(this.options[e].value)}getValue(){return this.value}getDisplayValue(){return this.displayValue}refreshHighlighted(){this.clearHighlighted();const e=this.options.findIndex(t=>t.value===this.value);e!==-1&&this.highlightItem(this.itemEls[e])}reset(e){this.value=null,this.displayValue=null,this.clearHighlighted(),e||this.fireChangeEvent()}highlightItem(e){if(!Vi(e))return;this.clearHighlighted(),this.highlightedEl=e,this.highlightedEl.classList.add(this.activeClass),Jh(this.highlightedEl,!0);const t=this.getGui(),{scrollTop:r,clientHeight:n}=t,{offsetTop:i,offsetHeight:s}=e;(i+s>r+n||i<r)&&this.highlightedEl.scrollIntoView({block:"nearest"}),this.unFocusable||this.highlightedEl.focus()}clearHighlighted(){!this.highlightedEl||!Vi(this.highlightedEl)||(this.highlightedEl.classList.remove(this.activeClass),Jh(this.highlightedEl,!1),this.highlightedEl=null)}fireChangeEvent(){this.dispatchLocalEvent({type:"fieldValueChanged"}),this.fireItemSelected()}fireItemSelected(){this.dispatchLocalEvent({type:"selectedItem"})}},U7=class extends fR{constructor(e){if(super(e,(e==null?void 0:e.template)||`
            <div class="ag-picker-field" role="presentation">
                <div data-ref="eLabel"></div>
                <div data-ref="eWrapper" class="ag-wrapper ag-picker-field-wrapper ag-picker-collapsed">
                    <div data-ref="eDisplayField" class="ag-picker-field-display"></div>
                    <div data-ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>
                </div>
            </div>`,(e==null?void 0:e.agComponents)||[],e==null?void 0:e.className),this.isPickerDisplayed=!1,this.skipClick=!1,this.pickerGap=4,this.hideCurrentPicker=null,this.eLabel=ht,this.eWrapper=ht,this.eDisplayField=ht,this.eIcon=ht,this.ariaRole=e==null?void 0:e.ariaRole,this.onPickerFocusIn=this.onPickerFocusIn.bind(this),this.onPickerFocusOut=this.onPickerFocusOut.bind(this),!e)return;const{pickerGap:t,maxPickerHeight:r,variableWidth:n,minPickerWidth:i,maxPickerWidth:s}=e;t!=null&&(this.pickerGap=t),this.variableWidth=!!n,r!=null&&this.setPickerMaxHeight(r),i!=null&&this.setPickerMinWidth(i),s!=null&&this.setPickerMaxWidth(s)}wireBeans(e){this.popupService=e.popupService}postConstruct(){super.postConstruct(),this.setupAria();const e=`ag-${this.getCompId()}-display`;this.eDisplayField.setAttribute("id",e);const t=this.getAriaElement();this.addManagedElementListeners(t,{keydown:this.onKeyDown.bind(this)}),this.addManagedElementListeners(this.eLabel,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)}),this.addManagedElementListeners(this.eWrapper,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)});const{pickerIcon:r,inputWidth:n}=this.config;if(r){const i=kn(r,this.gos);i&&this.eIcon.appendChild(i)}n!=null&&this.setInputWidth(n)}setupAria(){const e=this.getAriaElement();e.setAttribute("tabindex",this.gos.get("tabIndex").toString()),Zh(e,!1),this.ariaRole&&Pi(e,this.ariaRole)}onLabelOrWrapperMouseDown(e){if(e){const t=this.getFocusableElement();if(t!==this.eWrapper&&(e==null?void 0:e.target)===t)return;e.preventDefault(),this.getFocusableElement().focus()}if(this.skipClick){this.skipClick=!1;return}this.isDisabled()||(this.isPickerDisplayed?this.hidePicker():this.showPicker())}onKeyDown(e){switch(e.key){case Se.UP:case Se.DOWN:case Se.ENTER:case Se.SPACE:e.preventDefault(),this.onLabelOrWrapperMouseDown();break;case Se.ESCAPE:this.isPickerDisplayed&&(e.preventDefault(),e.stopPropagation(),this.hideCurrentPicker&&this.hideCurrentPicker());break}}showPicker(){this.isPickerDisplayed=!0,this.pickerComponent||(this.pickerComponent=this.createPickerComponent());const e=this.pickerComponent.getGui();e.addEventListener("focusin",this.onPickerFocusIn),e.addEventListener("focusout",this.onPickerFocusOut),this.hideCurrentPicker=this.renderAndPositionPicker(),this.toggleExpandedStyles(!0)}renderAndPositionPicker(){const e=this.pickerComponent.getGui();this.gos.get("suppressScrollWhenPopupsAreOpen")||([this.destroyMouseWheelFunc]=this.addManagedEventListeners({bodyScroll:()=>{this.hidePicker()}}));const t=this.localeService.getLocaleTextFunc(),{pickerAriaLabelKey:r,pickerAriaLabelValue:n,modalPicker:i=!0}=this.config,s={modal:i,eChild:e,closeOnEsc:!0,closedCallback:()=>{const d=this.gos.isNothingFocused();this.beforeHidePicker(),d&&this.isAlive()&&this.getFocusableElement().focus()},ariaLabel:t(r,n),anchorToElement:this.eWrapper};e.style.position="absolute";const o=this.popupService.addPopup(s),{maxPickerHeight:a,minPickerWidth:l,maxPickerWidth:c,variableWidth:u}=this;u?(l&&(e.style.minWidth=l),e.style.width=ly(ef(this.eWrapper)),c&&(e.style.maxWidth=c)):sf(e,c??ef(this.eWrapper));const f=a??`${ay(this.popupService.getPopupParent())}px`;return e.style.setProperty("max-height",f),this.alignPickerToComponent(),o.hideFunc}alignPickerToComponent(){if(!this.pickerComponent)return;const{pickerType:e}=this.config,{pickerGap:t}=this,r=this.gos.get("enableRtl")?"right":"left";this.popupService.positionPopupByComponent({type:e,eventSource:this.eWrapper,ePopup:this.pickerComponent.getGui(),position:"under",alignSide:r,keepWithinBounds:!0,nudgeY:t})}beforeHidePicker(){this.destroyMouseWheelFunc&&(this.destroyMouseWheelFunc(),this.destroyMouseWheelFunc=void 0),this.toggleExpandedStyles(!1);const e=this.pickerComponent.getGui();e.removeEventListener("focusin",this.onPickerFocusIn),e.removeEventListener("focusout",this.onPickerFocusOut),this.isPickerDisplayed=!1,this.pickerComponent=void 0,this.hideCurrentPicker=null}toggleExpandedStyles(e){if(!this.isAlive())return;const t=this.getAriaElement();Zh(t,e),this.eWrapper.classList.toggle("ag-picker-expanded",e),this.eWrapper.classList.toggle("ag-picker-collapsed",!e)}onPickerFocusIn(){this.togglePickerHasFocus(!0)}onPickerFocusOut(e){var t;(t=this.pickerComponent)!=null&&t.getGui().contains(e.relatedTarget)||this.togglePickerHasFocus(!1)}togglePickerHasFocus(e){this.pickerComponent&&this.eWrapper.classList.toggle("ag-picker-has-focus",e)}hidePicker(){this.hideCurrentPicker&&this.hideCurrentPicker()}setInputWidth(e){return sf(this.eWrapper,e),this}getFocusableElement(){return this.eWrapper}setPickerGap(e){return this.pickerGap=e,this}setPickerMinWidth(e){return typeof e=="number"&&(e=`${e}px`),this.minPickerWidth=e??void 0,this}setPickerMaxWidth(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerWidth=e??void 0,this}setPickerMaxHeight(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerHeight=e??void 0,this}destroy(){this.hidePicker(),super.destroy()}},gy=class extends U7{constructor(e){super({pickerAriaLabelKey:"ariaLabelSelectField",pickerAriaLabelValue:"Select Field",pickerType:"ag-list",className:"ag-select",pickerIcon:"smallDown",ariaRole:"combobox",...e})}postConstruct(){super.postConstruct(),this.createListComponent(),this.eWrapper.tabIndex=this.gos.get("tabIndex");const{options:e,value:t,placeholder:r}=this.config;e!=null&&this.addOptions(e),t!=null&&this.setValue(t,!0),r&&t==null&&(this.eDisplayField.textContent=r),this.addManagedElementListeners(this.eWrapper,{focusout:this.onWrapperFocusOut.bind(this)})}onWrapperFocusOut(e){this.eWrapper.contains(e.relatedTarget)||this.hidePicker()}createListComponent(){this.listComponent=this.createBean(new $7("select",!0)),this.listComponent.setParentComponent(this);const e=this.listComponent.getAriaElement(),t=`ag-select-list-${this.listComponent.getCompId()}`;e.setAttribute("id",t),FI(this.getAriaElement(),e),this.listComponent.addManagedListeners(this.listComponent,{selectedItem:()=>{this.hidePicker(),this.dispatchLocalEvent({type:"selectedItem"})}}),this.listComponent.addManagedListeners(this.listComponent,{fieldValueChanged:()=>{this.listComponent&&(this.setValue(this.listComponent.getValue(),!1,!0),this.hidePicker())}})}createPickerComponent(){return this.listComponent}onKeyDown(e){var r;const{key:t}=e;switch(t===Se.TAB&&this.hidePicker(),t){case Se.ENTER:case Se.UP:case Se.DOWN:case Se.PAGE_UP:case Se.PAGE_DOWN:case Se.PAGE_HOME:case Se.PAGE_END:e.preventDefault(),this.isPickerDisplayed?(r=this.listComponent)==null||r.handleKeyDown(e):super.onKeyDown(e);break;case Se.ESCAPE:super.onKeyDown(e);break;case Se.SPACE:this.isPickerDisplayed?e.preventDefault():super.onKeyDown(e);break}}showPicker(){this.listComponent&&(super.showPicker(),this.listComponent.refreshHighlighted())}addOptions(e){return e.forEach(t=>this.addOption(t)),this}addOption(e){return this.listComponent.addOption(e),this}clearOptions(){var e;return(e=this.listComponent)==null||e.clearOptions(),this}setValue(e,t,r){if(this.value===e||!this.listComponent)return this;if(r||this.listComponent.setValue(e,!0),this.listComponent.getValue()===this.getValue())return this;let i=this.listComponent.getDisplayValue();return i==null&&this.config.placeholder&&(i=this.config.placeholder),this.eDisplayField.textContent=i,this.setTooltip({newTooltipText:i??null,shouldDisplayTooltip:()=>this.eDisplayField.scrollWidth>this.eDisplayField.clientWidth}),super.setValue(e,t)}destroy(){this.listComponent&&(this.listComponent=this.destroyBean(this.listComponent)),super.destroy()}},K7={selector:"AG-SELECT",component:gy},RR=class{constructor(){this.customFilterOptions={}}init(e,t){this.filterOptions=e.filterOptions||t,this.mapCustomOptions(),this.selectDefaultItem(e)}getFilterOptions(){return this.filterOptions}mapCustomOptions(){this.filterOptions&&this.filterOptions.forEach(e=>{if(typeof e=="string")return;const t=[["displayKey"],["displayName"],["predicate","test"]],r=n=>n.some(i=>e[i]!=null)?!0:(ke(`ignoring FilterOptionDef as it doesn't contain one of '${n}'`),!1);if(!t.every(r)){this.filterOptions=this.filterOptions.filter(n=>n===e)||[];return}this.customFilterOptions[e.displayKey]=e})}selectDefaultItem(e){if(e.defaultOption)this.defaultOption=e.defaultOption;else if(this.filterOptions.length>=1){const t=this.filterOptions[0];typeof t=="string"?this.defaultOption=t:t.displayKey?this.defaultOption=t.displayKey:ke("invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'")}else ke("no filter options for filter")}getDefaultOption(){return this.defaultOption}getCustomOption(e){return this.customFilterOptions[e]}},ER=class extends z7{constructor(){super(...arguments),this.eTypes=[],this.eJoinOperatorPanels=[],this.eJoinOperatorsAnd=[],this.eJoinOperatorsOr=[],this.eConditionBodies=[],this.listener=()=>this.onUiChanged(),this.lastUiCompletePosition=null,this.joinOperatorId=0}getNumberOfInputs(e){const t=this.optionsFactory.getCustomOption(e);if(t){const{numberOfInputs:n}=t;return n??1}return e&&["empty","notBlank","blank"].indexOf(e)>=0?0:e==="inRange"?2:1}onFloatingFilterChanged(e,t){this.setTypeFromFloatingFilter(e),this.setValueFromFloatingFilter(t),this.onUiChanged(!0)}setTypeFromFloatingFilter(e){this.eTypes.forEach((t,r)=>{r===0?t.setValue(e,!0):t.setValue(this.optionsFactory.getDefaultOption(),!0)})}getModelFromUi(){const e=this.getUiCompleteConditions();return e.length===0?null:this.maxNumConditions>1&&e.length>1?{filterType:this.getFilterType(),operator:this.getJoinOperator(),conditions:e}:e[0]}getConditionTypes(){return this.eTypes.map(e=>e.getValue())}getConditionType(e){return this.eTypes[e].getValue()}getJoinOperator(){return this.eJoinOperatorsOr.length===0?this.defaultJoinOperator:this.eJoinOperatorsOr[0].getValue()===!0?"OR":"AND"}areModelsEqual(e,t){if(!e&&!t)return!0;if(!e&&t||e&&!t)return!1;const r=!e.operator,n=!t.operator;if(!r&&n||r&&!n)return!1;let s;if(r){const o=e,a=t;s=this.areSimpleModelsEqual(o,a)}else{const o=e,a=t;s=o.operator===a.operator&&oa(o.conditions,a.conditions,(l,c)=>this.areSimpleModelsEqual(l,c))}return s}shouldRefresh(e){var s;const t=this.getModel(),r=t?t.conditions??[t]:null,n=((s=e.filterOptions)==null?void 0:s.map(o=>typeof o=="string"?o:o.displayKey))??this.getDefaultFilterOptions();return!(!(!r||r.every(o=>n.find(a=>a===o.type)!==void 0))||typeof e.maxNumConditions=="number"&&r&&r.length>e.maxNumConditions)}refresh(e){return!this.shouldRefresh(e)||!super.refresh(e)?!1:(this.setParams(e),this.removeConditionsAndOperators(0),this.createOption(),this.setModel(this.getModel()),!0)}setModelIntoUi(e){if(e.operator){const r=e;let n=r.conditions;n==null&&(n=[],ke("Filter model is missing 'conditions'"));const i=this.validateAndUpdateConditions(n),s=this.getNumConditions();if(i<s)this.removeConditionsAndOperators(i);else if(i>s)for(let a=s;a<i;a++)this.createJoinOperatorPanel(),this.createOption();const o=r.operator==="OR";this.eJoinOperatorsAnd.forEach(a=>a.setValue(!o,!0)),this.eJoinOperatorsOr.forEach(a=>a.setValue(o,!0)),n.forEach((a,l)=>{this.eTypes[l].setValue(a.type,!0),this.setConditionIntoUi(a,l)})}else{const r=e;this.getNumConditions()>1&&this.removeConditionsAndOperators(1),this.eTypes[0].setValue(r.type,!0),this.setConditionIntoUi(r,0)}return this.lastUiCompletePosition=this.getNumConditions()-1,this.createMissingConditionsAndOperators(),this.onUiChanged(),br.resolve()}validateAndUpdateConditions(e){let t=e.length;return t>this.maxNumConditions&&(e.splice(this.maxNumConditions),ke('Filter Model contains more conditions than "filterParams.maxNumConditions". Additional conditions have been ignored.'),t=this.maxNumConditions),t}doesFilterPass(e){const t=this.getModel();if(t==null)return!0;const{operator:r}=t,n=[];if(r){const s=t;n.push(...s.conditions??[])}else n.push(t);return n[r&&r==="OR"?"some":"every"](s=>this.individualConditionPasses(e,s))}setParams(e){super.setParams(e),this.setNumConditions(e),this.defaultJoinOperator=this.getDefaultJoinOperator(e.defaultJoinOperator),this.filterPlaceholder=e.filterPlaceholder,this.optionsFactory=new RR,this.optionsFactory.init(e,this.getDefaultFilterOptions()),this.createFilterListOptions(),this.createOption(),this.createMissingConditionsAndOperators(),this.isReadOnly()&&this.eFilterBody.setAttribute("tabindex","-1")}setNumConditions(e){this.maxNumConditions=e.maxNumConditions??2,this.maxNumConditions<1&&(ke('"filterParams.maxNumConditions" must be greater than or equal to zero.'),this.maxNumConditions=1),this.numAlwaysVisibleConditions=e.numAlwaysVisibleConditions??1,this.numAlwaysVisibleConditions<1&&(ke('"filterParams.numAlwaysVisibleConditions" must be greater than or equal to zero.'),this.numAlwaysVisibleConditions=1),this.numAlwaysVisibleConditions>this.maxNumConditions&&(ke('"filterParams.numAlwaysVisibleConditions" cannot be greater than "filterParams.maxNumConditions".'),this.numAlwaysVisibleConditions=this.maxNumConditions)}createOption(){const e=this.createManagedBean(new gy);this.eTypes.push(e),e.addCssClass("ag-filter-select"),this.eFilterBody.appendChild(e.getGui());const t=this.createValueElement();this.eConditionBodies.push(t),this.eFilterBody.appendChild(t),this.putOptionsIntoDropdown(e),this.resetType(e);const r=this.getNumConditions()-1;this.forEachPositionInput(r,n=>this.resetInput(n)),this.addChangedListeners(e,r)}createJoinOperatorPanel(){const e=document.createElement("div");this.eJoinOperatorPanels.push(e),e.classList.add("ag-filter-condition");const t=this.createJoinOperator(this.eJoinOperatorsAnd,e,"and"),r=this.createJoinOperator(this.eJoinOperatorsOr,e,"or");this.eFilterBody.appendChild(e);const n=this.eJoinOperatorPanels.length-1,i=this.joinOperatorId++;this.resetJoinOperatorAnd(t,n,i),this.resetJoinOperatorOr(r,n,i),this.isReadOnly()||(t.onValueChange(this.listener),r.onValueChange(this.listener))}createJoinOperator(e,t,r){const n=this.createManagedBean(new W7);return e.push(n),n.addCssClass("ag-filter-condition-operator"),n.addCssClass(`ag-filter-condition-operator-${r}`),t.appendChild(n.getGui()),n}getDefaultJoinOperator(e){return e==="AND"||e==="OR"?e:"AND"}createFilterListOptions(){const e=this.optionsFactory.getFilterOptions();this.filterListOptions=e.map(t=>typeof t=="string"?this.createBoilerplateListOption(t):this.createCustomListOption(t))}putOptionsIntoDropdown(e){this.filterListOptions.forEach(t=>{e.addOption(t)}),e.setDisabled(this.filterListOptions.length<=1)}createBoilerplateListOption(e){return{value:e,text:this.translate(e)}}createCustomListOption(e){const{displayKey:t}=e,r=this.optionsFactory.getCustomOption(e.displayKey);return{value:t,text:r?this.localeService.getLocaleTextFunc()(r.displayKey,r.displayName):this.translate(t)}}createBodyTemplate(){return""}getAgComponents(){return[]}getCssIdentifier(){return"simple-filter"}updateUiVisibility(){const e=this.getJoinOperator();this.updateNumConditions(),this.updateConditionStatusesAndValues(this.lastUiCompletePosition,e)}updateNumConditions(){let e=-1,t=!0;for(let r=0;r<this.getNumConditions();r++)this.isConditionUiComplete(r)?e=r:t=!1;if(this.shouldAddNewConditionAtEnd(t))this.createJoinOperatorPanel(),this.createOption();else{const r=this.lastUiCompletePosition??this.getNumConditions()-2;if(e<r){this.removeConditionsAndOperators(r+1);const n=e+1,i=r-n;i>0&&this.removeConditionsAndOperators(n,i),this.createMissingConditionsAndOperators()}}this.lastUiCompletePosition=e}updateConditionStatusesAndValues(e,t){this.eTypes.forEach((n,i)=>{const s=this.isConditionDisabled(i,e);n.setDisabled(s||this.filterListOptions.length<=1),i===1&&(vu(this.eJoinOperatorPanels[0],s),this.eJoinOperatorsAnd[0].setDisabled(s),this.eJoinOperatorsOr[0].setDisabled(s))}),this.eConditionBodies.forEach((n,i)=>{fr(n,this.isConditionBodyVisible(i))});const r=(t??this.getJoinOperator())==="OR";this.eJoinOperatorsAnd.forEach(n=>{n.setValue(!r,!0)}),this.eJoinOperatorsOr.forEach(n=>{n.setValue(r,!0)}),this.forEachInput((n,i,s,o)=>{this.setElementDisplayed(n,i<o),this.setElementDisabled(n,this.isConditionDisabled(s,e))}),this.resetPlaceholder()}shouldAddNewConditionAtEnd(e){return e&&this.getNumConditions()<this.maxNumConditions&&!this.isReadOnly()}removeConditionsAndOperators(e,t){if(e>=this.getNumConditions())return;this.removeComponents(this.eTypes,e,t),this.removeElements(this.eConditionBodies,e,t),this.removeValueElements(e,t);const r=Math.max(e-1,0);this.removeElements(this.eJoinOperatorPanels,r,t),this.removeComponents(this.eJoinOperatorsAnd,r,t),this.removeComponents(this.eJoinOperatorsOr,r,t)}removeElements(e,t,r){this.removeItems(e,t,r).forEach(i=>Xo(i))}removeComponents(e,t,r){this.removeItems(e,t,r).forEach(i=>{Xo(i.getGui()),this.destroyBean(i)})}removeItems(e,t,r){return r==null?e.splice(t):e.splice(t,r)}afterGuiAttached(e){if(super.afterGuiAttached(e),this.resetPlaceholder(),!(e!=null&&e.suppressFocus))if(this.isReadOnly())this.eFilterBody.focus();else{const t=this.getInputs(0)[0];if(!t)return;t instanceof Fo&&t.getInputElement().focus()}}afterGuiDetached(){super.afterGuiDetached();const e=this.getModel();this.resetUiToActiveModel(e);let t=-1,r=-1,n=!1;const i=this.getJoinOperator();for(let o=this.getNumConditions()-1;o>=0;o--)if(this.isConditionUiComplete(o))t===-1&&(t=o,r=o);else{const a=o>=this.numAlwaysVisibleConditions&&!this.isConditionUiComplete(o-1),l=o<t;(a||l)&&(this.removeConditionsAndOperators(o,1),n=!0,l&&r--)}let s=!1;this.getNumConditions()<this.numAlwaysVisibleConditions&&(this.createMissingConditionsAndOperators(),s=!0),this.shouldAddNewConditionAtEnd(r===this.getNumConditions()-1)&&(this.createJoinOperatorPanel(),this.createOption(),s=!0),s&&this.updateConditionStatusesAndValues(r,i),n&&this.updateJoinOperatorsDisabled(),this.lastUiCompletePosition=r}getPlaceholderText(e,t){let r=this.translate(e);if(ty(this.filterPlaceholder)){const n=this.filterPlaceholder,i=this.eTypes[t].getValue(),s=this.translate(i);r=n({filterOptionKey:i,filterOption:s,placeholder:r})}else typeof this.filterPlaceholder=="string"&&(r=this.filterPlaceholder);return r}resetPlaceholder(){const e=this.localeService.getLocaleTextFunc();this.forEachInput((t,r,n,i)=>{if(!(t instanceof Fo))return;const s=r===0&&i>1?"inRangeStart":r===0?"filterOoo":"inRangeEnd",o=r===0&&i>1?e("ariaFilterFromValue","Filter from value"):r===0?e("ariaFilterValue","Filter Value"):e("ariaFilterToValue","Filter to Value");t.setInputPlaceholder(this.getPlaceholderText(s,n)),t.setInputAriaLabel(o)})}setElementValue(e,t,r){e instanceof Fo&&e.setValue(t!=null?String(t):null,!0)}setElementDisplayed(e,t){e instanceof Jt&&fr(e.getGui(),t)}setElementDisabled(e,t){e instanceof Jt&&vu(e.getGui(),t)}attachElementOnChange(e,t){e instanceof Fo&&e.onValueChange(t)}forEachInput(e){this.getConditionTypes().forEach((t,r)=>{this.forEachPositionTypeInput(r,t,e)})}forEachPositionInput(e,t){const r=this.getConditionType(e);this.forEachPositionTypeInput(e,r,t)}forEachPositionTypeInput(e,t,r){const n=this.getNumberOfInputs(t),i=this.getInputs(e);for(let s=0;s<i.length;s++){const o=i[s];o!=null&&r(o,s,e,n)}}isConditionDisabled(e,t){return this.isReadOnly()?!0:e===0?!1:e>t+1}isConditionBodyVisible(e){const t=this.getConditionType(e);return this.getNumberOfInputs(t)>0}isConditionUiComplete(e){return!(e>=this.getNumConditions()||this.getConditionType(e)==="empty"||this.getValues(e).some(r=>r==null))}getNumConditions(){return this.eTypes.length}getUiCompleteConditions(){const e=[];for(let t=0;t<this.getNumConditions();t++)this.isConditionUiComplete(t)&&e.push(this.createCondition(t));return e}createMissingConditionsAndOperators(){if(!this.isReadOnly())for(let e=this.getNumConditions();e<this.numAlwaysVisibleConditions;e++)this.createJoinOperatorPanel(),this.createOption()}resetUiToDefaults(e){return this.removeConditionsAndOperators(this.isReadOnly()?1:this.numAlwaysVisibleConditions),this.eTypes.forEach(t=>this.resetType(t)),this.eJoinOperatorsAnd.forEach((t,r)=>this.resetJoinOperatorAnd(t,r,this.joinOperatorId+r)),this.eJoinOperatorsOr.forEach((t,r)=>this.resetJoinOperatorOr(t,r,this.joinOperatorId+r)),this.joinOperatorId++,this.forEachInput(t=>this.resetInput(t)),this.resetPlaceholder(),this.createMissingConditionsAndOperators(),this.lastUiCompletePosition=null,e||this.onUiChanged(),br.resolve()}resetType(e){const r=this.localeService.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator");e.setValue(this.optionsFactory.getDefaultOption(),!0).setAriaLabel(r).setDisabled(this.isReadOnly()||this.filterListOptions.length<=1)}resetJoinOperatorAnd(e,t,r){this.resetJoinOperator(e,t,this.isDefaultOperator("AND"),this.translate("andCondition"),r)}resetJoinOperatorOr(e,t,r){this.resetJoinOperator(e,t,this.isDefaultOperator("OR"),this.translate("orCondition"),r)}resetJoinOperator(e,t,r,n,i){this.updateJoinOperatorDisabled(e.setValue(r,!0).setName(`ag-simple-filter-and-or-${this.getCompId()}-${i}`).setLabel(n),t)}updateJoinOperatorsDisabled(){this.eJoinOperatorsAnd.forEach((e,t)=>this.updateJoinOperatorDisabled(e,t)),this.eJoinOperatorsOr.forEach((e,t)=>this.updateJoinOperatorDisabled(e,t))}updateJoinOperatorDisabled(e,t){e.setDisabled(this.isReadOnly()||t>0)}resetInput(e){this.setElementValue(e,null),this.setElementDisabled(e,this.isReadOnly())}setConditionIntoUi(e,t){const r=this.mapValuesFromModel(e);this.forEachInput((n,i,s)=>{s===t&&this.setElementValue(n,r[i]!=null?r[i]:null)})}setValueFromFloatingFilter(e){this.forEachInput((t,r,n)=>{this.setElementValue(t,r===0&&n===0?e:null,!0)})}isDefaultOperator(e){return e===this.defaultJoinOperator}addChangedListeners(e,t){this.isReadOnly()||(e.onValueChange(this.listener),this.forEachPositionInput(t,r=>{this.attachElementOnChange(r,this.listener)}))}individualConditionPasses(e,t){const r=this.getCellValue(e.node),n=this.mapValuesFromModel(t),i=this.optionsFactory.getCustomOption(t.type),s=this.evaluateCustomFilter(i,n,r);return s??(r==null?this.evaluateNullValue(t.type):this.evaluateNonNullValue(n,r,t,e))}evaluateCustomFilter(e,t,r){if(e==null)return;const{predicate:n}=e;if(n!=null&&!t.some(i=>i==null))return n(t,r)}isBlank(e){return e==null||typeof e=="string"&&e.trim().length===0}hasInvalidInputs(){return!1}},TR=class extends ER{setParams(e){super.setParams(e),this.scalarFilterParams=e}evaluateNullValue(e){switch(e){case"equals":case"notEqual":if(this.scalarFilterParams.includeBlanksInEquals)return!0;break;case"greaterThan":case"greaterThanOrEqual":if(this.scalarFilterParams.includeBlanksInGreaterThan)return!0;break;case"lessThan":case"lessThanOrEqual":if(this.scalarFilterParams.includeBlanksInLessThan)return!0;break;case"inRange":if(this.scalarFilterParams.includeBlanksInRange)return!0;break;case"blank":return!0;case"notBlank":return!1}return!1}evaluateNonNullValue(e,t,r){const n=this.comparator(),i=e[0]!=null?n(e[0],t):0;switch(r.type){case"equals":return i===0;case"notEqual":return i!==0;case"greaterThan":return i>0;case"greaterThanOrEqual":return i>=0;case"lessThan":return i<0;case"lessThanOrEqual":return i<=0;case"inRange":{const s=n(e[1],t);return this.scalarFilterParams.inRangeInclusive?i>=0&&s<=0:i>0&&s<0}case"blank":return this.isBlank(t);case"notBlank":return!this.isBlank(t);default:return ke('Unexpected type of filter "'+r.type+'", it looks like the filter was configured with incorrect Filter Options'),!0}}},q7=65,Y7=67,X7=86,Q7=68,Z7=90,J7=89;function PR(e){var r;return e.altKey||e.ctrlKey||e.metaKey?!1:((r=e.key)==null?void 0:r.length)===1}function uv(e,t,r,n,i){const s=n?n.getColDef().suppressKeyboardEvent:void 0;if(!s)return!1;const o=e.addGridCommonParams({event:t,editing:i,column:n,node:r,data:r.data,colDef:n.getColDef()});return!!(s&&s(o))}function e9(e,t,r,n){const i=n.getDefinition(),s=i&&i.suppressHeaderKeyboardEvent;if(!je(s))return!1;const o=e.addGridCommonParams({colDef:i,column:n,headerRowIndex:r,event:t});return!!s(o)}function t9(e){const{keyCode:t}=e;let r;switch(t){case q7:r=Se.A;break;case Y7:r=Se.C;break;case X7:r=Se.V;break;case Q7:r=Se.D;break;case Z7:r=Se.Z;break;case J7:r=Se.Y;break;default:r=e.code}return r}function r9(e,t=!1){return e===Se.DELETE?!0:!t&&e===Se.BACKSPACE?eR():!1}var ca=class extends Fo{constructor(e,t="ag-text-field",r="text"){super(e,t,r)}postConstruct(){super.postConstruct(),this.config.allowedCharPattern&&this.preventDisallowedCharacters()}setValue(e,t){return this.eInput.value!==e&&(this.eInput.value=je(e)?e:""),super.setValue(e,t)}setStartValue(e){this.setValue(e,!0)}preventDisallowedCharacters(){const e=new RegExp(`[${this.config.allowedCharPattern}]`),t=r=>{PR(r)&&r.key&&!e.test(r.key)&&r.preventDefault()};this.addManagedListeners(this.eInput,{keydown:t,paste:r=>{var i;const n=(i=r.clipboardData)==null?void 0:i.getData("text");n&&n.split("").some(s=>!e.test(s))&&r.preventDefault()}})}},Nf={selector:"AG-INPUT-TEXT-FIELD",component:ca},my=class extends ca{constructor(e){super(e,"ag-number-field","number")}postConstruct(){super.postConstruct(),this.addManagedListeners(this.eInput,{blur:()=>{const i=parseFloat(this.eInput.value),s=isNaN(i)?"":this.normalizeValue(i.toString());this.value!==s&&this.setValue(s)},wheel:this.onWheel.bind(this)}),this.eInput.step="any";const{precision:e,min:t,max:r,step:n}=this.config;typeof e=="number"&&this.setPrecision(e),typeof t=="number"&&this.setMin(t),typeof r=="number"&&this.setMax(r),typeof n=="number"&&this.setStep(n)}onWheel(e){this.gos.getActiveDomElement()===this.eInput&&e.preventDefault()}normalizeValue(e){if(e==="")return"";this.precision!=null&&(e=this.adjustPrecision(e));const t=parseFloat(e);return this.min!=null&&t<this.min?e=this.min.toString():this.max!=null&&t>this.max&&(e=this.max.toString()),e}adjustPrecision(e,t){if(this.precision==null)return e;if(t){const n=parseFloat(e).toFixed(this.precision);return parseFloat(n).toString()}const r=String(e).split(".");if(r.length>1){if(r[1].length<=this.precision)return e;if(this.precision>0)return`${r[0]}.${r[1].slice(0,this.precision)}`}return r[0]}setMin(e){return this.min===e?this:(this.min=e,Zn(this.eInput,"min",e),this)}setMax(e){return this.max===e?this:(this.max=e,Zn(this.eInput,"max",e),this)}setPrecision(e){return this.precision=e,this}setStep(e){return this.step===e?this:(this.step=e,Zn(this.eInput,"step",e),this)}setValue(e,t){return this.setValueOrInputValue(r=>super.setValue(r,t),()=>this,e)}setStartValue(e){return this.setValueOrInputValue(t=>super.setValue(t,!0),t=>{this.eInput.value=t},e)}setValueOrInputValue(e,t,r){if(je(r)){let n=this.isScientificNotation(r);if(n&&this.eInput.validity.valid)return e(r);if(!n){r=this.adjustPrecision(r);const i=this.normalizeValue(r);n=r!=i}if(n)return t(r)}return e(r)}getValue(){if(!this.eInput.validity.valid)return;const e=this.eInput.value;return this.isScientificNotation(e)?this.adjustPrecision(e,!0):super.getValue()}isScientificNotation(e){return typeof e=="string"&&e.includes("e")}},n9={selector:"AG-INPUT-NUMBER-FIELD",component:my},_R=["equals","notEqual","greaterThan","greaterThanOrEqual","lessThan","lessThanOrEqual","inRange","blank","notBlank"],vy=class{constructor(e,t,r){this.localeService=e,this.optionsFactory=t,this.valueFormatter=r}getModelAsString(e){if(!e)return null;const t=e.operator!=null,r=this.localeService.getLocaleTextFunc();if(t){const n=e,s=(n.conditions??[]).map(a=>this.getModelAsString(a)),o=n.operator==="AND"?"andCondition":"orCondition";return s.join(` ${r(o,xR[o])} `)}else{if(e.type==="blank"||e.type==="notBlank")return r(e.type,e.type);{const n=e,i=this.optionsFactory.getCustomOption(n.type),{displayKey:s,displayName:o,numberOfInputs:a}=i||{};return s&&o&&a===0?(r(s,o),o):this.conditionToString(n,i)}}}updateParams(e){this.optionsFactory=e.optionsFactory}formatValue(e){return this.valueFormatter?this.valueFormatter(e??null)??"":String(e)}},MR=class extends vy{conditionToString(e,t){const{numberOfInputs:r}=t||{};return e.type=="inRange"||r===2?`${this.formatValue(e.filter)}-${this.formatValue(e.filterTo)}`:e.filter!=null?this.formatValue(e.filter):`${e.type}`}};function dv(e){const{allowedCharPattern:t}=e??{};return t??null}var i9=class extends TR{constructor(){super("numberFilter"),this.eValuesFrom=[],this.eValuesTo=[]}refresh(e){return this.numberFilterParams.allowedCharPattern!==e.allowedCharPattern?!1:super.refresh(e)}mapValuesFromModel(e){const{filter:t,filterTo:r,type:n}=e||{};return[this.processValue(t),this.processValue(r)].slice(0,this.getNumberOfInputs(n))}getDefaultDebounceMs(){return 500}comparator(){return(e,t)=>e===t?0:e<t?1:-1}setParams(e){this.numberFilterParams=e,super.setParams(e),this.filterModelFormatter=new MR(this.localeService,this.optionsFactory,this.numberFilterParams.numberFormatter)}getDefaultFilterOptions(){return _R}setElementValue(e,t,r){const n=!r&&this.numberFilterParams.numberFormatter?this.numberFilterParams.numberFormatter(t??null):t;super.setElementValue(e,n)}createValueElement(){const e=dv(this.numberFilterParams),t=document.createElement("div");return t.classList.add("ag-filter-body"),Pi(t,"presentation"),this.createFromToElement(t,this.eValuesFrom,"from",e),this.createFromToElement(t,this.eValuesTo,"to",e),t}createFromToElement(e,t,r,n){const i=this.createManagedBean(n?new ca({allowedCharPattern:n}):new my);i.addCssClass(`ag-filter-${r}`),i.addCssClass("ag-filter-filter"),t.push(i),e.appendChild(i.getGui())}removeValueElements(e,t){this.removeComponents(this.eValuesFrom,e,t),this.removeComponents(this.eValuesTo,e,t)}getValues(e){const t=[];return this.forEachPositionInput(e,(r,n,i,s)=>{n<s&&t.push(this.processValue(this.stringToFloat(r.getValue())))}),t}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}getFilterType(){return"number"}processValue(e){return e==null||isNaN(e)?null:e}stringToFloat(e){if(typeof e=="number")return e;let t=is(e);return t!=null&&t.trim()===""&&(t=null),this.numberFilterParams.numberParser?this.numberFilterParams.numberParser(t):t==null||t.trim()==="-"?null:parseFloat(t)}createCondition(e){const t=this.getConditionType(e),r={filterType:this.getFilterType(),type:t},n=this.getValues(e);return n.length>0&&(r.filter=n[0]),n.length>1&&(r.filterTo=n[1]),r}getInputs(e){return e>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[e],this.eValuesTo[e]]}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e)??""}hasInvalidInputs(){let e=!1;return this.forEachInput(t=>{if(!t.getInputElement().validity.valid){e=!0;return}}),e}},kR=["contains","notContains","equals","notEqual","startsWith","endsWith","blank","notBlank"],FR=class extends vy{conditionToString(e,t){const{numberOfInputs:r}=t||{};return e.type=="inRange"||r===2?`${e.filter}-${e.filterTo}`:e.filter!=null?`${e.filter}`:`${e.type}`}};function AR(e){const t=e&&e.trim();return t===""?e:t}var s9=class extends ER{constructor(){super("textFilter"),this.defaultFormatter=e=>e,this.defaultLowercaseFormatter=e=>e==null?null:e.toString().toLowerCase(),this.defaultMatcher=({filterOption:e,value:t,filterText:r})=>{if(r==null)return!1;switch(e){case"contains":return t.indexOf(r)>=0;case"notContains":return t.indexOf(r)<0;case"equals":return t===r;case"notEqual":return t!=r;case"startsWith":return t.indexOf(r)===0;case"endsWith":{const n=t.lastIndexOf(r);return n>=0&&n===t.length-r.length}default:return!1}},this.eValuesFrom=[],this.eValuesTo=[]}getDefaultDebounceMs(){return 500}setParams(e){this.textFilterParams=e,super.setParams(e),this.matcher=this.getTextMatcher(),this.formatter=this.textFilterParams.textFormatter||(this.textFilterParams.caseSensitive?this.defaultFormatter:this.defaultLowercaseFormatter),this.filterModelFormatter=new FR(this.localeService,this.optionsFactory)}getTextMatcher(){const e=this.textFilterParams.textCustomComparator;return e?(ke("textCustomComparator is deprecated, use textMatcher instead."),({filterOption:t,value:r,filterText:n})=>e(t,r,n)):this.textFilterParams.textMatcher||this.defaultMatcher}createCondition(e){const t=this.getConditionType(e),r={filterType:this.getFilterType(),type:t},n=this.getValuesWithSideEffects(e,!0);return n.length>0&&(r.filter=n[0]),n.length>1&&(r.filterTo=n[1]),r}getFilterType(){return"text"}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}getInputs(e){return e>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[e],this.eValuesTo[e]]}getValues(e){return this.getValuesWithSideEffects(e,!1)}getValuesWithSideEffects(e,t){const r=[];return this.forEachPositionInput(e,(n,i,s,o)=>{if(i<o){let a=is(n.getValue());t&&this.textFilterParams.trimInput&&(a=AR(a)??null,n.setValue(a,!0)),r.push(a)}}),r}getDefaultFilterOptions(){return kR}createValueElement(){const e=document.createElement("div");return e.classList.add("ag-filter-body"),Pi(e,"presentation"),this.createFromToElement(e,this.eValuesFrom,"from"),this.createFromToElement(e,this.eValuesTo,"to"),e}createFromToElement(e,t,r){const n=this.createManagedBean(new ca);n.addCssClass(`ag-filter-${r}`),n.addCssClass("ag-filter-filter"),t.push(n),e.appendChild(n.getGui())}removeValueElements(e,t){this.removeComponents(this.eValuesFrom,e,t),this.removeComponents(this.eValuesTo,e,t)}mapValuesFromModel(e){const{filter:t,filterTo:r,type:n}=e||{};return[t||null,r||null].slice(0,this.getNumberOfInputs(n))}evaluateNullValue(e){return e?["notEqual","notContains","blank"].indexOf(e)>=0:!1}evaluateNonNullValue(e,t,r,n){const i=e.map(d=>this.formatter(d))||[],s=this.formatter(t),{api:o,colDef:a,column:l,context:c,textFormatter:u}=this.textFilterParams;if(r.type==="blank")return this.isBlank(t);if(r.type==="notBlank")return!this.isBlank(t);const f={api:o,colDef:a,column:l,context:c,node:n.node,data:n.data,filterOption:r.type,value:s,textFormatter:u};return i.some(d=>this.matcher({...f,filterText:d}))}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e)??""}};function OR(e){if(typeof e=="number")return e;if(typeof e=="string"){const t=parseInt(e);return isNaN(t)?void 0:t}}function ki(e,t=Number.MAX_VALUE){return r=>{const n=OR(r);if(!(n==null||n<e||n>t))return n}}function Ic(e,t){return e.toString().padStart(t,"0")}function o9(e,t){const r=[];for(let n=e;n<=t;n++)r.push(n);return r}function a9(e,t,r){return typeof e!="number"?"":e.toString().replace(".",r).replace(/(\d)(?=(\d{3})+(?!\d))/g,`$1${t}`)}function Jn(e,t=!0,r="-"){if(!e)return null;let n=[e.getFullYear(),e.getMonth()+1,e.getDate()].map(i=>Ic(i,2)).join(r);return t&&(n+=" "+[e.getHours(),e.getMinutes(),e.getSeconds()].map(i=>Ic(i,2)).join(":")),n}var Lp=e=>{if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"};function Nc(e,t="YYYY-MM-DD"){const r=Ic(e.getFullYear(),4),n=["January","February","March","April","May","June","July","August","September","October","November","December"],i=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],s={YYYY:()=>r.slice(r.length-4,r.length),YY:()=>r.slice(r.length-2,r.length),Y:()=>`${e.getFullYear()}`,MMMM:()=>n[e.getMonth()],MMM:()=>n[e.getMonth()].slice(0,3),MM:()=>Ic(e.getMonth()+1,2),Mo:()=>`${e.getMonth()+1}${Lp(e.getMonth()+1)}`,M:()=>`${e.getMonth()+1}`,Do:()=>`${e.getDate()}${Lp(e.getDate())}`,DD:()=>Ic(e.getDate(),2),D:()=>`${e.getDate()}`,dddd:()=>i[e.getDay()],ddd:()=>i[e.getDay()].slice(0,3),dd:()=>i[e.getDay()].slice(0,2),do:()=>`${e.getDay()}${Lp(e.getDay())}`,d:()=>`${e.getDay()}`},o=new RegExp(Object.keys(s).join("|"),"g");return t.replace(o,a=>a in s?s[a]():a)}function vn(e){if(!e)return null;const[t,r]=e.split(" ");if(!t)return null;const n=t.split("-").map(f=>parseInt(f,10));if(n.filter(f=>!isNaN(f)).length!==3)return null;const[i,s,o]=n,a=new Date(i,s-1,o);if(a.getFullYear()!==i||a.getMonth()!==s-1||a.getDate()!==o)return null;if(!r||r==="00:00:00")return a;const[l,c,u]=r.split(":").map(f=>parseInt(f,10));return l>=0&&l<24&&a.setHours(l),c>=0&&c<60&&a.setMinutes(c),u>=0&&u<60&&a.setSeconds(u),a}var DR=class{constructor(e,t,r,n,i){this.alive=!0,this.context=e,this.eParent=n,t.getDateCompDetails(r).newAgStackInstance().then(a=>{if(!this.alive){e.destroyBean(a);return}this.dateComp=a,a&&(n.appendChild(a.getGui()),a.afterGuiAttached&&a.afterGuiAttached(),this.tempValue&&a.setDate(this.tempValue),this.disabled!=null&&this.setDateCompDisabled(this.disabled),i==null||i(this))})}destroy(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)}getDate(){return this.dateComp?this.dateComp.getDate():this.tempValue}setDate(e){this.dateComp?this.dateComp.setDate(e):this.tempValue=e}setDisabled(e){this.dateComp?this.setDateCompDisabled(e):this.disabled=e}setDisplayed(e){fr(this.eParent,e)}setInputPlaceholder(e){this.dateComp&&this.dateComp.setInputPlaceholder&&this.dateComp.setInputPlaceholder(e)}setInputAriaLabel(e){this.dateComp&&this.dateComp.setInputAriaLabel&&this.dateComp.setInputAriaLabel(e)}afterGuiAttached(e){this.dateComp&&typeof this.dateComp.afterGuiAttached=="function"&&this.dateComp.afterGuiAttached(e)}updateParams(e){var r,n;let t=!1;(r=this.dateComp)!=null&&r.refresh&&typeof this.dateComp.refresh=="function"&&this.dateComp.refresh(e)!==null&&(t=!0),!t&&((n=this.dateComp)!=null&&n.onParamsUpdated)&&typeof this.dateComp.onParamsUpdated=="function"&&this.dateComp.onParamsUpdated(e)!==null&&ke("Custom date component method 'onParamsUpdated' is deprecated. Use 'refresh' instead.")}setDateCompDisabled(e){this.dateComp!=null&&this.dateComp.setDisabled!=null&&this.dateComp.setDisabled(e)}},IR=["equals","notEqual","lessThan","greaterThan","inRange","blank","notBlank"],NR=class extends vy{constructor(e,t,r){super(t,r),this.dateFilterParams=e}conditionToString(e,t){const{type:r}=e,{numberOfInputs:n}=t||{},i=r=="inRange"||n===2,s=vn(e.dateFrom),o=vn(e.dateTo),a=this.dateFilterParams.inRangeFloatingFilterDateFormat;if(i){const l=s!==null?Nc(s,a):"null",c=o!==null?Nc(o,a):"null";return`${l}-${c}`}return s!=null?Nc(s,a):`${r}`}updateParams(e){super.updateParams(e),this.dateFilterParams=e.dateFilterParams}},Xw=1e3,Qw=1/0,l9=class extends TR{constructor(){super("dateFilter"),this.eConditionPanelsFrom=[],this.eConditionPanelsTo=[],this.dateConditionFromComps=[],this.dateConditionToComps=[],this.minValidYear=Xw,this.maxValidYear=Qw,this.minValidDate=null,this.maxValidDate=null}wireBeans(e){super.wireBeans(e),this.context=e.context,this.userComponentFactory=e.userComponentFactory}afterGuiAttached(e){super.afterGuiAttached(e),this.dateConditionFromComps[0].afterGuiAttached(e)}mapValuesFromModel(e){const{dateFrom:t,dateTo:r,type:n}=e||{};return[t&&vn(t)||null,r&&vn(r)||null].slice(0,this.getNumberOfInputs(n))}comparator(){return this.dateFilterParams.comparator?this.dateFilterParams.comparator:this.defaultComparator.bind(this)}defaultComparator(e,t){const r=t;return t==null||r<e?-1:r>e?1:0}setParams(e){this.dateFilterParams=e,super.setParams(e);const t=(r,n)=>{if(e[r]!=null)if(isNaN(e[r]))ke(`DateFilter ${r} is not a number`);else return e[r]==null?n:Number(e[r]);return n};this.minValidYear=t("minValidYear",Xw),this.maxValidYear=t("maxValidYear",Qw),this.minValidYear>this.maxValidYear&&ke("DateFilter minValidYear should be <= maxValidYear"),e.minValidDate?this.minValidDate=e.minValidDate instanceof Date?e.minValidDate:vn(e.minValidDate):this.minValidDate=null,e.maxValidDate?this.maxValidDate=e.maxValidDate instanceof Date?e.maxValidDate:vn(e.maxValidDate):this.maxValidDate=null,this.minValidDate&&this.maxValidDate&&this.minValidDate>this.maxValidDate&&ke("DateFilter minValidDate should be <= maxValidDate"),this.filterModelFormatter=new NR(this.dateFilterParams,this.localeService,this.optionsFactory)}createDateCompWrapper(e){const t=new DR(this.context,this.userComponentFactory,{onDateChanged:()=>this.onUiChanged(),filterParams:this.dateFilterParams},e);return this.addDestroyFunc(()=>t.destroy()),t}setElementValue(e,t){e.setDate(t)}setElementDisplayed(e,t){e.setDisplayed(t)}setElementDisabled(e,t){e.setDisabled(t)}getDefaultFilterOptions(){return IR}createValueElement(){const t=this.gos.getDocument().createElement("div");return t.classList.add("ag-filter-body"),this.createFromToElement(t,this.eConditionPanelsFrom,this.dateConditionFromComps,"from"),this.createFromToElement(t,this.eConditionPanelsTo,this.dateConditionToComps,"to"),t}createFromToElement(e,t,r,n){const s=this.gos.getDocument().createElement("div");s.classList.add(`ag-filter-${n}`),s.classList.add(`ag-filter-date-${n}`),t.push(s),e.appendChild(s),r.push(this.createDateCompWrapper(s))}removeValueElements(e,t){this.removeDateComps(this.dateConditionFromComps,e,t),this.removeDateComps(this.dateConditionToComps,e,t),this.removeItems(this.eConditionPanelsFrom,e,t),this.removeItems(this.eConditionPanelsTo,e,t)}removeDateComps(e,t,r){this.removeItems(e,t,r).forEach(i=>i.destroy())}isValidDateValue(e){if(e===null)return!1;if(this.minValidDate){if(e<this.minValidDate)return!1}else if(e.getUTCFullYear()<this.minValidYear)return!1;if(this.maxValidDate){if(e>this.maxValidDate)return!1}else if(e.getUTCFullYear()>this.maxValidYear)return!1;return!0}isConditionUiComplete(e){if(!super.isConditionUiComplete(e))return!1;let t=!0;return this.forEachInput((r,n,i,s)=>{i!==e||!t||n>=s||(t=t&&this.isValidDateValue(r.getDate()))}),t}areSimpleModelsEqual(e,t){return e.dateFrom===t.dateFrom&&e.dateTo===t.dateTo&&e.type===t.type}getFilterType(){return"date"}createCondition(e){const t=this.getConditionType(e),r={},n=this.getValues(e);return n.length>0&&(r.dateFrom=Jn(n[0])),n.length>1&&(r.dateTo=Jn(n[1])),{dateFrom:null,dateTo:null,filterType:this.getFilterType(),type:t,...r}}resetPlaceholder(){const e=this.localeService.getLocaleTextFunc(),t=this.translate("dateFormatOoo"),r=e("ariaFilterValue","Filter Value");this.forEachInput(n=>{n.setInputPlaceholder(t),n.setInputAriaLabel(r)})}getInputs(e){return e>=this.dateConditionFromComps.length?[null,null]:[this.dateConditionFromComps[e],this.dateConditionToComps[e]]}getValues(e){const t=[];return this.forEachPositionInput(e,(r,n,i,s)=>{n<s&&t.push(r.getDate())}),t}translate(e){return e==="lessThan"?super.translate("before"):e==="greaterThan"?super.translate("after"):super.translate(e)}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e)??""}},yy=class extends Re{constructor(e,t,r,n){super(),this.columnOrGroup=e,this.columnOrGroup=e,this.eCell=t,this.ariaEl=this.eCell.querySelector("[role=columnheader]")||this.eCell,this.colsSpanning=n,this.beans=r}setColsSpanning(e){this.colsSpanning=e,this.onLeftChanged()}getColumnOrGroup(){return this.beans.gos.get("enableRtl")&&this.colsSpanning?Ot(this.colsSpanning):this.columnOrGroup}postConstruct(){const e=this.onLeftChanged.bind(this);this.addManagedListeners(this.columnOrGroup,{leftChanged:e}),this.setLeftFirstTime(),this.addManagedEventListeners({displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}setLeftFirstTime(){const e=this.beans.gos.get("suppressColumnMoveAnimation"),t=je(this.columnOrGroup.getOldLeft());this.beans.columnAnimationService.isActive()&&t&&!e?this.animateInLeft():this.onLeftChanged()}animateInLeft(){const e=this.getColumnOrGroup(),t=e.getLeft(),r=e.getOldLeft(),n=this.modifyLeftForPrintLayout(e,r),i=this.modifyLeftForPrintLayout(e,t);this.setLeft(n),this.actualLeft=i,this.beans.columnAnimationService.executeNextVMTurn(()=>{this.actualLeft===i&&this.setLeft(i)})}onLeftChanged(){const e=this.getColumnOrGroup(),t=e.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(e,t),this.setLeft(this.actualLeft)}modifyLeftForPrintLayout(e,t){if(!this.beans.gos.isDomLayout("print")||e.getPinned()==="left")return t;const n=this.beans.visibleColsService.getColsLeftWidth();if(e.getPinned()==="right"){const i=this.beans.visibleColsService.getBodyContainerWidth();return n+i+t}return n+t}setLeft(e){if(je(e)&&(this.eCell.style.left=`${e}px`),Cr(this.columnOrGroup)){const t=this.columnOrGroup.getLeafColumns();if(!t.length)return;t.length>1&&_I(this.ariaEl,t.length)}}},c9="ag-column-first",u9="ag-column-last";function LR(e,t,r,n){return _t(e)?[]:h9(e.headerClass,e,t,r,n)}function jR(e,t,r){e.addOrRemoveCssClass(c9,r.isColAtEdge(t,"first")),e.addOrRemoveCssClass(u9,r.isColAtEdge(t,"last"))}function d9(e,t,r,n){return t.addGridCommonParams({colDef:e,column:r,columnGroup:n})}function h9(e,t,r,n,i){if(_t(e))return[];let s;if(typeof e=="function"){const o=d9(t,r,n,i);s=e(o)}else s=e;return typeof s=="string"?[s]:Array.isArray(s)?[...s]:[]}var f9=0,BR=class HR extends Re{constructor(t,r,n){super(),this.resizeToggleTimeout=0,this.resizeMultiplier=1,this.resizeFeature=null,this.lastFocusEvent=null,this.dragSource=null,this.columnGroupChild=t,this.parentRowCtrl=n,this.beans=r,this.instanceId=t.getUniqueId()+"-"+f9++}wireBeans(t){this.pinnedWidthService=t.pinnedWidthService,this.focusService=t.focusService,this.userComponentFactory=t.userComponentFactory,this.ctrlsService=t.ctrlsService,this.dragAndDropService=t.dragAndDropService,this.menuService=t.menuService}postConstruct(){const t=this.refreshTabIndex.bind(this);this.addManagedPropertyListeners(["suppressHeaderFocus"],t),this.addManagedEventListeners({overlayExclusiveChanged:t})}shouldStopEventPropagation(t){const{headerRowIndex:r,column:n}=this.focusService.getFocusedHeader();return e9(this.gos,t,r,n)}getWrapperHasFocus(){return this.gos.getActiveDomElement()===this.eGui}setGui(t){this.eGui=t,this.addDomData(t),this.addManagedListeners(this.beans.eventService,{displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this)}),this.addManagedElementListeners(this.eGui,{focus:this.onGuiFocus.bind(this)}),this.onDisplayedColumnsChanged(),this.refreshTabIndex()}onGuiFocus(){this.eventService.dispatchEvent({type:"headerFocused",column:this.column})}setupAutoHeight(t){const{wrapperElement:r,checkMeasuringCallback:n}=t,{animationFrameService:i,resizeObserverService:s,columnModel:o,gos:a}=this.beans,l=g=>{if(!this.isAlive())return;const{paddingTop:v,paddingBottom:p,borderBottomWidth:y,borderTopWidth:m}=aa(this.getGui()),b=v+p+y+m,P=r.offsetHeight+b;if(g<5){const F=a.getDocument(),D=!F||!F.contains(r),O=P==0;if(D||O){i.requestAnimationFrame(()=>l(g+1));return}}o.setColHeaderHeight(this.column,P)};let c=!1,u;const f=()=>{const g=this.column.isAutoHeaderHeight();g&&!c&&d(),!g&&c&&h()},d=()=>{c=!0,l(0),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!0),u=s.observeResize(r,()=>l(0))},h=()=>{c=!1,u&&u(),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!1),u=void 0};f(),this.addDestroyFunc(()=>h()),this.addManagedListeners(this.column,{widthChanged:()=>c&&l(0)}),this.addManagedEventListeners({sortChanged:()=>{c&&window.setTimeout(()=>l(0))}}),n&&n(f)}onDisplayedColumnsChanged(){const{comp:t,column:r,beans:n,eGui:i}=this;!t||!r||!i||(jR(t,r,n.visibleColsService),Q3(i,n.visibleColsService.getAriaColIndex(r)))}addResizeAndMoveKeyboardListeners(t){this.resizeFeature&&this.addManagedListeners(t,{keydown:this.onGuiKeyDown.bind(this),keyup:this.onGuiKeyUp.bind(this)})}refreshTabIndex(){const t=this.focusService.isHeaderFocusSuppressed();this.eGui&&Zn(this.eGui,"tabindex",t?null:"-1")}onGuiKeyDown(t){var o;const r=this.gos.getActiveDomElement(),n=t.key===Se.LEFT||t.key===Se.RIGHT;if(this.isResizing&&(t.preventDefault(),t.stopImmediatePropagation()),r!==this.eGui||!t.shiftKey&&!t.altKey||((this.isResizing||n)&&(t.preventDefault(),t.stopImmediatePropagation()),!n))return;const i=t.key===Se.LEFT!==this.gos.get("enableRtl"),s=yR[i?"Left":"Right"];if(t.altKey){this.isResizing=!0,this.resizeMultiplier+=1;const a=this.getViewportAdjustedResizeDiff(t);this.resizeHeader(a,t.shiftKey),(o=this.resizeFeature)==null||o.toggleColumnResizing(!0)}else this.moveHeader(s)}getViewportAdjustedResizeDiff(t){let r=this.getResizeDiff(t);if(this.column.getPinned()){const i=this.pinnedWidthService.getPinnedLeftWidth(),s=this.pinnedWidthService.getPinnedRightWidth(),o=Iu(this.ctrlsService.getGridBodyCtrl().getBodyViewportElement())-50;if(i+s+r>o)if(o>i+s)r=o-i-s;else return 0}return r}getResizeDiff(t){let r=t.key===Se.LEFT!==this.gos.get("enableRtl");const n=this.column.getPinned(),i=this.gos.get("enableRtl");return n&&i!==(n==="right")&&(r=!r),(r?-1:1)*this.resizeMultiplier}onGuiKeyUp(){this.isResizing&&(this.resizeToggleTimeout&&(window.clearTimeout(this.resizeToggleTimeout),this.resizeToggleTimeout=0),this.isResizing=!1,this.resizeMultiplier=1,this.resizeToggleTimeout=window.setTimeout(()=>{var t;(t=this.resizeFeature)==null||t.toggleColumnResizing(!1)},150))}handleKeyDown(t){const r=this.getWrapperHasFocus();switch(t.key){case Se.PAGE_DOWN:case Se.PAGE_UP:case Se.PAGE_HOME:case Se.PAGE_END:r&&t.preventDefault()}}addDomData(t){const r=HR.DOM_DATA_KEY_HEADER_CTRL;this.gos.setDomData(t,r,this),this.addDestroyFunc(()=>this.gos.setDomData(t,r,null))}getGui(){return this.eGui}focus(t){return this.eGui?(this.lastFocusEvent=t||null,this.eGui.focus(),!0):!1}getRowIndex(){return this.parentRowCtrl.getRowIndex()}getParentRowCtrl(){return this.parentRowCtrl}getPinned(){return this.parentRowCtrl.getPinned()}getInstanceId(){return this.instanceId}getColumnGroupChild(){return this.columnGroupChild}removeDragSource(){this.dragSource&&(this.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null)}handleContextMenuMouseEvent(t,r,n){const i=t??r;this.gos.get("preventDefaultOnContextMenu")&&i.preventDefault();const s=no(n)?n:void 0;this.menuService.isHeaderContextMenuEnabled(s)&&this.menuService.showHeaderContextMenu(s,t,r),this.dispatchColumnMouseEvent("columnHeaderContextMenu",n)}dispatchColumnMouseEvent(t,r){this.eventService.dispatchEvent({type:t,column:r})}destroy(){super.destroy(),this.removeDragSource(),this.comp=null,this.column=null,this.resizeFeature=null,this.lastFocusEvent=null,this.columnGroupChild=null,this.parentRowCtrl=null,this.eGui=null}};BR.DOM_DATA_KEY_HEADER_CTRL="headerCtrl";var Lf=BR,by=class extends Re{wireBeans(e){this.columnHoverService=e.columnHoverService}constructor(e,t){super(),this.columns=e,this.element=t}postConstruct(){this.gos.get("columnHoverHighlight")&&this.addMouseHoverListeners()}addMouseHoverListeners(){this.addManagedListeners(this.element,{mouseout:this.onMouseOut.bind(this),mouseover:this.onMouseOver.bind(this)})}onMouseOut(){this.columnHoverService.clearMouseOver()}onMouseOver(){this.columnHoverService.setMouseOver(this.columns)}},p9=class extends Lf{constructor(e,t,r){super(e,t,r),this.iconCreated=!1,this.column=e}setComp(e,t,r,n){this.comp=e,this.eButtonShowMainFilter=r,this.eFloatingFilterBody=n,this.setGui(t),this.setupActive(),this.setupWidth(),this.setupLeft(),this.setupHover(),this.setupFocus(),this.setupAria(),this.setupFilterButton(),this.setupUserComp(),this.setupSyncWithFilter(),this.setupUi(),this.addManagedElementListeners(this.eButtonShowMainFilter,{click:this.showParentFilter.bind(this)}),this.setupFilterChangedListener(),this.addManagedListeners(this.column,{colDefChanged:this.onColDefChanged.bind(this)})}resizeHeader(){}moveHeader(){}setupActive(){const e=this.column.getColDef(),t=!!e.filter,r=!!e.floatingFilter;this.active=t&&r}setupUi(){if(this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton),!this.active||this.iconCreated)return;const e=kn("filter",this.gos,this.column);e&&(this.iconCreated=!0,this.eButtonShowMainFilter.appendChild(e))}setupFocus(){this.createManagedBean(new la(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))}setupAria(){const e=this.localeService.getLocaleTextFunc();bl(this.eButtonShowMainFilter,e("ariaFilterMenuOpen","Open Filter Menu"))}onTabKeyDown(e){if(this.gos.getActiveDomElement()===this.eGui)return;const n=this.focusService.findNextFocusableElement(this.eGui,null,e.shiftKey);if(n){this.beans.headerNavigationService.scrollToColumn(this.column),e.preventDefault(),n.focus();return}const i=this.findNextColumnWithFloatingFilter(e.shiftKey);i&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:this.getParentRowCtrl().getRowIndex(),column:i},event:e})&&e.preventDefault()}findNextColumnWithFloatingFilter(e){const t=this.beans.visibleColsService;let r=this.column;do if(r=e?t.getColBefore(r):t.getColAfter(r),!r)break;while(!r.getColDef().filter||!r.getColDef().floatingFilter);return r}handleKeyDown(e){super.handleKeyDown(e);const t=this.getWrapperHasFocus();switch(e.key){case Se.UP:case Se.DOWN:t||e.preventDefault();case Se.LEFT:case Se.RIGHT:if(t)return;e.stopPropagation();case Se.ENTER:t&&this.focusService.focusInto(this.eGui)&&e.preventDefault();break;case Se.ESCAPE:t||this.eGui.focus()}}onFocusIn(e){if(this.eGui.contains(e.relatedTarget))return;const r=!!e.relatedTarget&&!e.relatedTarget.classList.contains("ag-floating-filter"),n=!!e.relatedTarget&&tl(e.relatedTarget,"ag-floating-filter");if(r&&n&&e.target===this.eGui){const s=this.lastFocusEvent,o=!!(s&&s.key===Se.TAB);if(s&&o){const a=s.shiftKey;this.focusService.focusInto(this.eGui,a)}}const i=this.getRowIndex();this.beans.focusService.setFocusedHeader(i,this.column)}setupHover(){this.createManagedBean(new by([this.column],this.eGui));const e=()=>{if(!this.gos.get("columnHoverHighlight"))return;const t=this.beans.columnHoverService.isHovered(this.column);this.comp.addOrRemoveCssClass("ag-column-hover",t)};this.addManagedEventListeners({columnHoverChanged:e}),e()}setupLeft(){const e=new yy(this.column,this.eGui,this.beans);this.createManagedBean(e)}setupFilterButton(){this.suppressFilterButton=!this.menuService.isFloatingFilterButtonEnabled(this.column),this.highlightFilterButtonWhenActive=!this.menuService.isLegacyMenuEnabled()}setupUserComp(){var t;if(!this.active)return;const e=(t=this.beans.filterManager)==null?void 0:t.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter());e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setCompDetails(e)}showParentFilter(){const e=this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter;this.menuService.showFilterMenu({column:this.column,buttonElement:e,containerType:"floatingFilter",positionBy:"button"})}setupSyncWithFilter(){if(!this.active)return;const{filterManager:e}=this.beans,t=r=>{if((r==null?void 0:r.source)==="filterDestroyed"&&!this.isAlive())return;const n=this.comp.getFloatingFilterComp();n&&n.then(i=>{if(i){const s=e==null?void 0:e.getCurrentFloatingFilterParentModel(this.column),o=r?{...r,columns:r.columns??[],source:r.source==="api"?"api":"columnFilter"}:null;i.onParentModelChanged(s,o)}})};[this.destroySyncListener]=this.addManagedListeners(this.column,{filterChanged:t}),e!=null&&e.isFilterActive(this.column)&&t(null)}setupWidth(){const e=()=>{const t=`${this.column.getActualWidth()}px`;this.comp.setWidth(t)};this.addManagedListeners(this.column,{widthChanged:e}),e()}setupFilterChangedListener(){this.active&&([this.destroyFilterChangedListener]=this.addManagedListeners(this.column,{filterChanged:this.updateFilterButton.bind(this)}),this.updateFilterButton())}updateFilterButton(){var e;if(!this.suppressFilterButton&&this.comp){const t=!!((e=this.beans.filterManager)!=null&&e.isFilterAllowed(this.column));this.comp.setButtonWrapperDisplayed(t),this.highlightFilterButtonWhenActive&&t&&this.eButtonShowMainFilter.classList.toggle("ag-filter-active",this.column.isFilterActive())}}onColDefChanged(){var i;const e=this.active;this.setupActive();const t=!e&&this.active;e&&!this.active&&(this.destroySyncListener(),this.destroyFilterChangedListener());const r=this.active?(i=this.beans.filterManager)==null?void 0:i.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter()):null,n=this.comp.getFloatingFilterComp();!n||!r?this.updateCompDetails(r,t):n.then(s=>{var o;!s||(o=this.beans.filterManager)!=null&&o.areFilterCompsDifferent(this.userCompDetails??null,r)?this.updateCompDetails(r,t):this.updateFloatingFilterParams(r)})}updateCompDetails(e,t){this.isAlive()&&(this.setCompDetails(e),this.setupFilterButton(),this.setupUi(),t&&(this.setupSyncWithFilter(),this.setupFilterChangedListener()))}updateFloatingFilterParams(e){var r;if(!e)return;const t=e.params;(r=this.comp.getFloatingFilterComp())==null||r.then(n=>{let i=!1;n!=null&&n.refresh&&typeof n.refresh=="function"&&n.refresh(t)!==null&&(i=!0),!i&&(n!=null&&n.onParamsUpdated)&&typeof n.onParamsUpdated=="function"&&n.onParamsUpdated(t)!==null&&ke("Custom floating filter method 'onParamsUpdated' is deprecated. Use 'refresh' instead.")})}destroy(){super.destroy(),this.eButtonShowMainFilter=null,this.eFloatingFilterBody=null,this.userCompDetails=null,this.destroySyncListener=null,this.destroyFilterChangedListener=null}};var vt="32.1.0";function g9(e){var t,r;return!!((t=e.filterManager)!=null&&t.isColumnFilterPresent())||!!((r=e.filterManager)!=null&&r.isAggregateFilterPresent())}function m9(e,t,r){var n;return(n=e.filterManager)==null?void 0:n.getFilterInstance(t,r)}function v9(e,t){var r;return((r=e.filterManager)==null?void 0:r.getColumnFilterInstance(t))??Promise.resolve(void 0)}function y9(e,t){var n;const r=e.columnModel.getColDefCol(t);if(r)return(n=e.filterManager)==null?void 0:n.destroyFilter(r,"api")}function b9(e,t){e.frameworkOverrides.wrapIncoming(()=>{var r;return(r=e.filterManager)==null?void 0:r.setFilterModel(t)})}function w9(e){var t;return((t=e.filterManager)==null?void 0:t.getFilterModel())??{}}function C9(e,t){var r;return((r=e.filterManager)==null?void 0:r.getColumnFilterModel(t))??null}function S9(e,t,r){var n;return((n=e.filterManager)==null?void 0:n.setColumnFilterModel(t,r))??Promise.resolve()}function x9(e,t){const r=e.columnModel.getCol(t);if(!r){Vt(`column '${t}' not found`);return}e.menuService.showFilterMenu({column:r,containerType:"columnFilter",positionBy:"auto"})}function R9(e,t,r){if(t==null)return null;let n=null;const{compName:i,jsComp:s,fwComp:o}=mR.getCompKeys(e,t,fy);return i?n={set:"agSetColumnFloatingFilter",agSetColumnFilter:"agSetColumnFloatingFilter",multi:"agMultiColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",group:"agGroupColumnFloatingFilter",agGroupColumnFilter:"agGroupColumnFloatingFilter",number:"agNumberColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",date:"agDateColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",text:"agTextColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"}[i]:s==null&&o==null&&t.filter===!0&&(n=r()),n}var E9=class extends Re{constructor(){super(...arguments),this.beanName="columnFilterService",this.allColumnFilters=new Map,this.allColumnListeners=new Map,this.activeAggregateFilters=[],this.activeColumnFilters=[],this.processingFilterChange=!1,this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue=[]}wireBeans(e){this.valueService=e.valueService,this.columnModel=e.columnModel,this.rowModel=e.rowModel,this.userComponentFactory=e.userComponentFactory,this.rowRenderer=e.rowRenderer,this.dataTypeService=e.dataTypeService,this.filterManager=e.filterManager}postConstruct(){var e,t;this.addManagedEventListeners({gridColumnsChanged:this.onColumnsChanged.bind(this),rowDataUpdated:()=>this.onNewRowsLoaded("rowDataUpdated"),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.initialFilterModel={...((t=(e=this.gos.get("initialState"))==null?void 0:e.filter)==null?void 0:t.filterModel)??{}}}setFilterModel(e,t="api"){var i;if((i=this.dataTypeService)!=null&&i.isPendingInference()){this.filterModelUpdateQueue.push({model:e,source:t});return}const r=[],n=this.getFilterModel(!0);if(e){const s=new Set(Object.keys(e));this.allColumnFilters.forEach((o,a)=>{const l=e[a];r.push(this.setModelOnFilterWrapper(o.filterPromise,l)),s.delete(a)}),s.forEach(o=>{const a=this.columnModel.getColDefCol(o)||this.columnModel.getCol(o);if(!a){ke("setFilterModel() - no column found for colId: "+o);return}if(!a.isFilterAllowed()){ke("setFilterModel() - unable to fully apply model, filtering disabled for colId: "+o);return}const l=this.getOrCreateFilterWrapper(a);if(!l){ke("setFilterModel() - unable to fully apply model, unable to create filter for colId: "+o);return}r.push(this.setModelOnFilterWrapper(l.filterPromise,e[o]))})}else this.allColumnFilters.forEach(s=>{r.push(this.setModelOnFilterWrapper(s.filterPromise,null))});br.all(r).then(()=>{var a;const s=this.getFilterModel(!0),o=[];this.allColumnFilters.forEach((l,c)=>{const u=n?n[c]:null,f=s?s[c]:null;fu(u,f)||o.push(l.column)}),o.length>0&&((a=this.filterManager)==null||a.onFilterChanged({columns:o,source:t}))})}setModelOnFilterWrapper(e,t){return new br(r=>{e.then(n=>{typeof n.setModel!="function"&&(ke("filter missing setModel method, which is needed for setFilterModel"),r()),(n.setModel(t)||br.resolve()).then(()=>r())})})}getFilterModel(e){const t={},{allColumnFilters:r,initialFilterModel:n}=this;return r.forEach((i,s)=>{const o=this.getModelFromFilterWrapper(i);je(o)&&(t[s]=o)}),e||Object.entries(n).forEach(([i,s])=>{var o;je(s)&&!r.has(i)&&((o=this.columnModel.getCol(i))!=null&&o.isFilterAllowed())&&(t[i]=s)}),t}getModelFromFilterWrapper(e){const{filter:t}=e;return t?typeof t.getModel!="function"?(ke("filter API missing getModel method, which is needed for getFilterModel"),null):t.getModel():this.getModelFromInitialState(e.column)}getModelFromInitialState(e){return this.initialFilterModel[e.getColId()]??null}isColumnFilterPresent(){return this.activeColumnFilters.length>0}isAggregateFilterPresent(){return!!this.activeAggregateFilters.length}disableColumnFilters(){return this.allColumnFilters.size?(this.allColumnFilters.forEach(e=>this.disposeFilterWrapper(e,"advancedFilterEnabled")),!0):!1}doAggregateFiltersPass(e,t){return this.doColumnFiltersPass(e,t,!0)}updateActiveFilters(){const e=s=>s?s.isFilterActive?s.isFilterActive():(ke("Filter is missing isFilterActive() method"),!1):!1,t=!!this.gos.getGroupAggFiltering(),r=s=>{if(!s.isPrimary())return!0;const a=!this.columnModel.isPivotActive();return!s.isValueActive()||!a?!1:this.columnModel.isPivotMode()?!0:t},n=[],i=[];return this.forEachColumnFilter((s,o)=>{e(s)&&(r(o.column)?n.push(s):i.push(s))}).then(()=>{this.activeAggregateFilters=n,this.activeColumnFilters=i})}updateFilterFlagInColumns(e,t){return this.forEachColumnFilter((r,n)=>n.column.setFilterActive(r.isFilterActive(),e,t))}forEachColumnFilter(e){return br.all(Array.from(this.allColumnFilters.values()).map(t=>t.filterPromise.then(r=>e(r,t))))}doColumnFiltersPass(e,t,r){const{data:n,aggData:i}=e,s=r?this.activeAggregateFilters:this.activeColumnFilters,o=r?i:n;for(let a=0;a<s.length;a++){const l=s[a];if(!(l==null||l===t)){if(typeof l.doesFilterPass!="function")throw new Error("Filter is missing method doesFilterPass");if(!l.doesFilterPass({node:e,data:o}))return!1}}return!0}callOnFilterChangedOutsideRenderCycle(e){const t=()=>{var r;return(r=this.filterManager)==null?void 0:r.onFilterChanged(e)};this.rowRenderer.isRefreshInProgress()?setTimeout(t,0):t()}updateBeforeFilterChanged(e={}){const{filterInstance:t,additionalEventAttributes:r}=e;return this.updateDependentFilters(),this.updateActiveFilters().then(()=>this.updateFilterFlagInColumns("filterChanged",r).then(()=>{this.allColumnFilters.forEach(n=>{n.filterPromise&&n.filterPromise.then(i=>{i&&i!==t&&i.onAnyFilterChanged&&i.onAnyFilterChanged()})}),this.processingFilterChange=!0}))}updateAfterFilterChanged(){this.processingFilterChange=!1}isSuppressFlashingCellsBecauseFiltering(){return!(this.gos.get("allowShowChangeAfterFilter")??!1)&&this.processingFilterChange}onNewRowsLoaded(e){this.forEachColumnFilter(t=>{t.onNewRowsLoaded&&t.onNewRowsLoaded()}).then(()=>this.updateFilterFlagInColumns(e,{afterDataChange:!0})).then(()=>this.updateActiveFilters())}createValueGetter(e){return({node:t})=>this.valueService.getValue(e,t,!0)}createGetValue(e){return(t,r)=>{const n=r?this.columnModel.getCol(r):e;return n?this.valueService.getValue(n,t,!0):void 0}}isFilterActive(e){const{filter:t}=this.cachedFilter(e)??{};return t?t.isFilterActive():this.getModelFromInitialState(e)!=null}getOrCreateFilterWrapper(e){if(!e.isFilterAllowed())return null;let t=this.cachedFilter(e);return t||(t=this.createFilterWrapper(e),this.setColumnFilterWrapper(e,t)),t}cachedFilter(e){return this.allColumnFilters.get(e.getColId())}getDefaultFilter(e){var r;let t;if(Zr.__isRegistered("@ag-grid-enterprise/set-filter",this.gridId))t="agSetColumnFilter";else{const n=(r=this.dataTypeService)==null?void 0:r.getBaseDataType(e);n==="number"?t="agNumberColumnFilter":n==="date"||n==="dateString"?t="agDateColumnFilter":t="agTextColumnFilter"}return t}getDefaultFloatingFilter(e){var r;let t;if(Zr.__isRegistered("@ag-grid-enterprise/set-filter",this.gridId))t="agSetColumnFloatingFilter";else{const n=(r=this.dataTypeService)==null?void 0:r.getBaseDataType(e);n==="number"?t="agNumberColumnFloatingFilter":n==="date"||n==="dateString"?t="agDateColumnFloatingFilter":t="agTextColumnFloatingFilter"}return t}createFilterInstance(e,t){const r=this.getDefaultFilter(e),n=e.getColDef();let i;const s={...this.createFilterParams(e,n),filterModifiedCallback:()=>this.filterModifiedCallbackFactory(i,e)(),filterChangedCallback:a=>this.filterChangedCallbackFactory(i,e)(a),doesRowPassOtherFilter:a=>this.filterManager?this.filterManager.doesRowPassOtherFilters(i,a):!0},o=this.userComponentFactory.getFilterDetails(n,s,r);return o?{filterPromise:()=>{const a=o.newAgStackInstance();return a!=null&&a.then(l=>{i=l,t&&(t.filter=l)}),a},compDetails:o}:{filterPromise:null,compDetails:null}}createFilterParams(e,t){return this.gos.addGridCommonParams({column:e,colDef:H3(t),rowModel:this.rowModel,filterChangedCallback:()=>{},filterModifiedCallback:()=>{},valueGetter:this.createValueGetter(e),getValue:this.createGetValue(e),doesRowPassOtherFilter:()=>!0})}createFilterWrapper(e){const t={column:e,filterPromise:null,compiledElement:null,compDetails:null},{filterPromise:r,compDetails:n}=this.createFilterInstance(e,t);return t.filterPromise=(r==null?void 0:r())??null,t.compDetails=n,t}onColumnsChanged(){var r;const e=[];this.allColumnFilters.forEach((n,i)=>{let s;n.column.isPrimary()?s=this.columnModel.getColDefCol(i):s=this.columnModel.getCol(i),!(s&&s===n.column)&&(e.push(n.column),this.disposeFilterWrapper(n,"columnChanged"),this.disposeColumnListener(i))});const t=e.every(n=>n.getColDef().filter==="agGroupColumnFilter");e.length>0&&!t?(r=this.filterManager)==null||r.onFilterChanged({columns:e,source:"api"}):this.updateDependentFilters()}updateDependentFilters(){const e=this.columnModel.getAutoCols();e==null||e.forEach(t=>{t.getColDef().filter==="agGroupColumnFilter"&&this.getOrCreateFilterWrapper(t)})}isFilterAllowed(e){if(!e.isFilterAllowed())return!1;const{filter:r}=this.allColumnFilters.get(e.getColId())??{};return r&&typeof(r==null?void 0:r.isFilterAllowed)=="function"?r.isFilterAllowed():!0}getFloatingFilterCompDetails(e,t){const r=l=>{var u;const c=(u=this.getOrCreateFilterWrapper(e))==null?void 0:u.filterPromise;c!=null&&c.then(f=>{l(Dc(f))})},n=e.getColDef(),i={...this.createFilterParams(e,n),filterChangedCallback:()=>r(l=>this.filterChangedCallbackFactory(l,e)())},s=this.userComponentFactory.mergeParamsWithApplicationProvidedParams(n,fy,i);let o=R9(this.frameworkOverrides,n,()=>this.getDefaultFloatingFilter(e));o==null&&(o="agReadOnlyFloatingFilter");const a={column:e,filterParams:s,currentParentModel:()=>this.getCurrentFloatingFilterParentModel(e),parentFilterInstance:r,showParentFilter:t,suppressFilterButton:!1};return this.userComponentFactory.getFloatingFilterCompDetails(n,a,o)}getCurrentFloatingFilterParentModel(e){return this.getModelFromFilterWrapper(this.cachedFilter(e)??{column:e})}destroyFilter(e,t="api"){var i;const r=e.getColId(),n=this.allColumnFilters.get(r);this.disposeColumnListener(r),delete this.initialFilterModel[r],n&&(this.disposeFilterWrapper(n,t),(i=this.filterManager)==null||i.onFilterChanged({columns:[e],source:"api"}))}disposeColumnListener(e){const t=this.allColumnListeners.get(e);t&&(this.allColumnListeners.delete(e),t())}disposeFilterWrapper(e,t){e.filterPromise.then(r=>{this.destroyBean(r),e.column.setFilterActive(!1,"filterDestroyed"),this.allColumnFilters.delete(e.column.getColId()),this.eventService.dispatchEvent({type:"filterDestroyed",source:t,column:e.column})})}filterModifiedCallbackFactory(e,t){return()=>{this.eventService.dispatchEvent({type:"filterModified",column:t,filterInstance:e})}}filterChangedCallbackFactory(e,t){return r=>{const n=(r==null?void 0:r.source)??"columnFilter",i={filter:e,additionalEventAttributes:r,columns:[t],source:n};this.callOnFilterChangedOutsideRenderCycle(i)}}checkDestroyFilter(e){const t=this.allColumnFilters.get(e);if(!t)return;const r=t.column,{compDetails:n}=r.isFilterAllowed()?this.createFilterInstance(r):{compDetails:null};if(this.areFilterCompsDifferent(t.compDetails,n)){this.destroyFilter(r,"paramsUpdated");return}const i=r.getColDef().filterParams;if(!t.filterPromise){this.destroyFilter(r,"paramsUpdated");return}t.filterPromise.then(s=>{(s!=null&&s.refresh?s.refresh({...this.createFilterParams(r,r.getColDef()),filterModifiedCallback:this.filterModifiedCallbackFactory(s,r),filterChangedCallback:this.filterChangedCallbackFactory(s,r),doesRowPassOtherFilter:a=>this.filterManager?this.filterManager.doesRowPassOtherFilters(s,a):!0,...i}):!0)===!1&&this.destroyFilter(r,"paramsUpdated")})}setColumnFilterWrapper(e,t){const r=e.getColId();this.allColumnFilters.set(r,t),this.allColumnListeners.set(r,this.addManagedListeners(e,{colDefChanged:()=>this.checkDestroyFilter(r)})[0])}areFilterCompsDifferent(e,t){if(!t||!e)return!0;const{componentClass:r}=e,{componentClass:n}=t;return!(r===n||(r==null?void 0:r.render)&&(n==null?void 0:n.render)&&r.render===n.render)}hasFloatingFilters(){return this.columnModel.getCols().some(t=>t.getColDef().floatingFilter)}getFilterInstance(e,t){t&&this.getFilterInstanceImpl(e).then(r=>{const n=Dc(r);t(n)})}getColumnFilterInstance(e){return new Promise(t=>{this.getFilterInstanceImpl(e).then(r=>{t(Dc(r))})})}getFilterInstanceImpl(e){var n;const t=this.columnModel.getColDefCol(e);return t?((n=this.getOrCreateFilterWrapper(t))==null?void 0:n.filterPromise)??br.resolve(null):br.resolve(void 0)}processFilterModelUpdateQueue(){this.filterModelUpdateQueue.forEach(({model:e,source:t})=>this.setFilterModel(e,t)),this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue.forEach(({key:e,model:t,resolve:r})=>{this.setColumnFilterModel(e,t).then(()=>r())}),this.columnFilterModelUpdateQueue=[]}getColumnFilterModel(e){const t=this.getFilterWrapper(e);return t?this.getModelFromFilterWrapper(t):null}setColumnFilterModel(e,t){var s;if((s=this.dataTypeService)!=null&&s.isPendingInference()){let o=()=>{};const a=new Promise(l=>{o=l});return this.columnFilterModelUpdateQueue.push({key:e,model:t,resolve:o}),a}const r=this.columnModel.getColDefCol(e),n=r?this.getOrCreateFilterWrapper(r):null;return n?(o=>new Promise(a=>{o.then(l=>a(l))}))(this.setModelOnFilterWrapper(n.filterPromise,t)):Promise.resolve()}getFilterWrapper(e){const t=this.columnModel.getColDefCol(e);return t?this.cachedFilter(t)??null:null}destroy(){super.destroy(),this.allColumnFilters.forEach(e=>this.disposeFilterWrapper(e,"gridDestroyed")),this.allColumnListeners.clear()}};function T9(e){var t;return!!((t=e.filterManager)!=null&&t.isAnyFilterPresent())}function P9(e,t="api"){var r;(r=e.filterManager)==null||r.onFilterChanged({source:t})}var _9=class extends Jt{constructor(){super(`
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field data-ref="eFloatingFilterText"></ag-input-text-field>
            </div>`,[Nf]),this.eFloatingFilterText=ht}wireBeans(e){this.columnNameService=e.columnNameService}destroy(){super.destroy()}init(e){this.params=e;const t=this.columnNameService.getDisplayNameForColumn(e.column,"header",!0),r=this.localeService.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(`${t} ${r("ariaFilterInput","Filter Input")}`)}onParentModelChanged(e){if(e==null){this.eFloatingFilterText.setValue("");return}this.params.parentFilterInstance(t=>{if(t.getModelAsString){const r=t.getModelAsString(e);this.eFloatingFilterText.setValue(r)}})}onParamsUpdated(e){this.refresh(e)}refresh(e){this.init(e)}},GR=class extends Jt{wireBeans(e){this.columnNameService=e.columnNameService}getDefaultDebounceMs(){return 0}destroy(){super.destroy()}isEventFromFloatingFilter(e){return e&&e.afterFloatingFilter}isEventFromDataChange(e){return e==null?void 0:e.afterDataChange}getLastType(){return this.lastType}isReadOnly(){return this.readOnly}setLastTypeFromModel(e){if(!e){this.lastType=this.optionsFactory.getDefaultOption();return}const t=e.operator;let r;t?r=e.conditions[0]:r=e,this.lastType=r.type}canWeEditAfterModelFromParentFilter(e){if(!e)return this.isTypeEditable(this.lastType);if(e.operator)return!1;const r=e;return this.isTypeEditable(r.type)}init(e){this.setSimpleParams(e,!1)}setSimpleParams(e,t=!0){this.optionsFactory=new RR,this.optionsFactory.init(e.filterParams,this.getDefaultFilterOptions()),t||(this.lastType=this.optionsFactory.getDefaultOption()),this.readOnly=!!e.filterParams.readOnly;const r=this.isTypeEditable(this.optionsFactory.getDefaultOption());this.setEditable(r)}onParamsUpdated(e){this.refresh(e)}refresh(e){this.setSimpleParams(e)}doesFilterHaveSingleInput(e){const t=this.optionsFactory.getCustomOption(e),{numberOfInputs:r}=t||{};return r==null||r==1}isTypeEditable(e){const t=["inRange","empty","blank","notBlank"];return!!e&&!this.isReadOnly()&&this.doesFilterHaveSingleInput(e)&&t.indexOf(e)<0}getAriaLabel(e){const t=this.columnNameService.getDisplayNameForColumn(e.column,"header",!0),r=this.localeService.getLocaleTextFunc();return`${t} ${r("ariaFilterInput","Filter Input")}`}},M9=class extends GR{constructor(){super(`
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field data-ref="eReadOnlyText"></ag-input-text-field>
                <div data-ref="eDateWrapper" style="display: flex;"></div>
            </div>`,[Nf]),this.eReadOnlyText=ht,this.eDateWrapper=ht}wireBeans(e){super.wireBeans(e),this.context=e.context,this.userComponentFactory=e.userComponentFactory}getDefaultFilterOptions(){return IR}init(e){super.init(e),this.params=e,this.filterParams=e.filterParams,this.createDateComponent(),this.filterModelFormatter=new NR(this.filterParams,this.localeService,this.optionsFactory);const t=this.localeService.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(t("ariaDateFilterInput","Date Filter Input"))}onParamsUpdated(e){this.refresh(e)}refresh(e){super.refresh(e),this.params=e,this.filterParams=e.filterParams,this.updateDateComponent(),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory,dateFilterParams:this.filterParams}),this.updateCompOnModelChange(e.currentParentModel())}updateCompOnModelChange(e){const t=!this.isReadOnly()&&this.canWeEditAfterModelFromParentFilter(e);if(this.setEditable(t),t){if(e){const r=e;this.dateComp.setDate(vn(r.dateFrom))}else this.dateComp.setDate(null);this.eReadOnlyText.setValue("")}else this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(e)),this.dateComp.setDate(null)}setEditable(e){fr(this.eDateWrapper,e),fr(this.eReadOnlyText.getGui(),!e)}onParentModelChanged(e,t){this.isEventFromFloatingFilter(t)||this.isEventFromDataChange(t)||(super.setLastTypeFromModel(e),this.updateCompOnModelChange(e))}onDateChanged(){const e=this.dateComp.getDate(),t=Jn(e);this.params.parentFilterInstance(r=>{if(r){const n=vn(t);r.onFloatingFilterChanged(this.getLastType()||null,n)}})}getDateComponentParams(){const e=py(this.params.filterParams,this.getDefaultDebounceMs());return{onDateChanged:ln(this.onDateChanged.bind(this),e),filterParams:this.params.column.getColDef().filterParams}}createDateComponent(){this.dateComp=new DR(this.context,this.userComponentFactory,this.getDateComponentParams(),this.eDateWrapper,e=>{e.setInputAriaLabel(this.getAriaLabel(this.params))}),this.addDestroyFunc(()=>this.dateComp.destroy())}updateDateComponent(){const e=this.gos.addGridCommonParams(this.getDateComponentParams());this.dateComp.updateParams(e)}getFilterModelFormatter(){return this.filterModelFormatter}},k9=class extends Jt{constructor(){super(`
            <div class="ag-filter-filter">
                <ag-input-text-field class="ag-date-filter" data-ref="eDateInput"></ag-input-text-field>
            </div>`,[Nf]),this.eDateInput=ht}destroy(){super.destroy()}init(e){this.params=e,this.setParams(e);const t=this.eDateInput.getInputElement();this.addManagedListeners(t,{mouseDown:()=>{this.eDateInput.isDisabled()||this.usingSafariDatePicker||t.focus()},input:r=>{r.target===this.gos.getActiveDomElement()&&(this.eDateInput.isDisabled()||this.params.onDateChanged())}})}setParams(e){const t=this.eDateInput.getInputElement(),r=this.shouldUseBrowserDatePicker(e);this.usingSafariDatePicker=r&&Gi(),t.type=r?"date":"text";const{minValidYear:n,maxValidYear:i,minValidDate:s,maxValidDate:o}=e.filterParams||{};if(s&&n&&ke("DateFilter should not have both minValidDate and minValidYear parameters set at the same time! minValidYear will be ignored."),o&&i&&ke("DateFilter should not have both maxValidDate and maxValidYear parameters set at the same time! maxValidYear will be ignored."),s&&o){const[a,l]=[s,o].map(c=>c instanceof Date?c:vn(c));a&&l&&a.getTime()>l.getTime()&&ke("DateFilter parameter minValidDate should always be lower than or equal to parameter maxValidDate.")}s?s instanceof Date?t.min=Nc(s):t.min=s:n&&(t.min=`${n}-01-01`),o?o instanceof Date?t.max=Nc(o):t.max=o:i&&(t.max=`${i}-12-31`)}onParamsUpdated(e){this.refresh(e)}refresh(e){this.params=e,this.setParams(e)}getDate(){return vn(this.eDateInput.getValue())}setDate(e){this.eDateInput.setValue(Jn(e,!1))}setInputPlaceholder(e){this.eDateInput.setInputPlaceholder(e)}setInputAriaLabel(e){this.eDateInput.setAriaLabel(e)}setDisabled(e){this.eDateInput.setDisabled(e)}afterGuiAttached(e){(!e||!e.suppressFocus)&&this.eDateInput.getInputElement().focus()}shouldUseBrowserDatePicker(e){return e.filterParams&&e.filterParams.browserDatePicker!=null?e.filterParams.browserDatePicker:sy()||J3()||Gi()&&Z3()>=14.1}},VR=class extends Re{constructor(e){super(),this.params=e,this.eFloatingFilterTextInput=ht,this.valueChangedListener=()=>{}}setupGui(e){var n;this.eFloatingFilterTextInput=this.createManagedBean(new ca((n=this.params)==null?void 0:n.config));const t=this.eFloatingFilterTextInput.getGui();e.appendChild(t);const r=i=>this.valueChangedListener(i);this.addManagedListeners(t,{input:r,keydown:r})}setEditable(e){this.eFloatingFilterTextInput.setDisabled(!e)}setAutoComplete(e){this.eFloatingFilterTextInput.setAutoComplete(e)}getValue(){return this.eFloatingFilterTextInput.getValue()}setValue(e,t){this.eFloatingFilterTextInput.setValue(e,t)}setValueChangedListener(e){this.valueChangedListener=e}setParams(e){this.setAriaLabel(e.ariaLabel),e.autoComplete!==void 0&&this.setAutoComplete(e.autoComplete)}setAriaLabel(e){this.eFloatingFilterTextInput.setInputAriaLabel(e)}},zR=class extends GR{constructor(){super(...arguments),this.eFloatingFilterInputContainer=ht}postConstruct(){this.setTemplate(`
            <div class="ag-floating-filter-input" role="presentation" data-ref="eFloatingFilterInputContainer"></div>
        `)}getDefaultDebounceMs(){return 500}onParentModelChanged(e,t){this.isEventFromFloatingFilter(t)||this.isEventFromDataChange(t)||(this.setLastTypeFromModel(e),this.setEditable(this.canWeEditAfterModelFromParentFilter(e)),this.floatingFilterInputService.setValue(this.getFilterModelFormatter().getModelAsString(e)))}init(e){this.setupFloatingFilterInputService(e),super.init(e),this.setTextInputParams(e)}setupFloatingFilterInputService(e){this.floatingFilterInputService=this.createFloatingFilterInputService(e),this.floatingFilterInputService.setupGui(this.eFloatingFilterInputContainer)}setTextInputParams(e){this.params=e;const t=e.browserAutoComplete??!1;if(this.floatingFilterInputService.setParams({ariaLabel:this.getAriaLabel(e),autoComplete:t}),this.applyActive=of(this.params.filterParams),!this.isReadOnly()){const r=py(this.params.filterParams,this.getDefaultDebounceMs()),n=ln(this.syncUpWithParentFilter.bind(this),r);this.floatingFilterInputService.setValueChangedListener(n)}}onParamsUpdated(e){this.refresh(e)}refresh(e){super.refresh(e),this.setTextInputParams(e)}recreateFloatingFilterInputService(e){const t=this.floatingFilterInputService.getValue();Dn(this.eFloatingFilterInputContainer),this.destroyBean(this.floatingFilterInputService),this.setupFloatingFilterInputService(e),this.floatingFilterInputService.setValue(t,!0)}syncUpWithParentFilter(e){const t=e.key===Se.ENTER;if(this.applyActive&&!t)return;let r=this.floatingFilterInputService.getValue();this.params.filterParams.trimInput&&(r=AR(r),this.floatingFilterInputService.setValue(r,!0)),this.params.parentFilterInstance(n=>{n&&n.onFloatingFilterChanged(this.getLastType()||null,r||null)})}setEditable(e){this.floatingFilterInputService.setEditable(e)}},F9=class extends Re{constructor(){super(...arguments),this.valueChangedListener=()=>{},this.numberInputActive=!0}setupGui(e){this.eFloatingFilterNumberInput=this.createManagedBean(new my),this.eFloatingFilterTextInput=this.createManagedBean(new ca),this.eFloatingFilterTextInput.setDisabled(!0);const t=this.eFloatingFilterNumberInput.getGui(),r=this.eFloatingFilterTextInput.getGui();e.appendChild(t),e.appendChild(r),this.setupListeners(t,n=>this.valueChangedListener(n)),this.setupListeners(r,n=>this.valueChangedListener(n))}setEditable(e){this.numberInputActive=e,this.eFloatingFilterNumberInput.setDisplayed(this.numberInputActive),this.eFloatingFilterTextInput.setDisplayed(!this.numberInputActive)}setAutoComplete(e){this.eFloatingFilterNumberInput.setAutoComplete(e),this.eFloatingFilterTextInput.setAutoComplete(e)}getValue(){return this.getActiveInputElement().getValue()}setValue(e,t){this.getActiveInputElement().setValue(e,t)}getActiveInputElement(){return this.numberInputActive?this.eFloatingFilterNumberInput:this.eFloatingFilterTextInput}setValueChangedListener(e){this.valueChangedListener=e}setupListeners(e,t){this.addManagedListeners(e,{input:t,keydown:t})}setParams(e){this.setAriaLabel(e.ariaLabel),e.autoComplete!==void 0&&this.setAutoComplete(e.autoComplete)}setAriaLabel(e){this.eFloatingFilterNumberInput.setInputAriaLabel(e),this.eFloatingFilterTextInput.setInputAriaLabel(e)}},A9=class extends zR{init(e){var t;super.init(e),this.filterModelFormatter=new MR(this.localeService,this.optionsFactory,(t=e.filterParams)==null?void 0:t.numberFormatter)}onParamsUpdated(e){this.refresh(e)}refresh(e){dv(e.filterParams)!==this.allowedCharPattern&&this.recreateFloatingFilterInputService(e),super.refresh(e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultFilterOptions(){return _R}getFilterModelFormatter(){return this.filterModelFormatter}createFloatingFilterInputService(e){return this.allowedCharPattern=dv(e.filterParams),this.allowedCharPattern?this.createManagedBean(new VR({config:{allowedCharPattern:this.allowedCharPattern}})):this.createManagedBean(new F9)}},O9=class extends zR{init(e){super.init(e),this.filterModelFormatter=new FR(this.localeService,this.optionsFactory)}onParamsUpdated(e){this.refresh(e)}refresh(e){super.refresh(e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultFilterOptions(){return kR}getFilterModelFormatter(){return this.filterModelFormatter}createFloatingFilterInputService(){return this.createManagedBean(new VR)}};function D9(e){var t;return!!((t=e.filterManager)!=null&&t.isQuickFilterPresent())}function I9(e){return e.gos.get("quickFilterText")}function N9(e){var t;(t=e.filterManager)==null||t.resetQuickFilterCache()}var L9=class extends Re{constructor(){super(...arguments),this.beanName="quickFilterService",this.quickFilter=null,this.quickFilterParts=null}wireBeans(e){this.valueService=e.valueService,this.columnModel=e.columnModel,this.rowModel=e.rowModel,this.pivotResultColsService=e.pivotResultColsService}postConstruct(){const e=this.resetQuickFilterCache.bind(this);this.addManagedEventListeners({columnPivotModeChanged:e,newColumnsLoaded:e,columnRowGroupChanged:e,columnVisible:()=>{this.gos.get("includeHiddenColumnsInQuickFilter")||this.resetQuickFilterCache()}}),this.addManagedPropertyListener("quickFilterText",t=>this.setQuickFilter(t.currentValue)),this.addManagedPropertyListeners(["includeHiddenColumnsInQuickFilter","applyQuickFilterBeforePivotOrAgg"],()=>this.onQuickFilterColumnConfigChanged()),this.quickFilter=this.parseQuickFilter(this.gos.get("quickFilterText")),this.parser=this.gos.get("quickFilterParser"),this.matcher=this.gos.get("quickFilterMatcher"),this.setQuickFilterParts(),this.addManagedPropertyListeners(["quickFilterMatcher","quickFilterParser"],()=>this.setQuickFilterParserAndMatcher())}refreshQuickFilterCols(){var i;const e=this.columnModel.isPivotMode(),t=this.columnModel.getAutoCols(),r=this.columnModel.getColDefCols();let n=(e&&!this.gos.get("applyQuickFilterBeforePivotOrAgg")?(i=this.pivotResultColsService.getPivotResultCols())==null?void 0:i.list:r)??[];t&&(n=n.concat(t)),this.colsForQuickFilter=this.gos.get("includeHiddenColumnsInQuickFilter")?n:n.filter(s=>s.isVisible()||s.isRowGroupActive())}isQuickFilterPresent(){return this.quickFilter!==null}doesRowPassQuickFilter(e){const t=this.gos.get("cacheQuickFilter");return this.matcher?this.doesRowPassQuickFilterMatcher(t,e):this.quickFilterParts.every(r=>t?this.doesRowPassQuickFilterCache(e,r):this.doesRowPassQuickFilterNoCache(e,r))}resetQuickFilterCache(){this.rowModel.forEachNode(e=>e.quickFilterAggregateText=null)}setQuickFilterParts(){const{quickFilter:e,parser:t}=this;e?this.quickFilterParts=t?t(e):e.split(" "):this.quickFilterParts=null}parseQuickFilter(e){return je(e)?this.gos.isRowModelType("clientSide")?e.toUpperCase():(ke("Quick filtering only works with the Client-Side Row Model"),null):null}setQuickFilter(e){if(e!=null&&typeof e!="string"){ke(`Grid option quickFilterText only supports string inputs, received: ${typeof e}`);return}const t=this.parseQuickFilter(e);this.quickFilter!==t&&(this.quickFilter=t,this.setQuickFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}setQuickFilterParserAndMatcher(){const e=this.gos.get("quickFilterParser"),t=this.gos.get("quickFilterMatcher"),r=e!==this.parser||t!==this.matcher;this.parser=e,this.matcher=t,r&&(this.setQuickFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}onQuickFilterColumnConfigChanged(){this.refreshQuickFilterCols(),this.resetQuickFilterCache(),this.isQuickFilterPresent()&&this.dispatchLocalEvent({type:"quickFilterChanged"})}doesRowPassQuickFilterNoCache(e,t){return this.colsForQuickFilter.some(r=>{const n=this.getQuickFilterTextForColumn(r,e);return je(n)&&n.indexOf(t)>=0})}doesRowPassQuickFilterCache(e,t){return this.checkGenerateQuickFilterAggregateText(e),e.quickFilterAggregateText.indexOf(t)>=0}doesRowPassQuickFilterMatcher(e,t){let r;e?(this.checkGenerateQuickFilterAggregateText(t),r=t.quickFilterAggregateText):r=this.getQuickFilterAggregateText(t);const{quickFilterParts:n,matcher:i}=this;return i(n,r)}checkGenerateQuickFilterAggregateText(e){e.quickFilterAggregateText||(e.quickFilterAggregateText=this.getQuickFilterAggregateText(e))}getQuickFilterTextForColumn(e,t){let r=this.valueService.getValue(e,t,!0);const n=e.getColDef();if(n.getQuickFilterText){const i=this.gos.addGridCommonParams({value:r,node:t,data:t.data,column:e,colDef:n});r=n.getQuickFilterText(i)}return je(r)?r.toString().toUpperCase():null}getQuickFilterAggregateText(e){const t=[];return this.colsForQuickFilter.forEach(r=>{const n=this.getQuickFilterTextForColumn(r,e);je(n)&&t.push(n)}),t.join(`
`)}},wy={version:vt,moduleName:"@ag-grid-community/filter-core",beans:[B7]},j9={version:vt,moduleName:"@ag-grid-community/filter-api",apiFunctions:{isAnyFilterPresent:T9,onFilterChanged:P9},dependantModules:[wy]},Cy={version:vt,moduleName:"@ag-grid-community/column-filter",beans:[E9],dependantModules:[wy]},B9={version:vt,moduleName:"@ag-grid-community/column-filter-api",apiFunctions:{isColumnFilterPresent:g9,getFilterInstance:m9,getColumnFilterInstance:v9,destroyFilter:y9,setFilterModel:b9,getFilterModel:w9,getColumnFilterModel:C9,setColumnFilterModel:S9,showColumnFilter:x9},dependantModules:[Cy,j9]},WR={version:vt,moduleName:"@ag-grid-community/floating-filter-core",controllers:[{name:"headerFilterCell",classImp:p9}],dependantModules:[Cy]},H9={version:vt,moduleName:"@ag-grid-community/read-only-floating-filter",userComponents:[{name:"agReadOnlyFloatingFilter",classImp:_9}],dependantModules:[WR]},G9={version:vt,moduleName:"@ag-grid-community/simple-filter",dependantModules:[Cy],userComponents:[{name:"agTextColumnFilter",classImp:s9},{name:"agNumberColumnFilter",classImp:i9},{name:"agDateColumnFilter",classImp:l9},{name:"agDateInput",classImp:k9}]},V9={version:vt,moduleName:"@ag-grid-community/simple-floating-filter",dependantModules:[G9,WR],userComponents:[{name:"agTextColumnFloatingFilter",classImp:O9},{name:"agNumberColumnFloatingFilter",classImp:A9},{name:"agDateColumnFloatingFilter",classImp:M9}]},$R={version:vt,moduleName:"@ag-grid-community/quick-filter-core",beans:[L9],dependantModules:[wy]},z9={version:vt,moduleName:"@ag-grid-community/quick-filter-api",apiFunctions:{isQuickFilterPresent:D9,getQuickFilter:I9,resetQuickFilter:N9},dependantModules:[$R]},W9={version:vt,moduleName:"@ag-grid-community/quick-filter",dependantModules:[$R,z9]},$9={version:vt,moduleName:"@ag-grid-community/filter",dependantModules:[V9,H9,W9,B9]},hv=(e=>(e.COLUMN_GROUP="group",e.COLUMN="column",e.FLOATING_FILTER="filter",e))(hv||{}),U9=class extends Re{constructor(){super(...arguments),this.beanName="headerNavigationService",this.currentHeaderRowWithoutSpan=-1}wireBeans(e){this.focusService=e.focusService,this.headerPositionUtils=e.headerPositionUtils,this.ctrlsService=e.ctrlsService,this.columnModel=e.columnModel,this.visibleColService=e.visibleColsService}postConstruct(){this.ctrlsService.whenReady(t=>{this.gridBodyCon=t.gridBodyCtrl});const e=this.gos.getDocument();this.addManagedElementListeners(e,{mousedown:()=>this.setCurrentHeaderRowWithoutSpan(-1)})}getHeaderRowCount(){const e=this.ctrlsService.getHeaderRowContainerCtrl();return e?e.getRowCount():0}getHeaderPositionForColumn(e,t){let r;if(typeof e=="string"?(r=this.columnModel.getCol(e),r||(r=this.visibleColService.getColumnGroup(e))):r=e,!r)return null;const n=this.ctrlsService.getHeaderRowContainerCtrl(),i=n==null?void 0:n.getAllCtrls(),s=Ot(i||[]).getType()==="filter",o=this.getHeaderRowCount()-1;let a=-1,l=r;for(;l;)a++,l=l.getParent();let c=a;return t&&s&&c===o-1&&c++,c===-1?null:{headerRowIndex:c,column:r}}navigateVertically(e,t,r){if(t||(t=this.focusService.getFocusedHeader()),!t)return!1;const{headerRowIndex:n}=t,i=t.column,s=this.getHeaderRowCount(),o=e===0;let{headerRowIndex:a,column:l,headerRowIndexWithoutSpan:c}=o?this.headerPositionUtils.getColumnVisibleParent(i,n):this.headerPositionUtils.getColumnVisibleChild(i,n),u=!1;return a<0&&(a=0,l=i,u=!0),a>=s?(a=-1,this.setCurrentHeaderRowWithoutSpan(-1)):c!==void 0&&(this.currentHeaderRowWithoutSpan=c),!u&&!l?!1:this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:a,column:l},allowUserOverride:!0,event:r})}setCurrentHeaderRowWithoutSpan(e){this.currentHeaderRowWithoutSpan=e}navigateHorizontally(e,t=!1,r){const n=this.focusService.getFocusedHeader(),i=e===2,s=this.gos.get("enableRtl");let o,a;if(this.currentHeaderRowWithoutSpan!==-1?n.headerRowIndex=this.currentHeaderRowWithoutSpan:this.currentHeaderRowWithoutSpan=n.headerRowIndex,i!==s?(a="Before",o=this.headerPositionUtils.findHeader(n,a)):(a="After",o=this.headerPositionUtils.findHeader(n,a)),o||!t)return this.focusService.focusHeaderPosition({headerPosition:o,direction:a,fromTab:t,allowUserOverride:!0,event:r});if(t){const l=this.gos.getCallback("tabToNextHeader");if(l)return this.focusService.focusHeaderPositionFromUserFunc({userFunc:l,headerPosition:o,direction:a})}return this.focusNextHeaderRow(n,a,r)}focusNextHeaderRow(e,t,r){const n=e.headerRowIndex;let i=null,s;if(t==="Before"?n>0&&(s=n-1,this.currentHeaderRowWithoutSpan-=1,i=this.headerPositionUtils.findColAtEdgeForHeaderRow(s,"end")):(s=n+1,this.currentHeaderRowWithoutSpan<this.getHeaderRowCount()?this.currentHeaderRowWithoutSpan+=1:this.setCurrentHeaderRowWithoutSpan(-1),i=this.headerPositionUtils.findColAtEdgeForHeaderRow(s,"start")),!i)return!1;const{column:o,headerRowIndex:a}=this.headerPositionUtils.getHeaderIndexToFocus(i.column,i==null?void 0:i.headerRowIndex);return this.focusService.focusHeaderPosition({headerPosition:{column:o,headerRowIndex:a},direction:t,fromTab:!0,allowUserOverride:!0,event:r})}scrollToColumn(e,t="After"){if(e.getPinned())return;let r;if(Cr(e)){const n=e.getDisplayedLeafColumns();r=t==="Before"?Ot(n):n[0]}else r=e;this.gridBodyCon.getScrollFeature().ensureColumnVisible(r)}},K9=class extends Re{wireBeans(e){this.animationFrameService=e.animationFrameService,this.headerNavigationService=e.headerNavigationService,this.focusService=e.focusService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.ctrlsService=e.ctrlsService,this.filterManager=e.filterManager,this.menuService=e.menuService}setComp(e,t,r){this.comp=e,this.eGui=t,this.createManagedBean(new la(r,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedEventListeners({columnPivotModeChanged:this.onPivotModeChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this)}),this.onPivotModeChanged(),this.setupHeaderHeight();const n=this.onHeaderContextMenu.bind(this);this.addManagedElementListeners(this.eGui,{contextmenu:n}),this.mockContextMenuForIPad(n),this.ctrlsService.register("gridHeaderCtrl",this)}setupHeaderHeight(){const e=this.setHeaderHeight.bind(this);e(),this.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],e),this.addManagedEventListeners({displayedColumnsChanged:e,columnHeaderHeightChanged:e,columnGroupHeaderHeightChanged:()=>this.animationFrameService.requestAnimationFrame(()=>e()),gridStylesChanged:e,advancedFilterEnabledChanged:e})}getHeaderHeight(){return this.headerHeight}setHeaderHeight(){var s;const{columnModel:e}=this;let t=0;const r=this.columnModel.getGroupRowsHeight().reduce((o,a)=>o+a,0),n=this.columnModel.getColumnHeaderRowHeight();if((s=this.filterManager)!=null&&s.hasFloatingFilters()&&(t+=e.getFloatingFiltersHeight()),t+=r,t+=n,this.headerHeight===t)return;this.headerHeight=t;const i=`${t+1}px`;this.comp.setHeightAndMinHeight(i),this.eventService.dispatchEvent({type:"headerHeightChanged"})}onPivotModeChanged(){const e=this.columnModel.isPivotMode();this.comp.addOrRemoveCssClass("ag-pivot-on",e),this.comp.addOrRemoveCssClass("ag-pivot-off",!e)}onDisplayedColumnsChanged(){const t=this.visibleColsService.getAllCols().some(r=>r.isSpanHeaderHeight());this.comp.addOrRemoveCssClass("ag-header-allow-overflow",t)}onTabKeyDown(e){const t=this.gos.get("enableRtl"),r=e.shiftKey,n=r!==t?2:3;(this.headerNavigationService.navigateHorizontally(n,!0,e)||!r&&this.focusService.focusOverlay(!1)||this.focusService.focusNextGridCoreContainer(r))&&e.preventDefault()}handleKeyDown(e){let t=null;switch(e.key){case Se.LEFT:t=2;case Se.RIGHT:{je(t)||(t=3),this.headerNavigationService.navigateHorizontally(t,!1,e)&&e.preventDefault();break}case Se.UP:t=0;case Se.DOWN:{je(t)||(t=1),this.headerNavigationService.navigateVertically(t,null,e)&&e.preventDefault();break}default:return}}onFocusOut(e){const{relatedTarget:t}=e;!t&&this.eGui.contains(this.gos.getActiveDomElement())||this.eGui.contains(t)||this.focusService.clearFocusedHeader()}onHeaderContextMenu(e,t,r){var i;if(!e&&!r||!this.menuService.isHeaderContextMenuEnabled())return;const{target:n}=e??t;(n===this.eGui||n===((i=this.ctrlsService.getHeaderRowContainerCtrl())==null?void 0:i.getViewportElement()))&&this.menuService.showHeaderContextMenu(void 0,e,r)}mockContextMenuForIPad(e){if(!uo())return;const t=new Xs(this.eGui),r=n=>{e(void 0,n.touchStart,n.touchEvent)};this.addManagedListeners(t,{longTap:r}),this.addDestroyFunc(()=>t.destroy())}},Sy=class extends Re{constructor(e,t=!1){super(),this.callback=e,this.addSpacer=t}wireBeans(e){this.visibleColsService=e.visibleColsService,this.scrollVisibleService=e.scrollVisibleService}postConstruct(){const e=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",e),this.addManagedEventListeners({columnContainerWidthChanged:e,displayedColumnsChanged:e,leftPinnedWidthChanged:e}),this.addSpacer&&this.addManagedEventListeners({rightPinnedWidthChanged:e,scrollVisibilityChanged:e,scrollbarWidthChanged:e}),this.setWidth()}setWidth(){const e=this.gos.isDomLayout("print"),t=this.visibleColsService.getBodyContainerWidth(),r=this.visibleColsService.getColsLeftWidth(),n=this.visibleColsService.getDisplayedColumnsRightWidth();let i;e?i=t+r+n:(i=t,this.addSpacer&&(this.gos.get("enableRtl")?r:n)===0&&this.scrollVisibleService.isVerticalScrollShowing()&&(i+=this.gos.getScrollbarWidth())),this.callback(i)}},q9=class extends Re{constructor(e){super(),this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[],this.pinned=e}wireBeans(e){this.funcColsService=e.funcColsService}onDragEnter(e){if(this.clearColumnsList(),this.gos.get("functionsReadOnly"))return;const t=e.dragItem.columns;t&&t.forEach(r=>{r.isPrimary()&&(r.isAnyFunctionActive()||(r.isAllowValue()?this.columnsToAggregate.push(r):r.isAllowRowGroup()?this.columnsToGroup.push(r):r.isAllowPivot()&&this.columnsToPivot.push(r)))})}getIconName(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?"pinned":"move":null}onDragLeave(e){this.clearColumnsList()}clearColumnsList(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0}onDragging(e){}onDragStop(e){this.columnsToAggregate.length>0&&this.funcColsService.addValueColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&this.funcColsService.addRowGroupColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&this.funcColsService.addPivotColumns(this.columnsToPivot,"toolPanelDragAndDrop")}};function xy(e){const{isFromHeader:t,hDirection:r,xPosition:n,fromEnter:i,fakeEvent:s,pinned:o,gos:a,columnModel:l,columnMoveService:c,presentedColsService:u}=e,f=r===0,d=r===1;let{allMovingColumns:h}=e;if(t){const F=[];h.forEach(D=>{var H;let O=null,j=D.getParent();for(;j!=null&&j.getDisplayedLeafColumns().length===1;)O=j,j=j.getParent();O!=null?(!!((H=O.getColGroupDef())!=null&&H.marryChildren)?O.getProvidedColumnGroup().getLeafColumns():O.getLeafColumns()).forEach(M=>{F.includes(M)||F.push(M)}):F.includes(D)||F.push(D)}),h=F}const g=h.slice();l.sortColsLikeCols(g);const v=Z9({movingCols:g,draggingRight:d,xPosition:n,pinned:o,gos:a,columnModel:l,presentedColsService:u}),p=Y9(g,l);if(v.length===0)return;const y=v[0];let m=p!==null&&!i;if(t&&(m=p!==null),m&&!s&&(f&&y>=p||d&&y<=p))return;const b=u.getAllCols(),x=[];let P=null;for(let F=0;F<v.length;F++){const D=v[F],O=c.getProposedColumnOrder(g,D);if(!c.doesOrderPassRules(O))continue;const j=O.filter(W=>b.includes(W));if(P===null)P=j;else if(!oa(j,P))break;const H=X9(O);x.push({move:D,fragCount:H})}if(x.length!==0)return x.sort((F,D)=>F.fragCount-D.fragCount),UR(h,x[0].move,"uiColumnMoved",!1,c)}function UR(e,t,r,n,i){return i.moveColumns(e,t,r,n),n?null:{columns:e,toIndex:t}}function Y9(e,t){const r=t.getCols(),n=DD(e.map(l=>r.indexOf(l))),i=n[0];return Ot(n)-i!==n.length-1?null:i}function X9(e){function t(n){const i=[];let s=n.getOriginalParent();for(;s!=null;)i.push(s),s=s.getOriginalParent();return i}let r=0;for(let n=0;n<e.length-1;n++){let i=t(e[n]),s=t(e[n+1]);[i,s]=i.length>s.length?[i,s]:[s,i],i.forEach(o=>{s.indexOf(o)===-1&&r++})}return r}function Q9(e,t){switch(t){case"left":return e.getLeftCols();case"right":return e.getRightCols();default:return e.getCenterCols()}}function Z9(e){const{movingCols:t,draggingRight:r,xPosition:n,pinned:i,gos:s,columnModel:o,presentedColsService:a}=e;if(s.get("suppressMovableColumns")||t.some(b=>b.getColDef().suppressMovable))return[];const c=Q9(a,i),u=o.getCols(),f=c.filter(b=>No(t,b)),d=c.filter(b=>!No(t,b)),h=u.filter(b=>!No(t,b));let g=0,v=n;if(r){let b=0;f.forEach(x=>b+=x.getActualWidth()),v-=b}if(v>0){for(let b=0;b<d.length;b++){const x=d[b];if(v-=x.getActualWidth(),v<0)break;g++}r&&g++}let p;if(g>0){const b=d[g-1];p=h.indexOf(b)+1}else p=h.indexOf(d[0]),p===-1&&(p=0);const y=[p],m=(b,x)=>b-x;if(r){let b=p+1;const x=u.length-1;for(;b<=x;)y.push(b),b++;y.sort(m)}else{let b=p;const x=u.length-1;let P=u[b];for(;b<=x&&c.indexOf(P)<0;)b++,y.push(b),P=u[b];b=p-1;const F=0;for(;b>=F;)y.push(b),b--;y.sort(m).reverse()}return y}function Ry(e,t,r,n,i){var o;const s=(o=i.getHeaderRowContainerCtrl(t))==null?void 0:o.getViewportElement();return s?(r&&(e-=s.getBoundingClientRect().left),n.get("enableRtl")&&(e=s.clientWidth-e),t==null&&(e+=i.get("center").getCenterViewportScrollLeft()),e):0}var J9=class extends Re{constructor(e){super(),this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.pinned=e,this.isCenterContainer=!je(e)}wireBeans(e){this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.columnMoveService=e.columnMoveService,this.dragAndDropService=e.dragAndDropService,this.ctrlsService=e.ctrlsService}postConstruct(){this.ctrlsService.whenReady(e=>{this.gridBodyCon=e.gridBodyCtrl})}getIconName(){const e=this.lastDraggingEvent.dragItem.columns??[];return this.pinned?e.some(r=>!r.getColDef().lockPinned||r.getPinned()===this.pinned)?"pinned":"notAllowed":e.some(r=>!r.getColDef().lockPinned||!r.isPinned())?"move":"notAllowed"}onDragEnter(e){const t=e.dragItem.columns;if(e.dragSource.type===0)this.setColumnsVisible(t,!0,"uiColumnDragged");else{const n=e.dragItem.visibleState,i=(t||[]).filter(s=>n[s.getId()]);this.setColumnsVisible(i,!0,"uiColumnDragged")}this.setColumnsPinned(t,this.pinned,"uiColumnDragged"),this.onDragging(e,!0,!0)}onDragLeave(){this.ensureIntervalCleared(),this.lastMovedInfo=null}setColumnsVisible(e,t,r){if(e){const n=e.filter(i=>!i.getColDef().lockVisible);this.columnModel.setColsVisible(n,t,r)}}setColumnsPinned(e,t,r){if(e){const n=e.filter(i=>!i.getColDef().lockPinned);this.columnModel.setColsPinned(n,t,r)}}onDragStop(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null}checkCenterForScrolling(e){if(this.isCenterContainer){const t=this.ctrlsService.get("center"),r=t.getCenterViewportScrollLeft(),n=r+t.getCenterWidth();this.gos.get("enableRtl")?(this.needToMoveRight=e<r+50,this.needToMoveLeft=e>n-50):(this.needToMoveLeft=e<r+50,this.needToMoveRight=e>n-50),this.needToMoveLeft||this.needToMoveRight?this.ensureIntervalStarted():this.ensureIntervalCleared()}}onDragging(e=this.lastDraggingEvent,t=!1,r=!1,n=!1){var c;if(n){if(this.lastMovedInfo){const{columns:u,toIndex:f}=this.lastMovedInfo;UR(u,f,"uiColumnMoved",!0,this.columnMoveService)}return}if(this.lastDraggingEvent=e,_t(e.hDirection))return;const i=Ry(e.x,this.pinned,!1,this.gos,this.ctrlsService);t||this.checkCenterForScrolling(i);const s=this.normaliseDirection(e.hDirection),o=e.dragSource.type,a=((c=e.dragSource.getDragItem().columns)==null?void 0:c.filter(u=>u.getColDef().lockPinned?u.getPinned()==this.pinned:!0))||[],l=xy({allMovingColumns:a,isFromHeader:o===1,hDirection:s,xPosition:i,pinned:this.pinned,fromEnter:t,fakeEvent:r,gos:this.gos,columnModel:this.columnModel,columnMoveService:this.columnMoveService,presentedColsService:this.visibleColsService});l&&(this.lastMovedInfo=l)}normaliseDirection(e){if(this.gos.get("enableRtl"))switch(e){case 0:return 1;case 1:return 0;default:Vt(`Unknown direction ${e}`)}else return e}ensureIntervalStarted(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),100),this.dragAndDropService.setGhostIcon(this.needToMoveLeft?"left":"right",!0))}ensureIntervalCleared(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.dragAndDropService.setGhostIcon(this.getIconName()))}moveInterval(){let e;this.intervalCount++,e=10+this.intervalCount*5,e>100&&(e=100);let t=null;const r=this.gridBodyCon.getScrollFeature();if(this.needToMoveLeft?t=r.scrollHorizontally(-e):this.needToMoveRight&&(t=r.scrollHorizontally(e)),t!==0)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;const i=this.lastDraggingEvent.dragItem.columns.filter(s=>!s.getColDef().lockPinned);if(i.length>0&&(this.dragAndDropService.setGhostIcon("pinned"),this.failedMoveAttempts>7)){const s=this.needToMoveLeft?"left":"right";this.setColumnsPinned(i,s,"uiColumnDragged"),this.dragAndDropService.nudge()}}}},eN=class extends Re{wireBeans(e){this.dragAndDropService=e.dragAndDropService,this.columnModel=e.columnModel,this.ctrlsService=e.ctrlsService}constructor(e,t){super(),this.pinned=e,this.eContainer=t}postConstruct(){this.ctrlsService.whenReady(e=>{switch(this.pinned){case"left":this.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.left.getContainerElement()],[e.bottomLeft.getContainerElement()],[e.topLeft.getContainerElement()]];break;case"right":this.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.right.getContainerElement()],[e.bottomRight.getContainerElement()],[e.topRight.getContainerElement()]];break;default:this.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.center.getViewportElement()],[e.bottomCenter.getViewportElement()],[e.topCenter.getViewportElement()]];break}}),this.moveColumnFeature=this.createManagedBean(new J9(this.pinned)),this.bodyDropPivotTarget=this.createManagedBean(new q9(this.pinned)),this.dragAndDropService.addDropTarget(this)}isInterestedIn(e){return e===1||e===0&&this.gos.get("allowDragFromColumnsToolPanel")}getSecondaryContainers(){return this.eSecondaryContainers}getContainer(){return this.eContainer}getIconName(){return this.currentDropListener.getIconName()}isDropColumnInPivotMode(e){return this.columnModel.isPivotMode()&&e.dragSource.type===0}onDragEnter(e){this.currentDropListener=this.isDropColumnInPivotMode(e)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(e)}onDragLeave(e){this.currentDropListener.onDragLeave(e)}onDragging(e){this.currentDropListener.onDragging(e)}onDragStop(e){this.currentDropListener.onDragStop(e)}},tN=class extends Re{wireBeans(e){this.horizontalResizeService=e.horizontalResizeService,this.pinnedWidthService=e.pinnedWidthService,this.ctrlsService=e.ctrlsService,this.columnSizeService=e.columnSizeService,this.columnAutosizeService=e.columnAutosizeService}constructor(e,t,r,n,i){super(),this.pinned=e,this.column=t,this.eResize=r,this.comp=n,this.ctrl=i}postConstruct(){const e=[];let t,r;const n=()=>{if(fr(this.eResize,t),!t)return;const o=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(e.push(o),r){const a=this.gos.get("skipHeaderOnAutoSize"),l=()=>{this.columnAutosizeService.autoSizeColumn(this.column,"uiColumnResized",a)};this.eResize.addEventListener("dblclick",l);const c=new Xs(this.eResize);c.addEventListener("doubleTap",l),e.push(()=>{this.eResize.removeEventListener("dblclick",l),c.removeEventListener("doubleTap",l),c.destroy()})}},i=()=>{e.forEach(o=>o()),e.length=0},s=()=>{const o=this.column.isResizable(),a=!this.gos.get("suppressAutoSize")&&!this.column.getColDef().suppressAutoSize;(o!==t||a!==r)&&(t=o,r=a,i(),n())};s(),this.addDestroyFunc(i),this.ctrl.addRefreshFunction(s)}onResizing(e,t){const{column:r,lastResizeAmount:n,resizeStartWidth:i}=this,s=this.normaliseResizeAmount(t),o=i+s,a=[{key:r,newWidth:o}];if(this.column.getPinned()){const l=this.pinnedWidthService.getPinnedLeftWidth(),c=this.pinnedWidthService.getPinnedRightWidth(),u=Iu(this.ctrlsService.getGridBodyCtrl().getBodyViewportElement())-50;if(l+c+(s-n)>u)return}this.lastResizeAmount=s,this.columnSizeService.setColumnWidths(a,this.resizeWithShiftKey,e,"uiColumnResized"),e&&this.toggleColumnResizing(!1)}onResizeStart(e){this.resizeStartWidth=this.column.getActualWidth(),this.lastResizeAmount=0,this.resizeWithShiftKey=e,this.toggleColumnResizing(!0)}toggleColumnResizing(e){this.comp.addOrRemoveCssClass("ag-column-resizing",e)}normaliseResizeAmount(e){let t=e;const r=this.pinned!=="left",n=this.pinned==="right";return this.gos.get("enableRtl")?r&&(t*=-1):n&&(t*=-1),t}},rN=class extends Re{constructor(e){super(),this.cbSelectAllVisible=!1,this.processingEventFromCheckbox=!1,this.column=e}wireBeans(e){this.rowModel=e.rowModel,this.selectionService=e.selectionService}onSpaceKeyDown(e){const t=this.cbSelectAll;t.isDisplayed()&&!t.getGui().contains(this.gos.getActiveDomElement())&&(e.preventDefault(),t.setValue(!t.getValue()))}getCheckboxGui(){return this.cbSelectAll.getGui()}setComp(e){this.headerCellCtrl=e,this.cbSelectAll=this.createManagedBean(new dy),this.cbSelectAll.addCssClass("ag-header-select-all"),Pi(this.cbSelectAll.getGui(),"presentation"),this.showOrHideSelectAll(),this.addManagedEventListeners({newColumnsLoaded:this.onNewColumnsLoaded.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),selectionChanged:this.onSelectionChanged.bind(this),paginationChanged:this.onSelectionChanged.bind(this),modelUpdated:this.onModelChanged.bind(this)}),this.addManagedListeners(this.cbSelectAll,{fieldValueChanged:this.onCbSelectAll.bind(this)}),ny(this.cbSelectAll.getGui(),!0),this.cbSelectAll.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()}onNewColumnsLoaded(){this.showOrHideSelectAll()}onDisplayedColumnsChanged(){this.isAlive()&&this.showOrHideSelectAll()}showOrHideSelectAll(){this.cbSelectAllVisible=this.isCheckboxSelection(),this.cbSelectAll.setDisplayed(this.cbSelectAllVisible,{skipAriaHidden:!0}),this.cbSelectAllVisible&&(this.checkRightRowModelType("selectAllCheckbox"),this.checkSelectionType("selectAllCheckbox"),this.updateStateOfCheckbox()),this.refreshSelectAllLabel()}onModelChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}onSelectionChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}updateStateOfCheckbox(){if(this.processingEventFromCheckbox)return;this.processingEventFromCheckbox=!0;const e=this.selectionService.getSelectAllState(this.isFilteredOnly(),this.isCurrentPageOnly());this.cbSelectAll.setValue(e);const t=this.selectionService.hasNodesToSelect(this.isFilteredOnly(),this.isCurrentPageOnly());this.cbSelectAll.setDisabled(!t),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}refreshSelectAllLabel(){const e=this.localeService.getLocaleTextFunc(),r=this.cbSelectAll.getValue()?e("ariaChecked","checked"):e("ariaUnchecked","unchecked"),n=e("ariaRowSelectAll","Press Space to toggle all rows selection");this.cbSelectAllVisible?this.headerCellCtrl.setAriaDescriptionProperty("selectAll",`${n} (${r})`):this.headerCellCtrl.setAriaDescriptionProperty("selectAll",null),this.cbSelectAll.setInputAriaLabel(`${n} (${r})`),this.headerCellCtrl.announceAriaDescription()}checkSelectionType(e){return this.gos.get("rowSelection")==="multiple"?!0:(ke(`${e} is only available if using 'multiple' rowSelection.`),!1)}checkRightRowModelType(e){const t=this.rowModel.getType();return t==="clientSide"||t==="serverSide"?!0:(ke(`${e} is only available if using 'clientSide' or 'serverSide' rowModelType, you are using ${t}.`),!1)}onCbSelectAll(){if(this.processingEventFromCheckbox||!this.cbSelectAllVisible)return;const e=this.cbSelectAll.getValue(),t=this.isFilteredOnly(),r=this.isCurrentPageOnly();let n="uiSelectAll";r?n="uiSelectAllCurrentPage":t&&(n="uiSelectAllFiltered");const i={source:n,justFiltered:t,justCurrentPage:r};e?this.selectionService.selectAllRowNodes(i):this.selectionService.deselectAllRowNodes(i)}isCheckboxSelection(){let e=this.column.getColDef().headerCheckboxSelection;if(typeof e=="function"){const t=e,r=this.gos.addGridCommonParams({column:this.column,colDef:this.column.getColDef()});e=t(r)}return e?this.checkRightRowModelType("headerCheckboxSelection")&&this.checkSelectionType("headerCheckboxSelection"):!1}isFilteredOnly(){return!!this.column.getColDef().headerCheckboxSelectionFilteredOnly}isCurrentPageOnly(){return!!this.column.getColDef().headerCheckboxSelectionCurrentPageOnly}},nN=class extends Lf{constructor(e,t,r){super(e,t,r),this.refreshFunctions=[],this.userHeaderClasses=new Set,this.ariaDescriptionProperties=new Map,this.column=e}setComp(e,t,r,n){this.comp=e,this.setGui(t),this.updateState(),this.setupWidth(),this.setupMovingCss(),this.setupMenuClass(),this.setupSortableClass(),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight({wrapperElement:n,checkMeasuringCallback:i=>this.addRefreshFunction(i)}),this.addColumnHoverListener(),this.setupFilterClass(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(),this.setupSelectAll(),this.setupUserComp(),this.refreshAria(),this.resizeFeature=this.createManagedBean(new tN(this.getPinned(),this.column,r,e,this)),this.createManagedBean(new by([this.column],t)),this.createManagedBean(new yy(this.column,t,this.beans)),this.createManagedBean(new la(t,{shouldStopEventPropagation:i=>this.shouldStopEventPropagation(i),onTabKeyDown:()=>null,handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addResizeAndMoveKeyboardListeners(t),this.addManagedPropertyListeners(["suppressMovableColumns","suppressMenuHide","suppressAggFuncInHeader"],this.refresh.bind(this)),this.addManagedListeners(this.column,{colDefChanged:this.refresh.bind(this)}),this.addManagedEventListeners({columnValueChanged:this.onColumnValueChanged.bind(this),columnRowGroupChanged:this.onColumnRowGroupChanged.bind(this),columnPivotChanged:this.onColumnPivotChanged.bind(this),headerHeightChanged:this.onHeaderHeightChanged.bind(this)})}resizeHeader(e,t){if(!this.column.isResizable())return;const r=this.column.getActualWidth(),n=this.column.getMinWidth(),i=this.column.getMaxWidth(),s=Math.min(Math.max(r+e,n),i);this.beans.columnSizeService.setColumnWidths([{key:this.column,newWidth:s}],t,!0,"uiColumnResized")}moveHeader(e){const{eGui:t,column:r,gos:n,ctrlsService:i}=this,s=this.getPinned(),o=t.getBoundingClientRect().left,a=r.getActualWidth(),l=n.get("enableRtl"),u=Ry(e===0!==l?o-20:o+a+20,s,!0,n,i),f=this.focusService.getFocusedHeader();xy({allMovingColumns:[r],isFromHeader:!0,hDirection:e,xPosition:u,pinned:s,fromEnter:!1,fakeEvent:!1,gos:n,columnModel:this.beans.columnModel,columnMoveService:this.beans.columnMoveService,presentedColsService:this.beans.visibleColsService}),i.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(r,"auto"),(!this.isAlive()||this.beans.gos.get("ensureDomOrder"))&&f&&this.restoreFocus(f)}restoreFocus(e){this.focusService.focusHeaderPosition({headerPosition:{...e,column:this.column}})}setupUserComp(){const e=this.lookupUserCompDetails();this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setUserCompDetails(e)}lookupUserCompDetails(){const e=this.createParams(),t=this.column.getColDef();return this.userComponentFactory.getHeaderCompDetails(t,e)}createParams(){return this.gos.addGridCommonParams({column:this.column,displayName:this.displayName,enableSorting:this.column.isSortable(),enableMenu:this.menuEnabled,enableFilterButton:this.openFilterEnabled&&this.menuService.isHeaderFilterButtonEnabled(this.column),enableFilterIcon:!this.openFilterEnabled||this.menuService.isLegacyMenuEnabled(),showColumnMenu:t=>{this.menuService.showColumnMenu({column:this.column,buttonElement:t,positionBy:"button"})},showColumnMenuAfterMouseClick:t=>{this.menuService.showColumnMenu({column:this.column,mouseEvent:t,positionBy:"mouse"})},showFilter:t=>{this.menuService.showFilterMenu({column:this.column,buttonElement:t,containerType:"columnFilter",positionBy:"button"})},progressSort:t=>{this.beans.sortController.progressSort(this.column,!!t,"uiColumnSorted")},setSort:(t,r)=>{this.beans.sortController.setSortForColumn(this.column,t,!!r,"uiColumnSorted")},eGridHeader:this.getGui(),setTooltip:(t,r)=>{this.setupTooltip(t,r)}})}setupSelectAll(){this.selectAllFeature=this.createManagedBean(new rN(this.column)),this.selectAllFeature.setComp(this)}getSelectAllGui(){return this.selectAllFeature.getCheckboxGui()}handleKeyDown(e){super.handleKeyDown(e),e.key===Se.SPACE&&this.selectAllFeature.onSpaceKeyDown(e),e.key===Se.ENTER&&this.onEnterKeyDown(e),e.key===Se.DOWN&&e.altKey&&this.showMenuOnKeyPress(e,!1)}onEnterKeyDown(e){if(e.ctrlKey||e.metaKey)this.showMenuOnKeyPress(e,!0);else if(this.sortable){const t=e.shiftKey;this.beans.sortController.progressSort(this.column,t,"uiColumnSorted")}}showMenuOnKeyPress(e,t){const r=this.comp.getUserCompInstance();!r||!(r instanceof lv)||r.onMenuKeyboardShortcut(t)&&e.preventDefault()}onFocusIn(e){if(!this.getGui().contains(e.relatedTarget)){const t=this.getRowIndex();this.focusService.setFocusedHeader(t,this.column),this.announceAriaDescription()}this.focusService.isKeyboardMode()&&this.setActiveHeader(!0)}onFocusOut(e){this.getGui().contains(e.relatedTarget)||this.setActiveHeader(!1)}setupTooltip(e,t){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature));const r=this.gos.get("tooltipShowMode")==="whenTruncated",n=this.eGui,i=this.column.getColDef();!t&&r&&!i.headerComponent&&(t=()=>{const a=n.querySelector(".ag-header-cell-text");return a?a.scrollWidth>a.clientWidth:!0});const s={getColumn:()=>this.column,getColDef:()=>this.column.getColDef(),getGui:()=>n,getLocation:()=>"header",getTooltipValue:()=>e??this.column.getColDef().headerTooltip,shouldDisplayTooltip:t},o=this.createManagedBean(new Ll(s));this.refreshFunctions.push(()=>o.refreshToolTip())}setupClassesFromColDef(){const e=()=>{const t=this.column.getColDef(),r=LR(t,this.gos,this.column,null),n=this.userHeaderClasses;this.userHeaderClasses=new Set(r),r.forEach(i=>{n.has(i)?n.delete(i):this.comp.addOrRemoveCssClass(i,!0)}),n.forEach(i=>this.comp.addOrRemoveCssClass(i,!1))};this.refreshFunctions.push(e),e()}setDragSource(e){if(this.dragSourceElement=e,this.removeDragSource(),!e||!this.draggable)return;const{column:t,beans:r,displayName:n,dragAndDropService:i,gos:s}=this,{columnModel:o}=r;let a=!this.gos.get("suppressDragLeaveHidesColumns");const l=this.dragSource={type:1,eElement:e,getDefaultIconName:()=>a?"hide":"notAllowed",getDragItem:()=>this.createDragItem(t),dragItemName:n,onDragStarted:()=>{a=!s.get("suppressDragLeaveHidesColumns"),t.setMoving(!0,"uiColumnMoved")},onDragStopped:()=>t.setMoving(!1,"uiColumnMoved"),onGridEnter:c=>{var u;if(a){const f=((u=c==null?void 0:c.columns)==null?void 0:u.filter(d=>!d.getColDef().lockVisible))||[];o.setColsVisible(f,!0,"uiColumnMoved")}},onGridExit:c=>{var u;if(a){const f=((u=c==null?void 0:c.columns)==null?void 0:u.filter(d=>!d.getColDef().lockVisible))||[];o.setColsVisible(f,!1,"uiColumnMoved")}}};i.addDragSource(l,!0)}createDragItem(e){const t={};return t[e.getId()]=e.isVisible(),{columns:[e],visibleState:t}}updateState(){this.menuEnabled=this.menuService.isColumnMenuInHeaderEnabled(this.column),this.openFilterEnabled=this.menuService.isFilterMenuInHeaderEnabled(this.column),this.sortable=this.column.isSortable(),this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()}addRefreshFunction(e){this.refreshFunctions.push(e)}refresh(){this.updateState(),this.refreshHeaderComp(),this.refreshAria(),this.refreshFunctions.forEach(e=>e())}refreshHeaderComp(){const e=this.lookupUserCompDetails();(this.comp.getUserCompInstance()!=null&&this.userCompDetails.componentClass==e.componentClass?this.attemptHeaderCompRefresh(e.params):!1)?this.setDragSource(this.dragSourceElement):this.setCompDetails(e)}attemptHeaderCompRefresh(e){const t=this.comp.getUserCompInstance();return!t||!t.refresh?!1:t.refresh(e)}calculateDisplayName(){return this.beans.columnNameService.getDisplayNameForColumn(this.column,"header",!0)}checkDisplayName(){this.displayName!==this.calculateDisplayName()&&this.refresh()}workOutDraggable(){const e=this.column.getColDef();return!!(!this.gos.get("suppressMovableColumns")&&!e.suppressMovable&&!e.lockPosition)||!!e.enableRowGroup||!!e.enablePivot}onColumnRowGroupChanged(){this.checkDisplayName()}onColumnPivotChanged(){this.checkDisplayName()}onColumnValueChanged(){this.checkDisplayName()}setupWidth(){const e=()=>{const t=this.column.getActualWidth();this.comp.setWidth(`${t}px`)};this.addManagedListeners(this.column,{widthChanged:e}),e()}setupMovingCss(){const e=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-moving",this.column.isMoving())};this.addManagedListeners(this.column,{movingChanged:e}),e()}setupMenuClass(){const e=()=>{this.comp.addOrRemoveCssClass("ag-column-menu-visible",this.column.isMenuVisible())};this.addManagedListeners(this.column,{menuVisibleChanged:e}),e()}setupSortableClass(){const e=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-sortable",!!this.sortable)};e(),this.addRefreshFunction(e),this.addManagedEventListeners({sortChanged:this.refreshAriaSort.bind(this)})}setupFilterClass(){const e=()=>{const t=this.column.isFilterActive();this.comp.addOrRemoveCssClass("ag-header-cell-filtered",t),this.refreshAria()};this.addManagedListeners(this.column,{filterActiveChanged:e}),e()}setupWrapTextClass(){const e=()=>{const t=!!this.column.getColDef().wrapHeaderText;this.comp.addOrRemoveCssClass("ag-header-cell-wrap-text",t)};e(),this.addRefreshFunction(e)}onDisplayedColumnsChanged(){super.onDisplayedColumnsChanged(),this.isAlive()&&this.onHeaderHeightChanged()}onHeaderHeightChanged(){this.refreshSpanHeaderHeight()}refreshSpanHeaderHeight(){const{eGui:e,column:t,comp:r,beans:n}=this;if(!t.isSpanHeaderHeight()){e.style.removeProperty("top"),e.style.removeProperty("height"),r.addOrRemoveCssClass("ag-header-span-height",!1),r.addOrRemoveCssClass("ag-header-span-total",!1);return}const{numberOfParents:i,isSpanningTotal:s}=this.column.getColumnGroupPaddingInfo();r.addOrRemoveCssClass("ag-header-span-height",i>0);const{columnModel:o}=n,a=o.getColumnHeaderRowHeight();if(i===0){r.addOrRemoveCssClass("ag-header-span-total",!1),e.style.setProperty("top","0px"),e.style.setProperty("height",`${a}px`);return}r.addOrRemoveCssClass("ag-header-span-total",s);const l=this.beans.columnModel.getGroupRowsHeight();let c=0;for(let u=0;u<i;u++)c+=l[l.length-1-u];e.style.setProperty("top",`${-c}px`),e.style.setProperty("height",`${a+c}px`)}refreshAriaSort(){if(this.sortable){const e=this.localeService.getLocaleTextFunc(),t=this.beans.sortController.getDisplaySortForColumn(this.column)||null;this.comp.setAriaSort(yI(t)),this.setAriaDescriptionProperty("sort",e("ariaSortableColumn","Press ENTER to sort"))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)}refreshAriaMenu(){if(this.menuEnabled){const e=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",e("ariaMenuColumn","Press ALT DOWN to open column menu"))}else this.setAriaDescriptionProperty("menu",null)}refreshAriaFilterButton(){if(this.openFilterEnabled&&!this.menuService.isLegacyMenuEnabled()){const e=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("filterButton",e("ariaFilterColumn","Press CTRL ENTER to open filter"))}else this.setAriaDescriptionProperty("filterButton",null)}refreshAriaFiltered(){const e=this.localeService.getLocaleTextFunc();this.column.isFilterActive()?this.setAriaDescriptionProperty("filter",e("ariaColumnFiltered","Column Filtered")):this.setAriaDescriptionProperty("filter",null)}setAriaDescriptionProperty(e,t){t!=null?this.ariaDescriptionProperties.set(e,t):this.ariaDescriptionProperties.delete(e)}announceAriaDescription(){if(!this.eGui.contains(this.beans.gos.getActiveDomElement()))return;const e=Array.from(this.ariaDescriptionProperties.keys()).sort((t,r)=>t==="filter"?-1:r.charCodeAt(0)-t.charCodeAt(0)).map(t=>this.ariaDescriptionProperties.get(t)).join(". ");this.beans.ariaAnnouncementService.announceValue(e,"columnHeader")}refreshAria(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaFilterButton(),this.refreshAriaFiltered()}addColumnHoverListener(){const e=()=>{if(!this.gos.get("columnHoverHighlight"))return;const t=this.beans.columnHoverService.isHovered(this.column);this.comp.addOrRemoveCssClass("ag-column-hover",t)};this.addManagedEventListeners({columnHoverChanged:e}),e()}getColId(){return this.column.getColId()}addActiveHeaderMouseListeners(){const e=n=>this.handleMouseOverChange(n.type==="mouseenter"),t=()=>this.dispatchColumnMouseEvent("columnHeaderClicked",this.column),r=n=>this.handleContextMenuMouseEvent(n,void 0,this.column);this.addManagedListeners(this.getGui(),{mouseenter:e,mouseleave:e,click:t,contextmenu:r})}handleMouseOverChange(e){this.setActiveHeader(e),this.eventService.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column})}setActiveHeader(e){this.comp.addOrRemoveCssClass("ag-header-active",e)}getAnchorElementForMenu(e){const t=this.comp.getUserCompInstance();return t instanceof lv?t.getAnchorElementForMenu(e):this.getGui()}destroy(){super.destroy(),this.refreshFunctions=null,this.selectAllFeature=null,this.dragSourceElement=null,this.userCompDetails=null,this.userHeaderClasses=null,this.ariaDescriptionProperties=null}},iN=class extends Re{wireBeans(e){this.horizontalResizeService=e.horizontalResizeService,this.autoWidthCalculator=e.autoWidthCalculator,this.visibleColsService=e.visibleColsService,this.columnSizeService=e.columnSizeService,this.columnAutosizeService=e.columnAutosizeService}constructor(e,t,r,n){super(),this.eResize=t,this.comp=e,this.pinned=r,this.columnGroup=n}postConstruct(){if(!this.columnGroup.isResizable()){this.comp.setResizableDisplayed(!1);return}const e=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(this.addDestroyFunc(e),!this.gos.get("suppressAutoSize")){const t=this.gos.get("skipHeaderOnAutoSize");this.eResize.addEventListener("dblclick",()=>{const r=[];this.columnGroup.getDisplayedLeafColumns().forEach(i=>{i.getColDef().suppressAutoSize||r.push(i.getColId())}),r.length>0&&this.columnAutosizeService.autoSizeCols({colKeys:r,skipHeader:t,stopAtGroup:this.columnGroup,source:"uiColumnResized"}),this.resizeLeafColumnsToFit("uiColumnResized")})}}onResizeStart(e){const t=this.getInitialValues(e);this.storeLocalValues(t),this.toggleColumnResizing(!0)}onResizing(e,t,r="uiColumnResized"){const n=this.normaliseDragChange(t),i=this.resizeStartWidth+n;this.resizeColumnsFromLocalValues(i,r,e)}getInitialValues(e){const t=this.getColumnsToResize(),r=this.getInitialSizeOfColumns(t),n=this.getSizeRatiosOfColumns(t,r),i={columnsToResize:t,resizeStartWidth:r,resizeRatios:n};let s=null;if(e&&(s=this.visibleColsService.getGroupAtDirection(this.columnGroup,"After")),s){const o=s.getDisplayedLeafColumns(),a=i.groupAfterColumns=o.filter(c=>c.isResizable()),l=i.groupAfterStartWidth=this.getInitialSizeOfColumns(a);i.groupAfterRatios=this.getSizeRatiosOfColumns(a,l)}else i.groupAfterColumns=void 0,i.groupAfterStartWidth=void 0,i.groupAfterRatios=void 0;return i}storeLocalValues(e){const{columnsToResize:t,resizeStartWidth:r,resizeRatios:n,groupAfterColumns:i,groupAfterStartWidth:s,groupAfterRatios:o}=e;this.resizeCols=t,this.resizeStartWidth=r,this.resizeRatios=n,this.resizeTakeFromCols=i,this.resizeTakeFromStartWidth=s,this.resizeTakeFromRatios=o}clearLocalValues(){this.resizeCols=void 0,this.resizeRatios=void 0,this.resizeTakeFromCols=void 0,this.resizeTakeFromRatios=void 0}resizeLeafColumnsToFit(e){const t=this.autoWidthCalculator.getPreferredWidthForColumnGroup(this.columnGroup),r=this.getInitialValues();t>r.resizeStartWidth&&this.resizeColumns(r,t,e,!0)}resizeColumnsFromLocalValues(e,t,r=!0){if(!this.resizeCols||!this.resizeRatios)return;const n={columnsToResize:this.resizeCols,resizeStartWidth:this.resizeStartWidth,resizeRatios:this.resizeRatios,groupAfterColumns:this.resizeTakeFromCols??void 0,groupAfterStartWidth:this.resizeTakeFromStartWidth??void 0,groupAfterRatios:this.resizeTakeFromRatios??void 0};this.resizeColumns(n,e,t,r)}resizeColumns(e,t,r,n=!0){const{columnsToResize:i,resizeStartWidth:s,resizeRatios:o,groupAfterColumns:a,groupAfterStartWidth:l,groupAfterRatios:c}=e,u=[];if(u.push({columns:i,ratios:o,width:t}),a){const f=t-s;u.push({columns:a,ratios:c,width:l-f})}this.columnSizeService.resizeColumnSets({resizeSets:u,finished:n,source:r}),n&&this.toggleColumnResizing(!1)}toggleColumnResizing(e){this.comp.addOrRemoveCssClass("ag-column-resizing",e)}getColumnsToResize(){return this.columnGroup.getDisplayedLeafColumns().filter(t=>t.isResizable())}getInitialSizeOfColumns(e){return e.reduce((t,r)=>t+r.getActualWidth(),0)}getSizeRatiosOfColumns(e,t){return e.map(r=>r.getActualWidth()/t)}normaliseDragChange(e){let t=e;return this.gos.get("enableRtl")?this.pinned!=="left"&&(t*=-1):this.pinned==="right"&&(t*=-1),t}destroy(){super.destroy(),this.clearLocalValues()}},sN=class extends Re{constructor(e,t){super(),this.removeChildListenersFuncs=[],this.columnGroup=t,this.comp=e}postConstruct(){this.addListenersToChildrenColumns(),this.addManagedListeners(this.columnGroup,{displayedChildrenChanged:this.onDisplayedChildrenChanged.bind(this)}),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))}addListenersToChildrenColumns(){this.removeListenersOnChildrenColumns();const e=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach(t=>{t.addEventListener("widthChanged",e),t.addEventListener("visibleChanged",e),this.removeChildListenersFuncs.push(()=>{t.removeEventListener("widthChanged",e),t.removeEventListener("visibleChanged",e)})})}removeListenersOnChildrenColumns(){this.removeChildListenersFuncs.forEach(e=>e()),this.removeChildListenersFuncs=[]}onDisplayedChildrenChanged(){this.addListenersToChildrenColumns(),this.onWidthChanged()}onWidthChanged(){const e=this.columnGroup.getActualWidth();this.comp.setWidth(`${e}px`),this.comp.addOrRemoveCssClass("ag-hidden",e===0)}},oN=class extends Lf{constructor(e,t,r){super(e,t,r),this.onSuppressColMoveChange=()=>{if(!this.isAlive()||this.isSuppressMoving())this.removeDragSource();else if(!this.dragSource){const n=this.getGui();this.setDragSource(n)}},this.column=e}setComp(e,t,r,n){this.comp=e,this.setGui(t),this.displayName=this.beans.columnNameService.getDisplayNameForColumnGroup(this.column,"header"),this.addClasses(),this.setupMovingCss(),this.setupExpandable(),this.setupTooltip(),this.addDestroyFunc(()=>{this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature))}),this.setupAutoHeight({wrapperElement:n}),this.setupUserComp(),this.addHeaderMouseListeners();const i=this.getParentRowCtrl().getPinned(),s=this.column.getProvidedColumnGroup().getLeafColumns();this.createManagedBean(new by(s,t)),this.createManagedBean(new yy(this.column,t,this.beans)),this.createManagedBean(new sN(e,this.column)),this.resizeFeature=this.createManagedBean(new iN(e,r,i,this.column)),this.createManagedBean(new la(t,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:()=>{},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)})),this.addManagedPropertyListener("suppressMovableColumns",this.onSuppressColMoveChange),this.addResizeAndMoveKeyboardListeners(t)}getColumn(){return this.column}resizeHeader(e,t){if(!this.resizeFeature)return;const r=this.resizeFeature.getInitialValues(t);this.resizeFeature.resizeColumns(r,r.resizeStartWidth+e,"uiColumnResized",!0)}moveHeader(e){const{beans:t,eGui:r,column:n,gos:i,ctrlsService:s}=this,o=i.get("enableRtl"),a=e===0,l=this.getPinned(),c=r.getBoundingClientRect(),u=c.left,f=c.width,d=Ry(a!==o?u-20:u+f+20,l,!0,i,s),h=n.getGroupId(),g=this.focusService.getFocusedHeader();xy({allMovingColumns:this.column.getLeafColumns(),isFromHeader:!0,hDirection:e,xPosition:d,pinned:l,fromEnter:!1,fakeEvent:!1,gos:i,columnModel:t.columnModel,columnMoveService:t.columnMoveService,presentedColsService:t.visibleColsService});const v=n.getDisplayedLeafColumns(),p=a?v[0]:Ot(v);this.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(p,"auto"),(!this.isAlive()||this.beans.gos.get("ensureDomOrder"))&&g&&this.restoreFocus(h,n,g)}restoreFocus(e,t,r){const n=t.getLeafColumns();if(!n.length)return;const i=n[0].getParent();if(!i)return;const s=this.findGroupWidthId(i,e);s&&this.focusService.focusHeaderPosition({headerPosition:{...r,column:s}})}findGroupWidthId(e,t){for(;e;){if(e.getGroupId()===t)return e;e=e.getParent()}return null}resizeLeafColumnsToFit(e){this.resizeFeature&&this.resizeFeature.resizeLeafColumnsToFit(e)}setupUserComp(){const e=this.gos.addGridCommonParams({displayName:this.displayName,columnGroup:this.column,setExpanded:r=>{this.beans.columnModel.setColumnGroupOpened(this.column.getProvidedColumnGroup(),r,"gridInitializing")},setTooltip:(r,n)=>{this.setupTooltip(r,n)}}),t=this.userComponentFactory.getHeaderGroupCompDetails(e);this.comp.setUserCompDetails(t)}addHeaderMouseListeners(){const e=n=>this.handleMouseOverChange(n.type==="mouseenter"),t=()=>this.dispatchColumnMouseEvent("columnHeaderClicked",this.column.getProvidedColumnGroup()),r=n=>this.handleContextMenuMouseEvent(n,void 0,this.column.getProvidedColumnGroup());this.addManagedListeners(this.getGui(),{mouseenter:e,mouseleave:e,click:t,contextmenu:r})}handleMouseOverChange(e){this.eventService.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column.getProvidedColumnGroup()})}setupTooltip(e,t){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature));const r=this.column.getColGroupDef(),n=this.gos.get("tooltipShowMode")==="whenTruncated",i=this.eGui;!t&&n&&!(r!=null&&r.headerGroupComponent)&&(t=()=>{const o=i.querySelector(".ag-header-group-text");return o?o.scrollWidth>o.clientWidth:!0});const s={getColumn:()=>this.column,getGui:()=>i,getLocation:()=>"headerGroup",getTooltipValue:()=>e??(r&&r.headerTooltip),shouldDisplayTooltip:t};r&&(s.getColDef=()=>r),this.createManagedBean(new Ll(s))}setupExpandable(){const e=this.column.getProvidedColumnGroup();this.refreshExpanded();const t=this.refreshExpanded.bind(this);this.addManagedListeners(e,{expandedChanged:t,expandableChanged:t})}refreshExpanded(){const{column:e}=this;this.expandable=e.isExpandable();const t=e.isExpanded();this.expandable?this.comp.setAriaExpanded(t?"true":"false"):this.comp.setAriaExpanded(void 0)}getColId(){return this.column.getUniqueId()}addClasses(){const e=this.column.getColGroupDef(),t=LR(e,this.gos,null,this.column);this.column.isPadding()?(t.push("ag-header-group-cell-no-group"),this.column.getLeafColumns().every(n=>n.isSpanHeaderHeight())&&t.push("ag-header-span-height")):(t.push("ag-header-group-cell-with-group"),e!=null&&e.wrapHeaderText&&t.push("ag-header-cell-wrap-text")),t.forEach(r=>this.comp.addOrRemoveCssClass(r,!0))}setupMovingCss(){const t=this.column.getProvidedColumnGroup().getLeafColumns(),r=()=>this.comp.addOrRemoveCssClass("ag-header-cell-moving",this.column.isMoving());t.forEach(n=>{this.addManagedListeners(n,{movingChanged:r})}),r()}onFocusIn(e){if(!this.eGui.contains(e.relatedTarget)){const t=this.getRowIndex();this.beans.focusService.setFocusedHeader(t,this.column)}}handleKeyDown(e){super.handleKeyDown(e);const t=this.getWrapperHasFocus();if(!(!this.expandable||!t)&&e.key===Se.ENTER){const r=this.column,n=!r.isExpanded();this.beans.columnModel.setColumnGroupOpened(r.getProvidedColumnGroup(),n,"uiColumnExpanded")}}setDragSource(e){if(!this.isAlive()||this.isSuppressMoving()||(this.removeDragSource(),!e))return;const{beans:t,column:r,displayName:n,gos:i,dragAndDropService:s}=this,{columnModel:o}=t,a=r.getProvidedColumnGroup().getLeafColumns();let l=!i.get("suppressDragLeaveHidesColumns");const c=this.dragSource={type:1,eElement:e,getDefaultIconName:()=>l?"hide":"notAllowed",dragItemName:n,getDragItem:()=>this.getDragItemForGroup(r),onDragStarted:()=>{l=!i.get("suppressDragLeaveHidesColumns"),a.forEach(u=>u.setMoving(!0,"uiColumnDragged"))},onDragStopped:()=>a.forEach(u=>u.setMoving(!1,"uiColumnDragged")),onGridEnter:u=>{if(l){const{columns:f=[],visibleState:d}=u??{},h=f.filter(g=>!g.getColDef().lockVisible&&(!d||d[g.getColId()]));o.setColsVisible(h,!0,"uiColumnMoved")}},onGridExit:u=>{var f;if(l){const d=((f=u==null?void 0:u.columns)==null?void 0:f.filter(h=>!h.getColDef().lockVisible))||[];o.setColsVisible(d,!1,"uiColumnMoved")}}};s.addDragSource(c,!0)}getDragItemForGroup(e){const t=e.getProvidedColumnGroup().getLeafColumns(),r={};t.forEach(i=>r[i.getId()]=i.isVisible());const n=[];return this.beans.visibleColsService.getAllCols().forEach(i=>{t.indexOf(i)>=0&&(n.push(i),an(t,i))}),t.forEach(i=>n.push(i)),{columns:n,visibleState:r}}isSuppressMoving(){let e=!1;return this.column.getLeafColumns().forEach(r=>{(r.getColDef().suppressMovable||r.getColDef().lockPosition)&&(e=!0)}),e||this.gos.get("suppressMovableColumns")}},aN=0,jp=class extends Re{constructor(e,t,r){super(),this.instanceId=aN++,this.rowIndex=e,this.pinned=t,this.type=r;const n=r=="group"?"ag-header-row-column-group":r=="filter"?"ag-header-row-column-filter":"ag-header-row-column";this.headerRowClass=`ag-header-row ${n}`}wireBeans(e){this.beans=e}postConstruct(){this.isPrintLayout=this.gos.isDomLayout("print"),this.isEnsureDomOrder=this.gos.get("ensureDomOrder")}getInstanceId(){return this.instanceId}areCellsRendered(){return this.comp?this.getHeaderCellCtrls().every(e=>e.getGui()!=null):!1}setComp(e,t=!0){this.comp=e,t&&(this.onRowHeightChanged(),this.onVirtualColumnsChanged()),this.setWidth(),this.addEventListeners()}getHeaderRowClass(){return this.headerRowClass}getAriaRowIndex(){return this.rowIndex+1}addEventListeners(){const e=this.onRowHeightChanged.bind(this);this.addManagedEventListeners({columnResized:this.onColumnResized.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),virtualColumnsChanged:t=>this.onVirtualColumnsChanged(t.afterScroll),columnGroupHeaderHeightChanged:e,columnHeaderHeightChanged:e,gridStylesChanged:e,advancedFilterEnabledChanged:e}),this.addManagedPropertyListener("domLayout",this.onDisplayedColumnsChanged.bind(this)),this.addManagedPropertyListener("ensureDomOrder",t=>this.isEnsureDomOrder=t.currentValue),this.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],e)}getHeaderCellCtrl(e){if(this.headerCellCtrls)return Jd(this.headerCellCtrls).find(t=>t.getColumnGroupChild()===e)}onDisplayedColumnsChanged(){this.isPrintLayout=this.gos.isDomLayout("print"),this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()}getType(){return this.type}onColumnResized(){this.setWidth()}setWidth(){const e=this.getWidthForRow();this.comp.setWidth(`${e}px`)}getWidthForRow(){const{visibleColsService:e}=this.beans;return this.isPrintLayout?this.pinned!=null?0:e.getContainerWidth("right")+e.getContainerWidth("left")+e.getContainerWidth(null):e.getContainerWidth(this.pinned)}onRowHeightChanged(){const{topOffset:e,rowHeight:t}=this.getTopAndHeight();this.comp.setTop(e+"px"),this.comp.setHeight(t+"px")}getTopAndHeight(){const{columnModel:e,filterManager:t}=this.beans,r=[],n=e.getGroupRowsHeight(),i=e.getColumnHeaderRowHeight();r.push(...n),r.push(i),t!=null&&t.hasFloatingFilters()&&r.push(e.getFloatingFiltersHeight());let s=0;for(let a=0;a<this.rowIndex;a++)s+=r[a];const o=r[this.rowIndex];return{topOffset:s,rowHeight:o}}getPinned(){return this.pinned}getRowIndex(){return this.rowIndex}onVirtualColumnsChanged(e=!1){const t=this.getHeaderCtrls(),r=this.isEnsureDomOrder||this.isPrintLayout;this.comp.setHeaderCtrls(t,r,e)}getHeaderCtrls(){const e=this.headerCellCtrls;this.headerCellCtrls=new Map;const t=this.getColumnsInViewport();for(const n of t)this.recycleAndCreateHeaderCtrls(n,e);const r=n=>{const{focusService:i,visibleColsService:s}=this.beans;return i.isHeaderWrapperFocused(n)?s.isVisible(n.getColumnGroupChild()):!1};if(e)for(const[n,i]of e)r(i)?this.headerCellCtrls.set(n,i):this.destroyBean(i);return this.getHeaderCellCtrls()}getHeaderCellCtrls(){var e;return Array.from(((e=this.headerCellCtrls)==null?void 0:e.values())??[])}recycleAndCreateHeaderCtrls(e,t){if(!this.headerCellCtrls||e.isEmptyGroup())return;const r=e.getUniqueId();let n;if(t&&(n=t.get(r),t.delete(r)),n&&n.getColumnGroupChild()!=e&&(this.destroyBean(n),n=void 0),n==null)switch(this.type){case"filter":{n=this.createBean(this.beans.ctrlsFactory.getInstance("headerFilterCell",e,this.beans,this));break}case"group":n=this.createBean(new oN(e,this.beans,this));break;default:n=this.createBean(new nN(e,this.beans,this));break}this.headerCellCtrls.set(r,n)}getColumnsInViewport(){return this.isPrintLayout?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()}getColumnsInViewportPrintLayout(){if(this.pinned!=null)return[];let e=[];const t=this.getActualDepth(),{columnViewportService:r}=this.beans;return["left",null,"right"].forEach(n=>{const i=r.getHeadersToRender(n,t);e=e.concat(i)}),e}getActualDepth(){return this.type=="filter"?this.rowIndex-1:this.rowIndex}getColumnsInViewportNormalLayout(){return this.beans.columnViewportService.getHeadersToRender(this.pinned,this.getActualDepth())}findHeaderCellCtrl(e){return this.headerCellCtrls?this.getHeaderCellCtrls().find(n=>n.getColumnGroupChild()==e):void 0}focusHeader(e,t){const r=this.findHeaderCellCtrl(e);return r?r.focus(t):!1}destroy(){this.headerCellCtrls&&this.headerCellCtrls.forEach(e=>{this.destroyBean(e)}),this.headerCellCtrls=void 0,super.destroy()}},lN=class extends Re{constructor(e){super(),this.hidden=!1,this.includeFloatingFilter=!1,this.groupsRowCtrls=[],this.pinned=e}wireBeans(e){this.ctrlsService=e.ctrlsService,this.scrollVisibleService=e.scrollVisibleService,this.pinnedWidthService=e.pinnedWidthService,this.columnModel=e.columnModel,this.focusService=e.focusService,this.filterManager=e.filterManager}setComp(e,t){this.comp=e,this.eViewport=t,this.setupCenterWidth(),this.setupPinnedWidth(),this.setupDragAndDrop(this.eViewport);const r=this.onDisplayedColumnsChanged.bind(this);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),displayedColumnsChanged:r,advancedFilterEnabledChanged:r}),this.ctrlsService.registerHeaderContainer(this,this.pinned),this.columnModel.isReady()&&this.refresh()}getAllCtrls(){const e=[...this.groupsRowCtrls];return this.columnsRowCtrl&&e.push(this.columnsRowCtrl),this.filtersRowCtrl&&e.push(this.filtersRowCtrl),e}refresh(e=!1){const t=new Cl,r=this.focusService.getFocusHeaderToUseAfterRefresh(),n=()=>{const a=this.columnModel.getHeaderRowCount()-1;this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls);for(let l=0;l<a;l++){const c=this.createBean(new jp(t.next(),this.pinned,"group"));this.groupsRowCtrls.push(c)}},i=()=>{const a=t.next(),l=!this.hidden&&(this.columnsRowCtrl==null||!e||this.columnsRowCtrl.getRowIndex()!==a);(l||this.hidden)&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),l&&(this.columnsRowCtrl=this.createBean(new jp(a,this.pinned,"column")))},s=()=>{var c;this.includeFloatingFilter=!!((c=this.filterManager)!=null&&c.hasFloatingFilters())&&!this.hidden;const a=()=>{this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)};if(!this.includeFloatingFilter){a();return}const l=t.next();if(this.filtersRowCtrl){const u=this.filtersRowCtrl.getRowIndex()!==l;(!e||u)&&a()}this.filtersRowCtrl||(this.filtersRowCtrl=this.createBean(new jp(l,this.pinned,"filter")))};n(),i(),s();const o=this.getAllCtrls();this.comp.setCtrls(o),this.restoreFocusOnHeader(r)}getHeaderCtrlForColumn(e){if(no(e))return this.columnsRowCtrl?this.columnsRowCtrl.getHeaderCellCtrl(e):void 0;if(this.groupsRowCtrls.length!==0)for(let t=0;t<this.groupsRowCtrls.length;t++){const r=this.groupsRowCtrls[t].getHeaderCellCtrl(e);if(r)return r}}getHtmlElementForColumnHeader(e){const t=this.getHeaderCtrlForColumn(e);return t?t.getGui():null}getRowType(e){const r=this.getAllCtrls()[e];return r?r.getType():void 0}focusHeader(e,t,r){const i=this.getAllCtrls()[e];return i?i.focusHeader(t,r):!1}getViewportElement(){return this.eViewport}getGroupRowCount(){return this.groupsRowCtrls.length}getGroupRowCtrlAtIndex(e){return this.groupsRowCtrls[e]}getRowCount(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0)}setHorizontalScroll(e){this.comp.setViewportScrollLeft(e)}onScrollCallback(e){this.addManagedElementListeners(this.getViewportElement(),{scroll:e})}destroy(){this.filtersRowCtrl&&(this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)),this.columnsRowCtrl&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),this.groupsRowCtrls&&this.groupsRowCtrls.length&&(this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls)),super.destroy()}setupDragAndDrop(e){const t=new eN(this.pinned,e);this.createManagedBean(t)}restoreFocusOnHeader(e){if(!e)return;const{column:t}=e;t.getPinned()==this.pinned&&this.focusService.focusHeaderPosition({headerPosition:e})}onGridColumnsChanged(){this.refresh(!0)}onDisplayedColumnsChanged(){var t;const e=((t=this.filterManager)==null?void 0:t.hasFloatingFilters())&&!this.hidden;this.includeFloatingFilter!==e&&this.refresh(!0)}setupCenterWidth(){this.pinned==null&&this.createManagedBean(new Sy(e=>this.comp.setCenterWidth(`${e}px`),!0))}setupPinnedWidth(){if(this.pinned==null)return;const e=this.pinned==="left",t=this.pinned==="right";this.hidden=!0;const r=()=>{const n=e?this.pinnedWidthService.getPinnedLeftWidth():this.pinnedWidthService.getPinnedRightWidth();if(n==null)return;const i=n==0,s=this.hidden!==i,o=this.gos.get("enableRtl"),a=this.gos.getScrollbarWidth(),c=this.scrollVisibleService.isVerticalScrollShowing()&&(o&&e||!o&&t)?n+a:n;this.comp.setPinnedContainerWidth(`${c}px`),this.comp.setDisplayed(!i),s&&(this.hidden=i,this.refresh())};this.addManagedEventListeners({leftPinnedWidthChanged:r,rightPinnedWidthChanged:r,scrollVisibilityChanged:r,scrollbarWidthChanged:r})}},Ey=class extends Re{constructor(e){super(),this.view=e}postConstruct(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()}updateLayoutClasses(){const e=this.getDomLayout(),t={autoHeight:e==="autoHeight",normal:e==="normal",print:e==="print"},r=t.autoHeight?"ag-layout-auto-height":t.print?"ag-layout-print":"ag-layout-normal";this.view.updateLayoutClasses(r,t)}getDomLayout(){const e=this.gos.get("domLayout")??"normal";return["normal","print","autoHeight"].indexOf(e)===-1?(ke(`${e} is not valid for DOM Layout, valid values are 'normal', 'autoHeight', 'print'.`),"normal"):e}},cN=class extends Jt{constructor(){super(`
            <div class="ag-overlay" role="presentation">
                <div class="ag-overlay-panel" role="presentation">
                    <div class="ag-overlay-wrapper" data-ref="eOverlayWrapper" role="presentation"></div>
                </div>
            </div>`),this.eOverlayWrapper=ht,this.activePromise=null,this.activeOverlay=null,this.updateListenerDestroyFunc=null,this.activeOverlayWrapperCssClass=null,this.elToFocusAfter=null}wireBeans(e){this.overlayService=e.overlayService,this.focusService=e.focusService,this.visibleColsService=e.visibleColsService}handleKeyDown(e){if(e.key!==Se.TAB||e.defaultPrevented||ns(e)||this.focusService.findNextFocusableElement(this.eOverlayWrapper,!1,e.shiftKey))return;let r=!1;e.shiftKey?r=this.focusService.focusGridView(Ot(this.visibleColsService.getAllCols()),!0,!1):r=this.focusService.focusNextGridCoreContainer(!1),r&&e.preventDefault()}updateLayoutClasses(e,t){const r=this.eOverlayWrapper.classList;r.toggle("ag-layout-auto-height",t.autoHeight),r.toggle("ag-layout-normal",t.normal),r.toggle("ag-layout-print",t.print)}postConstruct(){this.createManagedBean(new Ey(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.overlayService.registerOverlayWrapperComp(this),this.addManagedElementListeners(this.getFocusableElement(),{keydown:this.handleKeyDown.bind(this)})}setWrapperTypeClass(e){const t=this.eOverlayWrapper.classList;this.activeOverlayWrapperCssClass&&t.toggle(this.activeOverlayWrapperCssClass,!1),this.activeOverlayWrapperCssClass=e,t.toggle(e,!0)}showOverlay(e,t,r,n){if(this.setWrapperTypeClass(t),this.destroyActiveOverlay(),this.elToFocusAfter=null,this.activePromise=e,!!e){if(this.setDisplayed(!0,{skipAriaHidden:!0}),r&&this.focusService.isGridFocused()){const i=this.gos.getActiveDomElement();i&&!this.gos.isNothingFocused()&&(this.elToFocusAfter=i)}e.then(i=>{if(this.activePromise!==e){this.activeOverlay!==i&&(this.destroyBean(i),i=null);return}if(this.activePromise=null,!i)return;if(this.activeOverlay!==i&&(this.eOverlayWrapper.appendChild(i.getGui()),this.activeOverlay=i,n)){const o=i;this.updateListenerDestroyFunc=this.addManagedPropertyListener(n,({currentValue:a})=>{var l;(l=o.refresh)==null||l.call(o,this.gos.addGridCommonParams({...a??{}}))})}const s=this.focusService;r&&s.isGridFocused()&&s.focusInto(this.eOverlayWrapper)})}}updateOverlayWrapperPaddingTop(e){this.eOverlayWrapper.style.setProperty("padding-top",`${e}px`)}destroyActiveOverlay(){var n;this.activePromise=null;const e=this.activeOverlay;if(!e)return;let t=this.elToFocusAfter;this.activeOverlay=null,this.elToFocusAfter=null,t&&!this.focusService.isGridFocused()&&(t=null);const r=this.updateListenerDestroyFunc;r&&(r(),this.updateListenerDestroyFunc=null),this.destroyBean(e),Dn(this.eOverlayWrapper),(n=t==null?void 0:t.focus)==null||n.call(t,{preventScroll:!0})}hideOverlay(){this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})}destroy(){this.elToFocusAfter=null,this.destroyActiveOverlay(),super.destroy()}},KR=class extends Jt{constructor(e,t){super(),this.direction=t,this.eViewport=ht,this.eContainer=ht,this.hideTimeout=null,this.setTemplate(e)}wireBeans(e){this.animationFrameService=e.animationFrameService}postConstruct(){this.addManagedEventListeners({scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this)}),this.onScrollVisibilityChanged(),this.addOrRemoveCssClass("ag-apple-scrollbar",eR()||uo())}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.invisibleScrollbar=rR(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))}addActiveListenerToggles(){const e=this.getGui(),t=()=>this.addOrRemoveCssClass("ag-scrollbar-active",!0),r=()=>this.addOrRemoveCssClass("ag-scrollbar-active",!1);this.addManagedListeners(e,{mouseenter:t,mousedown:t,touchstart:t,mouseleave:r,touchend:r})}onScrollVisibilityChanged(){this.invisibleScrollbar===void 0&&this.initialiseInvisibleScrollbar(),this.animationFrameService.requestAnimationFrame(()=>this.setScrollVisible())}hideAndShowInvisibleScrollAsNeeded(){this.addManagedEventListeners({bodyScroll:e=>{e.direction===this.direction&&(this.hideTimeout!==null&&(window.clearTimeout(this.hideTimeout),this.hideTimeout=null),this.addOrRemoveCssClass("ag-scrollbar-scrolling",!0))},bodyScrollEnd:()=>{this.hideTimeout=window.setTimeout(()=>{this.addOrRemoveCssClass("ag-scrollbar-scrolling",!1),this.hideTimeout=null},400)}})}attemptSettingScrollPosition(e){const t=this.getViewportElement();YD(()=>Vi(t),()=>this.setScrollPosition(e),100)}getViewportElement(){return this.eViewport}getContainer(){return this.eContainer}onScrollCallback(e){this.addManagedElementListeners(this.getViewportElement(),{scroll:e})}},uN=class extends KR{constructor(){super(`<div class="ag-body-horizontal-scroll" aria-hidden="true">
            <div class="ag-horizontal-left-spacer" data-ref="eLeftSpacer"></div>
            <div class="ag-body-horizontal-scroll-viewport" data-ref="eViewport">
                <div class="ag-body-horizontal-scroll-container" data-ref="eContainer"></div>
            </div>
            <div class="ag-horizontal-right-spacer" data-ref="eRightSpacer"></div>
        </div>`,"horizontal"),this.eLeftSpacer=ht,this.eRightSpacer=ht}wireBeans(e){super.wireBeans(e),this.visibleColsService=e.visibleColsService,this.pinnedRowModel=e.pinnedRowModel,this.ctrlsService=e.ctrlsService,this.scrollVisibleService=e.scrollVisibleService}postConstruct(){super.postConstruct();const e=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e,pinnedRowDataChanged:this.onPinnedRowDataChanged.bind(this)}),this.addManagedPropertyListener("domLayout",e),this.ctrlsService.register("fakeHScrollComp",this),this.createManagedBean(new Sy(t=>this.eContainer.style.width=`${t}px`)),this.addManagedPropertyListeners(["suppressHorizontalScroll"],this.onScrollVisibilityChanged.bind(this))}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.enableRtl=this.gos.get("enableRtl"),super.initialiseInvisibleScrollbar(),this.invisibleScrollbar&&this.refreshCompBottom())}onPinnedRowDataChanged(){this.refreshCompBottom()}refreshCompBottom(){if(!this.invisibleScrollbar)return;const e=this.pinnedRowModel.getPinnedBottomTotalHeight();this.getGui().style.bottom=`${e}px`}onScrollVisibilityChanged(){super.onScrollVisibilityChanged(),this.setFakeHScrollSpacerWidths()}setFakeHScrollSpacerWidths(){const e=this.scrollVisibleService.isVerticalScrollShowing();let t=this.visibleColsService.getDisplayedColumnsRightWidth();const r=!this.enableRtl&&e,n=this.gos.getScrollbarWidth();r&&(t+=n),Ei(this.eRightSpacer,t),this.eRightSpacer.classList.toggle("ag-scroller-corner",t<=n);let i=this.visibleColsService.getColsLeftWidth();this.enableRtl&&e&&(i+=n),Ei(this.eLeftSpacer,i),this.eLeftSpacer.classList.toggle("ag-scroller-corner",i<=n)}setScrollVisible(){const e=this.scrollVisibleService.isHorizontalScrollShowing(),t=this.invisibleScrollbar,r=this.gos.get("suppressHorizontalScroll"),n=e&&this.gos.getScrollbarWidth()||0,s=r?0:n===0&&t?16:n;this.addOrRemoveCssClass("ag-scrollbar-invisible",t),Oc(this.getGui(),s),Oc(this.eViewport,s),Oc(this.eContainer,s),this.setDisplayed(e,{skipAriaHidden:!0})}getScrollPosition(){return rf(this.getViewportElement(),this.enableRtl)}setScrollPosition(e){Vi(this.getViewportElement())||this.attemptSettingScrollPosition(e),nf(this.getViewportElement(),e,this.enableRtl)}},qR=class extends Re{wireBeans(e){this.maxDivHeightScaler=e.rowContainerHeightService}constructor(e,t){super(),this.eContainer=e,this.eViewport=t}postConstruct(){this.addManagedEventListeners({rowContainerHeightChanged:this.onHeightChanged.bind(this)})}onHeightChanged(){const e=this.maxDivHeightScaler.getUiContainerHeight(),t=e!=null?`${e}px`:"";this.eContainer.style.height=t,this.eViewport&&(this.eViewport.style.height=t)}},dN=class extends KR{wireBeans(e){super.wireBeans(e),this.ctrlsService=e.ctrlsService,this.scrollVisibleService=e.scrollVisibleService}constructor(){super(`<div class="ag-body-vertical-scroll" aria-hidden="true">
            <div class="ag-body-vertical-scroll-viewport" data-ref="eViewport">
                <div class="ag-body-vertical-scroll-container" data-ref="eContainer"></div>
            </div>
        </div>`,"vertical")}postConstruct(){super.postConstruct(),this.createManagedBean(new qR(this.eContainer)),this.ctrlsService.register("fakeVScrollComp",this),this.addManagedEventListeners({rowContainerHeightChanged:this.onRowContainerHeightChanged.bind(this)})}setScrollVisible(){const e=this.scrollVisibleService.isVerticalScrollShowing(),t=this.invisibleScrollbar,r=e&&this.gos.getScrollbarWidth()||0,n=r===0&&t?16:r;this.addOrRemoveCssClass("ag-scrollbar-invisible",t),Ei(this.getGui(),n),Ei(this.eViewport,n),Ei(this.eContainer,n),this.setDisplayed(e,{skipAriaHidden:!0})}onRowContainerHeightChanged(){const{ctrlsService:e}=this,r=e.getGridBodyCtrl().getBodyViewportElement(),n=this.getScrollPosition(),i=r.scrollTop;n!=i&&this.setScrollPosition(i,!0)}getScrollPosition(){return this.getViewportElement().scrollTop}setScrollPosition(e,t){!t&&!Vi(this.getViewportElement())&&this.attemptSettingScrollPosition(e),this.getViewportElement().scrollTop=e}},fv=(e=>(e.FakeHScrollbar="fakeHScrollComp",e.Header="centerHeader",e.PinnedTop="topCenter",e.PinnedBottom="bottomCenter",e.StickyTop="stickyTopCenter",e.StickyBottom="stickyBottomCenter",e))(fv||{}),hN=class extends Re{constructor(e){super(),this.lastScrollSource=[null,null],this.scrollLeft=-1,this.nextScrollTop=-1,this.scrollTop=-1,this.lastOffsetHeight=-1,this.lastScrollTop=-1,this.eBodyViewport=e,this.resetLastHScrollDebounced=ln(()=>this.lastScrollSource[1]=null,500),this.resetLastVScrollDebounced=ln(()=>this.lastScrollSource[0]=null,500)}wireBeans(e){this.ctrlsService=e.ctrlsService,this.animationFrameService=e.animationFrameService,this.paginationService=e.paginationService,this.pageBoundsService=e.pageBoundsService,this.rowModel=e.rowModel,this.heightScaler=e.rowContainerHeightService,this.rowRenderer=e.rowRenderer,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService}postConstruct(){this.enableRtl=this.gos.get("enableRtl"),this.addManagedEventListeners({displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this)}),this.ctrlsService.whenReady(e=>{this.centerRowsCtrl=e.center,this.onDisplayedColumnsWidthChanged(),this.addScrollListener()})}addScrollListener(){this.addHorizontalScrollListeners(),this.addVerticalScrollListeners()}addHorizontalScrollListeners(){const e=this.ctrlsService.getParams();this.addManagedElementListeners(this.centerRowsCtrl.getViewportElement(),{scroll:this.onHScroll.bind(this,"Viewport")});for(const t of Object.values(fv)){const r=e[t];this.registerScrollPartner(r,this.onHScroll.bind(this,t))}}addVerticalScrollListeners(){const e=this.ctrlsService.getParams(),t=this.gos.get("debounceVerticalScrollbar"),r=t?ln(this.onVScroll.bind(this,"Viewport"),100):this.onVScroll.bind(this,"Viewport"),n=t?ln(this.onVScroll.bind(this,"fakeVScrollComp"),100):this.onVScroll.bind(this,"fakeVScrollComp");this.addManagedElementListeners(this.eBodyViewport,{scroll:r}),this.registerScrollPartner(e.fakeVScrollComp,n)}registerScrollPartner(e,t){e.onScrollCallback(t)}onDisplayedColumnsWidthChanged(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()}horizontallyScrollHeaderCenterAndFloatingCenter(e){this.centerRowsCtrl!=null&&(e===void 0&&(e=this.centerRowsCtrl.getCenterViewportScrollLeft()),this.setScrollLeftForAllContainersExceptCurrent(Math.abs(e)))}setScrollLeftForAllContainersExceptCurrent(e){for(const t of[...Object.values(fv),"Viewport"]){if(this.lastScrollSource[1]===t)continue;const r=this.getViewportForSource(t);nf(r,e,this.enableRtl)}}getViewportForSource(e){return e==="Viewport"?this.centerRowsCtrl.getViewportElement():this.ctrlsService.get(e).getViewportElement()}isControllingScroll(e,t){return this.lastScrollSource[t]==null?(t===0?this.lastScrollSource[0]=e:this.lastScrollSource[1]=e,!0):this.lastScrollSource[t]===e}onHScroll(e){if(!this.isControllingScroll(e,1))return;const t=this.centerRowsCtrl.getViewportElement(),{scrollLeft:r}=t;if(this.shouldBlockScrollUpdate(1,r,!0))return;const n=rf(this.getViewportForSource(e),this.enableRtl);this.doHorizontalScroll(Math.round(n)),this.resetLastHScrollDebounced()}onVScroll(e){if(!this.isControllingScroll(e,0))return;let t;e==="Viewport"?t=this.eBodyViewport.scrollTop:t=this.ctrlsService.get("fakeVScrollComp").getScrollPosition(),!this.shouldBlockScrollUpdate(0,t,!0)&&(this.animationFrameService.setScrollTop(t),this.nextScrollTop=t,e==="Viewport"?this.ctrlsService.get("fakeVScrollComp").setScrollPosition(t):this.eBodyViewport.scrollTop=t,this.gos.get("suppressAnimationFrame")?this.scrollGridIfNeeded():this.animationFrameService.schedule(),this.resetLastVScrollDebounced())}doHorizontalScroll(e){const t=this.ctrlsService.get("fakeHScrollComp").getScrollPosition();this.scrollLeft===e&&e===t||(this.scrollLeft=e,this.fireScrollEvent(1),this.horizontallyScrollHeaderCenterAndFloatingCenter(e),this.centerRowsCtrl.onHorizontalViewportChanged(!0))}fireScrollEvent(e){const t={type:"bodyScroll",direction:e===1?"horizontal":"vertical",left:this.scrollLeft,top:this.scrollTop};this.eventService.dispatchEvent(t),window.clearTimeout(this.scrollTimer),this.scrollTimer=void 0,this.scrollTimer=window.setTimeout(()=>{this.eventService.dispatchEvent({...t,type:"bodyScrollEnd"})},100)}shouldBlockScrollUpdate(e,t,r=!1){return r&&!uo()?!1:e===0?this.shouldBlockVerticalScroll(t):this.shouldBlockHorizontalScroll(t)}shouldBlockVerticalScroll(e){const t=ay(this.eBodyViewport),{scrollHeight:r}=this.eBodyViewport;return e<0||e+t>r}shouldBlockHorizontalScroll(e){const t=this.centerRowsCtrl.getCenterWidth(),{scrollWidth:r}=this.centerRowsCtrl.getViewportElement();if(this.enableRtl&&tf()){if(e>0)return!0}else if(e<0)return!0;return Math.abs(e)+t>r}redrawRowsAfterScroll(){this.fireScrollEvent(0)}checkScrollLeft(){this.scrollLeft!==this.centerRowsCtrl.getCenterViewportScrollLeft()&&this.onHScroll("Viewport")}scrollGridIfNeeded(){const e=this.scrollTop!=this.nextScrollTop;return e&&(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()),e}setHorizontalScrollPosition(e,t=!1){const n=this.centerRowsCtrl.getViewportElement().scrollWidth-this.centerRowsCtrl.getCenterWidth();!t&&this.shouldBlockScrollUpdate(1,e)&&(this.enableRtl&&tf()?e=e>0?0:n:e=Math.min(Math.max(e,0),n)),nf(this.centerRowsCtrl.getViewportElement(),Math.abs(e),this.enableRtl),this.doHorizontalScroll(e)}setVerticalScrollPosition(e){this.eBodyViewport.scrollTop=e}getVScrollPosition(){return this.lastScrollTop=this.eBodyViewport.scrollTop,this.lastOffsetHeight=this.eBodyViewport.offsetHeight,{top:this.lastScrollTop,bottom:this.lastScrollTop+this.lastOffsetHeight}}getApproximateVScollPosition(){return this.lastScrollTop>=0&&this.lastOffsetHeight>=0?{top:this.scrollTop,bottom:this.scrollTop+this.lastOffsetHeight}:this.getVScrollPosition()}getHScrollPosition(){return this.centerRowsCtrl.getHScrollPosition()}isHorizontalScrollShowing(){return this.centerRowsCtrl.isHorizontalScrollShowing()}scrollHorizontally(e){const t=this.centerRowsCtrl.getViewportElement().scrollLeft;return this.setHorizontalScrollPosition(t+e),this.centerRowsCtrl.getViewportElement().scrollLeft-t}scrollToTop(){this.eBodyViewport.scrollTop=0}ensureNodeVisible(e,t=null){const r=this.rowModel.getRowCount();let n=-1;for(let i=0;i<r;i++){const s=this.rowModel.getRow(i);if(typeof e=="function"){if(s&&e(s)){n=i;break}}else if(e===s||e===s.data){n=i;break}}n>=0&&this.ensureIndexVisible(n,t)}ensureIndexVisible(e,t){if(this.gos.isDomLayout("print"))return;const r=this.rowModel.getRowCount();if(typeof e!="number"||e<0||e>=r){ke("Invalid row index for ensureIndexVisible: "+e);return}const i=this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel");this.getFrameworkOverrides().wrapIncoming(()=>{var u;i||(u=this.paginationService)==null||u.goToPageWithIndex(e);const s=this.ctrlsService.getGridBodyCtrl(),o=s.getStickyTopHeight(),a=s.getStickyBottomHeight(),l=this.rowModel.getRow(e);let c;do{const f=l.rowTop,d=l.rowHeight,h=this.pageBoundsService.getPixelOffset(),g=l.rowTop-h,v=g+l.rowHeight,p=this.getVScrollPosition(),y=this.heightScaler.getDivStretchOffset(),m=p.top+y,b=p.bottom+y,x=b-m,P=this.heightScaler.getScrollPositionForPixel(g),F=this.heightScaler.getScrollPositionForPixel(v-x),D=Math.min((P+F)/2,g),O=m+o>g,j=b-a<v;let H=null;t==="top"?H=P:t==="bottom"?H=F:t==="middle"?H=D:O?H=P-o:j&&(H=F+a),H!==null&&(this.setVerticalScrollPosition(H),this.rowRenderer.redraw({afterScroll:!0})),c=f!==l.rowTop||d!==l.rowHeight}while(c);this.animationFrameService.flushAllFrames()})}ensureColumnVisible(e,t="auto"){const r=this.columnModel.getCol(e);if(!r||r.isPinned()||!this.visibleColsService.isColDisplayed(r))return;const n=this.getPositionedHorizontalScroll(r,t);this.getFrameworkOverrides().wrapIncoming(()=>{n!==null&&this.centerRowsCtrl.setCenterViewportScrollLeft(n),this.centerRowsCtrl.onHorizontalViewportChanged(),this.animationFrameService.flushAllFrames()})}setScrollPosition(e,t){this.getFrameworkOverrides().wrapIncoming(()=>{this.centerRowsCtrl.setCenterViewportScrollLeft(t),this.setVerticalScrollPosition(e),this.rowRenderer.redraw({afterScroll:!0}),this.animationFrameService.flushAllFrames()})}getPositionedHorizontalScroll(e,t){const{columnBeforeStart:r,columnAfterEnd:n}=this.isColumnOutsideViewport(e),i=this.centerRowsCtrl.getCenterWidth()<e.getActualWidth(),s=this.centerRowsCtrl.getCenterWidth(),o=this.enableRtl;let a=(o?r:n)||i,l=o?n:r;t!=="auto"&&(a=t==="start",l=t==="end");const c=t==="middle";if(a||l||c){const{colLeft:u,colMiddle:f,colRight:d}=this.getColumnBounds(e);return c?f-s/2:a?o?d:u:o?u-s:d-s}return null}isColumnOutsideViewport(e){const{start:t,end:r}=this.getViewportBounds(),{colLeft:n,colRight:i}=this.getColumnBounds(e),s=this.enableRtl,o=s?t>i:r<i,a=s?r<n:t>n;return{columnBeforeStart:o,columnAfterEnd:a}}getColumnBounds(e){const t=this.enableRtl,r=this.visibleColsService.getBodyContainerWidth(),n=e.getActualWidth(),i=e.getLeft(),s=t?-1:1,o=t?r-i:i,a=o+n*s,l=o+n/2*s;return{colLeft:o,colMiddle:l,colRight:a}}getViewportBounds(){const e=this.centerRowsCtrl.getCenterWidth(),t=this.centerRowsCtrl.getCenterViewportScrollLeft(),r=t,n=e+t;return{start:r,end:n,width:e}}},fN=class extends Re{wireBeans(e){this.ctrlsService=e.ctrlsService,this.pinnedWidthService=e.pinnedWidthService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.columnSizeService=e.columnSizeService,this.scrollVisibleService=e.scrollVisibleService,this.columnViewportService=e.columnViewportService}constructor(e){super(),this.centerContainerCtrl=e}postConstruct(){this.ctrlsService.whenReady(e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.listenForResize()}),this.addManagedEventListeners({scrollbarWidthChanged:this.onScrollbarWidthChanged.bind(this)}),this.addManagedPropertyListeners(["alwaysShowHorizontalScroll","alwaysShowVerticalScroll"],()=>{this.checkViewportAndScrolls()})}listenForResize(){const e=()=>this.onCenterViewportResized();this.centerContainerCtrl.registerViewportResizeListener(e),this.gridBodyCtrl.registerBodyViewportResizeListener(e)}onScrollbarWidthChanged(){this.checkViewportAndScrolls()}onCenterViewportResized(){if(this.centerContainerCtrl.isViewportInTheDOMTree()){this.keepPinnedColumnsNarrowerThanViewport(),this.checkViewportAndScrolls();const e=this.centerContainerCtrl.getCenterWidth();e!==this.centerWidth&&(this.centerWidth=e,this.columnSizeService.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0}keepPinnedColumnsNarrowerThanViewport(){const e=this.gridBodyCtrl.getBodyViewportElement(),t=Iu(e);if(t<=50)return;let r=this.getPinnedColumnsOverflowingViewport(t-50);const n=this.gos.getCallback("processUnpinnedColumns");r.length&&(n&&(r=n({columns:r,viewportWidth:t})),this.columnModel.setColsPinned(r,null,"viewportSizeFeature"))}getPinnedColumnsOverflowingViewport(e){const t=this.pinnedWidthService.getPinnedRightWidth(),r=this.pinnedWidthService.getPinnedLeftWidth(),n=t+r;if(n<e)return[];const i=[...this.visibleColsService.getLeftCols()],s=[...this.visibleColsService.getRightCols()];let o=0,a=0;const l=0,c=[];let u=n-l-e;for(;(a<i.length||o<s.length)&&u>0;){if(o<s.length){const f=s[o++];u-=f.getActualWidth(),c.push(f)}if(a<i.length&&u>0){const f=i[a++];u-=f.getActualWidth(),c.push(f)}}return c}checkViewportAndScrolls(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.getScrollFeature().checkScrollLeft()}getBodyHeight(){return this.bodyHeight}checkBodyHeight(){const e=this.gridBodyCtrl.getBodyViewportElement(),t=ay(e);this.bodyHeight!==t&&(this.bodyHeight=t,this.eventService.dispatchEvent({type:"bodyHeightChanged"}))}updateScrollVisibleService(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)}updateScrollVisibleServiceImpl(){const e={horizontalScrollShowing:this.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleService.setScrollsVisible(e)}isHorizontalScrollShowing(){return this.centerContainerCtrl.isHorizontalScrollShowing()}onHorizontalViewportChanged(){const e=this.centerContainerCtrl.getCenterWidth(),t=this.centerContainerCtrl.getViewportScrollLeft();this.columnViewportService.setScrollPosition(e,t)}},pN=class extends Re{wireBeans(e){this.dragService=e.dragService,this.rangeService=e.rangeService}constructor(e){super(),this.eContainer=e}postConstruct(){if(!this.rangeService)return;this.params={eElement:this.eContainer,onDragStart:this.rangeService.onDragStart.bind(this.rangeService),onDragStop:this.rangeService.onDragStop.bind(this.rangeService),onDragging:this.rangeService.onDragging.bind(this.rangeService)},this.addManagedPropertyListener("enableRangeSelection",t=>{if(t.currentValue){this.enableFeature();return}this.disableFeature()}),this.addDestroyFunc(()=>this.disableFeature()),this.gos.get("enableRangeSelection")&&this.enableFeature()}enableFeature(){this.dragService.addDragSource(this.params)}disableFeature(){this.dragService.removeDragSource(this.params)}},gN=class extends Jt{constructor(){super(`
            <div class="ag-selection-checkbox" role="presentation">
                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>
            </div>`,[hy]),this.eCheckbox=ht}postConstruct(){this.eCheckbox.setPassive(!0)}getCheckboxId(){return this.eCheckbox.getInputElement().id}onDataChanged(){this.onSelectionChanged()}onSelectableChanged(){this.showOrHideSelect()}onSelectionChanged(){const e=this.localeService.getLocaleTextFunc(),t=this.rowNode.isSelected(),r=iy(e,t),[n,i]=this.rowNode.selectable?["ariaRowToggleSelection","Press Space to toggle row selection"]:["ariaRowSelectionDisabled","Row Selection is disabled for this row"],s=e(n,i);this.eCheckbox.setValue(t,!0),this.eCheckbox.setInputAriaLabel(`${s} (${r})`)}onClicked(e,t,r){return this.rowNode.setSelectedParams({newValue:e,rangeSelect:r.shiftKey,groupSelectsFiltered:t,event:r,source:"checkboxSelected"})}init(e){if(this.rowNode=e.rowNode,this.column=e.column,this.overrides=e.overrides,this.onSelectionChanged(),this.addManagedListeners(this.eCheckbox.getInputElement(),{dblclick:n=>yl(n),click:n=>{yl(n);const i=this.gos.get("groupSelectsFiltered"),s=this.eCheckbox.getValue();this.shouldHandleIndeterminateState(s,i)?this.onClicked(!0,i,n||{})===0&&this.onClicked(!1,i,n):s?this.onClicked(!1,i,n):this.onClicked(!0,i,n||{})}}),this.addManagedListeners(this.rowNode,{rowSelected:this.onSelectionChanged.bind(this),dataChanged:this.onDataChanged.bind(this),selectableChanged:this.onSelectableChanged.bind(this)}),this.gos.get("isRowSelectable")||typeof this.getIsVisible()=="function"){const n=this.showOrHideSelect.bind(this);this.addManagedEventListeners({displayedColumnsChanged:n}),this.addManagedListeners(this.rowNode,{dataChanged:n,cellChanged:n}),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")}shouldHandleIndeterminateState(e,t){return t&&(this.eCheckbox.getPreviousValue()===void 0||e===void 0)&&this.gos.isRowModelType("clientSide")}showOrHideSelect(){var n,i,s;let e=this.rowNode.selectable;const t=this.getIsVisible();if(e)if(typeof t=="function"){const o=(n=this.overrides)==null?void 0:n.callbackParams;if(!this.column)e=t({...o,node:this.rowNode,data:this.rowNode.data});else{const a=this.column.createColumnFunctionCallbackParams(this.rowNode);e=t({...o,...a})}}else e=t??!1;if((i=this.column)==null?void 0:i.getColDef().showDisabledCheckboxes){this.eCheckbox.setDisabled(!e),this.setVisible(!0),this.setDisplayed(!0);return}if((s=this.overrides)!=null&&s.removeHidden){this.setDisplayed(e);return}this.setVisible(e)}getIsVisible(){var e,t;return this.overrides?this.overrides.isVisible:(t=(e=this.column)==null?void 0:e.getColDef())==null?void 0:t.checkboxSelection}},mN=class extends Jt{constructor(e,t,r){super('<div class="ag-drag-handle ag-row-drag" draggable="true"></div>'),this.rowNode=e,this.column=t,this.eCell=r}postConstruct(){this.getGui().appendChild(kn("rowDrag",this.gos,null)),this.addGuiEventListener("mousedown",t=>{t.stopPropagation()}),this.addDragSource(),this.checkVisibility()}addDragSource(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))}onDragStart(e){const t=this.column.getColDef().dndSourceOnRowDrag;e.dataTransfer.setDragImage(this.eCell,0,0);const r=()=>{try{const n=JSON.stringify(this.rowNode.data);e.dataTransfer.setData("application/json",n),e.dataTransfer.setData("text/plain",n)}catch{}};if(t){const n=this.gos.addGridCommonParams({rowNode:this.rowNode,dragEvent:e});t(n)}else r()}checkVisibility(){const e=this.column.isDndSource(this.rowNode);this.setDisplayed(e)}},vN=class extends Re{constructor(e,t){super(),this.staticClasses=[],this.cellCtrl=e,this.beans=t,this.column=e.getColumn(),this.rowNode=e.getRowNode()}setComp(e){this.cellComp=e,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()}applyCellClassRules(){const e=this.column.getColDef(),{cellClassRules:t}=e,r=this.beans.gos.addGridCommonParams({value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,colDef:e,column:this.column,rowIndex:this.rowNode.rowIndex});this.beans.stylingService.processClassRules(t===this.cellClassRules?void 0:this.cellClassRules,t,r,n=>this.cellComp.addOrRemoveCssClass(n,!0),n=>this.cellComp.addOrRemoveCssClass(n,!1)),this.cellClassRules=t}applyUserStyles(){const e=this.column.getColDef();if(!e.cellStyle)return;let t;if(typeof e.cellStyle=="function"){const r=this.beans.gos.addGridCommonParams({column:this.column,value:this.cellCtrl.getValue(),colDef:e,data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex}),n=e.cellStyle;t=n(r)}else t=e.cellStyle;t&&this.cellComp.setUserStyles(t)}applyClassesFromColDef(){const e=this.column.getColDef(),t=this.beans.gos.addGridCommonParams({value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,column:this.column,colDef:e,rowIndex:this.rowNode.rowIndex});this.staticClasses.length&&this.staticClasses.forEach(r=>this.cellComp.addOrRemoveCssClass(r,!1)),this.staticClasses=this.beans.stylingService.getStaticCellClasses(e,t),this.staticClasses.length&&this.staticClasses.forEach(r=>this.cellComp.addOrRemoveCssClass(r,!0))}destroy(){super.destroy()}},yN=class extends Re{constructor(e,t,r,n,i){super(),this.cellCtrl=e,this.beans=t,this.rowNode=n,this.rowCtrl=i}setComp(e){this.eGui=e}onKeyDown(e){const t=e.key;switch(t){case Se.ENTER:this.onEnterKeyDown(e);break;case Se.F2:this.onF2KeyDown(e);break;case Se.ESCAPE:this.onEscapeKeyDown(e);break;case Se.TAB:this.onTabKeyDown(e);break;case Se.BACKSPACE:case Se.DELETE:this.onBackspaceOrDeleteKeyDown(t,e);break;case Se.DOWN:case Se.UP:case Se.RIGHT:case Se.LEFT:this.onNavigationKeyDown(e,t);break}}onNavigationKeyDown(e,t){this.cellCtrl.isEditing()||(e.shiftKey&&this.cellCtrl.isRangeSelectionEnabled()?this.onShiftRangeSelect(e):this.beans.navigationService.navigateToNextCell(e,t,this.cellCtrl.getCellPosition(),!0),e.preventDefault())}onShiftRangeSelect(e){if(!this.beans.rangeService)return;const t=this.beans.rangeService.extendLatestRangeInDirection(e);t&&this.beans.navigationService.ensureCellVisible(t)}onTabKeyDown(e){this.beans.navigationService.onTabKeyDown(this.cellCtrl,e)}onBackspaceOrDeleteKeyDown(e,t){const{cellCtrl:r,beans:n,rowNode:i}=this,{gos:s,rangeService:o,eventService:a}=n;if(!r.isEditing()){if(a.dispatchEvent({type:"keyShortcutChangedCellStart"}),r9(e,s.get("enableCellEditingOnBackspace"))){if(o&&s.get("enableRangeSelection"))o.clearCellRangeCellValues({dispatchWrapperEvents:!0,wrapperEventSource:"deleteKey"});else if(r.isCellEditable()){const l=r.getColumn(),c=this.beans.valueService.parseValue(l,i,"",i.getValueFromValueService(l))??null;i.setDataValue(l,c,"cellClear")}}else r.startRowOrCellEdit(e,t);a.dispatchEvent({type:"keyShortcutChangedCellEnd"})}}onEnterKeyDown(e){if(this.cellCtrl.isEditing()||this.rowCtrl.isEditing())this.cellCtrl.stopEditingAndFocus(!1,e.shiftKey);else if(this.beans.gos.get("enterNavigatesVertically")){const t=e.shiftKey?Se.UP:Se.DOWN;this.beans.navigationService.navigateToNextCell(null,t,this.cellCtrl.getCellPosition(),!1)}else this.cellCtrl.startRowOrCellEdit(Se.ENTER,e),this.cellCtrl.isEditing()&&e.preventDefault()}onF2KeyDown(e){this.cellCtrl.isEditing()||this.cellCtrl.startRowOrCellEdit(Se.F2,e)}onEscapeKeyDown(e){this.cellCtrl.isEditing()&&(this.cellCtrl.stopRowOrCellEdit(!0),this.cellCtrl.focusCell(!0))}processCharacter(e){if(e.target!==this.eGui||this.cellCtrl.isEditing())return;const n=e.key;n===" "?this.onSpaceKeyDown(e):(this.cellCtrl.startRowOrCellEdit(n,e),e.preventDefault())}onSpaceKeyDown(e){const{gos:t}=this.beans;if(!this.cellCtrl.isEditing()&&t.isRowSelection()){const r=this.rowNode.isSelected(),n=!r;if(n||!t.get("suppressRowDeselection")){const i=this.beans.gos.get("groupSelectsFiltered"),s=this.rowNode.setSelectedParams({newValue:n,rangeSelect:e.shiftKey,groupSelectsFiltered:i,event:e,source:"spaceKey"});r===void 0&&s===0&&this.rowNode.setSelectedParams({newValue:!1,rangeSelect:e.shiftKey,groupSelectsFiltered:i,event:e,source:"spaceKey"})}}e.preventDefault()}destroy(){super.destroy()}},bN=class extends Re{constructor(e,t,r){super(),this.cellCtrl=e,this.beans=t,this.column=r}onMouseEvent(e,t){if(!ns(t))switch(e){case"click":this.onCellClicked(t);break;case"mousedown":case"touchstart":this.onMouseDown(t);break;case"dblclick":this.onCellDoubleClicked(t);break;case"mouseout":this.onMouseOut(t);break;case"mouseover":this.onMouseOver(t);break}}onCellClicked(e){if(this.isDoubleClickOnIPad()){this.onCellDoubleClicked(e),e.preventDefault();return}const{eventService:t,rangeService:r,gos:n}=this.beans,i=e.ctrlKey||e.metaKey;r&&i&&r.getCellRangeCount(this.cellCtrl.getCellPosition())>1&&r.intersectLastRange(!0);const s=this.cellCtrl.createEvent(e,"cellClicked");t.dispatchEvent(s);const o=this.column.getColDef();o.onCellClicked&&window.setTimeout(()=>{this.beans.frameworkOverrides.wrapOutgoing(()=>{o.onCellClicked(s)})},0),(n.get("singleClickEdit")||o.singleClickEdit)&&!n.get("suppressClickEdit")&&!(e.shiftKey&&(r==null?void 0:r.getCellRanges().length)!=0)&&this.cellCtrl.startRowOrCellEdit()}isDoubleClickOnIPad(){if(!uo()||B3("dblclick"))return!1;const e=new Date().getTime(),t=e-this.lastIPadMouseClickEvent<200;return this.lastIPadMouseClickEvent=e,t}onCellDoubleClicked(e){const{column:t,beans:r,cellCtrl:n}=this,{eventService:i,frameworkOverrides:s,gos:o}=r,a=t.getColDef(),l=n.createEvent(e,"cellDoubleClicked");i.dispatchEvent(l),typeof a.onCellDoubleClicked=="function"&&window.setTimeout(()=>{s.wrapOutgoing(()=>{a.onCellDoubleClicked(l)})},0),!o.get("singleClickEdit")&&!o.get("suppressClickEdit")&&n.startRowOrCellEdit(null,e)}onMouseDown(e){const{ctrlKey:t,metaKey:r,shiftKey:n}=e,i=e.target,{cellCtrl:s,beans:o}=this,{eventService:a,rangeService:l,focusService:c,gos:u}=o;if(this.isRightClickInExistingRange(e))return;const f=l&&l.getCellRanges().length!=0;if(!n||!f){const h=u.get("enableCellTextSelection")&&e.defaultPrevented,g=(Gi()||h)&&!s.isEditing()&&!oy(i);s.focusCell(g)}if(n&&f&&!c.isCellFocused(s.getCellPosition())){e.preventDefault();const d=c.getFocusedCell();if(d){const{column:h,rowIndex:g,rowPinned:v}=d,p=o.rowRenderer.getRowByPosition({rowIndex:g,rowPinned:v}),y=p==null?void 0:p.getCellCtrl(h);y!=null&&y.isEditing()&&y.stopEditing(),c.setFocusedCell({column:h,rowIndex:g,rowPinned:v,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}}if(!this.containsWidget(i)){if(l){const d=this.cellCtrl.getCellPosition();if(n)l.extendLatestRangeToCell(d);else{const h=t||r;l.setRangeToCell(d,h)}}a.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseDown"))}}isRightClickInExistingRange(e){const{rangeService:t}=this.beans;if(t){const r=t.isCellInAnyRange(this.cellCtrl.getCellPosition()),n=e.button===2||e.ctrlKey&&this.beans.gos.get("allowContextMenuWithControlKey");if(r&&n)return!0}return!1}containsWidget(e){return tl(e,"ag-selection-checkbox",3)}onMouseOut(e){this.mouseStayingInsideCell(e)||(this.beans.eventService.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOut")),this.beans.columnHoverService.clearMouseOver())}onMouseOver(e){this.mouseStayingInsideCell(e)||(this.beans.eventService.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOver")),this.beans.columnHoverService.setMouseOver([this.column]))}mouseStayingInsideCell(e){if(!e.target||!e.relatedTarget)return!1;const t=this.cellCtrl.getGui(),r=t.contains(e.target),n=t.contains(e.relatedTarget);return r&&n}destroy(){super.destroy()}},wN=class extends Re{constructor(e,t){super(),this.cellCtrl=e,this.beans=t,this.column=e.getColumn(),this.rowNode=e.getRowNode()}setupRowSpan(){this.rowSpan=this.column.getRowSpan(this.rowNode),this.addManagedListeners(this.beans.eventService,{newColumnsLoaded:()=>this.onNewColumnsLoaded()})}setComp(e){this.eGui=e,this.setupColSpan(),this.setupRowSpan(),this.onLeftChanged(),this.onWidthChanged(),this.applyRowSpan()}onNewColumnsLoaded(){const e=this.column.getRowSpan(this.rowNode);this.rowSpan!==e&&(this.rowSpan=e,this.applyRowSpan(!0))}onDisplayColumnsChanged(){const e=this.getColSpanningList();oa(this.colsSpanning,e)||(this.colsSpanning=e,this.onWidthChanged(),this.onLeftChanged())}setupColSpan(){this.column.getColDef().colSpan!=null&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListeners(this.beans.eventService,{displayedColumnsChanged:this.onDisplayColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onWidthChanged.bind(this)}))}onWidthChanged(){if(!this.eGui)return;const e=this.getCellWidth();this.eGui.style.width=`${e}px`}getCellWidth(){return this.colsSpanning?this.colsSpanning.reduce((e,t)=>e+t.getActualWidth(),0):this.column.getActualWidth()}getColSpanningList(){const e=this.column.getColSpan(this.rowNode),t=[];if(e===1)t.push(this.column);else{let r=this.column;const n=this.column.getPinned();for(let i=0;r&&i<e&&(t.push(r),r=this.beans.visibleColsService.getColAfter(r),!(!r||_t(r)||n!==r.getPinned()));i++);}return t}onLeftChanged(){if(!this.eGui)return;const e=this.modifyLeftForPrintLayout(this.getCellLeft());this.eGui.style.left=e+"px"}getCellLeft(){let e;return this.beans.gos.get("enableRtl")&&this.colsSpanning?e=Ot(this.colsSpanning):e=this.column,e.getLeft()}modifyLeftForPrintLayout(e){if(!this.cellCtrl.isPrintLayout()||this.column.getPinned()==="left")return e;const t=this.beans.visibleColsService.getColsLeftWidth();if(this.column.getPinned()==="right"){const r=this.beans.visibleColsService.getBodyContainerWidth();return t+r+(e||0)}return t+(e||0)}applyRowSpan(e){if(this.rowSpan===1&&!e)return;const r=this.beans.gos.getRowHeightAsNumber()*this.rowSpan;this.eGui.style.height=`${r}px`,this.eGui.style.zIndex="1"}destroy(){super.destroy()}},sc="ag-cell-range-selected",CN="ag-cell-range-chart",SN="ag-cell-range-single-cell",xN="ag-cell-range-chart-category",RN="ag-cell-range-handle",EN="ag-cell-range-top",TN="ag-cell-range-right",PN="ag-cell-range-bottom",_N="ag-cell-range-left",MN=class{constructor(e,t){this.beans=e,this.rangeService=e.rangeService,this.selectionHandleFactory=e.selectionHandleFactory,this.cellCtrl=t}setComp(e,t){this.cellComp=e,this.eGui=t,this.onRangeSelectionChanged()}onRangeSelectionChanged(){this.cellComp&&(this.rangeCount=this.rangeService.getCellRangeCount(this.cellCtrl.getCellPosition()),this.hasChartRange=this.getHasChartRange(),this.cellComp.addOrRemoveCssClass(sc,this.rangeCount!==0),this.cellComp.addOrRemoveCssClass(`${sc}-1`,this.rangeCount===1),this.cellComp.addOrRemoveCssClass(`${sc}-2`,this.rangeCount===2),this.cellComp.addOrRemoveCssClass(`${sc}-3`,this.rangeCount===3),this.cellComp.addOrRemoveCssClass(`${sc}-4`,this.rangeCount>=4),this.cellComp.addOrRemoveCssClass(CN,this.hasChartRange),Jh(this.eGui,this.rangeCount>0?!0:void 0),this.cellComp.addOrRemoveCssClass(SN,this.isSingleCell()),this.updateRangeBorders(),this.refreshHandle())}updateRangeBorders(){const e=this.getRangeBorders(),t=this.isSingleCell(),r=!t&&e.top,n=!t&&e.right,i=!t&&e.bottom,s=!t&&e.left;this.cellComp.addOrRemoveCssClass(EN,r),this.cellComp.addOrRemoveCssClass(TN,n),this.cellComp.addOrRemoveCssClass(PN,i),this.cellComp.addOrRemoveCssClass(_N,s)}isSingleCell(){const{rangeService:e}=this.beans;return this.rangeCount===1&&!!e&&!e.isMoreThanOneCell()}getHasChartRange(){const{rangeService:e}=this.beans;if(!this.rangeCount||!e)return!1;const t=e.getCellRanges();return t.length>0&&t.every(r=>No([1,0],r.type))}updateRangeBordersIfRangeCount(){this.rangeCount>0&&(this.updateRangeBorders(),this.refreshHandle())}getRangeBorders(){const e=this.beans.gos.get("enableRtl");let t=!1,r=!1,n=!1,i=!1;const s=this.cellCtrl.getCellPosition().column,o=this.beans.visibleColsService;let a,l;e?(a=o.getColAfter(s),l=o.getColBefore(s)):(a=o.getColBefore(s),l=o.getColAfter(s));const c=this.rangeService.getCellRanges().filter(u=>this.rangeService.isCellInSpecificRange(this.cellCtrl.getCellPosition(),u));a||(i=!0),l||(r=!0);for(let u=0;u<c.length&&!(t&&r&&n&&i);u++){const f=c[u],d=this.rangeService.getRangeStartRow(f),h=this.rangeService.getRangeEndRow(f);!t&&this.beans.rowPositionUtils.sameRow(d,this.cellCtrl.getCellPosition())&&(t=!0),!n&&this.beans.rowPositionUtils.sameRow(h,this.cellCtrl.getCellPosition())&&(n=!0),!i&&a&&f.columns.indexOf(a)<0&&(i=!0),!r&&l&&f.columns.indexOf(l)<0&&(r=!0)}return{top:t,right:r,bottom:n,left:i}}refreshHandle(){if(this.beans.context.isDestroyed())return;const e=this.shouldHaveSelectionHandle();this.selectionHandle&&!e&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),e&&this.addSelectionHandle(),this.cellComp.addOrRemoveCssClass(RN,!!this.selectionHandle)}shouldHaveSelectionHandle(){const e=this.beans.gos,t=this.rangeService.getCellRanges(),r=t.length;if(this.rangeCount<1||r<1)return!1;const n=Ot(t),i=this.cellCtrl.getCellPosition(),s=e.get("enableFillHandle")&&!this.cellCtrl.isSuppressFillHandle(),o=e.get("enableRangeHandle");let a=r===1&&!this.cellCtrl.isEditing()&&(s||o);if(this.hasChartRange){const c=t[0].type===1&&this.rangeService.isCellInSpecificRange(i,t[0]);this.cellComp.addOrRemoveCssClass(xN,c),a=n.type===0}return a&&n.endRow!=null&&this.rangeService.isContiguousRange(n)&&this.rangeService.isBottomRightCell(n,i)}addSelectionHandle(){const e=this.beans.gos,t=Ot(this.rangeService.getCellRanges()).type,n=e.get("enableFillHandle")&&_t(t)?0:1;this.selectionHandle&&this.selectionHandle.getType()!==n&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),this.selectionHandle||(this.selectionHandle=this.selectionHandleFactory.createSelectionHandle(n)),this.selectionHandle.refresh(this.cellCtrl)}destroy(){this.beans.context.destroyBean(this.selectionHandle)}},kN="ag-cell",FN="ag-cell-auto-height",AN="ag-cell-normal-height",ON="ag-cell-focus",DN="ag-cell-first-right-pinned",IN="ag-cell-last-left-pinned",NN="ag-cell-not-inline-editing",LN="ag-column-hover",jN="ag-cell-wrap-text",BN=0,YR=class pv extends Re{constructor(t,r,n,i){super(),this.column=t,this.rowNode=r,this.beans=n,this.rowCtrl=i,this.cellRangeFeature=null,this.cellPositionFeature=null,this.cellCustomStyleFeature=null,this.tooltipFeature=null,this.cellMouseListenerFeature=null,this.cellKeyboardListenerFeature=null,this.suppressRefreshCell=!1,this.onCellCompAttachedFuncs=[],this.instanceId=t.getId()+"-"+BN++,this.colIdSanitised=Bi(this.column.getId()),this.createCellPosition(),this.addFeatures(),this.updateAndFormatValue(!1)}shouldRestoreFocus(){return this.beans.focusService.shouldRestoreFocus(this.cellPosition)}onFocusOut(){this.beans.focusService.clearRestoreFocus()}addFeatures(){this.cellPositionFeature=new wN(this,this.beans),this.addDestroyFunc(()=>{var r;(r=this.cellPositionFeature)==null||r.destroy(),this.cellPositionFeature=null}),this.cellCustomStyleFeature=new vN(this,this.beans),this.addDestroyFunc(()=>{var r;(r=this.cellCustomStyleFeature)==null||r.destroy(),this.cellCustomStyleFeature=null}),this.cellMouseListenerFeature=new bN(this,this.beans,this.column),this.addDestroyFunc(()=>{var r;(r=this.cellMouseListenerFeature)==null||r.destroy(),this.cellMouseListenerFeature=null}),this.cellKeyboardListenerFeature=new yN(this,this.beans,this.column,this.rowNode,this.rowCtrl),this.addDestroyFunc(()=>{var r;(r=this.cellKeyboardListenerFeature)==null||r.destroy(),this.cellKeyboardListenerFeature=null}),this.column.isTooltipEnabled()&&(this.enableTooltipFeature(),this.addDestroyFunc(()=>{this.disableTooltipFeature()})),this.beans.rangeService&&this.beans.gos.get("enableRangeSelection")&&(this.cellRangeFeature=new MN(this.beans,this),this.addDestroyFunc(()=>{var r;(r=this.cellRangeFeature)==null||r.destroy(),this.cellRangeFeature=null}))}enableTooltipFeature(t,r){const n=()=>{const o=this.column.getColDef(),a=this.rowNode.data;if(o.tooltipField&&je(a))return Ac(a,o.tooltipField,this.column.isTooltipFieldContainsDots());const l=o.tooltipValueGetter;return l?l(this.beans.gos.addGridCommonParams({location:"cell",colDef:this.column.getColDef(),column:this.column,rowIndex:this.cellPosition.rowIndex,node:this.rowNode,data:this.rowNode.data,value:this.value,valueFormatted:this.valueFormatted})):null},i=this.beans.gos.get("tooltipShowMode")==="whenTruncated";!r&&i&&!this.isCellRenderer()&&(r=()=>{const o=this.getGui(),a=o.children.length===0?o:o.querySelector(".ag-cell-value");return a?a.scrollWidth>a.clientWidth:!0});const s={getColumn:()=>this.column,getColDef:()=>this.column.getColDef(),getRowIndex:()=>this.cellPosition.rowIndex,getRowNode:()=>this.rowNode,getGui:()=>this.getGui(),getLocation:()=>"cell",getTooltipValue:t!=null?()=>t:n,getValueFormatted:()=>this.valueFormatted,shouldDisplayTooltip:r};this.tooltipFeature=new Ll(s,this.beans)}disableTooltipFeature(){this.tooltipFeature&&(this.tooltipFeature.destroy(),this.tooltipFeature=null)}setComp(t,r,n,i,s){var o,a,l,c;this.cellComp=t,this.eGui=r,this.printLayout=i,this.addDomData(),this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.onCellFocused(this.focusEventToRestore),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAutoHeight(n),this.refreshFirstAndLastStyles(),this.refreshAriaColIndex(),(o=this.cellPositionFeature)==null||o.setComp(r),(a=this.cellCustomStyleFeature)==null||a.setComp(t),(l=this.tooltipFeature)==null||l.refreshToolTip(),(c=this.cellKeyboardListenerFeature)==null||c.setComp(this.eGui),this.cellRangeFeature&&this.cellRangeFeature.setComp(t,r),s&&this.isCellEditable()?this.startEditing():this.showValue(),this.onCellCompAttachedFuncs.length&&(this.onCellCompAttachedFuncs.forEach(u=>u()),this.onCellCompAttachedFuncs=[])}setupAutoHeight(t){if(this.isAutoHeight=this.column.isAutoHeight(),!this.isAutoHeight||!t)return;const r=t.parentElement,n=this.beans.gos.getRowHeightForNode(this.rowNode).height,i=a=>{if(this.editing||!this.isAlive())return;const{paddingTop:l,paddingBottom:c,borderBottomWidth:u,borderTopWidth:f}=aa(r),d=l+c+u+f,g=t.offsetHeight+d;if(a<5){const p=this.beans.gos.getDocument(),y=!p||!p.contains(t),m=g==0;if(y||m){window.setTimeout(()=>i(a+1),0);return}}const v=Math.max(g,n);this.rowNode.setRowAutoHeight(v,this.column)},s=()=>i(0);s();const o=this.beans.resizeObserverService.observeResize(t,s);this.addDestroyFunc(()=>{o(),this.rowNode.setRowAutoHeight(void 0,this.column)})}getCellAriaRole(){return this.column.getColDef().cellAriaRole??"gridcell"}getInstanceId(){return this.instanceId}getColumnIdSanitised(){return this.colIdSanitised}isCellRenderer(){const t=this.column.getColDef();return t.cellRenderer!=null||t.cellRendererSelector!=null}getValueToDisplay(){return this.valueFormatted??this.value}showValue(t=!1){var s,o;const r=this.getValueToDisplay();let n;if(this.rowNode.stub&&((s=this.rowNode.groupData)==null?void 0:s[this.column.getId()])==null){const a=this.createCellRendererParams();n=this.beans.userComponentFactory.getLoadingCellRendererDetails(this.column.getColDef(),a)}else if(this.isCellRenderer()){const a=this.createCellRendererParams();n=this.beans.userComponentFactory.getCellRendererDetails(this.column.getColDef(),a)}this.cellComp.setRenderDetails(n,r,t),(o=this.cellRangeFeature)==null||o.refreshHandle()}setupControlComps(){const t=this.column.getColDef();this.includeSelection=this.isIncludeControl(t.checkboxSelection),this.includeRowDrag=this.isIncludeControl(t.rowDrag),this.includeDndSource=this.isIncludeControl(t.dndSource),this.cellComp.setIncludeSelection(this.includeSelection),this.cellComp.setIncludeDndSource(this.includeDndSource),this.cellComp.setIncludeRowDrag(this.includeRowDrag)}isForceWrapper(){return this.beans.gos.get("enableCellTextSelection")||this.column.isAutoHeight()}isIncludeControl(t){return this.rowNode.rowPinned!=null?!1:typeof t=="function"||t===!0}refreshShouldDestroy(){const t=this.column.getColDef(),r=this.includeSelection!=this.isIncludeControl(t.checkboxSelection),n=this.includeRowDrag!=this.isIncludeControl(t.rowDrag),i=this.includeDndSource!=this.isIncludeControl(t.dndSource),s=this.isAutoHeight!=this.column.isAutoHeight();return r||n||i||s}startEditing(t=null,r=!1,n=null){const{editService:i}=this.beans;if(!(!this.isCellEditable()||this.editing||!i)){if(!this.cellComp){this.onCellCompAttachedFuncs.push(()=>{this.startEditing(t,r,n)});return}i.startEditing(this,t,r,n)}}setEditing(t,r){var n;this.editCompDetails=r,this.editing!==t&&(this.editing=t,(n=this.cellRangeFeature)==null||n.refreshHandle())}stopRowOrCellEdit(t=!1){this.beans.gos.get("editType")==="fullRow"?this.rowCtrl.stopEditing(t):this.stopEditing(t)}onPopupEditorClosed(){this.editing&&this.stopEditingAndFocus()}stopEditing(t=!1){const{editService:r}=this.beans;return!this.editing||!r?!1:r.stopEditing(this,t)}createCellRendererParams(){return this.beans.gos.addGridCommonParams({value:this.value,valueFormatted:this.valueFormatted,getValue:()=>this.rowNode.getValueFromValueService(this.column),setValue:r=>this.beans.valueService.setValue(this.rowNode,this.column,r),formatValue:this.formatValue.bind(this),data:this.rowNode.data,node:this.rowNode,pinned:this.column.getPinned(),colDef:this.column.getColDef(),column:this.column,refreshCell:this.refreshCell.bind(this),eGridCell:this.getGui(),eParentOfValue:this.cellComp.getParentOfValue(),registerRowDragger:(r,n,i,s)=>this.registerRowDragger(r,n,s),setTooltip:(r,n)=>{var i;this.tooltipFeature&&this.disableTooltipFeature(),this.enableTooltipFeature(r,n),(i=this.tooltipFeature)==null||i.refreshToolTip()}})}setFocusOutOnEditor(){var t;this.editing&&((t=this.beans.editService)==null||t.setFocusOutOnEditor(this))}setFocusInOnEditor(){var t;this.editing&&((t=this.beans.editService)==null||t.setFocusInOnEditor(this))}onCellChanged(t){t.column===this.column&&this.refreshCell({})}refreshOrDestroyCell(t){var r;this.refreshShouldDestroy()?(r=this.rowCtrl)==null||r.recreateCell(this):this.refreshCell(t)}refreshCell(t){var u,f,d,h,g;if(this.suppressRefreshCell||this.editing)return;const r=this.column.getColDef(),n=t!=null&&!!t.newData,i=t!=null&&!!t.suppressFlash||!!r.suppressCellFlash,s=r.field==null&&r.valueGetter==null&&r.showRowGroup==null,o=t&&t.forceRefresh||s||n,a=!!this.cellComp,l=this.updateAndFormatValue(a),c=o||l;if(a){if(c){this.showValue(n);const v=(u=this.beans.filterManager)==null?void 0:u.isSuppressFlashingCellsBecauseFiltering();!i&&!v&&(this.beans.gos.get("enableCellChangeFlash")||r.enableCellChangeFlash)&&this.flashCell(),(f=this.cellCustomStyleFeature)==null||f.applyUserStyles(),(d=this.cellCustomStyleFeature)==null||d.applyClassesFromColDef()}(h=this.tooltipFeature)==null||h.refreshToolTip(),(g=this.cellCustomStyleFeature)==null||g.applyCellClassRules()}}stopEditingAndFocus(t=!1,r=!1){var n;(n=this.beans.editService)==null||n.stopEditingAndFocus(this,t,r)}flashCell(t){const r=(t==null?void 0:t.flashDuration)??(t==null?void 0:t.flashDelay),n=(t==null?void 0:t.fadeDuration)??(t==null?void 0:t.fadeDelay);this.animateCell("data-changed",r,n)}animateCell(t,r,n){if(!this.cellComp)return;const{gos:i}=this.beans;if(r||(r=i.get("cellFlashDuration")),r===0)return;je(n)||(n=i.get("cellFadeDuration"));const s=`ag-cell-${t}`,o=`ag-cell-${t}-animation`;this.cellComp.addOrRemoveCssClass(s,!0),this.cellComp.addOrRemoveCssClass(o,!1),this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{this.isAlive()&&(this.cellComp.addOrRemoveCssClass(s,!1),this.cellComp.addOrRemoveCssClass(o,!0),this.eGui.style.transition=`background-color ${n}ms`,window.setTimeout(()=>{this.isAlive()&&(this.cellComp.addOrRemoveCssClass(o,!1),this.eGui.style.transition="")},n))},r)})}onFlashCells(t){if(!this.cellComp)return;const r=this.beans.cellPositionUtils.createId(this.getCellPosition());t.cells[r]&&this.animateCell("highlight")}isCellEditable(){return this.column.isCellEditable(this.rowNode)}isSuppressFillHandle(){return this.column.isSuppressFillHandle()}formatValue(t){return this.callValueFormatter(t)??t}callValueFormatter(t){return this.beans.valueService.formatValue(this.column,this.rowNode,t)}updateAndFormatValue(t){const r=this.value,n=this.valueFormatted;return this.value=this.rowNode.getValueFromValueService(this.column),this.valueFormatted=this.callValueFormatter(this.value),t?!this.valuesAreEqual(r,this.value)||this.valueFormatted!=n:!0}valuesAreEqual(t,r){const n=this.column.getColDef();return n.equals?n.equals(t,r):t===r}getComp(){return this.cellComp}getValue(){return this.value}addDomData(){const t=this.getGui();this.beans.gos.setDomData(t,pv.DOM_DATA_KEY_CELL_CTRL,this),this.addDestroyFunc(()=>this.beans.gos.setDomData(t,pv.DOM_DATA_KEY_CELL_CTRL,null))}createEvent(t,r){return this.beans.gos.addGridCommonParams({type:r,node:this.rowNode,data:this.rowNode.data,value:this.value,column:this.column,colDef:this.column.getColDef(),rowPinned:this.rowNode.rowPinned,event:t,rowIndex:this.rowNode.rowIndex})}processCharacter(t){var r;(r=this.cellKeyboardListenerFeature)==null||r.processCharacter(t)}onKeyDown(t){var r;(r=this.cellKeyboardListenerFeature)==null||r.onKeyDown(t)}onMouseEvent(t,r){var n;(n=this.cellMouseListenerFeature)==null||n.onMouseEvent(t,r)}getGui(){return this.eGui}getColSpanningList(){return this.cellPositionFeature.getColSpanningList()}onLeftChanged(){var t;this.cellComp&&((t=this.cellPositionFeature)==null||t.onLeftChanged())}onDisplayedColumnsChanged(){this.eGui&&(this.refreshAriaColIndex(),this.refreshFirstAndLastStyles())}refreshFirstAndLastStyles(){const{cellComp:t,column:r,beans:n}=this;jR(t,r,n.visibleColsService)}refreshAriaColIndex(){const t=this.beans.visibleColsService.getAriaColIndex(this.column);Q3(this.getGui(),t)}isSuppressNavigable(){return this.column.isSuppressNavigable(this.rowNode)}onWidthChanged(){var t;return(t=this.cellPositionFeature)==null?void 0:t.onWidthChanged()}getColumn(){return this.column}getRowNode(){return this.rowNode}isPrintLayout(){return this.printLayout}getCellPosition(){return this.cellPosition}isEditing(){return this.editing}startRowOrCellEdit(t,r=null){if(!this.cellComp){this.onCellCompAttachedFuncs.push(()=>{this.startRowOrCellEdit(t,r)});return}this.beans.gos.get("editType")==="fullRow"?this.rowCtrl.startRowEditing(t,this):this.startEditing(t,!0,r)}getRowCtrl(){return this.rowCtrl}getRowPosition(){return{rowIndex:this.cellPosition.rowIndex,rowPinned:this.cellPosition.rowPinned}}updateRangeBordersIfRangeCount(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.updateRangeBordersIfRangeCount()}onRangeSelectionChanged(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()}isRangeSelectionEnabled(){return this.cellRangeFeature!=null}focusCell(t=!1){this.beans.focusService.setFocusedCell({rowIndex:this.getCellPosition().rowIndex,column:this.column,rowPinned:this.rowNode.rowPinned,forceBrowserFocus:t})}onRowIndexChanged(){this.createCellPosition(),this.onCellFocused(),this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()}onSuppressCellFocusChanged(t){this.eGui&&Zn(this.eGui,"tabindex",t?void 0:-1)}onFirstRightPinnedChanged(){if(!this.cellComp)return;const t=this.column.isFirstRightPinned();this.cellComp.addOrRemoveCssClass(DN,t)}onLastLeftPinnedChanged(){if(!this.cellComp)return;const t=this.column.isLastLeftPinned();this.cellComp.addOrRemoveCssClass(IN,t)}onCellFocused(t){if(this.beans.focusService.isCellFocusSuppressed())return;const r=this.beans.focusService.isCellFocused(this.cellPosition);if(!this.cellComp){r&&(t!=null&&t.forceBrowserFocus)&&(this.focusEventToRestore=t);return}if(this.focusEventToRestore=void 0,this.cellComp.addOrRemoveCssClass(ON,r),r&&t&&t.forceBrowserFocus){let i=this.cellComp.getFocusableElement();if(this.editing){const s=this.beans.focusService.findFocusableElements(i,null,!0);s.length&&(i=s[0])}i.focus({preventScroll:!!t.preventScrollOnBrowserFocus})}const n=this.beans.gos.get("editType")==="fullRow";!r&&!n&&this.editing&&this.stopRowOrCellEdit(),r&&this.rowCtrl.announceDescription()}createCellPosition(){this.cellPosition={rowIndex:this.rowNode.rowIndex,rowPinned:is(this.rowNode.rowPinned),column:this.column}}applyStaticCssClasses(){this.cellComp.addOrRemoveCssClass(kN,!0),this.cellComp.addOrRemoveCssClass(NN,!0);const t=this.column.isAutoHeight()==!0;this.cellComp.addOrRemoveCssClass(FN,t),this.cellComp.addOrRemoveCssClass(AN,!t)}onColumnHover(){if(!this.cellComp||!this.beans.gos.get("columnHoverHighlight"))return;const t=this.beans.columnHoverService.isHovered(this.column);this.cellComp.addOrRemoveCssClass(LN,t)}onColDefChanged(){var r;if(!this.cellComp)return;this.column.isTooltipEnabled()?(this.disableTooltipFeature(),this.enableTooltipFeature()):this.disableTooltipFeature(),this.setWrapText(),this.editing?(r=this.beans.editService)==null||r.handleColDefChanged(this):this.refreshOrDestroyCell({forceRefresh:!0,suppressFlash:!0})}setWrapText(){const t=this.column.getColDef().wrapText==!0;this.cellComp.addOrRemoveCssClass(jN,t)}dispatchCellContextMenuEvent(t){const r=this.column.getColDef(),n=this.createEvent(t,"cellContextMenu");this.beans.eventService.dispatchEvent(n),r.onCellContextMenu&&window.setTimeout(()=>{this.beans.frameworkOverrides.wrapOutgoing(()=>{r.onCellContextMenu(n)})},0)}getCellRenderer(){return this.cellComp?this.cellComp.getCellRenderer():null}getCellEditor(){return this.cellComp?this.cellComp.getCellEditor():null}destroy(){this.onCellCompAttachedFuncs=[],super.destroy()}createSelectionCheckbox(){const t=new gN;return this.beans.context.createBean(t),t.init({rowNode:this.rowNode,column:this.column}),t}createDndSource(){const t=new mN(this.rowNode,this.column,this.eGui);return this.beans.context.createBean(t),t}registerRowDragger(t,r,n){if(this.customRowDragComp){this.customRowDragComp.setDragElement(t,r);return}const i=this.createRowDragComp(t,r,n);i&&(this.customRowDragComp=i,this.addDestroyFunc(()=>{this.beans.context.destroyBean(i),this.customRowDragComp=null}))}createRowDragComp(t,r,n){const i=this.beans.gos.get("pagination"),s=this.beans.gos.get("rowDragManaged"),o=this.beans.gos.isRowModelType("clientSide");if(s){if(!o){ke("managed row dragging is only allowed in the Client Side Row Model");return}if(i){ke("managed row dragging is not possible when doing pagination");return}}const a=new cv(()=>this.value,this.rowNode,this.column,t,r,n);return this.beans.context.createBean(a),a}setSuppressRefreshCell(t){this.suppressRefreshCell=t}getEditCompDetails(){return this.editCompDetails}};YR.DOM_DATA_KEY_CELL_CTRL="cellCtrl";var jo=YR,HN=0,XR=class gv extends Re{constructor(t,r,n,i,s){var o;super(),this.allRowGuis=[],this.active=!0,this.centerCellCtrls={list:[],map:{}},this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}},this.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.rowDragComps=[],this.lastMouseDownOnDragger=!1,this.emptyStyle={},this.updateColumnListsPending=!1,this.rowId=null,this.businessKeySanitised=null,this.beans=r,this.gos=r.gos,this.rowNode=t,this.paginationPage=((o=r.paginationService)==null?void 0:o.getCurrentPage())??0,this.useAnimationFrameForCreate=i,this.printLayout=s,this.suppressRowTransform=this.gos.get("suppressRowTransform"),this.instanceId=t.id+"-"+HN++,this.rowId=Bi(t.id),this.initRowBusinessKey(),this.rowFocused=r.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned),this.rowLevel=r.rowCssClassCalculator.calculateRowLevel(this.rowNode),this.setRowType(),this.setAnimateFlags(n),this.rowStyles=this.processStylesFromGridOptions(),this.addListeners()}initRowBusinessKey(){this.businessKeyForNodeFunc=this.gos.get("getBusinessKeyForNode"),this.updateRowBusinessKey()}updateRowBusinessKey(){if(typeof this.businessKeyForNodeFunc!="function")return;const t=this.businessKeyForNodeFunc(this.rowNode);this.businessKeySanitised=Bi(t)}getRowId(){return this.rowId}getRowStyles(){return this.rowStyles}isSticky(){return this.rowNode.sticky}getInstanceId(){return this.instanceId}updateGui(t,r){t==="left"?this.leftGui=r:t==="right"?this.rightGui=r:t==="fullWidth"?this.fullWidthGui=r:this.centerGui=r}setComp(t,r,n){const i={rowComp:t,element:r,containerType:n};this.allRowGuis.push(i),this.updateGui(n,i),this.initialiseRowComp(i),this.rowType!=="FullWidthLoading"&&!this.rowNode.rowPinned&&this.beans.rowRenderer.dispatchFirstDataRenderedEvent()}unsetComp(t){this.allRowGuis=this.allRowGuis.filter(r=>r.containerType!==t),this.updateGui(t,void 0)}isCacheable(){return this.rowType==="FullWidthDetail"&&this.gos.get("keepDetailRows")}setCached(t){const r=t?"none":"";this.allRowGuis.forEach(n=>n.element.style.display=r)}initialiseRowComp(t){const r=this.gos;this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.listenOnDomOrder(t),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights(),this.onRowHeightChanged(t),this.updateRowIndexes(t),this.setFocusedClasses(t),this.setStylesFromGridOptions(!1,t),r.isRowSelection()&&this.rowNode.selectable&&this.onRowSelected(t),this.updateColumnLists(!this.useAnimationFrameForCreate);const n=t.rowComp;this.getInitialRowClasses(t.containerType).forEach(s=>n.addOrRemoveCssClass(s,!0)),this.executeSlideAndFadeAnimations(t),this.rowNode.group&&Zh(t.element,this.rowNode.expanded==!0),this.setRowCompRowId(n),this.setRowCompRowBusinessKey(n),r.setDomData(t.element,gv.DOM_DATA_KEY_ROW_CTRL,this),this.addDestroyFunc(()=>r.setDomData(t.element,gv.DOM_DATA_KEY_ROW_CTRL,null)),this.useAnimationFrameForCreate?this.beans.animationFrameService.createTask(this.addHoverFunctionality.bind(this,t.element),this.rowNode.rowIndex,"createTasksP2"):this.addHoverFunctionality(t.element),this.isFullWidth()&&this.setupFullWidth(t),r.get("rowDragEntireRow")&&this.addRowDraggerToRow(t),this.useAnimationFrameForCreate&&this.beans.animationFrameService.addDestroyTask(()=>{this.isAlive()&&t.rowComp.addOrRemoveCssClass("ag-after-created",!0)}),this.executeProcessRowPostCreateFunc()}setRowCompRowBusinessKey(t){this.businessKeySanitised!=null&&t.setRowBusinessKey(this.businessKeySanitised)}getBusinessKey(){return this.businessKeySanitised}setRowCompRowId(t){this.rowId=Bi(this.rowNode.id),this.rowId!=null&&t.setRowId(this.rowId)}executeSlideAndFadeAnimations(t){const{containerType:r}=t;this.slideInAnimation[r]&&(Gw(()=>{this.onTopChanged()}),this.slideInAnimation[r]=!1),this.fadeInAnimation[r]&&(Gw(()=>{t.rowComp.addOrRemoveCssClass("ag-opacity-zero",!1)}),this.fadeInAnimation[r]=!1)}addRowDraggerToRow(t){if(this.gos.get("enableRangeSelection")){ke("Setting `rowDragEntireRow: true` in the gridOptions doesn't work with `enableRangeSelection: true`");return}const r=this.beans.localeService.getLocaleTextFunc(),n=new cv(()=>`1 ${r("rowDragRow","row")}`,this.rowNode,void 0,t.element,void 0,!0),i=this.createBean(n,this.beans.context);this.rowDragComps.push(i)}setupFullWidth(t){const r=this.getPinnedForContainer(t.containerType);if(this.rowType=="FullWidthDetail"&&!Zr.__assertRegistered("@ag-grid-enterprise/master-detail","cell renderer 'agDetailCellRenderer' (for master detail)",this.beans.context.getGridId()))return;const n=this.createFullWidthCompDetails(t.element,r);t.rowComp.showFullWidth(n)}isPrintLayout(){return this.printLayout}getFullWidthCellRenderers(){var t,r;return this.gos.get("embedFullWidthRows")?this.allRowGuis.map(n=>{var i;return(i=n==null?void 0:n.rowComp)==null?void 0:i.getFullWidthCellRenderer()}):[(r=(t=this.fullWidthGui)==null?void 0:t.rowComp)==null?void 0:r.getFullWidthCellRenderer()]}getCellElement(t){const r=this.getCellCtrl(t);return r?r.getGui():null}executeProcessRowPostCreateFunc(){const t=this.gos.getCallback("processRowPostCreate");if(!t||!this.areAllContainersReady())return;const r={eRow:this.centerGui.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)};t(r)}areAllContainersReady(){const t=!!this.leftGui||!this.beans.visibleColsService.isPinningLeft(),r=!!this.centerGui,n=!!this.rightGui||!this.beans.visibleColsService.isPinningRight();return t&&r&&n}setRowType(){const t=this.rowNode.stub&&!this.gos.get("suppressServerSideFullWidthLoadingRow")&&!this.gos.get("groupHideOpenParents"),r=this.rowNode.isFullWidthCell(),n=this.gos.get("masterDetail")&&this.rowNode.detail,i=this.beans.columnModel.isPivotMode(),o=!!this.rowNode.group&&!this.rowNode.footer&&this.gos.isGroupUseEntireRow(i);t?this.rowType="FullWidthLoading":n?this.rowType="FullWidthDetail":r?this.rowType="FullWidth":o?this.rowType="FullWidthGroup":this.rowType="Normal"}updateColumnLists(t=!1,r=!1){if(this.isFullWidth())return;if(t||this.gos.get("suppressAnimationFrame")||this.printLayout){this.updateColumnListsImpl(r);return}this.updateColumnListsPending||(this.beans.animationFrameService.createTask(()=>{this.active&&this.updateColumnListsImpl(!0)},this.rowNode.rowIndex,"createTasksP1"),this.updateColumnListsPending=!0)}createCellCtrls(t,r,n=null){const i={list:[],map:{}},s=(o,a)=>{i.list.push(a),i.map[o]=a};return r.forEach(o=>{const a=o.getInstanceId();let l=t.map[a];l||(l=new jo(o,this.rowNode,this.beans,this)),s(a,l)}),t.list.forEach(o=>{if(i.map[o.getColumn().getInstanceId()]!=null)return;if(!this.isCellEligibleToBeRemoved(o,n)){s(o.getColumn().getInstanceId(),o);return}o.destroy()}),i}updateColumnListsImpl(t){this.updateColumnListsPending=!1,this.createAllCellCtrls(),this.setCellCtrls(t)}setCellCtrls(t){this.allRowGuis.forEach(r=>{const n=this.getCellCtrlsForContainer(r.containerType);r.rowComp.setCellCtrls(n,t)})}getCellCtrlsForContainer(t){switch(t){case"left":return this.leftCellCtrls.list;case"right":return this.rightCellCtrls.list;case"fullWidth":return[];case"center":return this.centerCellCtrls.list}}createAllCellCtrls(){const t=this.beans.columnViewportService,r=this.beans.visibleColsService;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,r.getAllCols()),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{const n=t.getColsWithinViewport(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,n);const i=r.getLeftColsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,i,"left");const s=r.getRightColsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,s,"right")}}isCellEligibleToBeRemoved(t,r){if(t.getColumn().getPinned()!=r)return!0;const o=t.isEditing(),a=this.beans.focusService.isCellFocused(t.getCellPosition());if(o||a){const c=t.getColumn();return!(this.beans.visibleColsService.getAllCols().indexOf(c)>=0)}return!0}getDomOrder(){return this.gos.get("ensureDomOrder")||this.gos.isDomLayout("print")}listenOnDomOrder(t){const r=()=>{t.rowComp.setDomOrder(this.getDomOrder())};this.addManagedPropertyListener("domLayout",r),this.addManagedPropertyListener("ensureDomOrder",r)}setAnimateFlags(t){if(this.isSticky()||!t)return;const r=je(this.rowNode.oldRowTop),n=this.beans.visibleColsService.isPinningLeft(),i=this.beans.visibleColsService.isPinningRight();if(r){if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){this.slideInAnimation.fullWidth=!0;return}this.slideInAnimation.center=!0,this.slideInAnimation.left=n,this.slideInAnimation.right=i}else{if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){this.fadeInAnimation.fullWidth=!0;return}this.fadeInAnimation.center=!0,this.fadeInAnimation.left=n,this.fadeInAnimation.right=i}}isEditing(){return this.editingRow}isFullWidth(){return this.rowType!=="Normal"}refreshFullWidth(){const t=(a,l)=>a?a.rowComp.refreshFullWidth(()=>this.createFullWidthCompDetails(a.element,l).params):!0,r=t(this.fullWidthGui,null),n=t(this.centerGui,null),i=t(this.leftGui,"left"),s=t(this.rightGui,"right");return r&&n&&i&&s}addListeners(){this.addManagedListeners(this.rowNode,{heightChanged:()=>this.onRowHeightChanged(),rowSelected:()=>this.onRowSelected(),rowIndexChanged:this.onRowIndexChanged.bind(this),topChanged:this.onTopChanged.bind(this),expandedChanged:this.updateExpandedCss.bind(this),hasChildrenChanged:this.updateExpandedCss.bind(this)}),this.rowNode.detail&&this.addManagedListeners(this.rowNode.parent,{dataChanged:this.onRowNodeDataChanged.bind(this)}),this.addManagedListeners(this.rowNode,{dataChanged:this.onRowNodeDataChanged.bind(this),cellChanged:this.postProcessCss.bind(this),rowHighlightChanged:this.onRowNodeHighlightChanged.bind(this),draggingChanged:this.postProcessRowDragging.bind(this),uiLevelChanged:this.onUiLevelChanged.bind(this)}),this.addManagedListeners(this.beans.eventService,{paginationPixelOffsetChanged:this.onPaginationPixelOffsetChanged.bind(this),heightScaleChanged:this.onTopChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),virtualColumnsChanged:this.onVirtualColumnsChanged.bind(this),cellFocused:this.onCellFocusChanged.bind(this),cellFocusCleared:this.onCellFocusChanged.bind(this),paginationChanged:this.onPaginationChanged.bind(this),modelUpdated:this.refreshFirstAndLastRowStyles.bind(this),columnMoved:()=>this.updateColumnLists()}),this.addDestroyFunc(()=>{this.destroyBeans(this.rowDragComps,this.beans.context),this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature,this.beans.context))}),this.addManagedPropertyListeners(["rowDragEntireRow"],()=>{if(this.gos.get("rowDragEntireRow")){this.allRowGuis.forEach(r=>{this.addRowDraggerToRow(r)});return}this.rowDragComps=this.destroyBeans(this.rowDragComps,this.beans.context)}),this.addListenersForCellComps()}addListenersForCellComps(){this.addManagedListeners(this.rowNode,{rowIndexChanged:()=>{this.getAllCellCtrls().forEach(t=>t.onRowIndexChanged())},cellChanged:t=>{this.getAllCellCtrls().forEach(r=>r.onCellChanged(t))}})}onRowNodeDataChanged(t){if(this.isFullWidth()!==!!this.rowNode.isFullWidthCell()){this.beans.rowRenderer.redrawRow(this.rowNode);return}if(this.isFullWidth()){this.refreshFullWidth()||this.beans.rowRenderer.redrawRow(this.rowNode);return}this.getAllCellCtrls().forEach(n=>n.refreshCell({suppressFlash:!t.update,newData:!t.update})),this.allRowGuis.forEach(n=>{this.setRowCompRowId(n.rowComp),this.updateRowBusinessKey(),this.setRowCompRowBusinessKey(n.rowComp)}),this.onRowSelected(),this.postProcessCss()}postProcessCss(){this.setStylesFromGridOptions(!0),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()}onRowNodeHighlightChanged(){const t=this.rowNode.highlighted;this.allRowGuis.forEach(r=>{const n=t===0,i=t===1;r.rowComp.addOrRemoveCssClass("ag-row-highlight-above",n),r.rowComp.addOrRemoveCssClass("ag-row-highlight-below",i)})}postProcessRowDragging(){const t=this.rowNode.dragging;this.allRowGuis.forEach(r=>r.rowComp.addOrRemoveCssClass("ag-row-dragging",t))}updateExpandedCss(){const t=this.rowNode.isExpandable(),r=this.rowNode.expanded==!0;this.allRowGuis.forEach(n=>{n.rowComp.addOrRemoveCssClass("ag-row-group",t),n.rowComp.addOrRemoveCssClass("ag-row-group-expanded",t&&r),n.rowComp.addOrRemoveCssClass("ag-row-group-contracted",t&&!r),Zh(n.element,t&&r)})}onDisplayedColumnsChanged(){this.updateColumnLists(!0),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights()}onVirtualColumnsChanged(){this.updateColumnLists(!1,!0)}getRowPosition(){return{rowPinned:is(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}}onKeyboardNavigate(t){const r=this.allRowGuis.find(l=>l.element.contains(t.target));if(!((r?r.element:null)===t.target))return;const s=this.rowNode,o=this.beans.focusService.getFocusedCell(),a={rowIndex:s.rowIndex,rowPinned:s.rowPinned,column:o&&o.column};this.beans.navigationService.navigateToNextCell(t,t.key,a,!0),t.preventDefault()}onTabKeyDown(t){if(t.defaultPrevented||ns(t))return;const r=this.allRowGuis.find(o=>o.element.contains(t.target)),n=r?r.element:null,i=n===t.target;let s=null;i||(s=this.beans.focusService.findNextFocusableElement(n,!1,t.shiftKey)),(this.isFullWidth()&&i||!s)&&this.beans.navigationService.onTabKeyDown(this,t)}getFullWidthElement(){return this.fullWidthGui?this.fullWidthGui.element:null}getRowYPosition(){var r;const t=(r=this.allRowGuis.find(n=>Vi(n.element)))==null?void 0:r.element;return t?t.getBoundingClientRect().top:0}onSuppressCellFocusChanged(t){const r=this.isFullWidth()&&t?void 0:-1;this.allRowGuis.forEach(n=>{Zn(n.element,"tabindex",r)})}onFullWidthRowFocused(t){var s;const r=this.rowNode,n=t?this.isFullWidth()&&t.rowIndex===r.rowIndex&&t.rowPinned==r.rowPinned:!1,i=this.fullWidthGui?this.fullWidthGui.element:(s=this.centerGui)==null?void 0:s.element;i&&(i.classList.toggle("ag-full-width-focus",n),n&&(t!=null&&t.forceBrowserFocus)&&i.focus({preventScroll:!0}))}recreateCell(t){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,t),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,t),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,t),t.destroy(),this.updateColumnLists()}removeCellCtrl(t,r){const n={list:[],map:{}};return t.list.forEach(i=>{i!==r&&(n.list.push(i),n.map[i.getColumn().getInstanceId()]=i)}),n}onMouseEvent(t,r){switch(t){case"dblclick":this.onRowDblClick(r);break;case"click":this.onRowClick(r);break;case"touchstart":case"mousedown":this.onRowMouseDown(r);break}}createRowEvent(t,r){return this.gos.addGridCommonParams({type:t,node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,event:r})}createRowEventWithSource(t,r){const n=this.createRowEvent(t,r);return n.source=this,n}onRowDblClick(t){ns(t)||this.beans.eventService.dispatchEvent(this.createRowEventWithSource("rowDoubleClicked",t))}onRowMouseDown(t){if(this.lastMouseDownOnDragger=tl(t.target,"ag-row-drag",3),!this.isFullWidth())return;const r=this.rowNode,n=this.beans.visibleColsService;this.beans.rangeService&&this.beans.rangeService.removeAllCellRanges();const i=this.getFullWidthElement(),s=t.target;let o=!0;i&&i.contains(s)&&oy(s)&&(o=!1),this.beans.focusService.setFocusedCell({rowIndex:r.rowIndex,column:n.getAllCols()[0],rowPinned:r.rowPinned,forceBrowserFocus:o})}onRowClick(t){if(ns(t)||this.lastMouseDownOnDragger)return;this.beans.eventService.dispatchEvent(this.createRowEventWithSource("rowClicked",t));const n=t.ctrlKey||t.metaKey,i=t.shiftKey;if(this.gos.get("groupSelectsChildren")&&this.rowNode.group||this.isRowSelectionBlocked()||this.gos.get("suppressRowClickSelection"))return;const o=this.gos.get("rowMultiSelectWithClick"),a=!this.gos.get("suppressRowDeselection"),l="rowClicked";if(this.rowNode.isSelected())o?this.rowNode.setSelectedParams({newValue:!1,event:t,source:l}):n?a&&this.rowNode.setSelectedParams({newValue:!1,event:t,source:l}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!i,rangeSelect:i,event:t,source:l});else{const c=o?!1:!n;this.rowNode.setSelectedParams({newValue:!0,clearSelection:c,rangeSelect:i,event:t,source:l})}}isRowSelectionBlocked(){return!this.rowNode.selectable||!!this.rowNode.rowPinned||!this.gos.isRowSelection()}setupDetailRowAutoHeight(t){if(this.rowType!=="FullWidthDetail"||!this.gos.get("detailRowAutoHeight"))return;const r=()=>{const i=t.clientHeight;if(i!=null&&i>0){const s=()=>{this.rowNode.setRowHeight(i),this.beans.rowModel.getType()==="clientSide"?this.beans.rowModel.onRowHeightChanged():this.beans.rowModel.getType()==="serverSide"&&this.beans.rowModel.onRowHeightChanged()};window.setTimeout(s,0)}},n=this.beans.resizeObserverService.observeResize(t,r);this.addDestroyFunc(n),r()}createFullWidthCompDetails(t,r){const{gos:n,rowNode:i}=this,s=n.addGridCommonParams({fullWidth:!0,data:i.data,node:i,value:i.key,valueFormatted:i.key,eGridCell:t,eParentOfValue:t,pinned:r,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:(a,l,c,u)=>this.addFullWidthRowDragging(a,l,c,u),setTooltip:(a,l)=>this.refreshRowTooltip(a,l)}),o=this.beans.userComponentFactory;switch(this.rowType){case"FullWidthDetail":return o.getFullWidthDetailCellRendererDetails(s);case"FullWidthGroup":return o.getFullWidthGroupCellRendererDetails(s);case"FullWidthLoading":return o.getFullWidthLoadingCellRendererDetails(s);default:return o.getFullWidthCellRendererDetails(s)}}refreshRowTooltip(t,r){if(!this.fullWidthGui)return;const n={getGui:()=>this.fullWidthGui.element,getTooltipValue:()=>t,getLocation:()=>"fullWidthRow",shouldDisplayTooltip:r};this.tooltipFeature&&this.destroyBean(this.tooltipFeature,this.beans.context),this.tooltipFeature=this.createBean(new Ll(n,this.beans))}addFullWidthRowDragging(t,r,n="",i){if(!this.isFullWidth())return;const s=new cv(()=>n,this.rowNode,void 0,t,r,i);this.createBean(s,this.beans.context),this.addDestroyFunc(()=>{this.destroyBean(s,this.beans.context)})}onUiLevelChanged(){const t=this.beans.rowCssClassCalculator.calculateRowLevel(this.rowNode);if(this.rowLevel!=t){const r="ag-row-level-"+t,n="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach(i=>{i.rowComp.addOrRemoveCssClass(r,!0),i.rowComp.addOrRemoveCssClass(n,!1)})}this.rowLevel=t}isFirstRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBoundsService.getFirstRow()}isLastRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBoundsService.getLastRow()}refreshFirstAndLastRowStyles(){const t=this.isFirstRowOnPage(),r=this.isLastRowOnPage();this.firstRowOnPage!==t&&(this.firstRowOnPage=t,this.allRowGuis.forEach(n=>n.rowComp.addOrRemoveCssClass("ag-row-first",t))),this.lastRowOnPage!==r&&(this.lastRowOnPage=r,this.allRowGuis.forEach(n=>n.rowComp.addOrRemoveCssClass("ag-row-last",r)))}stopEditing(t=!1){var r;this.stoppingRowEdit||(r=this.beans.rowEditService)==null||r.stopEditing(this,t)}setInlineEditingCss(){const t=this.editingRow||this.getAllCellCtrls().some(r=>r.isEditing());this.allRowGuis.forEach(r=>{r.rowComp.addOrRemoveCssClass("ag-row-inline-editing",t),r.rowComp.addOrRemoveCssClass("ag-row-not-inline-editing",!t)})}setEditingRow(t){this.editingRow=t}startRowEditing(t=null,r=null,n=null){var i;this.editingRow||(i=this.beans.rowEditService)==null||i.startEditing(this,t,r,n)}getAllCellCtrls(){return this.leftCellCtrls.list.length===0&&this.rightCellCtrls.list.length===0?this.centerCellCtrls.list:[...this.centerCellCtrls.list,...this.leftCellCtrls.list,...this.rightCellCtrls.list]}postProcessClassesFromGridOptions(){const t=this.beans.rowCssClassCalculator.processClassesFromGridOptions(this.rowNode);!t||!t.length||t.forEach(r=>{this.allRowGuis.forEach(n=>n.rowComp.addOrRemoveCssClass(r,!0))})}postProcessRowClassRules(){this.beans.rowCssClassCalculator.processRowClassRules(this.rowNode,t=>{this.allRowGuis.forEach(r=>r.rowComp.addOrRemoveCssClass(t,!0))},t=>{this.allRowGuis.forEach(r=>r.rowComp.addOrRemoveCssClass(t,!1))})}setStylesFromGridOptions(t,r){t&&(this.rowStyles=this.processStylesFromGridOptions()),this.forEachGui(r,n=>n.rowComp.setUserStyles(this.rowStyles))}getPinnedForContainer(t){return t==="left"||t==="right"?t:null}getInitialRowClasses(t){const r=this.getPinnedForContainer(t),n={rowNode:this.rowNode,rowFocused:this.rowFocused,fadeRowIn:this.fadeInAnimation[t],rowIsEven:this.rowNode.rowIndex%2===0,rowLevel:this.rowLevel,fullWidthRow:this.isFullWidth(),firstRowOnPage:this.isFirstRowOnPage(),lastRowOnPage:this.isLastRowOnPage(),printLayout:this.printLayout,expandable:this.rowNode.isExpandable(),pinned:r};return this.beans.rowCssClassCalculator.getInitialRowClasses(n)}processStylesFromGridOptions(){const t=this.gos.get("rowStyle");if(t&&typeof t=="function"){ke("rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead");return}const r=this.gos.getCallback("getRowStyle");let n;if(r){const i={data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex};n=r(i)}return n||t?Object.assign({},t,n):this.emptyStyle}onRowSelected(t){const r=!!this.rowNode.isSelected();this.forEachGui(t,n=>{n.rowComp.addOrRemoveCssClass("ag-row-selected",r),Jh(n.element,r),n.element.contains(this.gos.getActiveDomElement())&&(n===this.centerGui||n===this.fullWidthGui)&&this.announceDescription()})}announceDescription(){if(this.isRowSelectionBlocked())return;const t=this.rowNode.isSelected();if(t&&this.gos.get("suppressRowDeselection"))return;const n=this.beans.localeService.getLocaleTextFunc()(t?"ariaRowDeselect":"ariaRowSelect",`Press SPACE to ${t?"deselect":"select"} this row.`);this.beans.ariaAnnouncementService.announceValue(n,"rowSelection")}addHoverFunctionality(t){if(!this.active)return;const{rowNode:r,beans:n,gos:i}=this;this.addManagedListeners(t,{mouseenter:()=>r.onMouseEnter(),mouseleave:()=>r.onMouseLeave()}),this.addManagedListeners(r,{mouseEnter:()=>{!n.dragService.isDragging()&&!i.get("suppressRowHoverHighlight")&&(t.classList.add("ag-row-hover"),r.setHovered(!0))},mouseLeave:()=>{t.classList.remove("ag-row-hover"),r.setHovered(!1)}})}roundRowTopToBounds(t){const r=this.beans.ctrlsService.getGridBodyCtrl().getScrollFeature().getApproximateVScollPosition(),n=this.applyPaginationOffset(r.top,!0)-100,i=this.applyPaginationOffset(r.bottom,!0)+100;return Math.min(Math.max(n,t),i)}getFrameworkOverrides(){return this.beans.frameworkOverrides}forEachGui(t,r){t?r(t):this.allRowGuis.forEach(r)}onRowHeightChanged(t){if(this.rowNode.rowHeight==null)return;const r=this.rowNode.rowHeight,n=this.beans.environment.getDefaultRowHeight(),s=this.gos.isGetRowHeightFunction()?this.gos.getRowHeightForNode(this.rowNode).height:void 0,o=s?`${Math.min(n,s)-2}px`:void 0;this.forEachGui(t,a=>{a.element.style.height=`${r}px`,o&&a.element.style.setProperty("--ag-line-height",o)})}addEventListener(t,r){super.addEventListener(t,r)}removeEventListener(t,r){super.removeEventListener(t,r)}destroyFirstPass(t=!1){if(this.active=!1,!t&&this.gos.isAnimateRows()&&!this.isSticky())if(this.rowNode.rowTop!=null){const i=this.roundRowTopToBounds(this.rowNode.rowTop);this.setRowTop(i)}else this.allRowGuis.forEach(i=>i.rowComp.addOrRemoveCssClass("ag-opacity-zero",!0));this.rowNode.setHovered(!1);const r=this.createRowEvent("virtualRowRemoved");this.dispatchLocalEvent(r),this.beans.eventService.dispatchEvent(r),super.destroy()}destroySecondPass(){this.allRowGuis.length=0,this.stopEditing();const t=r=>(r.list.forEach(n=>n.destroy()),{list:[],map:{}});this.centerCellCtrls=t(this.centerCellCtrls),this.leftCellCtrls=t(this.leftCellCtrls),this.rightCellCtrls=t(this.rightCellCtrls)}setFocusedClasses(t){this.forEachGui(t,r=>{r.rowComp.addOrRemoveCssClass("ag-row-focus",this.rowFocused),r.rowComp.addOrRemoveCssClass("ag-row-no-focus",!this.rowFocused)})}onCellFocusChanged(){const t=this.beans.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);t!==this.rowFocused&&(this.rowFocused=t,this.setFocusedClasses()),!t&&this.editingRow&&this.stopEditing(!1)}onPaginationChanged(){var r;const t=((r=this.beans.paginationService)==null?void 0:r.getCurrentPage())??0;this.paginationPage!==t&&(this.paginationPage=t,this.onTopChanged()),this.refreshFirstAndLastRowStyles()}onTopChanged(){this.setRowTop(this.rowNode.rowTop)}onPaginationPixelOffsetChanged(){this.onTopChanged()}applyPaginationOffset(t,r=!1){if(this.rowNode.isRowPinned()||this.rowNode.sticky)return t;const n=this.beans.pageBoundsService.getPixelOffset();return t+n*(r?1:-1)}setRowTop(t){if(!this.printLayout&&je(t)){const r=this.applyPaginationOffset(t),s=`${this.rowNode.isRowPinned()||this.rowNode.sticky?r:this.beans.rowContainerHeightService.getRealPixelPosition(r)}px`;this.setRowTopStyle(s)}}getInitialRowTop(t){return this.suppressRowTransform?this.getInitialRowTopShared(t):void 0}getInitialTransform(t){return this.suppressRowTransform?void 0:`translateY(${this.getInitialRowTopShared(t)})`}getInitialRowTopShared(t){if(this.printLayout)return"";const r=this.rowNode;let n;if(this.isSticky())n=r.stickyRowTop;else{const i=this.slideInAnimation[t]?this.roundRowTopToBounds(r.oldRowTop):r.rowTop,s=this.applyPaginationOffset(i);n=r.isRowPinned()?s:this.beans.rowContainerHeightService.getRealPixelPosition(s)}return n+"px"}setRowTopStyle(t){this.allRowGuis.forEach(r=>this.suppressRowTransform?r.rowComp.setTop(t):r.rowComp.setTransform(`translateY(${t})`))}getRowNode(){return this.rowNode}getCellCtrl(t){let r=null;return this.getAllCellCtrls().forEach(n=>{n.getColumn()==t&&(r=n)}),r!=null||this.getAllCellCtrls().forEach(n=>{n.getColSpanningList().indexOf(t)>=0&&(r=n)}),r}onRowIndexChanged(){this.rowNode.rowIndex!=null&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())}getRowIndex(){return this.rowNode.getRowIndexString()}updateRowIndexes(t){var o;const r=this.rowNode.getRowIndexString();if(r===null)return;const n=this.beans.headerNavigationService.getHeaderRowCount()+(((o=this.beans.filterManager)==null?void 0:o.getHeaderRowCount())??0),i=this.rowNode.rowIndex%2===0,s=n+this.rowNode.rowIndex+1;this.forEachGui(t,a=>{a.rowComp.setRowIndex(r),a.rowComp.addOrRemoveCssClass("ag-row-even",i),a.rowComp.addOrRemoveCssClass("ag-row-odd",!i),TI(a.element,s)})}setStoppingRowEdit(t){this.stoppingRowEdit=t}};XR.DOM_DATA_KEY_ROW_CTRL="renderedRow";var Bo=XR,GN=class extends Re{wireBeans(e){this.mouseEventService=e.mouseEventService,this.valueService=e.valueService,this.menuService=e.menuService,this.ctrlsService=e.ctrlsService,this.navigationService=e.navigationService,this.focusService=e.focusService,this.undoRedoService=e.undoRedoService,this.visibleColsService=e.visibleColsService,this.rowModel=e.rowModel,this.pinnedRowModel=e.pinnedRowModel,this.rangeService=e.rangeService,this.clipboardService=e.clipboardService}constructor(e){super(),this.element=e}postConstruct(){this.addKeyboardListeners(),this.addMouseListeners(),this.mockContextMenuForIPad()}addKeyboardListeners(){const e="keydown",t=this.processKeyboardEvent.bind(this,e);this.addManagedElementListeners(this.element,{[e]:t})}addMouseListeners(){["dblclick","contextmenu","mouseover","mouseout","click",B3("touchstart")?"touchstart":"mousedown"].forEach(r=>{const n=this.processMouseEvent.bind(this,r);this.addManagedElementListeners(this.element,{[r]:n})})}processMouseEvent(e,t){if(!this.mouseEventService.isEventFromThisGrid(t)||ns(t))return;const r=this.getRowForEvent(t),n=this.mouseEventService.getRenderedCellForEvent(t);e==="contextmenu"?this.handleContextMenuMouseEvent(t,void 0,r,n):(n&&n.onMouseEvent(e,t),r&&r.onMouseEvent(e,t))}mockContextMenuForIPad(){if(!uo())return;const e=new Xs(this.element),t=r=>{const n=this.getRowForEvent(r.touchEvent),i=this.mouseEventService.getRenderedCellForEvent(r.touchEvent);this.handleContextMenuMouseEvent(void 0,r.touchEvent,n,i)};this.addManagedListeners(e,{longTap:t}),this.addDestroyFunc(()=>e.destroy())}getRowForEvent(e){let t=e.target;for(;t;){const r=this.gos.getDomData(t,Bo.DOM_DATA_KEY_ROW_CTRL);if(r)return r;t=t.parentElement}return null}handleContextMenuMouseEvent(e,t,r,n){const i=r?r.getRowNode():null,s=n?n.getColumn():null;let o=null;if(s){const c=e||t;n.dispatchCellContextMenuEvent(c??null),o=this.valueService.getValue(s,i)}const a=this.ctrlsService.getGridBodyCtrl(),l=n?n.getGui():a.getGridBodyElement();this.menuService.showContextMenu({mouseEvent:e,touchEvent:t,rowNode:i,column:s,value:o,anchorToElement:l})}getControlsForEventTarget(e){return{cellCtrl:Zm(this.gos,e,jo.DOM_DATA_KEY_CELL_CTRL),rowCtrl:Zm(this.gos,e,Bo.DOM_DATA_KEY_ROW_CTRL)}}processKeyboardEvent(e,t){const{cellCtrl:r,rowCtrl:n}=this.getControlsForEventTarget(t.target);t.defaultPrevented||(r?this.processCellKeyboardEvent(r,e,t):n&&n.isFullWidth()&&this.processFullWidthRowKeyboardEvent(n,e,t))}processCellKeyboardEvent(e,t,r){const n=e.getRowNode(),i=e.getColumn(),s=e.isEditing();!uv(this.gos,r,n,i,s)&&t==="keydown"&&(!s&&this.navigationService.handlePageScrollingKey(r)||e.onKeyDown(r),this.doGridOperations(r,e.isEditing()),PR(r)&&e.processCharacter(r)),t==="keydown"&&this.eventService.dispatchEvent(e.createEvent(r,"cellKeyDown"))}processFullWidthRowKeyboardEvent(e,t,r){const n=e.getRowNode(),i=this.focusService.getFocusedCell(),s=i&&i.column;if(!uv(this.gos,r,n,s,!1)){const a=r.key;if(t==="keydown")switch(a){case Se.PAGE_HOME:case Se.PAGE_END:case Se.PAGE_UP:case Se.PAGE_DOWN:this.navigationService.handlePageScrollingKey(r,!0);break;case Se.UP:case Se.DOWN:e.onKeyboardNavigate(r);break;case Se.TAB:e.onTabKeyDown(r);break}}t==="keydown"&&this.eventService.dispatchEvent(e.createRowEvent("cellKeyDown",r))}doGridOperations(e,t){if(!e.ctrlKey&&!e.metaKey||t||!this.mouseEventService.isEventFromThisGrid(e))return;const r=t9(e);if(r===Se.A)return this.onCtrlAndA(e);if(r===Se.C)return this.onCtrlAndC(e);if(r===Se.D)return this.onCtrlAndD(e);if(r===Se.V)return this.onCtrlAndV(e);if(r===Se.X)return this.onCtrlAndX(e);if(r===Se.Y)return this.onCtrlAndY();if(r===Se.Z)return this.onCtrlAndZ(e)}onCtrlAndA(e){const{pinnedRowModel:t,rowModel:r,rangeService:n}=this;if(n&&r.isRowsToRender()){const[i,s]=[t.isEmpty("top"),t.isEmpty("bottom")],o=i?null:"top";let a,l;s?(a=null,l=r.getRowCount()-1):(a="bottom",l=t.getPinnedBottomRowCount()-1);const c=this.visibleColsService.getAllCols();if(xn(c))return;n.setCellRange({rowStartIndex:0,rowStartPinned:o,rowEndIndex:l,rowEndPinned:a,columnStart:c[0],columnEnd:Ot(c)})}e.preventDefault()}onCtrlAndC(e){if(!this.clipboardService||this.gos.get("enableCellTextSelection"))return;const{cellCtrl:t,rowCtrl:r}=this.getControlsForEventTarget(e.target);t!=null&&t.isEditing()||r!=null&&r.isEditing()||(e.preventDefault(),this.clipboardService.copyToClipboard())}onCtrlAndX(e){if(!this.clipboardService||this.gos.get("enableCellTextSelection")||this.gos.get("suppressCutToClipboard"))return;const{cellCtrl:t,rowCtrl:r}=this.getControlsForEventTarget(e.target);t!=null&&t.isEditing()||r!=null&&r.isEditing()||(e.preventDefault(),this.clipboardService.cutToClipboard(void 0,"ui"))}onCtrlAndV(e){const{cellCtrl:t,rowCtrl:r}=this.getControlsForEventTarget(e.target);t!=null&&t.isEditing()||r!=null&&r.isEditing()||this.clipboardService&&!this.gos.get("suppressClipboardPaste")&&this.clipboardService.pasteFromClipboard()}onCtrlAndD(e){this.clipboardService&&!this.gos.get("suppressClipboardPaste")&&this.clipboardService.copyRangeDown(),e.preventDefault()}onCtrlAndZ(e){!this.gos.get("undoRedoCellEditing")||!this.undoRedoService||(e.preventDefault(),e.shiftKey?this.undoRedoService.redo("ui"):this.undoRedoService.undo("ui"))}onCtrlAndY(){var e;(e=this.undoRedoService)==null||e.redo("ui")}},VN=class extends Re{wireBeans(e){this.pinnedWidthService=e.pinnedWidthService}constructor(e){super(),this.element=e}postConstruct(){this.addManagedEventListeners({leftPinnedWidthChanged:this.onPinnedLeftWidthChanged.bind(this)})}onPinnedLeftWidthChanged(){const e=this.pinnedWidthService.getPinnedLeftWidth(),t=e>0;fr(this.element,t),Ei(this.element,e)}getWidth(){return this.pinnedWidthService.getPinnedLeftWidth()}},zN=class extends Re{wireBeans(e){this.pinnedWidthService=e.pinnedWidthService}constructor(e){super(),this.element=e}postConstruct(){this.addManagedEventListeners({rightPinnedWidthChanged:this.onPinnedRightWidthChanged.bind(this)})}onPinnedRightWidthChanged(){const e=this.pinnedWidthService.getPinnedRightWidth(),t=e>0;fr(this.element,t),Ei(this.element,e)}getWidth(){return this.pinnedWidthService.getPinnedRightWidth()}},Md=e=>e.getTopRowCtrls(),kd=e=>e.getStickyTopRowCtrls(),Fd=e=>e.getStickyBottomRowCtrls(),Ad=e=>e.getBottomRowCtrls(),Od=e=>e.getCentreRowCtrls(),WN={center:{type:"center",container:"ag-center-cols-container",viewport:"ag-center-cols-viewport",getRowCtrls:Od},left:{type:"left",container:"ag-pinned-left-cols-container",pinnedType:"left",getRowCtrls:Od},right:{type:"right",container:"ag-pinned-right-cols-container",pinnedType:"right",getRowCtrls:Od},fullWidth:{type:"fullWidth",container:"ag-full-width-container",fullWidth:!0,getRowCtrls:Od},topCenter:{type:"center",container:"ag-floating-top-container",viewport:"ag-floating-top-viewport",getRowCtrls:Md},topLeft:{type:"left",container:"ag-pinned-left-floating-top",pinnedType:"left",getRowCtrls:Md},topRight:{type:"right",container:"ag-pinned-right-floating-top",pinnedType:"right",getRowCtrls:Md},topFullWidth:{type:"fullWidth",container:"ag-floating-top-full-width-container",fullWidth:!0,getRowCtrls:Md},stickyTopCenter:{type:"center",container:"ag-sticky-top-container",viewport:"ag-sticky-top-viewport",getRowCtrls:kd},stickyTopLeft:{type:"left",container:"ag-pinned-left-sticky-top",pinnedType:"left",getRowCtrls:kd},stickyTopRight:{type:"right",container:"ag-pinned-right-sticky-top",pinnedType:"right",getRowCtrls:kd},stickyTopFullWidth:{type:"fullWidth",container:"ag-sticky-top-full-width-container",fullWidth:!0,getRowCtrls:kd},stickyBottomCenter:{type:"center",container:"ag-sticky-bottom-container",viewport:"ag-sticky-bottom-viewport",getRowCtrls:Fd},stickyBottomLeft:{type:"left",container:"ag-pinned-left-sticky-bottom",pinnedType:"left",getRowCtrls:Fd},stickyBottomRight:{type:"right",container:"ag-pinned-right-sticky-bottom",pinnedType:"right",getRowCtrls:Fd},stickyBottomFullWidth:{type:"fullWidth",container:"ag-sticky-bottom-full-width-container",fullWidth:!0,getRowCtrls:Fd},bottomCenter:{type:"center",container:"ag-floating-bottom-container",viewport:"ag-floating-bottom-viewport",getRowCtrls:Ad},bottomLeft:{type:"left",container:"ag-pinned-left-floating-bottom",pinnedType:"left",getRowCtrls:Ad},bottomRight:{type:"right",container:"ag-pinned-right-floating-bottom",pinnedType:"right",getRowCtrls:Ad},bottomFullWidth:{type:"fullWidth",container:"ag-floating-bottom-full-width-container",fullWidth:!0,getRowCtrls:Ad}};function $a(e){return WN[e]}var $N=["topCenter","topLeft","topRight"],UN=["bottomCenter","bottomLeft","bottomRight"],KN=["center","left","right"],qN=["center","left","right","fullWidth"],YN=["stickyTopCenter","stickyBottomCenter","center","topCenter","bottomCenter"],XN=["left","bottomLeft","topLeft","stickyTopLeft","stickyBottomLeft"],QN=["right","bottomRight","topRight","stickyTopRight","stickyBottomRight"],QR=["stickyTopCenter","stickyTopLeft","stickyTopRight"],ZR=["stickyBottomCenter","stickyBottomLeft","stickyBottomRight"],ZN=[...QR,"stickyTopFullWidth",...ZR,"stickyBottomFullWidth"],JN=[...$N,...UN,...KN,...QR,...ZR],eL=class extends Re{constructor(e){super(),this.visible=!0,this.EMPTY_CTRLS=[],this.name=e,this.options=$a(e)}wireBeans(e){this.dragService=e.dragService,this.ctrlsService=e.ctrlsService,this.columnViewportService=e.columnViewportService,this.resizeObserverService=e.resizeObserverService,this.rowRenderer=e.rowRenderer}postConstruct(){this.enableRtl=this.gos.get("enableRtl"),this.forContainers(["center"],()=>{this.viewportSizeFeature=this.createManagedBean(new fN(this)),this.addManagedEventListeners({stickyTopOffsetChanged:this.onStickyTopOffsetChanged.bind(this)})})}onStickyTopOffsetChanged(e){this.comp.setOffsetTop(`${e.offset}px`)}registerWithCtrlsService(){this.options.fullWidth||this.ctrlsService.register(this.name,this)}forContainers(e,t){e.indexOf(this.name)>=0&&t()}getContainerElement(){return this.eContainer}getViewportSizeFeature(){return this.viewportSizeFeature}setComp(e,t,r){this.comp=e,this.eContainer=t,this.eViewport=r,this.createManagedBean(new GN(this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder();const n=()=>this.onPinnedWidthChanged();this.forContainers(XN,()=>{this.pinnedWidthFeature=this.createManagedBean(new VN(this.eContainer)),this.addManagedEventListeners({leftPinnedWidthChanged:n})}),this.forContainers(QN,()=>{this.pinnedWidthFeature=this.createManagedBean(new zN(this.eContainer)),this.addManagedEventListeners({rightPinnedWidthChanged:n})}),this.forContainers(qN,()=>this.createManagedBean(new qR(this.eContainer,this.name==="center"?r:void 0))),this.forContainers(JN,()=>this.createManagedBean(new pN(this.eContainer))),this.forContainers(YN,()=>this.createManagedBean(new Sy(i=>this.comp.setContainerWidth(`${i}px`)))),this.addListeners(),this.registerWithCtrlsService()}onScrollCallback(e){this.addManagedElementListeners(this.getViewportElement(),{scroll:e})}addListeners(){this.addManagedEventListeners({displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this),displayedRowsChanged:e=>this.onDisplayedRowsChanged(e.afterScroll)}),this.onDisplayedColumnsChanged(),this.onDisplayedColumnsWidthChanged(),this.onDisplayedRowsChanged()}listenOnDomOrder(){if(ZN.indexOf(this.name)>=0){this.comp.setDomOrder(!0);return}const t=()=>{const r=this.gos.get("ensureDomOrder"),n=this.gos.isDomLayout("print");this.comp.setDomOrder(r||n)};this.addManagedPropertyListener("domLayout",t),t()}onDisplayedColumnsChanged(){this.forContainers(["center"],()=>this.onHorizontalViewportChanged())}onDisplayedColumnsWidthChanged(){this.forContainers(["center"],()=>this.onHorizontalViewportChanged())}addPreventScrollWhileDragging(){const e=t=>{this.dragService.isDragging()&&t.cancelable&&t.preventDefault()};this.eContainer.addEventListener("touchmove",e,{passive:!1}),this.addDestroyFunc(()=>this.eContainer.removeEventListener("touchmove",e))}onHorizontalViewportChanged(e=!1){const t=this.getCenterWidth(),r=this.getCenterViewportScrollLeft();this.columnViewportService.setScrollPosition(t,r,e)}getCenterWidth(){return Iu(this.eViewport)}getCenterViewportScrollLeft(){return rf(this.eViewport,this.enableRtl)}registerViewportResizeListener(e){const t=this.resizeObserverService.observeResize(this.eViewport,e);this.addDestroyFunc(()=>t())}isViewportInTheDOMTree(){return oR(this.eViewport)}getViewportScrollLeft(){return rf(this.eViewport,this.enableRtl)}isHorizontalScrollShowing(){return this.gos.get("alwaysShowHorizontalScroll")||jI(this.eViewport)}getViewportElement(){return this.eViewport}setHorizontalScroll(e){this.comp.setHorizontalScroll(e)}getHScrollPosition(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}}setCenterViewportScrollLeft(e){nf(this.eViewport,e,this.enableRtl)}isContainerVisible(){return!(this.options.pinnedType!=null)||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0}onPinnedWidthChanged(){const e=this.isContainerVisible();this.visible!=e&&(this.visible=e,this.onDisplayedRowsChanged())}onDisplayedRowsChanged(e=!1){const t=this.options.getRowCtrls(this.rowRenderer);if(!this.visible||t.length===0){this.comp.setRowCtrls({rowCtrls:this.EMPTY_CTRLS});return}const r=this.gos.isDomLayout("print"),i=this.gos.get("embedFullWidthRows")||r,s=t.filter(o=>{const a=o.isFullWidth();return this.options.fullWidth?!i&&a:i||!a});this.comp.setRowCtrls({rowCtrls:s,useFlushSync:e})}},tL="ag-force-vertical-scroll",rL="ag-selectable",nL="ag-column-moving",iL=class extends Re{constructor(){super(...arguments),this.stickyTopHeight=0,this.stickyBottomHeight=0}wireBeans(e){this.animationFrameService=e.animationFrameService,this.rowContainerHeightService=e.rowContainerHeightService,this.ctrlsService=e.ctrlsService,this.columnModel=e.columnModel,this.columnSizeService=e.columnSizeService,this.scrollVisibleService=e.scrollVisibleService,this.menuService=e.menuService,this.headerNavigationService=e.headerNavigationService,this.dragAndDropService=e.dragAndDropService,this.pinnedRowModel=e.pinnedRowModel,this.rowRenderer=e.rowRenderer,this.popupService=e.popupService,this.mouseEventService=e.mouseEventService,this.rowModel=e.rowModel,this.filterManager=e.filterManager,this.environment=e.environment}getScrollFeature(){return this.bodyScrollFeature}getBodyViewportElement(){return this.eBodyViewport}setComp(e,t,r,n,i,s,o){var a;this.comp=e,this.eGridBody=t,this.eBodyViewport=r,this.eTop=n,this.eBottom=i,this.eStickyTop=s,this.eStickyBottom=o,this.eCenterColsViewport=r.querySelector(`.${$a("center").viewport}`),this.eFullWidthContainer=r.querySelector(`.${$a("fullWidth").container}`),this.eStickyTopFullWidthContainer=s.querySelector(`.${$a("stickyTopFullWidth").container}`),this.eStickyBottomFullWidthContainer=o.querySelector(`.${$a("stickyBottomFullWidth").container}`),this.setCellTextSelection(this.gos.get("enableCellTextSelection")),this.addManagedPropertyListener("enableCellTextSelection",l=>this.setCellTextSelection(l.currentValue)),this.createManagedBean(new Ey(this.comp)),this.bodyScrollFeature=this.createManagedBean(new hN(this.eBodyViewport)),this.addRowDragListener(),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([n,r,i,s,o]),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),(a=this.filterManager)==null||a.setupAdvancedFilterHeaderComp(n),this.ctrlsService.register("gridBodyCtrl",this)}getComp(){return this.comp}addEventListeners(){const e=this.setFloatingHeights.bind(this);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this),pinnedRowDataChanged:e,pinnedHeightChanged:e,headerHeightChanged:this.onHeaderHeightChanged.bind(this)})}addFocusListeners(e){e.forEach(t=>{this.addManagedElementListeners(t,{focusin:r=>{const{target:n}=r,i=tl(n,"ag-root",t);t.classList.toggle("ag-has-focus",!i)},focusout:r=>{const{target:n,relatedTarget:i}=r,s=t.contains(i),o=tl(i,"ag-root",t);tl(n,"ag-root",t)||(!s||o)&&t.classList.remove("ag-has-focus")}})})}setColumnMovingCss(e){this.comp.setColumnMovingCss(nL,e)}setCellTextSelection(e=!1){this.comp.setCellSelectableCss(rL,e)}onScrollVisibilityChanged(){const e=this.scrollVisibleService.isVerticalScrollShowing();this.setVerticalScrollPaddingVisible(e),this.setStickyWidth(e),this.setStickyBottomOffsetBottom();const t=e&&this.gos.getScrollbarWidth()||0,r=rR()?16:0,n=`calc(100% + ${t+r}px)`;this.animationFrameService.requestAnimationFrame(()=>this.comp.setBodyViewportWidth(n))}onGridColumnsChanged(){const e=this.columnModel.getCols();this.comp.setColumnCount(e.length)}disableBrowserDragging(){this.addManagedElementListeners(this.eGridBody,{dragstart:e=>{if(e.target instanceof HTMLImageElement)return e.preventDefault(),!1}})}addStopEditingWhenGridLosesFocus(){if(!this.gos.get("stopEditingWhenCellsLoseFocus"))return;const e=r=>{const n=r.relatedTarget;if(av(n)===null){this.rowRenderer.stopEditing();return}let i=t.some(s=>s.contains(n))&&this.mouseEventService.isElementInThisGrid(n);if(!i){const s=this.popupService;i=s.getActivePopups().some(o=>o.contains(n))||s.isElementWithinCustomPopup(n)}i||this.rowRenderer.stopEditing()},t=[this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop,this.eStickyBottom];t.forEach(r=>this.addManagedElementListeners(r,{focusout:e}))}updateRowCount(){var n;const e=this.headerNavigationService.getHeaderRowCount()+(((n=this.filterManager)==null?void 0:n.getHeaderRowCount())??0),t=this.rowModel.isLastRowIndexKnown()?this.rowModel.getRowCount():-1,r=t===-1?-1:e+t;this.comp.setRowCount(r)}registerBodyViewportResizeListener(e){this.comp.registerBodyViewportResizeListener(e)}setVerticalScrollPaddingVisible(e){const t=e?"scroll":"hidden";this.comp.setPinnedTopBottomOverflowY(t)}isVerticalScrollShowing(){const e=this.gos.get("alwaysShowVerticalScroll"),t=e?tL:null,r=this.gos.isDomLayout("normal");return this.comp.setAlwaysVerticalScrollClass(t,e),e||r&&BI(this.eBodyViewport)}setupRowAnimationCssClass(){let e=this.environment.hasMeasuredSizes();const t=()=>{const r=e&&this.gos.isAnimateRows()&&!this.rowContainerHeightService.isStretching(),n=r?"ag-row-animation":"ag-row-no-animation";this.comp.setRowAnimationCssOnBodyViewport(n,r)};t(),this.addManagedEventListeners({heightScaleChanged:t}),this.addManagedPropertyListener("animateRows",t),this.addManagedEventListeners({gridStylesChanged:()=>{!e&&this.environment.hasMeasuredSizes()&&(e=!0,t())}})}getGridBodyElement(){return this.eGridBody}addBodyViewportListener(){const e=this.onBodyViewportContextMenu.bind(this);this.addManagedElementListeners(this.eBodyViewport,{contextmenu:e}),this.mockContextMenuForIPad(e),this.addManagedElementListeners(this.eBodyViewport,{wheel:this.onBodyViewportWheel.bind(this)}),this.addManagedElementListeners(this.eStickyTop,{wheel:this.onStickyWheel.bind(this)}),this.addManagedElementListeners(this.eStickyBottom,{wheel:this.onStickyWheel.bind(this)}),this.addFullWidthContainerWheelListener()}addFullWidthContainerWheelListener(){this.addManagedElementListeners(this.eFullWidthContainer,{wheel:e=>this.onFullWidthContainerWheel(e)})}onFullWidthContainerWheel(e){const{deltaX:t,deltaY:r,shiftKey:n}=e;(n||Math.abs(t)>Math.abs(r))&&this.mouseEventService.isEventFromThisGrid(e)&&this.scrollGridBodyToMatchEvent(e)}onStickyWheel(e){const{deltaX:t,deltaY:r,shiftKey:n}=e,i=n||Math.abs(t)>Math.abs(r),s=e.target;i?(this.eStickyTopFullWidthContainer.contains(s)||this.eStickyBottomFullWidthContainer.contains(s))&&this.scrollGridBodyToMatchEvent(e):(e.preventDefault(),this.scrollVertically(r))}scrollGridBodyToMatchEvent(e){const{deltaX:t,deltaY:r}=e;e.preventDefault(),this.eCenterColsViewport.scrollBy({left:t||r})}onBodyViewportContextMenu(e,t,r){if(!e&&!r)return;this.gos.get("preventDefaultOnContextMenu")&&(e||r).preventDefault();const{target:n}=e||t;(n===this.eBodyViewport||n===this.ctrlsService.get("center").getViewportElement())&&this.menuService.showContextMenu({mouseEvent:e,touchEvent:r,value:null,anchorToElement:this.eGridBody})}mockContextMenuForIPad(e){if(!uo())return;const t=new Xs(this.eBodyViewport),r=n=>{e(void 0,n.touchStart,n.touchEvent)};this.addManagedListeners(t,{longTap:r}),this.addDestroyFunc(()=>t.destroy())}onBodyViewportWheel(e){this.gos.get("suppressScrollWhenPopupsAreOpen")&&this.popupService.hasAnchoredPopup()&&e.preventDefault()}getGui(){return this.eGridBody}scrollVertically(e){const t=this.eBodyViewport.scrollTop;return this.bodyScrollFeature.setVerticalScrollPosition(t+e),this.eBodyViewport.scrollTop-t}addRowDragListener(){this.rowDragFeature=this.createManagedBean(new D7(this.eBodyViewport)),this.dragAndDropService.addDropTarget(this.rowDragFeature)}getRowDragFeature(){return this.rowDragFeature}setFloatingHeights(){const{pinnedRowModel:e}=this,t=e.getPinnedTopTotalHeight(),r=e.getPinnedBottomTotalHeight();this.comp.setTopHeight(t),this.comp.setBottomHeight(r),this.comp.setTopDisplay(t?"inherit":"none"),this.comp.setBottomDisplay(r?"inherit":"none"),this.setStickyTopOffsetTop(),this.setStickyBottomOffsetBottom()}setStickyTopHeight(e=0){this.comp.setStickyTopHeight(`${e}px`),this.stickyTopHeight=e}getStickyTopHeight(){return this.stickyTopHeight}setStickyBottomHeight(e=0){this.comp.setStickyBottomHeight(`${e}px`),this.stickyBottomHeight=e}getStickyBottomHeight(){return this.stickyBottomHeight}setStickyWidth(e){if(!e)this.comp.setStickyTopWidth("100%"),this.comp.setStickyBottomWidth("100%");else{const t=this.gos.getScrollbarWidth();this.comp.setStickyTopWidth(`calc(100% - ${t}px)`),this.comp.setStickyBottomWidth(`calc(100% - ${t}px)`)}}onHeaderHeightChanged(){this.setStickyTopOffsetTop()}setStickyTopOffsetTop(){var i;const t=this.ctrlsService.get("gridHeaderCtrl").getHeaderHeight()+(((i=this.filterManager)==null?void 0:i.getHeaderHeight())??0),r=this.pinnedRowModel.getPinnedTopTotalHeight();let n=0;t>0&&(n+=t),r>0&&(n+=r),n>0&&(n+=1),this.comp.setStickyTopTop(`${n}px`)}setStickyBottomOffsetBottom(){const e=this.pinnedRowModel.getPinnedBottomTotalHeight(),r=this.scrollVisibleService.isHorizontalScrollShowing()&&this.gos.getScrollbarWidth()||0,n=e+r;this.comp.setStickyBottomBottom(`${n}px`)}sizeColumnsToFit(e,t){const n=this.isVerticalScrollShowing()?this.gos.getScrollbarWidth():0,s=Iu(this.eGridBody)-n;if(s>0){this.columnSizeService.sizeColumnsToFit(s,"sizeColumnsToFit",!1,e);return}t===void 0?window.setTimeout(()=>{this.sizeColumnsToFit(e,100)},0):t===100?window.setTimeout(()=>{this.sizeColumnsToFit(e,500)},100):t===500?window.setTimeout(()=>{this.sizeColumnsToFit(e,-1)},500):ke("tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?")}addScrollEventListener(e){this.eBodyViewport.addEventListener("scroll",e,{passive:!0})}removeScrollEventListener(e){this.eBodyViewport.removeEventListener("scroll",e)}};function oc(e){return e.map(t=>`<ag-row-container name="${t}"></ag-row-container>`).join("")}`${oc(["topLeft","topCenter","topRight","topFullWidth"])}${oc(["left","center","right","fullWidth"])}${oc(["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"])}${oc(["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"])}${oc(["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"])}`;var sL=class extends Re{constructor(){super(...arguments),this.beanName="scrollVisibleService"}wireBeans(e){this.ctrlsService=e.ctrlsService,this.columnAnimationService=e.columnAnimationService}postConstruct(){this.addManagedEventListeners({displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this)})}onDisplayedColumnsChanged(){this.update()}onDisplayedColumnsWidthChanged(){this.update()}update(){this.columnAnimationService.isActive()?this.columnAnimationService.executeLaterVMTurn(()=>{this.columnAnimationService.executeLaterVMTurn(()=>this.updateImpl())}):this.updateImpl()}updateImpl(){const e=this.ctrlsService.get("center");if(!e||this.columnAnimationService.isActive())return;const t={horizontalScrollShowing:e.isHorizontalScrollShowing(),verticalScrollShowing:this.isVerticalScrollShowing()};this.setScrollsVisible(t)}setScrollsVisible(e){(this.horizontalScrollShowing!==e.horizontalScrollShowing||this.verticalScrollShowing!==e.verticalScrollShowing)&&(this.horizontalScrollShowing=e.horizontalScrollShowing,this.verticalScrollShowing=e.verticalScrollShowing,this.eventService.dispatchEvent({type:"scrollVisibilityChanged"}))}isHorizontalScrollShowing(){return this.horizontalScrollShowing}isVerticalScrollShowing(){return this.verticalScrollShowing}},Zw="__ag_grid_instance",JR=class e4 extends Re{constructor(){super(...arguments),this.beanName="mouseEventService",this.gridInstanceId=e4.gridInstanceSequence.next()}wireBeans(t){this.ctrlsService=t.ctrlsService}stampTopLevelGridCompWithGridInstance(t){t[Zw]=this.gridInstanceId}getRenderedCellForEvent(t){return Zm(this.gos,t.target,jo.DOM_DATA_KEY_CELL_CTRL)}isEventFromThisGrid(t){return this.isElementInThisGrid(t.target)}isElementInThisGrid(t){let r=t;for(;r;){const n=r[Zw];if(je(n))return n===this.gridInstanceId;r=r.parentElement}return!1}getCellPositionForEvent(t){const r=this.getRenderedCellForEvent(t);return r?r.getCellPosition():null}getNormalisedPosition(t){const r=this.gos.isDomLayout("normal"),n=t;let i,s;if(n.clientX!=null||n.clientY!=null?(i=n.clientX,s=n.clientY):(i=n.x,s=n.y),r){const o=this.ctrlsService.getGridBodyCtrl(),a=o.getScrollFeature().getVScrollPosition(),l=o.getScrollFeature().getHScrollPosition();i+=l.left,s+=a.top}return{x:i,y:s}}};JR.gridInstanceSequence=new Cl;var oL=JR,aL=class extends Re{constructor(){super(),this.beanName="navigationService",this.onPageDown=Vw(this.onPageDown,100),this.onPageUp=Vw(this.onPageUp,100)}wireBeans(e){this.mouseEventService=e.mouseEventService,this.pageBoundsService=e.pageBoundsService,this.focusService=e.focusService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.rowModel=e.rowModel,this.ctrlsService=e.ctrlsService,this.rowRenderer=e.rowRenderer,this.headerNavigationService=e.headerNavigationService,this.rowPositionUtils=e.rowPositionUtils,this.cellNavigationService=e.cellNavigationService,this.pinnedRowModel=e.pinnedRowModel,this.rangeService=e.rangeService}postConstruct(){this.ctrlsService.whenReady(e=>{this.gridBodyCon=e.gridBodyCtrl})}handlePageScrollingKey(e,t=!1){const r=e.key,n=e.altKey,i=e.ctrlKey||e.metaKey,s=!!this.rangeService&&e.shiftKey,o=this.mouseEventService.getCellPositionForEvent(e);let a=!1;switch(r){case Se.PAGE_HOME:case Se.PAGE_END:!i&&!n&&(this.onHomeOrEndKey(r),a=!0);break;case Se.LEFT:case Se.RIGHT:case Se.UP:case Se.DOWN:if(!o)return!1;i&&!n&&!s&&(this.onCtrlUpDownLeftRight(r,o),a=!0);break;case Se.PAGE_DOWN:case Se.PAGE_UP:!i&&!n&&(a=this.handlePageUpDown(r,o,t));break}return a&&e.preventDefault(),a}handlePageUpDown(e,t,r){return r&&(t=this.focusService.getFocusedCell()),t?(e===Se.PAGE_UP?this.onPageUp(t):this.onPageDown(t),!0):!1}navigateTo(e){var o;const{scrollIndex:t,scrollType:r,scrollColumn:n,focusIndex:i,focusColumn:s}=e;je(n)&&!n.isPinned()&&this.gridBodyCon.getScrollFeature().ensureColumnVisible(n),je(t)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(t,r),e.isAsync||this.gridBodyCon.getScrollFeature().ensureIndexVisible(i),this.focusService.setFocusedCell({rowIndex:i,column:s,rowPinned:null,forceBrowserFocus:!0}),(o=this.rangeService)==null||o.setRangeToCell({rowIndex:i,rowPinned:null,column:s})}onPageDown(e){const r=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),n=this.getViewportHeight(),i=this.pageBoundsService.getPixelOffset(),s=r.top+n,o=this.rowModel.getRowIndexAtPixel(s+i);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(e,o):this.navigateToNextPage(e,o)}onPageUp(e){const r=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),n=this.pageBoundsService.getPixelOffset(),i=r.top,s=this.rowModel.getRowIndexAtPixel(i+n);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(e,s,!0):this.navigateToNextPage(e,s,!0)}navigateToNextPage(e,t,r=!1){const n=this.getViewportHeight(),i=this.pageBoundsService.getFirstRow(),s=this.pageBoundsService.getLastRow(),o=this.pageBoundsService.getPixelOffset(),a=this.rowModel.getRow(e.rowIndex),l=r?(a==null?void 0:a.rowHeight)-n-o:n-o,c=(a==null?void 0:a.rowTop)+l;let u=this.rowModel.getRowIndexAtPixel(c+o);if(u===e.rowIndex){const d=r?-1:1;t=u=e.rowIndex+d}let f;r?(f="bottom",u<i&&(u=i),t<i&&(t=i)):(f="top",u>s&&(u=s),t>s&&(t=s)),this.isRowTallerThanView(u)&&(t=u,f="top"),this.navigateTo({scrollIndex:t,scrollType:f,scrollColumn:null,focusIndex:u,focusColumn:e.column})}navigateToNextPageWithAutoHeight(e,t,r=!1){this.navigateTo({scrollIndex:t,scrollType:r?"bottom":"top",scrollColumn:null,focusIndex:t,focusColumn:e.column}),setTimeout(()=>{const n=this.getNextFocusIndexForAutoHeight(e,r);this.navigateTo({scrollIndex:t,scrollType:r?"bottom":"top",scrollColumn:null,focusIndex:n,focusColumn:e.column,isAsync:!0})},50)}getNextFocusIndexForAutoHeight(e,t=!1){const r=t?-1:1,n=this.getViewportHeight(),i=this.pageBoundsService.getLastRow();let s=0,o=e.rowIndex;for(;o>=0&&o<=i;){const a=this.rowModel.getRow(o);if(a){const l=a.rowHeight??0;if(s+l>n)break;s+=l}o+=r}return Math.max(0,Math.min(o,i))}getViewportHeight(){const{gridBodyCtrl:e,center:t}=this.ctrlsService.getParams(),r=e.getScrollFeature().getVScrollPosition(),n=this.gos.getScrollbarWidth();let i=r.bottom-r.top;return t.isHorizontalScrollShowing()&&(i-=n),i}isRowTallerThanView(e){const t=this.rowModel.getRow(e);if(!t)return!1;const r=t.rowHeight;return typeof r!="number"?!1:r>this.getViewportHeight()}onCtrlUpDownLeftRight(e,t){const r=this.cellNavigationService.getNextCellToFocus(e,t,!0),{rowIndex:n}=r,i=r.column;this.navigateTo({scrollIndex:n,scrollType:null,scrollColumn:i,focusIndex:n,focusColumn:i})}onHomeOrEndKey(e){const t=e===Se.PAGE_HOME,r=this.visibleColsService.getAllCols(),n=t?r[0]:Ot(r),i=t?this.pageBoundsService.getFirstRow():this.pageBoundsService.getLastRow();this.navigateTo({scrollIndex:i,scrollType:null,scrollColumn:n,focusIndex:i,focusColumn:n})}onTabKeyDown(e,t){const r=t.shiftKey,n=this.tabToNextCellCommon(e,r,t);if(n!==!1){n?t.preventDefault():n===null&&this.focusService.allowFocusForNextGridCoreContainer(r);return}if(r){const{rowIndex:i,rowPinned:s}=e.getRowPosition();(s?i===0:i===this.pageBoundsService.getFirstRow())&&(this.gos.get("headerHeight")===0||this.focusService.isHeaderFocusSuppressed()?this.focusService.focusNextGridCoreContainer(!0,!0):(t.preventDefault(),this.focusService.focusPreviousFromFirstCell(t)))}else e instanceof jo&&e.focusCell(!0),(!r&&this.focusService.focusOverlay(!1)||this.focusService.focusNextGridCoreContainer(r))&&t.preventDefault()}tabToNextCell(e,t){const r=this.focusService.getFocusedCell();if(!r)return!1;let n=this.getCellByPosition(r);return!n&&(n=this.rowRenderer.getRowByPosition(r),!n||!n.isFullWidth())?!1:!!this.tabToNextCellCommon(n,e,t)}tabToNextCellCommon(e,t,r){let n=e.isEditing();if(!n&&e instanceof jo){const o=e.getRowCtrl();o&&(n=o.isEditing())}let i;return n?this.gos.get("editType")==="fullRow"?i=this.moveToNextEditingRow(e,t,r):i=this.moveToNextEditingCell(e,t,r):i=this.moveToNextCellNotEditing(e,t),i===null?i:i||!!this.focusService.getFocusedHeader()}moveToNextEditingCell(e,t,r=null){const n=e.getCellPosition();e.getGui().focus(),e.stopEditing();const i=this.findNextCellToFocusOn(n,t,!0);return i===!1?null:i==null?!1:(i.startEditing(null,!0,r),i.focusCell(!1),!0)}moveToNextEditingRow(e,t,r=null){const n=e.getCellPosition(),i=this.findNextCellToFocusOn(n,t,!0);if(i===!1)return null;if(i==null)return!1;const s=i.getCellPosition(),o=this.isCellEditable(n),a=this.isCellEditable(s),l=s&&n.rowIndex===s.rowIndex&&n.rowPinned===s.rowPinned;return o&&e.setFocusOutOnEditor(),l||(e.getRowCtrl().stopEditing(),i.getRowCtrl().startRowEditing(void 0,void 0,r)),a?(i.setFocusInOnEditor(),i.focusCell()):i.focusCell(!0),!0}moveToNextCellNotEditing(e,t){const r=this.visibleColsService.getAllCols();let n;e instanceof Bo?n={...e.getRowPosition(),column:t?r[0]:Ot(r)}:n=e.getCellPosition();const i=this.findNextCellToFocusOn(n,t,!1);if(i===!1)return null;if(i instanceof jo)i.focusCell(!0);else if(i)return this.tryToFocusFullWidthRow(i.getRowPosition(),t);return je(i)}findNextCellToFocusOn(e,t,r){var i;let n=e;for(;;){e!==n&&(e=n),t||(n=this.getLastCellOfColSpan(n)),n=this.cellNavigationService.getNextTabbedCell(n,t);const s=this.gos.getCallback("tabToNextCell");if(je(s)){const c=s({backwards:t,editing:r,previousCellPosition:e,nextCellPosition:n||null});if(c===!0||c===null)c===null&&ke("Returning `null` from tabToNextCell is deprecated. Return `true` to stay on the current cell, or `false` to let the browser handle the tab behaviour."),n=e;else{if(c===!1)return!1;n={rowIndex:c.rowIndex,column:c.column,rowPinned:c.rowPinned}}}if(!n)return null;if(n.rowIndex<0){const l=this.headerNavigationService.getHeaderRowCount();return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:l+n.rowIndex,column:n.column},fromCell:!0}),null}const o=this.gos.get("editType")==="fullRow";if(r&&!o&&!this.isCellEditable(n))continue;this.ensureCellVisible(n);const a=this.getCellByPosition(n);if(!a){const l=this.rowRenderer.getRowByPosition(n);if(!l||!l.isFullWidth()||r)continue;return l}if(!a.isSuppressNavigable())return(i=this.rangeService)==null||i.setRangeToCell(n),a}}isCellEditable(e){const t=this.lookupRowNodeForCell(e);return t?e.column.isCellEditable(t):!1}getCellByPosition(e){const t=this.rowRenderer.getRowByPosition(e);return t?t.getCellCtrl(e.column):null}lookupRowNodeForCell(e){return e.rowPinned==="top"?this.pinnedRowModel.getPinnedTopRow(e.rowIndex):e.rowPinned==="bottom"?this.pinnedRowModel.getPinnedBottomRow(e.rowIndex):this.rowModel.getRow(e.rowIndex)}navigateToNextCell(e,t,r,n){let i=r,s=!1;for(;i&&(i===r||!this.isValidNavigateCell(i));)this.gos.get("enableRtl")?t===Se.LEFT&&(i=this.getLastCellOfColSpan(i)):t===Se.RIGHT&&(i=this.getLastCellOfColSpan(i)),i=this.cellNavigationService.getNextCellToFocus(t,i),s=_t(i);if(s&&e&&e.key===Se.UP&&(i={rowIndex:-1,rowPinned:null,column:r.column}),n){const a=this.gos.getCallback("navigateToNextCell");if(je(a)){const c=a({key:t,previousCellPosition:r,nextCellPosition:i||null,event:e});je(c)?i={rowPinned:c.rowPinned,rowIndex:c.rowIndex,column:c.column}:i=null}}if(!i)return;if(i.rowIndex<0){const a=this.headerNavigationService.getHeaderRowCount();this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:a+i.rowIndex,column:r.column},event:e||void 0,fromCell:!0});return}const o=this.getNormalisedPosition(i);o?this.focusPosition(o):this.tryToFocusFullWidthRow(i)}getNormalisedPosition(e){this.ensureCellVisible(e);const t=this.getCellByPosition(e);return t?(e=t.getCellPosition(),this.ensureCellVisible(e),e):null}tryToFocusFullWidthRow(e,t=!1){const r=this.visibleColsService.getAllCols(),n=this.rowRenderer.getRowByPosition(e);if(!n||!n.isFullWidth())return!1;const i=this.focusService.getFocusedCell(),s={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column||(t?Ot(r):r[0])};this.focusPosition(s);const o=i!=null?this.rowPositionUtils.before(s,i):!1;return this.eventService.dispatchEvent({type:"fullWidthRowFocused",rowIndex:s.rowIndex,rowPinned:s.rowPinned,column:s.column,isFullWidthCell:!0,fromBelow:o}),!0}focusPosition(e){var t;this.focusService.setFocusedCell({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0}),(t=this.rangeService)==null||t.setRangeToCell(e)}isValidNavigateCell(e){return!!this.rowPositionUtils.getRowNode(e)}getLastCellOfColSpan(e){const t=this.getCellByPosition(e);if(!t)return e;const r=t.getColSpanningList();return r.length===1?e:{rowIndex:e.rowIndex,column:Ot(r),rowPinned:e.rowPinned}}ensureCellVisible(e){const t=this.gos.isGroupRowsSticky(),r=this.rowModel.getRow(e.rowIndex);!(t&&(r==null?void 0:r.sticky))&&_t(e.rowPinned)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(e.rowIndex),e.column.isPinned()||this.gridBodyCon.getScrollFeature().ensureColumnVisible(e.column)}},lL=class extends Re{constructor(){super(...arguments),this.beanName="horizontalResizeService"}wireBeans(e){this.dragService=e.dragService,this.ctrlsService=e.ctrlsService}addResizeBar(e){const t={dragStartPixels:e.dragStartPixels||0,eElement:e.eResizeBar,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this,e),onDragging:this.onDragging.bind(this,e),includeTouch:!0,stopPropagationForTouch:!0};return this.dragService.addDragSource(t),()=>this.dragService.removeDragSource(t)}onDragStart(e,t){this.dragStartX=t.clientX,this.setResizeIcons();const r=t instanceof MouseEvent&&t.shiftKey===!0;e.onResizeStart(r)}setResizeIcons(){const e=this.ctrlsService.get("gridCtrl");e.setResizeCursor(!0),e.disableUserSelect(!0)}onDragStop(e,t){e.onResizeEnd(this.resizeAmount),this.resetIcons()}resetIcons(){const e=this.ctrlsService.get("gridCtrl");e.setResizeCursor(!1),e.disableUserSelect(!1)}onDragging(e,t){this.resizeAmount=t.clientX-this.dragStartX,e.onResizing(this.resizeAmount)}},cL=class extends Re{constructor(){super(...arguments),this.beanName="filterMenuFactory"}wireBeans(e){this.popupService=e.popupService,this.focusService=e.focusService,this.ctrlsService=e.ctrlsService,this.menuService=e.menuService}hideActiveMenu(){this.hidePopup&&this.hidePopup()}showMenuAfterMouseEvent(e,t,r){this.showPopup(e,n=>{this.popupService.positionPopupUnderMouseEvent({column:e,type:r,mouseEvent:t,ePopup:n})},r,t.target,this.menuService.isLegacyMenuEnabled())}showMenuAfterButtonClick(e,t,r){let n=-1,i="left";const s=this.menuService.isLegacyMenuEnabled();!s&&this.gos.get("enableRtl")&&(n=1,i="right");const o=s?void 0:4*n,a=s?void 0:4;this.showPopup(e,l=>{this.popupService.positionPopupByComponent({type:r,eventSource:t,ePopup:l,nudgeX:o,nudgeY:a,alignSide:i,keepWithinBounds:!0,position:"under",column:e})},r,t,s)}showPopup(e,t,r,n,i){const s=e?this.createBean(new H7(e,"COLUMN_MENU")):void 0;if(this.activeMenu=s,!(s!=null&&s.hasFilter())||!e)throw new Error("AG Grid - unable to show popup filter, filter instantiation failed");const o=document.createElement("div");Pi(o,"presentation"),o.classList.add("ag-menu"),i||o.classList.add("ag-filter-menu"),[this.tabListener]=this.addManagedElementListeners(o,{keydown:g=>this.trapFocusWithin(g,o)}),o.appendChild(s==null?void 0:s.getGui());let a;const l=()=>s==null?void 0:s.afterGuiDetached(),c=this.menuService.isColumnMenuAnchoringEnabled()?n??this.ctrlsService.getGridBodyCtrl().getGui():void 0,u=g=>{e.setMenuVisible(!1,"contextMenu");const v=g instanceof KeyboardEvent;if(this.tabListener&&(this.tabListener=this.tabListener()),v&&n&&Vi(n)){const p=this.focusService.findTabbableParent(n);p&&p.focus()}l(),this.destroyBean(this.activeMenu),this.dispatchVisibleChangedEvent(!1,r,e)},f=this.localeService.getLocaleTextFunc(),d=i&&r!=="columnFilter"?f("ariaLabelColumnMenu","Column Menu"):f("ariaLabelColumnFilter","Column Filter"),h=this.popupService.addPopup({modal:!0,eChild:o,closeOnEsc:!0,closedCallback:u,positionCallback:()=>t(o),anchorToElement:c,ariaLabel:d});h&&(this.hidePopup=a=h.hideFunc),s.afterInit().then(()=>{t(o),s.afterGuiAttached({container:r,hidePopup:a})}),e.setMenuVisible(!0,"contextMenu"),this.dispatchVisibleChangedEvent(!0,r,e)}trapFocusWithin(e,t){e.key!==Se.TAB||e.defaultPrevented||this.focusService.findNextFocusableElement(t,!1,e.shiftKey)||(e.preventDefault(),this.focusService.focusInto(t,e.shiftKey))}dispatchVisibleChangedEvent(e,t,r){this.eventService.dispatchEvent({type:"columnMenuVisibleChanged",visible:e,switchingTab:!1,key:t,column:r??null})}isMenuEnabled(e){return e.isFilterAllowed()&&(e.getColDef().menuTabs??["filterMenuTab"]).includes("filterMenuTab")}showMenuAfterContextMenuEvent(){}destroy(){this.destroyBean(this.activeMenu),super.destroy()}},uL=50,dL=class extends Re{constructor(){super(...arguments),this.beanName="resizeObserverService",this.polyfillFunctions=[]}observeResize(e,t){const r=this.gos.getWindow(),n=()=>{const a=new r.ResizeObserver(t);return a.observe(e),()=>a.disconnect()},i=()=>{let a=(e==null?void 0:e.clientWidth)??0,l=(e==null?void 0:e.clientHeight)??0,c=!0;const u=()=>{if(c){const f=(e==null?void 0:e.clientWidth)??0,d=(e==null?void 0:e.clientHeight)??0;(f!==a||d!==l)&&(a=f,l=d,t()),this.doNextPolyfillTurn(u)}};return u(),()=>c=!1},s=this.gos.get("suppressBrowserResizeObserver");return!!r.ResizeObserver&&!s?n():this.getFrameworkOverrides().wrapIncoming(()=>i(),"resize-observer")}doNextPolyfillTurn(e){this.polyfillFunctions.push(e),this.schedulePolyfill()}schedulePolyfill(){if(this.polyfillScheduled)return;const e=()=>{const t=this.polyfillFunctions;this.polyfillScheduled=!1,this.polyfillFunctions=[],t.forEach(r=>r())};this.polyfillScheduled=!0,window.setTimeout(e,uL)}},hL=class extends Re{constructor(){super(...arguments),this.beanName="animationFrameService",this.createTasksP1={list:[],sorted:!1},this.createTasksP2={list:[],sorted:!1},this.destroyTasks=[],this.ticking=!1,this.scrollGoingDown=!0,this.lastPage=0,this.lastScrollTop=0,this.taskCount=0,this.cancelledTasks=new Set}wireBeans(e){this.ctrlsService=e.ctrlsService,this.paginationService=e.paginationService}setScrollTop(e){var r;const t=this.gos.get("pagination");if(this.scrollGoingDown=e>=this.lastScrollTop,t&&e===0){const n=((r=this.paginationService)==null?void 0:r.getCurrentPage())??0;n!==this.lastPage&&(this.lastPage=n,this.scrollGoingDown=!0)}this.lastScrollTop=e}postConstruct(){this.useAnimationFrame=!this.gos.get("suppressAnimationFrame")}isOn(){return this.useAnimationFrame}verifyAnimationFrameOn(e){this.useAnimationFrame===!1&&ke(`AnimationFrameService.${e} called but animation frames are off`)}createTask(e,t,r){this.verifyAnimationFrameOn(r);const n={task:e,index:t,createOrder:++this.taskCount};this.addTaskToList(this[r],n),this.schedule()}cancelTask(e){this.cancelledTasks.add(e)}addTaskToList(e,t){e.list.push(t),e.sorted=!1}sortTaskList(e){if(e.sorted)return;const t=this.scrollGoingDown?1:-1;e.list.sort((r,n)=>r.index!==n.index?t*(n.index-r.index):n.createOrder-r.createOrder),e.sorted=!0}addDestroyTask(e){this.verifyAnimationFrameOn("createTasksP3"),this.destroyTasks.push(e),this.schedule()}executeFrame(e){this.verifyAnimationFrameOn("executeFrame");const t=this.createTasksP1,r=t.list,n=this.createTasksP2,i=n.list,s=this.destroyTasks,o=new Date().getTime();let a=new Date().getTime()-o;const l=e<=0,c=this.ctrlsService.getGridBodyCtrl();for(;l||a<e;){if(!c.getScrollFeature().scrollGridIfNeeded()){let f;if(r.length)this.sortTaskList(t),f=r.pop().task;else if(i.length)this.sortTaskList(n),f=i.pop().task;else if(s.length)f=s.pop();else{this.cancelledTasks.clear();break}this.cancelledTasks.has(f)||f()}a=new Date().getTime()-o}r.length||i.length||s.length?this.requestFrame():this.stopTicking()}stopTicking(){this.ticking=!1}flushAllFrames(){this.useAnimationFrame&&this.executeFrame(-1)}schedule(){this.useAnimationFrame&&(this.ticking||(this.ticking=!0,this.requestFrame()))}requestFrame(){const e=this.executeFrame.bind(this,60);this.requestAnimationFrame(e)}requestAnimationFrame(e){const t=this.gos.getWindow();t.requestAnimationFrame?t.requestAnimationFrame(e):t.webkitRequestAnimationFrame?t.webkitRequestAnimationFrame(e):t.setTimeout(e,0)}isQueueEmpty(){return!this.ticking}debounce(e){let t=!1;return()=>{if(!this.isOn()){window.setTimeout(e,0);return}t||(t=!0,this.addDestroyTask(()=>{t=!1,e()}))}}},fL=class extends Re{constructor(){super(...arguments),this.beanName="expansionService"}wireBeans(e){this.rowModel=e.rowModel}postConstruct(){this.isClientSideRowModel=this.rowModel.getType()==="clientSide"}expandRows(e){if(!this.isClientSideRowModel)return;const t=new Set(e);this.rowModel.forEachNode(r=>{r.id&&t.has(r.id)&&(r.expanded=!0)}),this.onGroupExpandedOrCollapsed()}getExpandedRows(){const e=[];return this.rowModel.forEachNode(({expanded:t,id:r})=>{t&&r&&e.push(r)}),e}expandAll(e){this.isClientSideRowModel&&this.rowModel.expandOrCollapseAll(e)}setRowNodeExpanded(e,t,r,n){e&&(r&&e.parent&&e.parent.level!==-1&&this.setRowNodeExpanded(e.parent,t,r,n),e.setExpanded(t,void 0,n))}onGroupExpandedOrCollapsed(){this.isClientSideRowModel&&this.rowModel.refreshModel({step:"map"})}},pL=class extends Re{constructor(){super(...arguments),this.beanName="menuService"}wireBeans(e){this.filterMenuFactory=e.filterMenuFactory,this.ctrlsService=e.ctrlsService,this.animationFrameService=e.animationFrameService,this.filterManager=e.filterManager,this.rowRenderer=e.rowRenderer,this.columnChooserFactory=e.columnChooserFactory,this.contextMenuFactory=e.contextMenuFactory,this.enterpriseMenuFactory=e.enterpriseMenuFactory}postConstruct(){this.activeMenuFactory=this.enterpriseMenuFactory??this.filterMenuFactory}showColumnMenu(e){this.showColumnMenuCommon(this.activeMenuFactory,e,"columnMenu")}showFilterMenu(e){const t=this.enterpriseMenuFactory&&this.isLegacyMenuEnabled()?this.enterpriseMenuFactory:this.filterMenuFactory;this.showColumnMenuCommon(t,e,e.containerType,!0)}showHeaderContextMenu(e,t,r){this.activeMenuFactory.showMenuAfterContextMenuEvent(e,t,r)}getContextMenuPosition(e,t){const r=this.getRowCtrl(e),n=this.getCellGui(r,t);if(!n)return r?{x:0,y:r.getRowYPosition()}:{x:0,y:0};const i=n.getBoundingClientRect();return{x:i.x+i.width/2,y:i.y+i.height/2}}showContextMenu(e){var s;const{rowNode:t}=e,r=e.column;let{anchorToElement:n,value:i}=e;t&&r&&i==null&&(i=t.getValueFromValueService(r)),n==null&&(n=this.getContextMenuAnchorElement(t,r)),(s=this.contextMenuFactory)==null||s.onContextMenu(e.mouseEvent??null,e.touchEvent??null,t??null,r??null,i,n)}showColumnChooser(e){var t;(t=this.columnChooserFactory)==null||t.showColumnChooser(e)}hidePopupMenu(){var e;(e=this.contextMenuFactory)==null||e.hideActiveMenu(),this.activeMenuFactory.hideActiveMenu()}hideColumnChooser(){var e;(e=this.columnChooserFactory)==null||e.hideActiveColumnChooser()}isColumnMenuInHeaderEnabled(e){const{suppressMenu:t,suppressHeaderMenuButton:r}=e.getColDef();return!(r??t)&&this.activeMenuFactory.isMenuEnabled(e)&&(this.isLegacyMenuEnabled()||!!this.enterpriseMenuFactory)}isFilterMenuInHeaderEnabled(e){var t;return!e.getColDef().suppressHeaderFilterButton&&!!((t=this.filterManager)!=null&&t.isFilterAllowed(e))}isHeaderContextMenuEnabled(e){return!(e!=null&&e.getColDef().suppressHeaderContextMenu)&&this.getColumnMenuType()==="new"}isHeaderMenuButtonAlwaysShowEnabled(){return this.isSuppressMenuHide()}isHeaderMenuButtonEnabled(){const e=!this.isSuppressMenuHide();return!(uo()&&e)}isHeaderFilterButtonEnabled(e){return this.isFilterMenuInHeaderEnabled(e)&&!this.isLegacyMenuEnabled()&&!this.isFloatingFilterButtonDisplayed(e)}isFilterMenuItemEnabled(e){var t;return!!((t=this.filterManager)!=null&&t.isFilterAllowed(e))&&!this.isLegacyMenuEnabled()&&!this.isFilterMenuInHeaderEnabled(e)&&!this.isFloatingFilterButtonDisplayed(e)}isColumnMenuAnchoringEnabled(){return!this.isLegacyMenuEnabled()}areAdditionalColumnMenuItemsEnabled(){return this.getColumnMenuType()==="new"}isLegacyMenuEnabled(){return this.getColumnMenuType()==="legacy"}isFloatingFilterButtonEnabled(e){var n;const t=e.getColDef(),r=(n=t.floatingFilterComponentParams)==null?void 0:n.suppressFilterButton;return r!=null&&ke("As of v31.1, 'colDef.floatingFilterComponentParams.suppressFilterButton' is deprecated. Use 'colDef.suppressFloatingFilterButton' instead."),t.suppressFloatingFilterButton==null?!r:!t.suppressFloatingFilterButton}getColumnMenuType(){return this.gos.get("columnMenu")}isFloatingFilterButtonDisplayed(e){return!!e.getColDef().floatingFilter&&this.isFloatingFilterButtonEnabled(e)}isSuppressMenuHide(){const e=this.gos.get("suppressMenuHide");return this.isLegacyMenuEnabled()?this.gos.exists("suppressMenuHide")?e:!1:e}showColumnMenuCommon(e,t,r,n){const{positionBy:i}=t,s=t.column;if(i==="button"){const{buttonElement:o}=t;e.showMenuAfterButtonClick(s,o,r,n)}else if(i==="mouse"){const{mouseEvent:o}=t;e.showMenuAfterMouseEvent(s,o,r,n)}else s&&(this.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(s,"auto"),this.animationFrameService.requestAnimationFrame(()=>{var a;const o=(a=this.ctrlsService.getHeaderRowContainerCtrl(s.getPinned()))==null?void 0:a.getHeaderCtrlForColumn(s);o&&e.showMenuAfterButtonClick(s,o.getAnchorElementForMenu(n),r,!0)}))}getRowCtrl(e){const{rowIndex:t,rowPinned:r}=e||{};if(t!=null)return this.rowRenderer.getRowByPosition({rowIndex:t,rowPinned:r})||void 0}getCellGui(e,t){if(!e||!t)return;const r=e.getCellCtrl(t);return(r==null?void 0:r.getGui())||void 0}getContextMenuAnchorElement(e,t){const r=this.ctrlsService.getGridBodyCtrl().getGridBodyElement(),n=this.getRowCtrl(e);if(!n)return r;const i=this.getCellGui(n,t);return i||(n.isFullWidth()?n.getFullWidthElement():r)}},gL=class extends Fo{constructor(e){super(e,"ag-text-area",null,"textarea")}setValue(e,t){const r=super.setValue(e,t);return this.eInput.value=e,r}setCols(e){return this.eInput.cols=e,this}setRows(e){return this.eInput.rows=e,this}},mL={selector:"AG-INPUT-TEXT-AREA",component:gL},vL=class extends jl{constructor(){super(`<div class="ag-large-text">
        <ag-input-text-area data-ref="eTextArea" class="ag-large-text-input"></ag-input-text-area>
        </div>`,[mL]),this.eTextArea=ht}init(e){this.params=e,this.focusAfterAttached=e.cellStartedEdit,this.eTextArea.setMaxLength(e.maxLength||200).setCols(e.cols||60).setRows(e.rows||10),je(e.value,!0)&&this.eTextArea.setValue(e.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.activateTabIndex()}onKeyDown(e){const t=e.key;(t===Se.LEFT||t===Se.UP||t===Se.RIGHT||t===Se.DOWN||e.shiftKey&&t===Se.ENTER)&&e.stopPropagation()}afterGuiAttached(){const e=this.localeService.getLocaleTextFunc();this.eTextArea.setInputAriaLabel(e("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()}getValue(){const e=this.eTextArea.getValue();return!je(e)&&!je(this.params.value)?this.params.value:this.params.parseValue(e)}},yL=class extends jl{constructor(e){super('<div class="ag-popup-editor" tabindex="-1"/>'),this.params=e}postConstruct(){this.gos.setDomData(this.getGui(),"popupEditorWrapper",!0),this.addKeyDownListener()}addKeyDownListener(){const e=this.getGui(),t=this.params,r=n=>{uv(this.gos,n,t.node,t.column,!0)||t.onKeyDown(n)};this.addManagedElementListeners(e,{keydown:r})}},bL=class extends jl{constructor(){super(`<div class="ag-cell-edit-wrapper">
                <ag-select class="ag-cell-editor" data-ref="eSelect"></ag-select>
            </div>`,[K7]),this.eSelect=ht,this.startedByEnter=!1}wireBeans(e){this.valueService=e.valueService}init(e){this.focusAfterAttached=e.cellStartedEdit;const{eSelect:t,valueService:r,gos:n}=this,{values:i,value:s,eventKey:o}=e;if(_t(i)){ke("no values found for select cellEditor");return}this.startedByEnter=o!=null?o===Se.ENTER:!1;let a=!1;i.forEach(f=>{const d={value:f},h=r.formatValue(e.column,null,f),g=h!=null;d.text=g?h:f,t.addOption(d),a=a||s===f}),a?t.setValue(e.value,!0):e.values.length&&t.setValue(e.values[0],!0);const{valueListGap:l,valueListMaxWidth:c,valueListMaxHeight:u}=e;l!=null&&t.setPickerGap(l),u!=null&&t.setPickerMaxHeight(u),c!=null&&t.setPickerMaxWidth(c),n.get("editType")!=="fullRow"&&this.addManagedListeners(this.eSelect,{selectedItem:()=>e.stopEditing()})}afterGuiAttached(){this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&setTimeout(()=>{this.isAlive()&&this.eSelect.showPicker()})}focusIn(){this.eSelect.getFocusableElement().focus()}getValue(){return this.eSelect.getValue()}isPopup(){return!1}},jf=class extends jl{constructor(e){super(`
            <div class="ag-cell-edit-wrapper">
                ${e.getTemplate()}
            </div>`,e.getAgComponents()),this.cellEditorInput=e,this.eInput=ht}init(e){this.params=e;const t=this.eInput;this.cellEditorInput.init(t,e);let r;if(e.cellStartedEdit){this.focusAfterAttached=!0;const n=e.eventKey;n===Se.BACKSPACE||e.eventKey===Se.DELETE?r="":n&&n.length===1?r=n:(r=this.cellEditorInput.getStartValue(),n!==Se.F2&&(this.highlightAllOnFocus=!0))}else this.focusAfterAttached=!1,r=this.cellEditorInput.getStartValue();r!=null&&t.setStartValue(r),this.addManagedElementListeners(t.getGui(),{keydown:n=>{const{key:i}=n;(i===Se.PAGE_UP||i===Se.PAGE_DOWN)&&n.preventDefault()}})}afterGuiAttached(){var n,i;const e=this.localeService.getLocaleTextFunc(),t=this.eInput;if(t.setInputAriaLabel(e("ariaInputEditor","Input Editor")),!this.focusAfterAttached)return;Gi()||t.getFocusableElement().focus();const r=t.getInputElement();this.highlightAllOnFocus?r.select():(i=(n=this.cellEditorInput).setCaret)==null||i.call(n)}focusIn(){const e=this.eInput,t=e.getFocusableElement(),r=e.getInputElement();t.focus(),r.select()}getValue(){return this.cellEditorInput.getValue()}isPopup(){return!1}},wL=class{getTemplate(){return'<ag-input-text-field class="ag-cell-editor" data-ref="eInput"></ag-input-text-field>'}getAgComponents(){return[Nf]}init(e,t){this.eInput=e,this.params=t,t.maxLength!=null&&e.setMaxLength(t.maxLength)}getValue(){const e=this.eInput.getValue();return!je(e)&&!je(this.params.value)?this.params.value:this.params.parseValue(e)}getStartValue(){return this.params.useFormatter||this.params.column.getColDef().refData?this.params.formatValue(this.params.value):this.params.value}setCaret(){const e=this.eInput.getValue(),t=je(e)&&e.length||0;t&&this.eInput.getInputElement().setSelectionRange(t,t)}},t4=class extends jf{constructor(){super(new wL)}},CL=class{getTemplate(){return'<ag-input-number-field class="ag-cell-editor" data-ref="eInput"></ag-input-number-field>'}getAgComponents(){return[n9]}init(e,t){this.eInput=e,this.params=t,t.max!=null&&e.setMax(t.max),t.min!=null&&e.setMin(t.min),t.precision!=null&&e.setPrecision(t.precision),t.step!=null&&e.setStep(t.step);const r=e.getInputElement();t.preventStepping?e.addManagedElementListeners(r,{keydown:this.preventStepping}):t.showStepperButtons&&r.classList.add("ag-number-field-input-stepper")}preventStepping(e){(e.key===Se.UP||e.key===Se.DOWN)&&e.preventDefault()}getValue(){const e=this.eInput.getValue();if(!je(e)&&!je(this.params.value))return this.params.value;let t=this.params.parseValue(e);if(t==null)return t;if(typeof t=="string"){if(t==="")return null;t=Number(t)}return isNaN(t)?null:t}getStartValue(){return this.params.value}setCaret(){Gi()&&this.eInput.getInputElement().focus({preventScroll:!0})}},SL=class extends jf{constructor(){super(new CL)}},xL=class extends ca{constructor(e){super(e,"ag-date-field","date")}postConstruct(){super.postConstruct();const e=Gi();this.addManagedListeners(this.eInput,{wheel:this.onWheel.bind(this),mousedown:()=>{this.isDisabled()||e||this.eInput.focus()}}),this.eInput.step="any"}onWheel(e){this.gos.getActiveDomElement()===this.eInput&&e.preventDefault()}setMin(e){const t=e instanceof Date?Jn(e??null,!1)??void 0:e;return this.min===t?this:(this.min=t,Zn(this.eInput,"min",t),this)}setMax(e){const t=e instanceof Date?Jn(e??null,!1)??void 0:e;return this.max===t?this:(this.max=t,Zn(this.eInput,"max",t),this)}setStep(e){return this.step===e?this:(this.step=e,Zn(this.eInput,"step",e),this)}getDate(){if(this.eInput.validity.valid)return vn(this.getValue())??void 0}setDate(e,t){this.setValue(Jn(e??null,!1),t)}},r4={selector:"AG-INPUT-DATE-FIELD",component:xL},RL=class{getTemplate(){return'<ag-input-date-field class="ag-cell-editor" data-ref="eInput"></ag-input-date-field>'}getAgComponents(){return[r4]}init(e,t){this.eInput=e,this.params=t,t.min!=null&&e.setMin(t.min),t.max!=null&&e.setMax(t.max),t.step!=null&&e.setStep(t.step)}getValue(){const e=this.eInput.getDate();return!je(e)&&!je(this.params.value)?this.params.value:e??null}getStartValue(){const{value:e}=this.params;if(e instanceof Date)return Jn(e,!1)}},EL=class extends jf{constructor(){super(new RL)}},TL=class{constructor(e){this.getDataTypeService=e}getTemplate(){return'<ag-input-date-field class="ag-cell-editor" data-ref="eInput"></ag-input-date-field>'}getAgComponents(){return[r4]}init(e,t){this.eInput=e,this.params=t,t.min!=null&&e.setMin(t.min),t.max!=null&&e.setMax(t.max),t.step!=null&&e.setStep(t.step)}getValue(){const e=this.formatDate(this.eInput.getDate());return!je(e)&&!je(this.params.value)?this.params.value:this.params.parseValue(e??"")}getStartValue(){return Jn(this.parseDate(this.params.value??void 0)??null,!1)}parseDate(e){const t=this.getDataTypeService();return t?t.getDateParserFunction(this.params.column)(e):vn(e)??void 0}formatDate(e){const t=this.getDataTypeService();return t?t.getDateFormatterFunction(this.params.column)(e):Jn(e??null,!1)??void 0}},PL=class extends jf{wireBeans(e){this.dataTypeService=e.dataTypeService}constructor(){super(new TL(()=>this.dataTypeService))}},_L=class extends jl{constructor(){super(`
            <div class="ag-cell-wrapper ag-cell-edit-wrapper ag-checkbox-edit">
                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>
            </div>`,[hy]),this.eCheckbox=ht}init(e){this.params=e;const t=e.value??void 0;this.eCheckbox.setValue(t),this.eCheckbox.getInputElement().setAttribute("tabindex","-1"),this.setAriaLabel(t),this.addManagedListeners(this.eCheckbox,{fieldValueChanged:n=>this.setAriaLabel(n.selected)})}getValue(){return this.eCheckbox.getValue()}focusIn(){this.eCheckbox.getFocusableElement().focus()}afterGuiAttached(){this.params.cellStartedEdit&&this.focusIn()}isPopup(){return!1}setAriaLabel(e){const t=this.localeService.getLocaleTextFunc(),r=iy(t,e),n=t("ariaToggleCellValue","Press SPACE to toggle cell value");this.eCheckbox.setInputAriaLabel(`${n} (${r})`)}},pc=class{constructor(e){this.cellValueChanges=e}},Bp=class extends pc{constructor(e,t,r,n){super(e),this.initialRange=t,this.finalRange=r,this.ranges=n}},ML=10,Jw=class{constructor(e){this.actionStack=[],this.maxStackSize=e||ML,this.actionStack=new Array(this.maxStackSize)}pop(){return this.actionStack.pop()}push(e){e.cellValueChanges&&e.cellValueChanges.length>0&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(e))}clear(){this.actionStack=[]}getCurrentStackSize(){return this.actionStack.length}},kL=class extends Re{constructor(){super(...arguments),this.beanName="undoRedoService",this.cellValueChanges=[],this.activeCellEdit=null,this.activeRowEdit=null,this.isPasting=!1,this.isRangeInAction=!1,this.onCellValueChanged=e=>{const t={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned},r=this.activeCellEdit!==null&&this.cellPositionUtils.equals(this.activeCellEdit,t),n=this.activeRowEdit!==null&&this.rowPositionUtils.sameRow(this.activeRowEdit,t);if(!(r||n||this.isPasting||this.isRangeInAction))return;const{rowPinned:s,rowIndex:o,column:a,oldValue:l,value:c}=e,u={rowPinned:s,rowIndex:o,columnId:a.getColId(),newValue:c,oldValue:l};this.cellValueChanges.push(u)},this.clearStacks=()=>{this.undoStack.clear(),this.redoStack.clear()}}wireBeans(e){this.focusService=e.focusService,this.ctrlsService=e.ctrlsService,this.cellPositionUtils=e.cellPositionUtils,this.rowPositionUtils=e.rowPositionUtils,this.columnModel=e.columnModel,this.rangeService=e.rangeService}postConstruct(){if(!this.gos.get("undoRedoCellEditing"))return;const e=this.gos.get("undoRedoCellEditingLimit");if(e<=0)return;this.undoStack=new Jw(e),this.redoStack=new Jw(e),this.addListeners();const t=this.clearStacks.bind(this);this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this),modelUpdated:r=>{r.keepUndoRedoStack||this.clearStacks()},columnPivotModeChanged:t,newColumnsLoaded:t,columnGroupOpened:t,columnRowGroupChanged:t,columnMoved:t,columnPinned:t,columnVisible:t,rowDragEnd:t}),this.ctrlsService.whenReady(r=>{this.gridBodyCtrl=r.gridBodyCtrl})}getCurrentUndoStackSize(){return this.undoStack?this.undoStack.getCurrentStackSize():0}getCurrentRedoStackSize(){return this.redoStack?this.redoStack.getCurrentStackSize():0}undo(e){this.eventService.dispatchEvent({type:"undoStarted",source:e});const t=this.undoRedo(this.undoStack,this.redoStack,"initialRange","oldValue","undo");this.eventService.dispatchEvent({type:"undoEnded",source:e,operationPerformed:t})}redo(e){this.eventService.dispatchEvent({type:"redoStarted",source:e});const t=this.undoRedo(this.redoStack,this.undoStack,"finalRange","newValue","redo");this.eventService.dispatchEvent({type:"redoEnded",source:e,operationPerformed:t})}undoRedo(e,t,r,n,i){if(!e)return!1;const s=e.pop();return!s||!s.cellValueChanges?!1:(this.processAction(s,o=>o[n],i),s instanceof Bp?this.processRange(this.rangeService,s.ranges||[s[r]]):this.processCell(s.cellValueChanges),t.push(s),!0)}processAction(e,t,r){e.cellValueChanges.forEach(n=>{const{rowIndex:i,rowPinned:s,columnId:o}=n,a={rowIndex:i,rowPinned:s},l=this.rowPositionUtils.getRowNode(a);l.displayed&&l.setDataValue(o,t(n),r)})}processRange(e,t){let r;e.removeAllCellRanges(!0),t.forEach((n,i)=>{if(!n)return;const s=n.startRow,o=n.endRow;i===t.length-1&&(r={rowPinned:s.rowPinned,rowIndex:s.rowIndex,columnId:n.startColumn.getColId()},this.setLastFocusedCell(r));const a={rowStartIndex:s.rowIndex,rowStartPinned:s.rowPinned,rowEndIndex:o.rowIndex,rowEndPinned:o.rowPinned,columnStart:n.startColumn,columns:n.columns};e.addCellRange(a)})}processCell(e){const t=e[0],{rowIndex:r,rowPinned:n}=t,i={rowIndex:r,rowPinned:n},s=this.rowPositionUtils.getRowNode(i),o={rowPinned:t.rowPinned,rowIndex:s.rowIndex,columnId:t.columnId};this.setLastFocusedCell(o,this.rangeService)}setLastFocusedCell(e,t){const{rowIndex:r,columnId:n,rowPinned:i}=e,s=this.gridBodyCtrl.getScrollFeature(),o=this.columnModel.getCol(n);if(!o)return;s.ensureIndexVisible(r),s.ensureColumnVisible(o);const a={rowIndex:r,column:o,rowPinned:i};this.focusService.setFocusedCell({...a,forceBrowserFocus:!0}),t==null||t.setRangeToCell(a)}addListeners(){this.addManagedEventListeners({rowEditingStarted:e=>{this.activeRowEdit={rowIndex:e.rowIndex,rowPinned:e.rowPinned}},rowEditingStopped:()=>{const e=new pc(this.cellValueChanges);this.pushActionsToUndoStack(e),this.activeRowEdit=null},cellEditingStarted:e=>{this.activeCellEdit={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned}},cellEditingStopped:e=>{if(this.activeCellEdit=null,e.valueChanged&&!this.activeRowEdit&&!this.isPasting&&!this.isRangeInAction){const r=new pc(this.cellValueChanges);this.pushActionsToUndoStack(r)}},pasteStart:()=>{this.isPasting=!0},pasteEnd:()=>{const e=new pc(this.cellValueChanges);this.pushActionsToUndoStack(e),this.isPasting=!1},fillStart:()=>{this.isRangeInAction=!0},fillEnd:e=>{const t=new Bp(this.cellValueChanges,e.initialRange,e.finalRange);this.pushActionsToUndoStack(t),this.isRangeInAction=!1},keyShortcutChangedCellStart:()=>{this.isRangeInAction=!0},keyShortcutChangedCellEnd:()=>{let e;this.rangeService&&this.gos.get("enableRangeSelection")?e=new Bp(this.cellValueChanges,void 0,void 0,[...this.rangeService.getCellRanges()]):e=new pc(this.cellValueChanges),this.pushActionsToUndoStack(e),this.isRangeInAction=!1}})}pushActionsToUndoStack(e){this.undoStack.push(e),this.cellValueChanges=[],this.redoStack.clear()}};function FL(e){return e.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition()}function AL(e){return e.ctrlsService.getGridBodyCtrl().getScrollFeature().getHScrollPosition()}function n4(e,t,r="auto"){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(t,r),"ensureVisible")}function i4(e,t,r){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureIndexVisible(t,r),"ensureVisible")}function OL(e,t,r=null){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureNodeVisible(t,r),"ensureVisible")}function DL(e){var t;(t=e.undoRedoService)==null||t.undo("api")}function IL(e){var t;(t=e.undoRedoService)==null||t.redo("api")}function NL(e,t={}){return e.rowRenderer.getCellEditorInstances(t).map(Dc)}function LL(e){return e.rowRenderer.getEditingCells()}function jL(e,t=!1){e.rowRenderer.stopEditing(t)}function BL(e,t){const r=e.columnModel.getCol(t.colKey);if(!r){ke(`no column found for ${t.colKey}`);return}const n={rowIndex:t.rowIndex,rowPinned:t.rowPinned||null,column:r};t.rowPinned==null&&i4(e,t.rowIndex),n4(e,t.colKey);const s=e.navigationService.getCellByPosition(n);if(!s)return;const{focusService:o,gos:a}=e,l=()=>{const u=a.getActiveDomElement(),f=s.getGui();return u!==f&&f.contains(u)},c=a.get("stopEditingWhenCellsLoseFocus")&&l();(c||!o.isCellFocused(n))&&o.setFocusedCell({...n,forceBrowserFocus:c,preventScrollOnBrowserFocus:!0}),s.startRowOrCellEdit(t.key)}function HL(e){var t;return((t=e.undoRedoService)==null?void 0:t.getCurrentUndoStackSize())??0}function GL(e){var t;return((t=e.undoRedoService)==null?void 0:t.getCurrentRedoStackSize())??0}var VL=class extends Re{constructor(){super(...arguments),this.beanName="editService"}wireBeans(e){this.navigationService=e.navigationService,this.userComponentFactory=e.userComponentFactory,this.valueService=e.valueService}startEditing(e,t=null,r=!1,n=null){const i=this.createCellEditorParams(e,t,r),s=e.getColumn().getColDef(),o=this.userComponentFactory.getCellEditorDetails(s,i),a=(o==null?void 0:o.popupFromSelector)!=null?o.popupFromSelector:!!s.cellEditorPopup,l=(o==null?void 0:o.popupPositionFromSelector)!=null?o.popupPositionFromSelector:s.cellEditorPopupPosition;e.setEditing(!0,o),e.getComp().setEditDetails(o,a,l,this.gos.get("reactiveCustomComponents")),this.eventService.dispatchEvent(e.createEvent(n,"cellEditingStarted"))}stopEditing(e,t){const r=e.getComp(),{newValue:n,newValueExists:i}=this.takeValueFromCellEditor(t,r),s=e.getRowNode(),o=e.getColumn(),a=s.getValueFromValueService(o);let l=!1;return i&&(l=this.saveNewValue(e,a,n,s,o)),e.setEditing(!1,void 0),r.setEditDetails(),e.updateAndFormatValue(!1),e.refreshCell({forceRefresh:!0,suppressFlash:!0}),this.eventService.dispatchEvent({...e.createEvent(null,"cellEditingStopped"),oldValue:a,newValue:n,valueChanged:l}),l}handleColDefChanged(e){const t=e.getCellEditor();if(t!=null&&t.refresh){const{eventKey:r,cellStartedEdit:n}=e.getEditCompDetails().params,i=this.createCellEditorParams(e,r,n),s=e.getColumn().getColDef(),o=this.userComponentFactory.getCellEditorDetails(s,i);t.refresh(o.params)}}setFocusOutOnEditor(e){const t=e.getComp().getCellEditor();t&&t.focusOut&&t.focusOut()}setFocusInOnEditor(e){const t=e.getComp().getCellEditor();t&&t.focusIn?t.focusIn():e.focusCell(!0)}stopEditingAndFocus(e,t=!1,r=!1){e.stopRowOrCellEdit(),e.focusCell(!0),t||this.navigateAfterEdit(r,e.getCellPosition())}createPopupEditorWrapper(e){return new yL(e)}takeValueFromCellEditor(e,t){const r={newValueExists:!1};if(e)return r;const n=t.getCellEditor();return!n||n.isCancelAfterEnd&&n.isCancelAfterEnd()?r:{newValue:n.getValue(),newValueExists:!0}}saveNewValue(e,t,r,n,i){if(r===t)return!1;e.setSuppressRefreshCell(!0);const s=n.setDataValue(i,r,"edit");return e.setSuppressRefreshCell(!1),s}createCellEditorParams(e,t,r){const n=e.getColumn(),i=e.getRowNode();return this.gos.addGridCommonParams({value:i.getValueFromValueService(n),eventKey:t,column:n,colDef:n.getColDef(),rowIndex:e.getCellPosition().rowIndex,node:i,data:i.data,cellStartedEdit:r,onKeyDown:e.onKeyDown.bind(e),stopEditing:e.stopEditingAndFocus.bind(e),eGridCell:e.getGui(),parseValue:s=>this.valueService.parseValue(n,i,s,e.getValue()),formatValue:e.formatValue.bind(e)})}navigateAfterEdit(e,t){if(this.gos.get("enterNavigatesVerticallyAfterEdit")){const n=e?Se.UP:Se.DOWN;this.navigationService.navigateToNextCell(null,n,t,!1)}}},zL=class extends Re{constructor(){super(...arguments),this.beanName="rowEditService"}startEditing(e,t=null,r=null,n=null){e.getAllCellCtrls().reduce((s,o)=>{const a=o===r;return a?o.startEditing(t,a,n):o.startEditing(null,a,n),s?!0:o.isEditing()},!1)&&this.setEditing(e,!0)}stopEditing(e,t=!1){const r=e.getAllCellCtrls(),n=e.isEditing();e.setStoppingRowEdit(!0);let i=!1;for(const s of r){const o=s.stopEditing(t);n&&!t&&!i&&o&&(i=!0)}i&&this.eventService.dispatchEvent(e.createRowEvent("rowValueChanged")),n&&this.setEditing(e,!1),e.setStoppingRowEdit(!1)}setEditing(e,t){e.setEditingRow(t),e.forEachGui(void 0,n=>n.rowComp.addOrRemoveCssClass("ag-row-editing",t));const r=t?e.createRowEvent("rowEditingStarted"):e.createRowEvent("rowEditingStopped");this.eventService.dispatchEvent(r)}},ua={version:vt,moduleName:"@ag-grid-community/edit-core",beans:[VL]},WL={version:vt,moduleName:"@ag-grid-community/edit-api",apiFunctions:{undoCellEditing:DL,redoCellEditing:IL,getCellEditorInstances:NL,getEditingCells:LL,stopEditing:jL,startEditingCell:BL,getCurrentUndoSize:HL,getCurrentRedoSize:GL},dependantModules:[ua]},$L={version:vt,moduleName:"@ag-grid-community/undo-redo-edit",beans:[kL],dependantModules:[ua]},UL={version:vt,moduleName:"@ag-grid-community/full-row-edit",beans:[zL],dependantModules:[ua]},s4={version:vt,moduleName:"@ag-grid-community/default-editor",userComponents:[{name:"agCellEditor",classImp:t4}],dependantModules:[ua]},KL={version:vt,moduleName:"@ag-grid-community/data-type-editors",userComponents:[{name:"agTextCellEditor",classImp:t4},{name:"agNumberCellEditor",classImp:SL},{name:"agDateCellEditor",classImp:EL},{name:"agDateStringCellEditor",classImp:PL},{name:"agCheckboxCellEditor",classImp:_L}],dependantModules:[s4]},qL={version:vt,moduleName:"@ag-grid-community/select-editor",userComponents:[{name:"agSelectCellEditor",classImp:bL}],dependantModules:[ua]},YL={version:vt,moduleName:"@ag-grid-community/large-text-editor",userComponents:[{name:"agLargeTextCellEditor",classImp:vL}],dependantModules:[ua]},XL={version:vt,moduleName:"@ag-grid-community/all-editors",dependantModules:[s4,KL,qL,YL]},QL={version:vt,moduleName:"@ag-grid-community/editing",dependantModules:[ua,$L,UL,XL,WL]},ZL=class extends Re{constructor(){super(...arguments),this.beanName="autoWidthCalculator"}wireBeans(e){this.rowRenderer=e.rowRenderer,this.ctrlsService=e.ctrlsService}postConstruct(){this.ctrlsService.whenReady(e=>{this.centerRowContainerCtrl=e.center})}getPreferredWidthForColumn(e,t){const r=this.getHeaderCellForColumn(e);if(!r)return-1;const n=this.rowRenderer.getAllCellsForColumn(e);return t||n.push(r),this.addElementsToContainerAndGetWidth(n)}getPreferredWidthForColumnGroup(e){const t=this.getHeaderCellForColumn(e);return t?this.addElementsToContainerAndGetWidth([t]):-1}addElementsToContainerAndGetWidth(e){const t=document.createElement("form");t.style.position="fixed";const r=this.centerRowContainerCtrl.getContainerElement();e.forEach(s=>this.cloneItemIntoDummy(s,t)),r.appendChild(t);const n=t.offsetWidth;r.removeChild(t);const i=this.getAutoSizePadding();return n+i}getAutoSizePadding(){return this.gos.get("autoSizePadding")}getHeaderCellForColumn(e){let t=null;return this.ctrlsService.getHeaderRowContainerCtrls().forEach(r=>{const n=r.getHtmlElementForColumnHeader(e);n!=null&&(t=n)}),t}cloneItemIntoDummy(e,t){const r=e.cloneNode(!0);r.style.width="",r.style.position="static",r.style.left="";const n=document.createElement("div"),i=n.classList;["ag-header-cell","ag-header-group-cell"].some(a=>r.classList.contains(a))?(i.add("ag-header","ag-header-row"),n.style.position="static"):i.add("ag-row");let o=e.parentElement;for(;o;){if(["ag-header-row","ag-row"].some(l=>o.classList.contains(l))){for(let l=0;l<o.classList.length;l++){const c=o.classList[l];c!="ag-row-position-absolute"&&i.add(c)}break}o=o.parentElement}n.appendChild(r),t.appendChild(n)}},JL=class extends Re{constructor(e,t){super(),this.createRowCon=e,this.destroyRowCtrls=t,this.stickyTopRowCtrls=[],this.stickyBottomRowCtrls=[],this.topContainerHeight=0,this.bottomContainerHeight=0,this.extraTopHeight=0,this.extraBottomHeight=0}wireBeans(e){this.rowModel=e.rowModel,this.rowRenderer=e.rowRenderer,this.ctrlsService=e.ctrlsService,this.pageBoundsService=e.pageBoundsService}postConstruct(){this.isClientSide=this.rowModel.getType()==="clientSide",this.ctrlsService.whenReady(e=>{this.gridBodyCtrl=e.gridBodyCtrl})}getStickyTopRowCtrls(){return this.stickyTopRowCtrls}getStickyBottomRowCtrls(){return this.stickyBottomRowCtrls}setOffsetTop(e){this.extraTopHeight!==e&&(this.extraTopHeight=e,this.eventService.dispatchEvent({type:"stickyTopOffsetChanged",offset:e}))}setOffsetBottom(e){this.extraBottomHeight!==e&&(this.extraBottomHeight=e)}resetOffsets(){this.setOffsetBottom(0),this.setOffsetTop(0)}getExtraTopHeight(){return this.extraTopHeight}getExtraBottomHeight(){return this.extraBottomHeight}getLastPixelOfGroup(e){return this.isClientSide?this.getClientSideLastPixelOfGroup(e):this.getServerSideLastPixelOfGroup(e)}getFirstPixelOfGroup(e){return e.footer?e.sibling.rowTop+e.sibling.rowHeight-1:e.hasChildren()?e.rowTop-1:0}getServerSideLastPixelOfGroup(e){var t,r;if(this.isClientSide)throw new Error("This func should only be called in server side row model.");if(e.isExpandable()||e.footer){if(e.master)return e.detailNode.rowTop+e.detailNode.rowHeight;if(!e.sibling||Math.abs(e.sibling.rowIndex-e.rowIndex)===1){let i=(t=e.childStore)==null?void 0:t.getStoreBounds();return e.footer&&(i=(r=e.sibling.childStore)==null?void 0:r.getStoreBounds()),((i==null?void 0:i.heightPx)??0)+((i==null?void 0:i.topPx)??0)}return e.footer?e.rowTop+e.rowHeight:e.sibling.rowTop+e.sibling.rowHeight}return Number.MAX_SAFE_INTEGER}getClientSideLastPixelOfGroup(e){if(!this.isClientSide)throw new Error("This func should only be called in client side row model.");if(e.isExpandable()||e.footer){if(e.footer&&e.rowIndex===0)return Number.MAX_SAFE_INTEGER;if(!e.sibling||Math.abs(e.sibling.rowIndex-e.rowIndex)===1){let n=e.footer?e.sibling:e;for(;n.isExpandable()&&n.expanded;)if(n.master)n=n.detailNode;else if(n.childrenAfterSort){if(n.childrenAfterSort.length===0)break;n=Ot(n.childrenAfterSort)}return n.rowTop+n.rowHeight}return e.footer?e.rowTop+e.rowHeight:e.sibling.rowTop+e.sibling.rowHeight}return Number.MAX_SAFE_INTEGER}updateStickyRows(e){const t=e==="top";let r=0;if(!this.canRowsBeSticky())return this.refreshNodesAndContainerHeight(e,new Set,r);const n=t?this.rowRenderer.getFirstVisibleVerticalPixel()-this.extraTopHeight:this.rowRenderer.getLastVisibleVerticalPixel()-this.extraTopHeight,i=new Set,s=c=>{if(i.add(c),t){const u=this.getLastPixelOfGroup(c),f=n+r+c.rowHeight;u<f?c.stickyRowTop=r+(u-f):c.stickyRowTop=r}else{const u=this.getFirstPixelOfGroup(c),f=n-(r+c.rowHeight);u>f?c.stickyRowTop=r-(u-f):c.stickyRowTop=r}r=0,i.forEach(u=>{const f=u.stickyRowTop+u.rowHeight;r<f&&(r=f)})},o=this.areFooterRowsStickySuppressed(),a=this.gos.get("suppressGroupRowsSticky"),l=c=>{if(!c.displayed)return!1;if(c.footer){if(o===!0||o==="grand"&&c.level===-1||o==="group"&&c.level>-1)return!1;const u=c.sibling.rowIndex?c.sibling.rowIndex+1===c.rowIndex:!1;return e==="bottom"&&u?!1:!i.has(c)}return c.isExpandable()?a===!0||e==="bottom"?!1:!i.has(c)&&c.expanded:!1};for(let c=0;c<100;c++){let u=n+r;t||(u=n-r);const f=this.rowModel.getRowIndexAtPixel(u),d=this.rowModel.getRow(f);if(d==null)break;const g=this.getStickyAncestors(d).find(p=>(t?p.rowIndex<f:p.rowIndex>f)&&l(p));if(g){s(g);continue}if((t?d.rowTop<u:d.rowTop+d.rowHeight>u)&&l(d)){s(d);continue}break}return t||i.forEach(c=>{c.stickyRowTop=r-(c.stickyRowTop+c.rowHeight)}),this.refreshNodesAndContainerHeight(e,i,r)}areFooterRowsStickySuppressed(){const e=this.gos.get("suppressStickyTotalRow");if(e===!0)return!0;const t=!!this.gos.get("groupIncludeFooter")||e==="group",r=!!this.gos.get("groupIncludeTotalFooter")||e==="grand";return t&&r?!0:r?"grand":t?"group":!1}canRowsBeSticky(){const e=this.gos.isGroupRowsSticky(),t=this.areFooterRowsStickySuppressed(),r=this.gos.get("suppressGroupRowsSticky");return e&&(!t||!r)}getStickyAncestors(e){const t=[];let r=e.footer?e.sibling:e.parent;for(;r;)r.sibling&&t.push(r.sibling),t.push(r),r=r.parent;return t.reverse()}checkStickyRows(){const e=this.updateStickyRows("top"),t=this.updateStickyRows("bottom");return e||t}destroyStickyCtrls(){this.refreshNodesAndContainerHeight("top",new Set,0),this.refreshNodesAndContainerHeight("bottom",new Set,0)}refreshStickyNode(e){const t=new Set;if(this.stickyTopRowCtrls.some(r=>r.getRowNode()===e)){for(let r=0;r<this.stickyTopRowCtrls.length;r++){const n=this.stickyTopRowCtrls[r].getRowNode();n!==e&&t.add(n)}this.refreshNodesAndContainerHeight("top",t,this.topContainerHeight)&&this.checkStickyRows();return}for(let r=0;r<this.stickyBottomRowCtrls.length;r++){const n=this.stickyBottomRowCtrls[r].getRowNode();n!==e&&t.add(n)}this.refreshNodesAndContainerHeight("bottom",t,this.bottomContainerHeight)&&this.checkStickyRows()}refreshNodesAndContainerHeight(e,t,r){const n=e==="top",i=n?this.stickyTopRowCtrls:this.stickyBottomRowCtrls,s={},o=[];for(let d=0;d<i.length;d++){const h=i[d].getRowNode();if(!t.has(h)){s[h.id]=i[d],h.sticky=!1;continue}o.push(i[d])}const a=new Set;for(let d=0;d<o.length;d++)a.add(o[d].getRowNode());const l=[];t.forEach(d=>{a.has(d)||(d.sticky=!0,l.push(this.createRowCon(d,!1,!1)))});let c=!!l.length||o.length!==i.length;n?this.topContainerHeight!==r&&(this.topContainerHeight=r,this.gridBodyCtrl.setStickyTopHeight(r),c=!0):this.bottomContainerHeight!==r&&(this.bottomContainerHeight=r,this.gridBodyCtrl.setStickyBottomHeight(r),c=!0),this.destroyRowCtrls(s,!1);const u=[...o,...l];u.sort((d,h)=>h.getRowNode().rowIndex-d.getRowNode().rowIndex),n||u.reverse(),u.forEach(d=>d.setRowTop(d.getRowNode().stickyRowTop));let f=0;return n?(t.forEach(d=>{d.rowIndex<this.pageBoundsService.getFirstRow()&&(f+=d.rowHeight)}),f>this.topContainerHeight&&(f=this.topContainerHeight),this.setOffsetTop(f)):(t.forEach(d=>{d.rowIndex>this.pageBoundsService.getLastRow()&&(f+=d.rowHeight)}),f>this.bottomContainerHeight&&(f=this.bottomContainerHeight),this.setOffsetBottom(f)),c?(n?this.stickyTopRowCtrls=u:this.stickyBottomRowCtrls=u,!0):!1}ensureRowHeightsValid(){let e=!1;const t=r=>{const n=r.getRowNode();if(n.rowHeightEstimated){const i=this.gos.getRowHeightForNode(n);n.setRowHeight(i.height),e=!0}};return this.stickyTopRowCtrls.forEach(t),this.stickyBottomRowCtrls.forEach(t),e}},ej=class extends Re{constructor(){super(...arguments),this.beanName="rowRenderer",this.destroyFuncsForColumnListeners=[],this.rowCtrlsByRowIndex={},this.zombieRowCtrls={},this.allRowCtrls=[],this.topRowCtrls=[],this.bottomRowCtrls=[],this.refreshInProgress=!1,this.dataFirstRenderedFired=!1,this.setupRangeSelectionListeners=()=>{const e=()=>{this.getAllCellCtrls().forEach(s=>s.onRangeSelectionChanged())},t=()=>{this.getAllCellCtrls().forEach(s=>s.updateRangeBordersIfRangeCount())},r=()=>{this.eventService.addEventListener("rangeSelectionChanged",e),this.eventService.addEventListener("columnMoved",t),this.eventService.addEventListener("columnPinned",t),this.eventService.addEventListener("columnVisible",t)},n=()=>{this.eventService.removeEventListener("rangeSelectionChanged",e),this.eventService.removeEventListener("columnMoved",t),this.eventService.removeEventListener("columnPinned",t),this.eventService.removeEventListener("columnVisible",t)};this.addDestroyFunc(()=>n()),this.addManagedPropertyListener("enableRangeSelection",s=>{s.currentValue?r():n()}),this.gos.get("enableRangeSelection")&&r()}}wireBeans(e){this.animationFrameService=e.animationFrameService,this.paginationService=e.paginationService,this.pageBoundsService=e.pageBoundsService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.pinnedRowModel=e.pinnedRowModel,this.rowModel=e.rowModel,this.focusService=e.focusService,this.beans=e,this.rowContainerHeightService=e.rowContainerHeightService,this.ctrlsService=e.ctrlsService,this.environment=e.environment}postConstruct(){this.ctrlsService.whenReady(e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.initialise()})}initialise(){if(this.addManagedEventListeners({paginationChanged:this.onPageLoaded.bind(this),pinnedRowDataChanged:this.onPinnedRowDataChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),bodyScroll:this.onBodyScroll.bind(this),bodyHeightChanged:this.redraw.bind(this)}),this.addManagedPropertyListeners(["domLayout","embedFullWidthRows"],()=>this.onDomLayoutChanged()),this.addManagedPropertyListeners(["suppressMaxRenderedRowRestriction","rowBuffer"],()=>this.redraw()),this.addManagedPropertyListener("suppressCellFocus",e=>this.onSuppressCellFocusChanged(e.currentValue)),this.addManagedPropertyListeners(["getBusinessKeyForNode","fullWidthCellRenderer","fullWidthCellRendererParams","rowStyle","getRowStyle","rowClass","getRowClass","rowClassRules","suppressStickyTotalRow","groupRowRenderer","groupRowRendererParams","loadingCellRenderer","loadingCellRendererParams","detailCellRenderer","detailCellRendererParams","enableRangeSelection","enableCellTextSelection"],()=>this.redrawRows()),this.gos.isGroupRowsSticky()){const e=this.rowModel.getType();(e==="clientSide"||e==="serverSide")&&(this.stickyRowFeature=this.createManagedBean(new JL(this.createRowCon.bind(this),this.destroyRowCtrls.bind(this))))}this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=this.gos.isDomLayout("print"),this.embedFullWidthRows=this.printLayout||this.gos.get("embedFullWidthRows"),this.redrawAfterModelUpdate()}initialiseCache(){if(this.gos.get("keepDetailRows")){const e=this.getKeepDetailRowsCount(),t=e??3;this.cachedRowCtrls=new tj(t)}}getKeepDetailRowsCount(){return this.gos.get("keepDetailRowsCount")}getStickyTopRowCtrls(){return this.stickyRowFeature?this.stickyRowFeature.getStickyTopRowCtrls():[]}getStickyBottomRowCtrls(){return this.stickyRowFeature?this.stickyRowFeature.getStickyBottomRowCtrls():[]}updateAllRowCtrls(){const e=nv(this.rowCtrlsByRowIndex),t=nv(this.zombieRowCtrls),r=this.cachedRowCtrls?this.cachedRowCtrls.getEntries():[];t.length>0||r.length>0?this.allRowCtrls=[...e,...t,...r]:this.allRowCtrls=e}onCellFocusChanged(e){this.getAllCellCtrls().forEach(t=>t.onCellFocused(e)),this.getFullWidthRowCtrls().forEach(t=>t.onFullWidthRowFocused(e))}onSuppressCellFocusChanged(e){this.getAllCellCtrls().forEach(t=>t.onSuppressCellFocusChanged(e)),this.getFullWidthRowCtrls().forEach(t=>t.onSuppressCellFocusChanged(e))}registerCellEventListeners(){this.addManagedEventListeners({cellFocused:e=>{this.onCellFocusChanged(e)},cellFocusCleared:()=>this.onCellFocusChanged(),flashCells:e=>{this.getAllCellCtrls().forEach(t=>t.onFlashCells(e))},columnHoverChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onColumnHover())},displayedColumnsChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onDisplayedColumnsChanged())},displayedColumnsWidthChanged:()=>{this.printLayout&&this.getAllCellCtrls().forEach(e=>e.onLeftChanged())}}),this.setupRangeSelectionListeners(),this.refreshListenersToColumnsForCellComps(),this.addManagedEventListeners({gridColumnsChanged:this.refreshListenersToColumnsForCellComps.bind(this)}),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))}removeGridColumnListeners(){this.destroyFuncsForColumnListeners.forEach(e=>e()),this.destroyFuncsForColumnListeners.length=0}refreshListenersToColumnsForCellComps(){this.removeGridColumnListeners(),this.columnModel.getCols().forEach(t=>{const r=l=>{this.getAllCellCtrls().forEach(c=>{c.getColumn()===t&&l(c)})},n=()=>{r(l=>l.onLeftChanged())},i=()=>{r(l=>l.onWidthChanged())},s=()=>{r(l=>l.onFirstRightPinnedChanged())},o=()=>{r(l=>l.onLastLeftPinnedChanged())},a=()=>{r(l=>l.onColDefChanged())};t.addEventListener("leftChanged",n),t.addEventListener("widthChanged",i),t.addEventListener("firstRightPinnedChanged",s),t.addEventListener("lastLeftPinnedChanged",o),t.addEventListener("colDefChanged",a),this.destroyFuncsForColumnListeners.push(()=>{t.removeEventListener("leftChanged",n),t.removeEventListener("widthChanged",i),t.removeEventListener("firstRightPinnedChanged",s),t.removeEventListener("lastLeftPinnedChanged",o),t.removeEventListener("colDefChanged",a)})})}onDomLayoutChanged(){const e=this.gos.isDomLayout("print"),t=e||this.gos.get("embedFullWidthRows"),r=t!==this.embedFullWidthRows||this.printLayout!==e;this.printLayout=e,this.embedFullWidthRows=t,r&&this.redrawAfterModelUpdate({domLayoutChanged:!0})}datasourceChanged(){this.firstRenderedRow=0,this.lastRenderedRow=-1;const e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)}onPageLoaded(e){const t={recycleRows:e.keepRenderedRows,animate:e.animate,newData:e.newData,newPage:e.newPage,onlyBody:!0};this.redrawAfterModelUpdate(t)}getAllCellsForColumn(e){const t=[];return this.getAllRowCtrls().forEach(r=>{const n=r.getCellElement(e);n&&t.push(n)}),t}refreshFloatingRowComps(){this.refreshFloatingRows(this.topRowCtrls,"top"),this.refreshFloatingRows(this.bottomRowCtrls,"bottom")}getTopRowCtrls(){return this.topRowCtrls}getCentreRowCtrls(){return this.allRowCtrls}getBottomRowCtrls(){return this.bottomRowCtrls}refreshFloatingRows(e,t){const{pinnedRowModel:r,beans:n,printLayout:i}=this,s=Object.fromEntries(e.map(a=>[a.getRowNode().id,a]));r.forEachPinnedRow(t,(a,l)=>{const c=e[l];c&&r.getPinnedRowById(c.getRowNode().id,t)===void 0&&(c.destroyFirstPass(),c.destroySecondPass()),a.id in s?(e[l]=s[a.id],delete s[a.id]):e[l]=new Bo(a,n,!1,!1,i)});const o=t==="top"?r.getPinnedTopRowCount():r.getPinnedBottomRowCount();e.length=o}onPinnedRowDataChanged(){const e={recycleRows:!0};this.redrawAfterModelUpdate(e)}redrawRow(e,t=!1){var r;if(e.sticky)this.stickyRowFeature.refreshStickyNode(e);else if((r=this.cachedRowCtrls)!=null&&r.has(e)){this.cachedRowCtrls.removeRow(e);return}else{const n=i=>{const s=i[e.rowIndex];s&&s.getRowNode()===e&&(s.destroyFirstPass(),s.destroySecondPass(),i[e.rowIndex]=this.createRowCon(e,!1,!1))};switch(e.rowPinned){case"top":n(this.topRowCtrls);break;case"bottom":n(this.bottomRowCtrls);break;default:n(this.rowCtrlsByRowIndex),this.updateAllRowCtrls()}}t||this.dispatchDisplayedRowsChanged(!1)}redrawRows(e){if(e!=null){e==null||e.forEach(r=>this.redrawRow(r,!0)),this.dispatchDisplayedRowsChanged(!1);return}this.redrawAfterModelUpdate()}getCellToRestoreFocusToAfterRefresh(e){const t=e!=null&&e.suppressKeepFocus?null:this.focusService.getFocusCellToUseAfterRefresh();if(t==null)return null;const r=this.gos.getActiveDomElement(),n=this.gos.getDomData(r,jo.DOM_DATA_KEY_CELL_CTRL),i=this.gos.getDomData(r,Bo.DOM_DATA_KEY_ROW_CTRL);return n||i?t:null}redrawAfterModelUpdate(e={}){this.getLockOnRefresh();const t=this.getCellToRestoreFocusToAfterRefresh(e);this.updateContainerHeights(),this.scrollToTopIfNewData(e);const r=!e.domLayoutChanged&&!!e.recycleRows,n=e.animate&&this.gos.isAnimateRows(),i=r?this.getRowsToRecycle():null;if(r||this.removeAllRowComps(),this.workOutFirstAndLastRowsToRender(),this.stickyRowFeature){this.stickyRowFeature.checkStickyRows();const s=this.stickyRowFeature.getExtraTopHeight()+this.stickyRowFeature.getExtraBottomHeight();s&&this.updateContainerHeights(s)}this.recycleRows(i,n),this.gridBodyCtrl.updateRowCount(),e.onlyBody||this.refreshFloatingRowComps(),this.dispatchDisplayedRowsChanged(),t!=null&&this.restoreFocusedCell(t),this.releaseLockOnRefresh()}scrollToTopIfNewData(e){var n;const t=e.newData||e.newPage,r=this.gos.get("suppressScrollOnNewData");t&&!r&&(this.gridBodyCtrl.getScrollFeature().scrollToTop(),(n=this.stickyRowFeature)==null||n.resetOffsets())}updateContainerHeights(e=0){if(this.printLayout){this.rowContainerHeightService.setModelHeight(null);return}let t=this.pageBoundsService.getCurrentPageHeight();t===0&&(t=1),this.rowContainerHeightService.setModelHeight(t+e)}getLockOnRefresh(){var e,t,r,n;if(this.refreshInProgress){const i=((t=(e=this.frameworkOverrides).getLockOnRefreshError)==null?void 0:t.call(e))??"";throw new Error("AG Grid: cannot get grid to draw rows when it is in the middle of drawing rows. Your code probably called a grid API method while the grid was in the render stage. To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). To see what part of your code that caused the refresh check this stacktrace."+i)}this.refreshInProgress=!0,(n=(r=this.frameworkOverrides).getLockOnRefresh)==null||n.call(r)}releaseLockOnRefresh(){var e,t;this.refreshInProgress=!1,(t=(e=this.frameworkOverrides).releaseLockOnRefresh)==null||t.call(e)}isRefreshInProgress(){return this.refreshInProgress}restoreFocusedCell(e){e&&this.focusService.restoreFocusedCell(e,()=>{this.onCellFocusChanged(this.gos.addGridCommonParams({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,type:"cellFocused"}))})}stopEditing(e=!1){this.getAllRowCtrls().forEach(t=>{t.stopEditing(e)})}getAllCellCtrls(){const e=[],t=this.getAllRowCtrls(),r=t.length;for(let n=0;n<r;n++){const i=t[n].getAllCellCtrls(),s=i.length;for(let o=0;o<s;o++)e.push(i[o])}return e}getAllRowCtrls(){const e=this.stickyRowFeature&&this.stickyRowFeature.getStickyTopRowCtrls()||[],t=this.stickyRowFeature&&this.stickyRowFeature.getStickyBottomRowCtrls()||[],r=[...this.topRowCtrls,...this.bottomRowCtrls,...e,...t];for(const n in this.rowCtrlsByRowIndex)r.push(this.rowCtrlsByRowIndex[n]);return r}addRenderedRowListener(e,t,r){const n=this.rowCtrlsByRowIndex[t];n&&n.addEventListener(e,r)}flashCells(e={}){this.getCellCtrls(e.rowNodes,e.columns).forEach(t=>t.flashCell(e))}refreshCells(e={}){const t={forceRefresh:e.force,newData:!1,suppressFlash:e.suppressFlash};for(const r of this.getCellCtrls(e.rowNodes,e.columns))r.refreshOrDestroyCell(t);this.refreshFullWidth(e.rowNodes)}refreshFullWidth(e){if(!e)return;let t=null;this.stickyRowFeature&&Uw()&&(t=this.getCellToRestoreFocusToAfterRefresh()||null);for(const r of this.getRowCtrls(e)){if(!r.isFullWidth())continue;r.refreshFullWidth()||this.redrawRow(r.getRowNode(),!0)}this.dispatchDisplayedRowsChanged(!1),t&&this.restoreFocusedCell(t)}getCellRendererInstances(e){var i;const t=this.getCellCtrls(e.rowNodes,e.columns).map(s=>s.getCellRenderer()).filter(s=>s!=null);if((i=e.columns)!=null&&i.length)return t;const r=[],n=this.mapRowNodes(e.rowNodes);return this.getAllRowCtrls().forEach(s=>{if(n&&!this.isRowInMap(s.getRowNode(),n)||!s.isFullWidth())return;const o=s.getFullWidthCellRenderers();for(let a=0;a<o.length;a++){const l=o[a];l!=null&&r.push(l)}}),[...r,...t]}getCellEditorInstances(e){const t=[];return this.getCellCtrls(e.rowNodes,e.columns).forEach(r=>{const n=r.getCellEditor();n&&t.push(n)}),t}getEditingCells(){const e=[];return this.getAllCellCtrls().forEach(t=>{if(t.isEditing()){const r=t.getCellPosition();e.push(r)}}),e}mapRowNodes(e){if(!e)return;const t={top:{},bottom:{},normal:{}};return e.forEach(r=>{const n=r.id;switch(r.rowPinned){case"top":t.top[n]=r;break;case"bottom":t.bottom[n]=r;break;default:t.normal[n]=r;break}}),t}isRowInMap(e,t){const r=e.id;switch(e.rowPinned){case"top":return t.top[r]!=null;case"bottom":return t.bottom[r]!=null;default:return t.normal[r]!=null}}getRowCtrls(e){const t=this.mapRowNodes(e),r=this.getAllRowCtrls();return!e||!t?r:r.filter(n=>{const i=n.getRowNode();return this.isRowInMap(i,t)})}getCellCtrls(e,t){let r;je(t)&&(r={},t.forEach(i=>{const s=this.columnModel.getCol(i);je(s)&&(r[s.getId()]=!0)}));const n=[];return this.getRowCtrls(e).forEach(i=>{i.getAllCellCtrls().forEach(s=>{const o=s.getColumn().getId();r&&!r[o]||n.push(s)})}),n}destroy(){this.removeAllRowComps(),super.destroy()}removeAllRowComps(){const e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e),this.stickyRowFeature&&this.stickyRowFeature.destroyStickyCtrls()}getRowsToRecycle(){const e=[];bi(this.rowCtrlsByRowIndex,(r,n)=>{n.getRowNode().id==null&&e.push(r)}),this.removeRowCtrls(e);const t={};return bi(this.rowCtrlsByRowIndex,(r,n)=>{const i=n.getRowNode();t[i.id]=n}),this.rowCtrlsByRowIndex={},t}removeRowCtrls(e,t=!1){e.forEach(r=>{const n=this.rowCtrlsByRowIndex[r];n&&(n.destroyFirstPass(t),n.destroySecondPass()),delete this.rowCtrlsByRowIndex[r]})}onBodyScroll(e){e.direction==="vertical"&&this.redraw({afterScroll:!0})}redraw(e={}){const{afterScroll:t}=e;let r;this.stickyRowFeature&&Uw()&&(r=this.getCellToRestoreFocusToAfterRefresh()||void 0);const n=this.firstRenderedRow,i=this.lastRenderedRow;this.workOutFirstAndLastRowsToRender();let s=!1;if(this.stickyRowFeature){s=this.stickyRowFeature.checkStickyRows();const a=this.stickyRowFeature.getExtraTopHeight()+this.stickyRowFeature.getExtraBottomHeight();a&&this.updateContainerHeights(a)}const o=this.firstRenderedRow!==n||this.lastRenderedRow!==i;if(!(t&&!s&&!o)&&(this.getLockOnRefresh(),this.recycleRows(null,!1,t),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(t&&!s),r!=null)){const a=this.getCellToRestoreFocusToAfterRefresh();r!=null&&a==null&&(this.animationFrameService.flushAllFrames(),this.restoreFocusedCell(r))}}removeRowCompsNotToDraw(e,t){const r={};e.forEach(s=>r[s]=!0);const i=Object.keys(this.rowCtrlsByRowIndex).filter(s=>!r[s]);this.removeRowCtrls(i,t)}calculateIndexesToDraw(e){const t=o9(this.firstRenderedRow,this.lastRenderedRow),r=(i,s)=>{const o=s.getRowNode().rowIndex;o!=null&&(o<this.firstRenderedRow||o>this.lastRenderedRow)&&this.doNotUnVirtualiseRow(s)&&t.push(o)};bi(this.rowCtrlsByRowIndex,r),bi(e,r),t.sort((i,s)=>i-s);const n=[];for(let i=0;i<t.length;i++){const s=t[i],o=this.rowModel.getRow(s);o&&!o.sticky&&n.push(s)}return n}recycleRows(e,t=!1,r=!1){const n=this.calculateIndexesToDraw(e);(this.printLayout||r)&&(t=!1),this.removeRowCompsNotToDraw(n,!t),n.forEach(i=>{this.createOrUpdateRowCtrl(i,e,t,r)}),e&&(r&&!this.gos.get("suppressAnimationFrame")&&!this.printLayout?this.beans.animationFrameService.addDestroyTask(()=>{this.destroyRowCtrls(e,t),this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}):this.destroyRowCtrls(e,t)),this.updateAllRowCtrls()}dispatchDisplayedRowsChanged(e=!1){this.eventService.dispatchEvent({type:"displayedRowsChanged",afterScroll:e})}onDisplayedColumnsChanged(){const e=this.visibleColsService.isPinningLeft(),t=this.visibleColsService.isPinningRight();(this.pinningLeft!==e||t!==this.pinningRight)&&(this.pinningLeft=e,this.pinningRight=t,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())}redrawFullWidthEmbeddedRows(){const e=[];this.getFullWidthRowCtrls().forEach(t=>{const r=t.getRowNode().rowIndex;e.push(r.toString())}),this.refreshFloatingRowComps(),this.removeRowCtrls(e),this.redraw({afterScroll:!0})}getFullWidthRowCtrls(e){const t=this.mapRowNodes(e);return this.getAllRowCtrls().filter(r=>{if(!r.isFullWidth())return!1;const n=r.getRowNode();return!(t!=null&&!this.isRowInMap(n,t))})}createOrUpdateRowCtrl(e,t,r,n){let i,s=this.rowCtrlsByRowIndex[e];if(s||(i=this.rowModel.getRow(e),je(i)&&je(t)&&t[i.id]&&i.alreadyRendered&&(s=t[i.id],t[i.id]=null)),!s)if(i||(i=this.rowModel.getRow(e)),je(i))s=this.createRowCon(i,r,n);else return;return i&&(i.alreadyRendered=!0),this.rowCtrlsByRowIndex[e]=s,s}destroyRowCtrls(e,t){const r=[];bi(e,(n,i)=>{if(i){if(this.cachedRowCtrls&&i.isCacheable()){this.cachedRowCtrls.addRow(i);return}i.destroyFirstPass(!t),t?(this.zombieRowCtrls[i.getInstanceId()]=i,r.push(()=>{i.destroySecondPass(),delete this.zombieRowCtrls[i.getInstanceId()]})):i.destroySecondPass()}}),t&&(r.push(()=>{this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}),KD(r))}getRowBuffer(){return this.gos.get("rowBuffer")}getRowBufferInPixels(){const e=this.getRowBuffer(),t=this.gos.getRowHeightAsNumber();return e*t}workOutFirstAndLastRowsToRender(){this.rowContainerHeightService.updateOffset();let e,t;if(!this.rowModel.isRowsToRender())e=0,t=-1;else if(this.printLayout)this.environment.refreshRowHeightVariable(),e=this.pageBoundsService.getFirstRow(),t=this.pageBoundsService.getLastRow();else{const a=this.getRowBufferInPixels(),l=this.ctrlsService.getGridBodyCtrl(),c=this.gos.get("suppressRowVirtualisation");let u=!1,f,d;do{const y=this.pageBoundsService.getPixelOffset(),{pageFirstPixel:m,pageLastPixel:b}=this.pageBoundsService.getCurrentPagePixelRange(),x=this.rowContainerHeightService.getDivStretchOffset(),P=l.getScrollFeature().getVScrollPosition(),F=P.top,D=P.bottom;c?(f=m+x,d=b+x):(f=Math.max(F+y-a,m)+x,d=Math.min(D+y+a,b)+x),this.firstVisibleVPixel=Math.max(F+y,m)+x,this.lastVisibleVPixel=Math.min(D+y,b)+x,u=this.ensureAllRowsInRangeHaveHeightsCalculated(f,d)}while(u);let h=this.rowModel.getRowIndexAtPixel(f),g=this.rowModel.getRowIndexAtPixel(d);const v=this.pageBoundsService.getFirstRow(),p=this.pageBoundsService.getLastRow();h<v&&(h=v),g>p&&(g=p),e=h,t=g}const r=this.gos.isDomLayout("normal"),n=this.gos.get("suppressMaxRenderedRowRestriction"),i=Math.max(this.getRowBuffer(),500);r&&!n&&t-e>i&&(t=e+i);const s=e!==this.firstRenderedRow,o=t!==this.lastRenderedRow;(s||o)&&(this.firstRenderedRow=e,this.lastRenderedRow=t,this.eventService.dispatchEvent({type:"viewportChanged",firstRow:e,lastRow:t}))}dispatchFirstDataRenderedEvent(){this.dataFirstRenderedFired||(this.dataFirstRenderedFired=!0,window.requestAnimationFrame(()=>{this.beans.eventService.dispatchEvent({type:"firstDataRendered",firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow})}))}ensureAllRowsInRangeHaveHeightsCalculated(e,t){var s,o;const r=(s=this.pinnedRowModel)==null?void 0:s.ensureRowHeightsValid(),n=(o=this.stickyRowFeature)==null?void 0:o.ensureRowHeightsValid(),i=this.rowModel.ensureRowHeightsValid(e,t,this.pageBoundsService.getFirstRow(),this.pageBoundsService.getLastRow());return(i||n)&&this.eventService.dispatchEvent({type:"recalculateRowBounds"}),n||i||r?(this.updateContainerHeights(),!0):!1}getFirstVisibleVerticalPixel(){return this.firstVisibleVPixel}getLastVisibleVerticalPixel(){return this.lastVisibleVPixel}getFirstVirtualRenderedRow(){return this.firstRenderedRow}getLastVirtualRenderedRow(){return this.lastRenderedRow}doNotUnVirtualiseRow(e){const n=e.getRowNode(),i=this.focusService.isRowNodeFocused(n),s=e.isEditing(),o=n.detail;return i||s||o?!!this.isRowPresent(n):!1}isRowPresent(e){return this.rowModel.isRowPresent(e)?this.paginationService?this.paginationService.isRowPresent(e):!0:!1}createRowCon(e,t,r){const n=this.cachedRowCtrls?this.cachedRowCtrls.getRow(e):null;if(n)return n;const i=this.gos.get("suppressAnimationFrame"),s=r&&!i&&!this.printLayout;return new Bo(e,this.beans,t,s,this.printLayout)}getRenderedNodes(){const e=this.rowCtrlsByRowIndex;return Object.values(e).map(t=>t.getRowNode())}getRowByPosition(e){let t;const{rowIndex:r}=e;switch(e.rowPinned){case"top":t=this.topRowCtrls[r];break;case"bottom":t=this.bottomRowCtrls[r];break;default:t=this.rowCtrlsByRowIndex[r],t||(t=this.getStickyTopRowCtrls().find(n=>n.getRowNode().rowIndex===r)||null,t||(t=this.getStickyBottomRowCtrls().find(n=>n.getRowNode().rowIndex===r)||null));break}return t}isRangeInRenderedViewport(e,t){if(e==null||t==null)return!1;const n=e>this.lastRenderedRow;return!(t<this.firstRenderedRow)&&!n}},tj=class{constructor(e){this.entriesMap={},this.entriesList=[],this.maxCount=e}addRow(e){if(this.entriesMap[e.getRowNode().id]=e,this.entriesList.push(e),e.setCached(!0),this.entriesList.length>this.maxCount){const t=this.entriesList[0];t.destroyFirstPass(),t.destroySecondPass(),this.removeFromCache(t)}}getRow(e){if(e==null||e.id==null)return null;const t=this.entriesMap[e.id];return t?(this.removeFromCache(t),t.setCached(!1),t.getRowNode()!=e?null:t):null}has(e){return this.entriesMap[e.id]!=null}removeRow(e){const t=e.id,r=this.entriesMap[t];delete this.entriesMap[t],an(this.entriesList,r)}removeFromCache(e){const t=e.getRowNode().id;delete this.entriesMap[t],an(this.entriesList,e)}getEntries(){return this.entriesList}},rj=class extends Re{constructor(){super(...arguments),this.beanName="pinnedRowModel",this.nextId=0,this.pinnedTopRows=new eC,this.pinnedBottomRows=new eC}wireBeans(e){this.beans=e}postConstruct(){this.setPinnedRowData(this.gos.get("pinnedTopRowData"),"top"),this.setPinnedRowData(this.gos.get("pinnedBottomRowData"),"bottom"),this.addManagedPropertyListener("pinnedTopRowData",e=>this.setPinnedRowData(e.currentValue,"top")),this.addManagedPropertyListener("pinnedBottomRowData",e=>this.setPinnedRowData(e.currentValue,"bottom")),this.addManagedEventListeners({gridStylesChanged:this.onGridStylesChanges.bind(this)})}isEmpty(e){return(e==="top"?this.pinnedTopRows:this.pinnedBottomRows).isEmpty()}isRowsToRender(e){return!this.isEmpty(e)}onGridStylesChanges(e){if(e.rowHeightChanged){const t=r=>{r.setRowHeight(r.rowHeight,!0)};this.pinnedBottomRows.forEach(t),this.pinnedTopRows.forEach(t)}}ensureRowHeightsValid(){var n,i;let e=!1,t=0;const r=s=>{if(s.rowHeightEstimated){const o=this.gos.getRowHeightForNode(s);s.setRowTop(t),s.setRowHeight(o.height),t+=o.height,e=!0}};return(n=this.pinnedBottomRows)==null||n.forEach(r),t=0,(i=this.pinnedTopRows)==null||i.forEach(r),this.eventService.dispatchEvent({type:"pinnedHeightChanged"}),e}setPinnedRowData(e,t){this.updateNodesFromRowData(e,t),this.eventService.dispatchEvent({type:"pinnedRowDataChanged"})}updateNodesFromRowData(e,t){const r=t==="top"?this.pinnedTopRows:this.pinnedBottomRows;if(e===void 0){r.clear();return}const n=this.gos.getRowIdCallback(),i=t==="top"?ss.ID_PREFIX_TOP_PINNED:ss.ID_PREFIX_BOTTOM_PINNED,s=r.getIds(),o=[],a=new Set;let l=0,c=-1;for(const u of e){const f=(n==null?void 0:n({data:u,level:0,rowPinned:t}))??i+this.nextId++;if(a.has(f)){ke("Duplicate ID",f,"found for pinned row with data",u,"When `getRowId` is defined, it must return unique IDs for all pinned rows. Use the `rowPinned` parameter.");continue}c++,a.add(f),o.push(f);const d=r.getById(f);if(d!==void 0)d.data!==u&&d.setData(u),l+=this.setRowTopAndRowIndex(d,l,c),s.delete(f);else{const h=new ss(this.beans);h.id=f,h.data=u,h.rowPinned=t,l+=this.setRowTopAndRowIndex(h,l,c),r.push(h)}}s.forEach(u=>{var f;(f=r.getById(u))==null||f.clearRowTopAndRowIndex()}),r.removeAllById(s),r.setOrder(o)}setRowTopAndRowIndex(e,t,r){return e.setRowTop(t),e.setRowHeight(this.gos.getRowHeightForNode(e).height),e.setRowIndex(r),e.rowHeight}getPinnedTopTotalHeight(){return this.getTotalHeight(this.pinnedTopRows)}getPinnedBottomTotalHeight(){return this.getTotalHeight(this.pinnedBottomRows)}getPinnedTopRowCount(){return this.pinnedTopRows.getSize()}getPinnedBottomRowCount(){return this.pinnedBottomRows.getSize()}getPinnedTopRow(e){return this.pinnedTopRows.getByIndex(e)}getPinnedBottomRow(e){return this.pinnedBottomRows.getByIndex(e)}getPinnedRowById(e,t){return t==="top"?this.pinnedTopRows.getById(e):this.pinnedBottomRows.getById(e)}forEachPinnedRow(e,t){return e==="top"?this.pinnedTopRows.forEach(t):this.pinnedBottomRows.forEach(t)}getTotalHeight(e){const t=e.getSize();if(t===0)return 0;const r=e.getByIndex(t-1);return r===void 0?0:r.rowTop+r.rowHeight}},eC=class{constructor(){this.cache={},this.ordering=[]}getById(e){return this.cache[e]}getByIndex(e){const t=this.ordering[e];return this.cache[t]}push(e){this.cache[e.id]=e,this.ordering.push(e.id)}removeAllById(e){for(const t of e)delete this.cache[t];this.ordering=this.ordering.filter(t=>!e.has(t))}setOrder(e){this.ordering=e}forEach(e){this.ordering.forEach((t,r)=>{const n=this.cache[t];n&&e(n,r)})}clear(){this.ordering.length=0,this.cache={}}isEmpty(){return this.ordering.length===0}getSize(){return this.ordering.length}getIds(){return new Set(this.ordering)}},nj=class extends Re{constructor(e){super(),this.state="needsLoading",this.version=0,this.id=e}getId(){return this.id}load(){this.state="loading",this.loadFromDatasource()}getVersion(){return this.version}setStateWaitingToLoad(){this.version++,this.state="needsLoading"}getState(){return this.state}pageLoadFailed(e){this.isRequestMostRecentAndLive(e)&&(this.state="failed",this.processServerFail()),this.dispatchLoadCompleted(!1)}success(e,t){this.successCommon(e,t)}pageLoaded(e,t,r){this.successCommon(e,{rowData:t,rowCount:r})}isRequestMostRecentAndLive(e){const t=e===this.version,r=this.isAlive();return t&&r}successCommon(e,t){this.dispatchLoadCompleted(),this.isRequestMostRecentAndLive(e)&&(this.state="loaded",this.processServerResult(t))}dispatchLoadCompleted(e=!0){const t={type:"loadComplete",success:e,block:this};this.dispatchLocalEvent(t)}},ij=class extends Re{constructor(){super(...arguments),this.beanName="rowNodeBlockLoader",this.activeBlockLoadsCount=0,this.blocks=[],this.active=!0}wireBeans(e){this.rowModel=e.rowModel}postConstruct(){this.maxConcurrentRequests=this.getMaxConcurrentDatasourceRequests();const e=this.gos.get("blockLoadDebounceMillis");e&&e>0&&(this.checkBlockToLoadDebounce=ln(this.performCheckBlocksToLoad.bind(this),e))}getMaxConcurrentDatasourceRequests(){const e=this.gos.get("maxConcurrentDatasourceRequests");if(e==null)return 2;if(!(e<=0))return e}addBlock(e){this.blocks.push(e),e.addEventListener("loadComplete",this.loadComplete.bind(this)),this.checkBlockToLoad()}removeBlock(e){an(this.blocks,e)}destroy(){super.destroy(),this.active=!1}loadComplete(){this.activeBlockLoadsCount--,this.checkBlockToLoad(),this.dispatchLocalEvent({type:"blockLoaded"}),this.activeBlockLoadsCount==0&&this.dispatchLocalEvent({type:"blockLoaderFinished"})}checkBlockToLoad(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()}performCheckBlocksToLoad(){if(!this.active)return;if(this.printCacheStatus(),this.maxConcurrentRequests!=null&&this.activeBlockLoadsCount>=this.maxConcurrentRequests){this.gos.get("debug")&&Si("RowNodeBlockLoader - checkBlockToLoad: max loads exceeded");return}const e=this.getAvailableLoadingCount(),t=this.blocks.filter(r=>r.getState()==="needsLoading").slice(0,e);this.registerLoads(t.length),t.forEach(r=>r.load()),this.printCacheStatus()}getBlockState(){if(this.gos.isRowModelType("serverSide"))return this.rowModel.getBlockStates();const e={};return this.blocks.forEach(t=>{const{id:r,state:n}=t.getBlockStateJson();e[r]=n}),e}printCacheStatus(){this.gos.get("debug")&&Si(`RowNodeBlockLoader - printCacheStatus: activePageLoadsCount = ${this.activeBlockLoadsCount}, blocks = ${JSON.stringify(this.getBlockState())}`)}isLoading(){return this.activeBlockLoadsCount>0}registerLoads(e){this.activeBlockLoadsCount+=e}getAvailableLoadingCount(){return this.maxConcurrentRequests!==void 0?this.maxConcurrentRequests-this.activeBlockLoadsCount:void 0}},sj={version:vt,moduleName:"@ag-grid-community/row-node-block",beans:[ij]},oj=class{constructor(){this.root=null,this.end=null,this.cachedRange=[]}init(e){this.rowModel=e}reset(){this.root=null,this.end=null,this.cachedRange.length=0}setRoot(e){this.root=e,this.end=null,this.cachedRange.length=0}setEndRange(e){this.end=e,this.cachedRange.length=0}getRange(){if(this.cachedRange.length===0){const e=this.getRoot(),t=this.getEnd();if(e==null||t==null)return this.cachedRange;this.cachedRange=this.rowModel.getNodesInRangeForSelection(e,t)}return this.cachedRange}isInRange(e){return this.root===null?!1:this.getRange().some(t=>t.id===e.id)}getRoot(){var e;return this.root&&((e=this.root)==null?void 0:e.key)===null&&(this.root=this.rowModel.getRowNode(this.root.id)??null),this.root}getEnd(){var e;return this.end&&((e=this.end)==null?void 0:e.key)===null&&(this.end=this.rowModel.getRowNode(this.end.id)??null),this.end}truncate(e){const t=this.getRange();if(t.length===0)return{keep:[],discard:[]};const r=t[0].id===this.root.id,n=t.findIndex(i=>i.id===e.id);if(n>-1){const i=t.slice(0,n),s=t.slice(n+1);return this.setEndRange(e),r?{keep:i,discard:s}:{keep:s,discard:i}}else return{keep:t,discard:[]}}extend(e,t=!1){const r=this.getRoot();if(r==null){const i=this.getRange().slice();return t&&e.depthFirstSearch(s=>!s.group&&i.push(s)),i.push(e),this.setRoot(e),{keep:i,discard:[]}}if(this.rowModel.getNodesInRangeForSelection(r,e).find(i=>{var s;return i.id===((s=this.end)==null?void 0:s.id)}))return this.setEndRange(e),{keep:this.getRange(),discard:[]};{const i=this.getRange().slice();return this.setEndRange(e),{keep:this.getRange(),discard:i}}}},aj=class extends Re{constructor(){super(...arguments),this.beanName="stylingService"}wireBeans(e){this.expressionService=e.expressionService}processAllCellClasses(e,t,r,n){this.processClassRules(void 0,e.cellClassRules,t,r,n),this.processStaticCellClasses(e,t,r)}processClassRules(e,t,r,n,i){if(t==null&&e==null)return;const s={},o={},a=(l,c)=>{l.split(" ").forEach(u=>{u.trim()!=""&&c(u)})};if(t){const l=Object.keys(t);for(let c=0;c<l.length;c++){const u=l[c],f=t[u];let d;typeof f=="string"?d=this.expressionService.evaluate(f,r):typeof f=="function"&&(d=f(r)),a(u,h=>{d?s[h]=!0:o[h]=!0})}}e&&i&&Object.keys(e).forEach(l=>a(l,c=>{s[c]||(o[c]=!0)})),i&&Object.keys(o).forEach(i),Object.keys(s).forEach(n)}getStaticCellClasses(e,t){const{cellClass:r}=e;if(!r)return[];let n;return typeof r=="function"?n=r(t):n=r,typeof n=="string"&&(n=[n]),n||[]}processStaticCellClasses(e,t,r){this.getStaticCellClasses(e,t).forEach(i=>{r(i)})}},rh=(e=>(e.TAB_GUARD="ag-tab-guard",e.TAB_GUARD_TOP="ag-tab-guard-top",e.TAB_GUARD_BOTTOM="ag-tab-guard-bottom",e))(rh||{}),o4=class extends Re{constructor(e){super(),this.skipTabGuardFocus=!1,this.forcingFocusOut=!1,this.allowFocus=!1;const{comp:t,eTopGuard:r,eBottomGuard:n,focusTrapActive:i,forceFocusOutWhenTabGuardsAreEmpty:s,isFocusableContainer:o,focusInnerElement:a,onFocusIn:l,onFocusOut:c,shouldStopEventPropagation:u,onTabKeyDown:f,handleKeyDown:d,eFocusableElement:h}=e;this.comp=t,this.eTopGuard=r,this.eBottomGuard=n,this.providedFocusInnerElement=a,this.eFocusableElement=h,this.focusTrapActive=!!i,this.forceFocusOutWhenTabGuardsAreEmpty=!!s,this.isFocusableContainer=!!o,this.providedFocusIn=l,this.providedFocusOut=c,this.providedShouldStopEventPropagation=u,this.providedOnTabKeyDown=f,this.providedHandleKeyDown=d}wireBeans(e){this.focusService=e.focusService}postConstruct(){this.createManagedBean(new la(this.eFocusableElement,{shouldStopEventPropagation:()=>this.shouldStopEventPropagation(),onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e),onFocusIn:e=>this.onFocusIn(e),onFocusOut:e=>this.onFocusOut(e)})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach(e=>this.addManagedElementListeners(e,{focus:this.onFocus.bind(this)}))}handleKeyDown(e){this.providedHandleKeyDown&&this.providedHandleKeyDown(e)}tabGuardsAreActive(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")}shouldStopEventPropagation(){return this.providedShouldStopEventPropagation?this.providedShouldStopEventPropagation():!1}activateTabGuards(){if(this.forcingFocusOut)return;const e=this.gos.get("tabIndex");this.comp.setTabIndex(e.toString())}deactivateTabGuards(){this.comp.setTabIndex()}onFocus(e){if(this.isFocusableContainer&&!this.eFocusableElement.contains(e.relatedTarget)&&!this.allowFocus){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.skipTabGuardFocus){this.skipTabGuardFocus=!1;return}if(this.forceFocusOutWhenTabGuardsAreEmpty&&this.focusService.findFocusableElements(this.eFocusableElement,".ag-tab-guard").length===0){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.isFocusableContainer&&this.eFocusableElement.contains(e.relatedTarget))return;const t=e.target===this.eBottomGuard;this.providedFocusInnerElement?this.providedFocusInnerElement(t):this.focusInnerElement(t)}findNextElementOutsideAndFocus(e){const t=this.gos.getDocument(),r=this.focusService.findFocusableElements(t.body,null,!0),n=r.indexOf(e?this.eTopGuard:this.eBottomGuard);if(n===-1)return;let i,s;e?(i=0,s=n):(i=n+1,s=r.length);const o=r.slice(i,s),a=this.gos.get("tabIndex");o.sort((l,c)=>{const u=parseInt(l.getAttribute("tabindex")||"0"),f=parseInt(c.getAttribute("tabindex")||"0");return f===a?1:u===a?-1:u===0?1:f===0?-1:u-f}),o[e?o.length-1:0].focus()}onFocusIn(e){this.focusTrapActive||this.forcingFocusOut||(this.providedFocusIn&&this.providedFocusIn(e),this.isFocusableContainer||this.deactivateTabGuards())}onFocusOut(e){this.focusTrapActive||(this.providedFocusOut&&this.providedFocusOut(e),this.eFocusableElement.contains(e.relatedTarget)||this.activateTabGuards())}onTabKeyDown(e){if(this.providedOnTabKeyDown){this.providedOnTabKeyDown(e);return}if(this.focusTrapActive||e.defaultPrevented)return;const t=this.tabGuardsAreActive();t&&this.deactivateTabGuards();const r=this.getNextFocusableElement(e.shiftKey);t&&setTimeout(()=>this.activateTabGuards(),0),r&&(r.focus(),e.preventDefault())}focusInnerElement(e=!1){const t=this.focusService.findFocusableElements(this.eFocusableElement);this.tabGuardsAreActive()&&(t.splice(0,1),t.splice(t.length-1,1)),t.length&&t[e?t.length-1:0].focus({preventScroll:!0})}getNextFocusableElement(e){return this.focusService.findNextFocusableElement(this.eFocusableElement,!1,e)}forceFocusOutOfContainer(e=!1){if(this.forcingFocusOut)return;const t=e?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,this.forcingFocusOut=!0,t.focus(),window.setTimeout(()=>{this.forcingFocusOut=!1,this.activateTabGuards()})}isTabGuard(e,t){return e===this.eTopGuard&&!t||e===this.eBottomGuard&&(t??!0)}setAllowFocus(e){this.allowFocus=e}},lj=class extends Re{constructor(e){super(),this.comp=e}initialiseTabGuard(e){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.comp.getFocusableElement();const{eTopGuard:t,eBottomGuard:r,eFocusableElement:n}=this,i=[t,r],s={setTabIndex:v=>{i.forEach(p=>v!=null?p.setAttribute("tabindex",v):p.removeAttribute("tabindex"))}};this.addTabGuards(t,r);const{focusTrapActive:o=!1,onFocusIn:a,onFocusOut:l,focusInnerElement:c,handleKeyDown:u,onTabKeyDown:f,shouldStopEventPropagation:d,forceFocusOutWhenTabGuardsAreEmpty:h,isFocusableContainer:g}=e;this.tabGuardCtrl=this.createManagedBean(new o4({comp:s,focusTrapActive:o,eTopGuard:t,eBottomGuard:r,eFocusableElement:n,onFocusIn:a,onFocusOut:l,focusInnerElement:c,handleKeyDown:u,onTabKeyDown:f,shouldStopEventPropagation:d,forceFocusOutWhenTabGuardsAreEmpty:h,isFocusableContainer:g}))}getTabGuardCtrl(){return this.tabGuardCtrl}createTabGuard(e){const t=this.gos.getDocument().createElement("div"),r=e==="top"?"ag-tab-guard-top":"ag-tab-guard-bottom";return t.classList.add("ag-tab-guard",r),Pi(t,"presentation"),t}addTabGuards(e,t){this.eFocusableElement.insertAdjacentElement("afterbegin",e),this.eFocusableElement.insertAdjacentElement("beforeend",t)}removeAllChildrenExceptTabGuards(){const e=[this.eTopGuard,this.eBottomGuard];Dn(this.comp.getFocusableElement()),this.addTabGuards(...e)}forceFocusOutOfContainer(e=!1){this.tabGuardCtrl.forceFocusOutOfContainer(e)}appendChild(e,t,r){cy(t)||(t=t.getGui());const{eBottomGuard:n}=this;n?n.insertAdjacentElement("beforebegin",t):e(t,r)}},cj=class extends Jt{initialiseTabGuard(t){this.tabGuardFeature=this.createManagedBean(new lj(this)),this.tabGuardFeature.initialiseTabGuard(t)}forceFocusOutOfContainer(t=!1){this.tabGuardFeature.forceFocusOutOfContainer(t)}appendChild(t,r){this.tabGuardFeature.appendChild(super.appendChild.bind(this),t,r)}},uj=0,dj=200,hj=class extends Re{constructor(){super(...arguments),this.beanName="popupService",this.popupList=[]}wireBeans(e){this.ctrlsService=e.ctrlsService,this.resizeObserverService=e.resizeObserverService,this.environment=e.environment}postConstruct(){this.ctrlsService.whenReady(e=>{this.gridCtrl=e.gridCtrl}),this.addManagedEventListeners({gridStylesChanged:this.handleThemeChange.bind(this)})}getPopupParent(){const e=this.gos.get("popupParent");return e||this.gridCtrl.getGui()}positionPopupForMenu(e){const{eventSource:t,ePopup:r}=e,n=this.getPopupIndex(r);if(n!==-1){const h=this.popupList[n];h.alignedToElement=t}const i=t.getBoundingClientRect(),s=this.getParentRect(),o=this.keepXYWithinBounds(r,i.top-s.top,0),a=r.clientWidth>0?r.clientWidth:200;r.style.minWidth=`${a}px`;const c=s.right-s.left-a;let u;this.gos.get("enableRtl")?(u=d(),u<0&&(u=f(),this.setAlignedStyles(r,"left")),u>c&&(u=0,this.setAlignedStyles(r,"right"))):(u=f(),u>c&&(u=d(),this.setAlignedStyles(r,"right")),u<0&&(u=0,this.setAlignedStyles(r,"left"))),r.style.left=`${u}px`,r.style.top=`${o}px`;function f(){return i.right-s.left-2}function d(){return i.left-s.left-a}}positionPopupUnderMouseEvent(e){const{ePopup:t,nudgeX:r,nudgeY:n,skipObserver:i}=e;this.positionPopup({ePopup:t,nudgeX:r,nudgeY:n,keepWithinBounds:!0,skipObserver:i,updatePosition:()=>this.calculatePointerAlign(e.mouseEvent),postProcessCallback:()=>this.callPostProcessPopup(e.type,e.ePopup,null,e.mouseEvent,e.column,e.rowNode)})}calculatePointerAlign(e){const t=this.getParentRect();return{x:e.clientX-t.left,y:e.clientY-t.top}}positionPopupByComponent(e){const{ePopup:t,nudgeX:r,nudgeY:n,keepWithinBounds:i,eventSource:s,alignSide:o="left",position:a="over",column:l,rowNode:c,type:u}=e,f=s.getBoundingClientRect(),d=this.getParentRect(),h=this.getPopupIndex(t);if(h!==-1){const v=this.popupList[h];v.alignedToElement=s}const g=()=>{let v=f.left-d.left;o==="right"&&(v-=t.offsetWidth-f.width);let p;return a==="over"?(p=f.top-d.top,this.setAlignedStyles(t,"over")):(this.setAlignedStyles(t,"under"),this.shouldRenderUnderOrAbove(t,f,d,e.nudgeY||0)==="under"?p=f.top-d.top+f.height:p=f.top-t.offsetHeight-(n||0)*2-d.top),{x:v,y:p}};this.positionPopup({ePopup:t,nudgeX:r,nudgeY:n,keepWithinBounds:i,updatePosition:g,postProcessCallback:()=>this.callPostProcessPopup(u,t,s,null,l,c)})}shouldRenderUnderOrAbove(e,t,r,n){const i=r.bottom-t.bottom,s=t.top-r.top,o=e.offsetHeight+n;return i>o?"under":s>o||s>i?"above":"under"}setAlignedStyles(e,t){const r=this.getPopupIndex(e);if(r===-1)return;const n=this.popupList[r],{alignedToElement:i}=n;!i||(["right","left","over","above","under"].forEach(o=>{i.classList.remove(`ag-has-popup-positioned-${o}`),e.classList.remove(`ag-popup-positioned-${o}`)}),!t)||(i.classList.add(`ag-has-popup-positioned-${t}`),e.classList.add(`ag-popup-positioned-${t}`))}callPostProcessPopup(e,t,r,n,i,s){const o=this.gos.getCallback("postProcessPopup");o&&o({column:i,rowNode:s,ePopup:t,type:e,eventSource:r,mouseEvent:n})}positionPopup(e){const{ePopup:t,keepWithinBounds:r,nudgeX:n,nudgeY:i,skipObserver:s,updatePosition:o}=e,a={width:0,height:0},l=(c=!1)=>{let{x:u,y:f}=o();c&&t.clientWidth===a.width&&t.clientHeight===a.height||(a.width=t.clientWidth,a.height=t.clientHeight,n&&(u+=n),i&&(f+=i),r&&(u=this.keepXYWithinBounds(t,u,1),f=this.keepXYWithinBounds(t,f,0)),t.style.left=`${u}px`,t.style.top=`${f}px`,e.postProcessCallback&&e.postProcessCallback())};if(l(),!s){const c=this.resizeObserverService.observeResize(t,()=>l(!0));setTimeout(()=>c(),dj)}}getActivePopups(){return this.popupList.map(e=>e.element)}getPopupList(){return this.popupList}getParentRect(){const e=this.gos.getDocument();let t=this.getPopupParent();return t===e.body?t=e.documentElement:getComputedStyle(t).position==="static"&&(t=t.offsetParent),sR(t)}keepXYWithinBounds(e,t,r){const n=r===0,i=n?"clientHeight":"clientWidth",s=n?"top":"left",o=n?"height":"width",a=n?"scrollTop":"scrollLeft",l=this.gos.getDocument(),c=l.documentElement,u=this.getPopupParent(),f=e.getBoundingClientRect(),d=u.getBoundingClientRect(),h=l.documentElement.getBoundingClientRect(),g=u===l.body,v=Math.ceil(f[o]);let y=g?(n?iR:ef)(c)+c[a]:u[i];g&&(y-=Math.abs(h[s]-d[s]));const m=y-v;return Math.min(Math.max(t,0),Math.abs(m))}addPopup(e){const t=this.gos.getDocument(),{eChild:r,ariaLabel:n,alwaysOnTop:i,positionCallback:s,anchorToElement:o}=e;if(!t)return ke("could not find the document, document is empty"),{hideFunc:()=>{}};const a=this.getPopupIndex(r);if(a!==-1)return{hideFunc:this.popupList[a].hideFunc};this.initialisePopupPosition(r);const l=this.createPopupWrapper(r,n,!!i),c=this.addEventListenersToPopup({...e,wrapperEl:l});return s&&s(),this.addPopupToPopupList(r,l,c,o),{hideFunc:c}}initialisePopupPosition(e){const r=this.getPopupParent().getBoundingClientRect();je(e.style.top)||(e.style.top=`${r.top*-1}px`),je(e.style.left)||(e.style.left=`${r.left*-1}px`)}createPopupWrapper(e,t,r){const n=this.getPopupParent(),i=document.createElement("div");return this.environment.applyThemeClasses(i),i.classList.add("ag-popup"),e.classList.add(this.gos.get("enableRtl")?"ag-rtl":"ag-ltr","ag-popup-child"),e.hasAttribute("role")||Pi(e,"dialog"),bl(e,t),i.appendChild(e),n.appendChild(i),r?this.setAlwaysOnTop(e,!0):this.bringPopupToFront(e),i}handleThemeChange(e){if(e.themeChanged)for(const t of this.popupList)this.environment.applyThemeClasses(t.wrapper)}addEventListenersToPopup(e){const t=this.gos.getDocument(),r=this.getPopupParent(),{wrapperEl:n,eChild:i,closedCallback:s,afterGuiAttached:o,closeOnEsc:a,modal:l}=e;let c=!1;const u=g=>{if(!n.contains(this.gos.getActiveDomElement()))return;g.key===Se.ESCAPE&&!ns(g)&&h({keyboardEvent:g})},f=g=>h({mouseEvent:g}),d=g=>h({touchEvent:g}),h=(g={})=>{const{mouseEvent:v,touchEvent:p,keyboardEvent:y,forceHide:m}=g;!m&&(this.isEventFromCurrentPopup({mouseEvent:v,touchEvent:p},i)||c)||(c=!0,r.removeChild(n),t.removeEventListener("keydown",u),t.removeEventListener("mousedown",f),t.removeEventListener("touchstart",d),t.removeEventListener("contextmenu",f),this.eventService.removeEventListener("dragStarted",f),s&&s(v||p||y),this.removePopupFromPopupList(i))};return o&&o({hidePopup:h}),window.setTimeout(()=>{a&&t.addEventListener("keydown",u),l&&(t.addEventListener("mousedown",f),this.eventService.addEventListener("dragStarted",f),t.addEventListener("touchstart",d),t.addEventListener("contextmenu",f))},0),h}addPopupToPopupList(e,t,r,n){this.popupList.push({element:e,wrapper:t,hideFunc:r,instanceId:uj++,isAnchored:!!n}),n&&this.setPopupPositionRelatedToElement(e,n)}getPopupIndex(e){return this.popupList.findIndex(t=>t.element===e)}setPopupPositionRelatedToElement(e,t){const r=this.getPopupIndex(e);if(r===-1)return;const n=this.popupList[r];if(n.stopAnchoringPromise&&n.stopAnchoringPromise.then(s=>s&&s()),n.stopAnchoringPromise=void 0,n.isAnchored=!1,!t)return;const i=this.keepPopupPositionedRelativeTo({element:t,ePopup:e,hidePopup:n.hideFunc});return n.stopAnchoringPromise=i,n.isAnchored=!0,i}removePopupFromPopupList(e){this.setAlignedStyles(e,null),this.setPopupPositionRelatedToElement(e,null),this.popupList=this.popupList.filter(t=>t.element!==e)}keepPopupPositionedRelativeTo(e){const t=this.getPopupParent(),r=t.getBoundingClientRect(),{element:n,ePopup:i}=e,s=n.getBoundingClientRect(),o=r.top-s.top,a=r.left-s.left;let l=o,c=a;const u=i.style.top,f=parseInt(u.substring(0,u.length-1),10),d=i.style.left,h=parseInt(d.substring(0,d.length-1),10),g=this.getFrameworkOverrides();return new br(v=>{g.wrapIncoming(()=>{g.setInterval(()=>{const p=t.getBoundingClientRect(),y=n.getBoundingClientRect();if(y.top==0&&y.left==0&&y.height==0&&y.width==0){e.hidePopup();return}const b=p.top-y.top;if(b!=l){const P=this.keepXYWithinBounds(i,f+o-b,0);i.style.top=`${P}px`}l=b;const x=p.left-y.left;if(x!=c){const P=this.keepXYWithinBounds(i,h+a-x,1);i.style.left=`${P}px`}c=x},200).then(p=>{v(()=>{p!=null&&window.clearInterval(p)})})},"popupPositioning")})}hasAnchoredPopup(){return this.popupList.some(e=>e.isAnchored)}isEventFromCurrentPopup(e,t){const{mouseEvent:r,touchEvent:n}=e,i=r||n;if(!i)return!1;const s=this.getPopupIndex(t);if(s===-1)return!1;for(let o=s;o<this.popupList.length;o++){const a=this.popupList[o];if(BD(a.element,i))return!0}return this.isElementWithinCustomPopup(i.target)}isElementWithinCustomPopup(e){const t=this.gos.getDocument();for(;e&&e!==t.body;){if(e.classList.contains("ag-custom-component-popup")||e.parentElement===null)return!0;e=e.parentElement}return!1}getWrapper(e){for(;!e.classList.contains("ag-popup")&&e.parentElement;)e=e.parentElement;return e.classList.contains("ag-popup")?e:null}setAlwaysOnTop(e,t){const r=this.getWrapper(e);r&&(r.classList.toggle("ag-always-on-top",!!t),t&&this.bringPopupToFront(r))}bringPopupToFront(e){const t=this.getPopupParent(),r=Array.prototype.slice.call(t.querySelectorAll(".ag-popup")),n=r.length,i=Array.prototype.slice.call(t.querySelectorAll(".ag-popup.ag-always-on-top")),s=i.length,o=this.getWrapper(e);if(!o||n<=1||!t.contains(e))return!1;const a=r.indexOf(o),l=o.querySelectorAll("div"),c=[];l.forEach(f=>{f.scrollTop!==0&&c.push([f,f.scrollTop])});let u=!1;for(s?o.classList.contains("ag-always-on-top")?a!==n-1&&(Ot(i).insertAdjacentElement("afterend",o),u=!0):a!==n-s-1&&(i[0].insertAdjacentElement("beforebegin",o),u=!0):a!==n-1&&(Ot(r).insertAdjacentElement("afterend",o),u=!0);c.length;){const f=c.pop();f[0].scrollTop=f[1]}return u}},fj=["touchstart","touchend","touchmove","touchcancel"],a4=class{constructor(e="javascript"){this.frameworkName=e,this.renderingEngine="vanilla",this.wrapIncoming=t=>t(),this.wrapOutgoing=t=>t()}setInterval(e,t){return new br(r=>{r(window.setInterval(e,t))})}addEventListener(e,t,r,n){const i=No(fj,t);e.addEventListener(t,r,{capture:!!n,passive:i})}get shouldWrapOutgoing(){return!1}frameworkComponent(e){return null}isFrameworkComponent(e){return!1}getDocLink(e){return`https://www.ag-grid.com/${this.frameworkName==="solid"?"react":this.frameworkName}-data-grid${e?`/${e}`:""}`}},pj=class extends Re{constructor(){super(...arguments),this.beanName="cellNavigationService"}wireBeans(e){this.visibleColsService=e.visibleColsService,this.rowModel=e.rowModel,this.rowRenderer=e.rowRenderer,this.pinnedRowModel=e.pinnedRowModel,this.paginationService=e.paginationService,this.pageBoundsService=e.pageBoundsService}getNextCellToFocus(e,t,r=!1){return r?this.getNextCellToFocusWithCtrlPressed(e,t):this.getNextCellToFocusWithoutCtrlPressed(e,t)}getNextCellToFocusWithCtrlPressed(e,t){const r=e===Se.UP,n=e===Se.DOWN,i=e===Se.LEFT;let s,o;if(r||n)o=r?this.pageBoundsService.getFirstRow():this.pageBoundsService.getLastRow(),s=t.column;else{const a=this.visibleColsService.getAllCols(),l=this.gos.get("enableRtl");o=t.rowIndex,s=i!==l?a[0]:Ot(a)}return{rowIndex:o,rowPinned:null,column:s}}getNextCellToFocusWithoutCtrlPressed(e,t){let r=t,n=!1;for(;!n;){switch(e){case Se.UP:r=this.getCellAbove(r);break;case Se.DOWN:r=this.getCellBelow(r);break;case Se.RIGHT:this.gos.get("enableRtl")?r=this.getCellToLeft(r):r=this.getCellToRight(r);break;case Se.LEFT:this.gos.get("enableRtl")?r=this.getCellToRight(r):r=this.getCellToLeft(r);break;default:r=null,ke("unknown key for navigation ",e);break}r?n=this.isCellGoodToFocusOn(r):n=!0}return r}isCellGoodToFocusOn(e){const t=e.column;let r;switch(e.rowPinned){case"top":r=this.pinnedRowModel.getPinnedTopRow(e.rowIndex);break;case"bottom":r=this.pinnedRowModel.getPinnedBottomRow(e.rowIndex);break;default:r=this.rowModel.getRow(e.rowIndex);break}return r?!t.isSuppressNavigable(r):!1}getCellToLeft(e){if(!e)return null;const t=this.visibleColsService.getColBefore(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getCellToRight(e){if(!e)return null;const t=this.visibleColsService.getColAfter(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getRowBelow(e){const t=e.rowIndex,r=e.rowPinned;let n=!1;if(this.isLastRowInContainer(e))switch(r){case"bottom":return null;case"top":return this.rowModel.isRowsToRender()?{rowIndex:this.pageBoundsService.getFirstRow(),rowPinned:null}:this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;default:return this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null}else r&&(n=!0);const i=this.rowModel.getRow(e.rowIndex),s=n?void 0:this.getNextStickyPosition(i);return s||{rowIndex:t+1,rowPinned:r}}getNextStickyPosition(e,t){if(!this.gos.isGroupRowsSticky()||!e||!e.sticky)return;const r=this.rowRenderer.getStickyTopRowCtrls().some(a=>a.getRowNode().rowIndex===e.rowIndex);let n=[];r?n=[...this.rowRenderer.getStickyTopRowCtrls()].sort((a,l)=>a.getRowNode().rowIndex-l.getRowNode().rowIndex):n=[...this.rowRenderer.getStickyBottomRowCtrls()].sort((a,l)=>l.getRowNode().rowIndex-a.getRowNode().rowIndex);const i=t?-1:1,s=n.findIndex(a=>a.getRowNode().rowIndex===e.rowIndex),o=n[s+i];if(o)return{rowIndex:o.getRowNode().rowIndex,rowPinned:null}}getCellBelow(e){if(!e)return null;const t=this.getRowBelow(e);return t?{rowIndex:t.rowIndex,column:e.column,rowPinned:t.rowPinned}:null}isLastRowInContainer(e){const t=e.rowPinned,r=e.rowIndex;return t==="top"?this.pinnedRowModel.getPinnedTopRowCount()-1<=r:t==="bottom"?this.pinnedRowModel.getPinnedBottomRowCount()-1<=r:this.pageBoundsService.getLastRow()<=r}getRowAbove(e){const t=e.rowIndex,r=e.rowPinned,n=r?t===0:t===this.pageBoundsService.getFirstRow();let i=!1;if(n)return r==="top"?null:r?this.rowModel.isRowsToRender()?this.getLastBodyCell():this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null:this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null;r&&(i=!0);const s=this.rowModel.getRow(e.rowIndex),o=i?void 0:this.getNextStickyPosition(s,!0);return o||{rowIndex:t-1,rowPinned:r}}getCellAbove(e){if(!e)return null;const t=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});return t?{rowIndex:t.rowIndex,column:e.column,rowPinned:t.rowPinned}:null}getLastBodyCell(){return{rowIndex:this.pageBoundsService.getLastRow(),rowPinned:null}}getLastFloatingTopRow(){return{rowIndex:this.pinnedRowModel.getPinnedTopRowCount()-1,rowPinned:"top"}}getNextTabbedCell(e,t){return t?this.getNextTabbedCellBackwards(e):this.getNextTabbedCellForwards(e)}getNextTabbedCellForwards(e){var s;const t=this.visibleColsService.getAllCols();let r=e.rowIndex,n=e.rowPinned,i=this.visibleColsService.getColAfter(e.column);if(!i){i=t[0];const o=this.getRowBelow(e);if(_t(o)||!o.rowPinned&&!(((s=this.paginationService)==null?void 0:s.isRowInPage(o))??!0))return null;r=o?o.rowIndex:null,n=o?o.rowPinned:null}return{rowIndex:r,column:i,rowPinned:n}}getNextTabbedCellBackwards(e){var s;const t=this.visibleColsService.getAllCols();let r=e.rowIndex,n=e.rowPinned,i=this.visibleColsService.getColBefore(e.column);if(!i){i=Ot(t);const o=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});if(_t(o)||!o.rowPinned&&!(((s=this.paginationService)==null?void 0:s.isRowInPage(o))??!0))return null;r=o?o.rowIndex:null,n=o?o.rowPinned:null}return{rowIndex:r,column:i,rowPinned:n}}},tn=(e,t)=>{for(const r in t)t[r]=e;return t},tC={...tn("@ag-grid-community/core",{dispatchEvent:0,destroy:0,getGridId:0,getGridOption:0,isDestroyed:0,setGridOption:0,updateGridOptions:0,getState:0,setNodesSelected:0,selectAll:0,deselectAll:0,selectAllFiltered:0,deselectAllFiltered:0,selectAllOnCurrentPage:0,deselectAllOnCurrentPage:0,getSelectedNodes:0,getSelectedRows:0,redrawRows:0,setRowNodeExpanded:0,getRowNode:0,addRenderedRowListener:0,getRenderedNodes:0,forEachNode:0,getFirstDisplayedRow:0,getFirstDisplayedRowIndex:0,getLastDisplayedRow:0,getLastDisplayedRowIndex:0,getDisplayedRowAtIndex:0,getDisplayedRowCount:0,getModel:0,getVerticalPixelRange:0,getHorizontalPixelRange:0,ensureColumnVisible:0,ensureIndexVisible:0,ensureNodeVisible:0,getFocusedCell:0,clearFocusedCell:0,setFocusedCell:0,tabToNextCell:0,tabToPreviousCell:0,setFocusedHeader:0,addEventListener:0,addGlobalListener:0,removeEventListener:0,removeGlobalListener:0,expireValueCache:0,getValue:0,getCellValue:0,showColumnMenuAfterButtonClick:0,showColumnMenuAfterMouseClick:0,showColumnMenu:0,hidePopupMenu:0,onSortChanged:0,getPinnedTopRowCount:0,getPinnedBottomRowCount:0,getPinnedTopRow:0,getPinnedBottomRow:0,showLoadingOverlay:0,showNoRowsOverlay:0,hideOverlay:0,setGridAriaProperty:0,refreshCells:0,flashCells:0,refreshHeader:0,isAnimationFrameQueueEmpty:0,flushAllAnimationFrames:0,getSizesForCurrentTheme:0,getCellRendererInstances:0,addRowDropZone:0,removeRowDropZone:0,getRowDropZoneParams:0,getColumnDef:0,getColumnDefs:0,sizeColumnsToFit:0,setColumnGroupOpened:0,getColumnGroup:0,getProvidedColumnGroup:0,getDisplayNameForColumn:0,getDisplayNameForColumnGroup:0,getColumn:0,getColumns:0,applyColumnState:0,getColumnState:0,resetColumnState:0,getColumnGroupState:0,setColumnGroupState:0,resetColumnGroupState:0,isPinning:0,isPinningLeft:0,isPinningRight:0,getDisplayedColAfter:0,getDisplayedColBefore:0,setColumnVisible:0,setColumnsVisible:0,setColumnPinned:0,setColumnsPinned:0,getAllGridColumns:0,getDisplayedLeftColumns:0,getDisplayedCenterColumns:0,getDisplayedRightColumns:0,getAllDisplayedColumns:0,getAllDisplayedVirtualColumns:0,moveColumn:0,moveColumnByIndex:0,moveColumns:0,setColumnWidth:0,setColumnWidths:0,getLeftDisplayedColumnGroups:0,getCenterDisplayedColumnGroups:0,getRightDisplayedColumnGroups:0,getAllDisplayedColumnGroups:0,autoSizeColumn:0,autoSizeColumns:0,autoSizeAllColumns:0,undoCellEditing:0,redoCellEditing:0,getCellEditorInstances:0,getEditingCells:0,stopEditing:0,startEditingCell:0,getCurrentUndoSize:0,getCurrentRedoSize:0,isAnyFilterPresent:0,onFilterChanged:0,isColumnFilterPresent:0,getFilterInstance:0,getColumnFilterInstance:0,destroyFilter:0,setFilterModel:0,getFilterModel:0,getColumnFilterModel:0,setColumnFilterModel:0,showColumnFilter:0,isQuickFilterPresent:0,getQuickFilter:0,resetQuickFilter:0,paginationIsLastPageFound:0,paginationGetPageSize:0,paginationGetCurrentPage:0,paginationGetTotalPages:0,paginationGetRowCount:0,paginationGoToNextPage:0,paginationGoToPreviousPage:0,paginationGoToFirstPage:0,paginationGoToLastPage:0,paginationGoToPage:0,expandAll:0,collapseAll:0,onRowHeightChanged:0,setRowCount:0,getCacheBlockState:0}),...tn("@ag-grid-community/client-side-row-model",{onGroupExpandedOrCollapsed:0,refreshClientSideRowModel:0,forEachLeafNode:0,forEachNodeAfterFilter:0,forEachNodeAfterFilterAndSort:0,resetRowHeights:0,applyTransaction:0,applyTransactionAsync:0,flushAsyncTransactions:0,getBestCostNodeSelection:0}),...tn("@ag-grid-community/csv-export",{getDataAsCsv:0,exportDataAsCsv:0}),...tn("@ag-grid-community/infinite-row-model",{refreshInfiniteCache:0,purgeInfiniteCache:0,getInfiniteRowCount:0,isLastRowIndexKnown:0}),...tn("@ag-grid-enterprise/advanced-filter",{getAdvancedFilterModel:0,setAdvancedFilterModel:0,showAdvancedFilterBuilder:0,hideAdvancedFilterBuilder:0}),...tn("@ag-grid-enterprise/charts",{getChartModels:0,getChartRef:0,getChartImageDataURL:0,downloadChart:0,openChartToolPanel:0,closeChartToolPanel:0,createRangeChart:0,createPivotChart:0,createCrossFilterChart:0,updateChart:0,restoreChart:0}),...tn("@ag-grid-enterprise/clipboard",{copyToClipboard:0,cutToClipboard:0,copySelectedRowsToClipboard:0,copySelectedRangeToClipboard:0,copySelectedRangeDown:0,pasteFromClipboard:0}),...tn("@ag-grid-enterprise/excel-export",{getDataAsExcel:0,exportDataAsExcel:0,getSheetDataForExcel:0,getMultipleSheetsAsExcel:0,exportMultipleSheetsAsExcel:0}),...tn("@ag-grid-enterprise/master-detail",{addDetailGridInfo:0,removeDetailGridInfo:0,getDetailGridInfo:0,forEachDetailGridInfo:0}),...tn("@ag-grid-enterprise/menu",{showContextMenu:0,showColumnChooser:0,hideColumnChooser:0}),...tn("@ag-grid-enterprise/range-selection",{getCellRanges:0,addCellRange:0,clearRangeSelection:0}),...tn("@ag-grid-enterprise/row-grouping",{addAggFunc:0,addAggFuncs:0,clearAggFuncs:0,setColumnAggFunc:0,isPivotMode:0,getPivotResultColumn:0,setValueColumns:0,getValueColumns:0,removeValueColumn:0,removeValueColumns:0,addValueColumn:0,addValueColumns:0,setRowGroupColumns:0,removeRowGroupColumn:0,removeRowGroupColumns:0,addRowGroupColumn:0,addRowGroupColumns:0,getRowGroupColumns:0,moveRowGroupColumn:0,setPivotColumns:0,removePivotColumn:0,removePivotColumns:0,addPivotColumn:0,addPivotColumns:0,getPivotColumns:0,setPivotResultColumns:0,getPivotResultColumns:0}),...tn("@ag-grid-enterprise/server-side-row-model",{getServerSideSelectionState:0,setServerSideSelectionState:0,applyServerSideTransaction:0,applyServerSideTransactionAsync:0,applyServerSideRowData:0,retryServerSideLoads:0,flushServerSideAsyncTransactions:0,refreshServerSide:0,getServerSideGroupLevelState:0}),...tn("@ag-grid-enterprise/side-bar",{isSideBarVisible:0,setSideBarVisible:0,setSideBarPosition:0,openToolPanel:0,closeToolPanel:0,getOpenedToolPanel:0,refreshToolPanel:0,isToolPanelShowing:0,getToolPanelInstance:0,getSideBar:0}),...tn("@ag-grid-enterprise/status-bar",{getStatusPanel:0})},Hp={isDestroyed:()=>!0,destroy(){},preConstruct(){},postConstruct(){},preWireBeans(){},wireBeans(){}},gj=(e,t)=>e.eventService.dispatchEvent(t),l4=class{};Reflect.defineProperty(l4,"name",{value:"GridApi"});var mj=class extends Re{constructor(){super(),this.beanName="apiFunctionService",this.api=new l4,this.fns={...Hp,dispatchEvent:gj},this.beans=null,this.preDestroyLink="";const{api:e}=this;for(const t in tC)e[t]=this.makeApi(t)[t]}wireBeans(e){this.beans=e}postConstruct(){this.preDestroyLink=this.frameworkOverrides.getDocLink("grid-lifecycle/#grid-pre-destroyed")}addFunction(e,t){var i;const{fns:r,beans:n}=this;r!==Hp&&(r[e]=((i=n==null?void 0:n.validationService)==null?void 0:i.validateApiFunction(e,t))??t)}makeApi(e){return{[e]:(...t)=>{const{beans:r,fns:{[e]:n}}=this;return n?n(r,...t):this.apiNotFound(e)}}}apiNotFound(e){const{beans:t,gridId:r,preDestroyLink:n}=this;if(!t)ke(`Grid API function ${e}() cannot be called as the grid has been destroyed.
Either clear local references to the grid api, when it is destroyed, or check gridApi.isDestroyed() to avoid calling methods against a destroyed grid.
To run logic when the grid is about to be destroyed use the gridPreDestroy event. See: ${n}`);else{const i=tC[e];Zr.__assertRegistered(i,`api.${e}`,r)&&ke(`API function '${e}' not registered to module '${i}'`)}}destroy(){super.destroy(),this.fns=Hp,this.beans=null}};function vj(e){return{beanName:"gridApi",bean:e.getBean("apiFunctionService").api}}var yj=class extends Re{constructor(){super(...arguments),this.beanName="columnDefFactory"}buildColumnDefs(e,t,r){const n=[],i={};return e.forEach(s=>{const o=this.createDefFromColumn(s,t,r);let a=!0,l=o,c=s.getOriginalParent(),u=null;for(;c;){let f=null;if(c.isPadding()){c=c.getOriginalParent();continue}const d=i[c.getGroupId()];if(d){d.children.push(l),a=!1;break}if(f=this.createDefFromGroup(c),f&&(f.children=[l],i[f.groupId]=f,l=f,c=c.getOriginalParent()),c!=null&&u===c){a=!1;break}u=c}a&&n.push(l)}),n}createDefFromGroup(e){const t=rv(e.getColGroupDef(),["children"]);return t&&(t.groupId=e.getGroupId()),t}createDefFromColumn(e,t,r){const n=rv(e.getColDef());return n.colId=e.getColId(),n.width=e.getActualWidth(),n.rowGroup=e.isRowGroupActive(),n.rowGroupIndex=e.isRowGroupActive()?t.indexOf(e):null,n.pivot=e.isPivotActive(),n.pivotIndex=e.isPivotActive()?r.indexOf(e):null,n.aggFunc=e.isValueActive()?e.getAggFunc():null,n.hide=e.isVisible()?void 0:!0,n.pinned=e.isPinned()?e.getPinned():null,n.sort=e.getSort()?e.getSort():null,n.sortIndex=e.getSortIndex()!=null?e.getSortIndex():null,n}},bj=class extends Re{constructor(){super(...arguments),this.beanName="columnEventDispatcher"}visibleCols(){this.eventService.dispatchEvent({type:"displayedColumnsChanged"})}gridColumns(){this.eventService.dispatchEvent({type:"gridColumnsChanged"})}headerHeight(e){this.eventService.dispatchEvent({type:"columnHeaderHeightChanged",column:e,columns:[e],source:"autosizeColumnHeaderHeight"})}groupHeaderHeight(e){this.eventService.dispatchEvent({type:"columnGroupHeaderHeightChanged",columnGroup:e,source:"autosizeColumnGroupHeaderHeight"})}groupOpened(e){this.eventService.dispatchEvent({type:"columnGroupOpened",columnGroup:e.length===1?e[0]:void 0,columnGroups:e})}rowGroupChanged(e,t){this.eventService.dispatchEvent({type:"columnRowGroupChanged",columns:e,column:e.length===1?e[0]:null,source:t})}genericColumnEvent(e,t,r){this.eventService.dispatchEvent({type:e,columns:t,column:t.length===1?t[0]:null,source:r})}pivotModeChanged(){this.eventService.dispatchEvent({type:"columnPivotModeChanged"})}virtualColumnsChanged(e){this.eventService.dispatchEvent({type:"virtualColumnsChanged",afterScroll:e})}newColumnsLoaded(e){this.eventService.dispatchEvent({type:"newColumnsLoaded",source:e})}everythingChanged(e){this.eventService.dispatchEvent({type:"columnEverythingChanged",source:e})}columnMoved(e){const{movedColumns:t,source:r,toIndex:n,finished:i}=e;this.eventService.dispatchEvent({type:"columnMoved",columns:t,column:t&&t.length===1?t[0]:null,toIndex:n,finished:i,source:r})}columnPinned(e,t){if(!e.length)return;const r=e.length===1?e[0]:null,n=this.getCommonValue(e,i=>i.getPinned());this.eventService.dispatchEvent({type:"columnPinned",pinned:n??null,columns:e,column:r,source:t})}columnVisible(e,t){if(!e.length)return;const r=e.length===1?e[0]:null,n=this.getCommonValue(e,i=>i.isVisible());this.eventService.dispatchEvent({type:"columnVisible",visible:n,columns:e,column:r,source:t})}getCommonValue(e,t){if(!e||e.length==0)return;const r=t(e[0]);for(let n=1;n<e.length;n++)if(r!==t(e[n]))return;return r}columnChanged(e,t,r){this.eventService.dispatchEvent({type:e,columns:t,column:t&&t.length==1?t[0]:null,source:r})}columnResized(e,t,r,n=null){e&&e.length&&this.eventService.dispatchEvent({type:"columnResized",columns:e,column:e.length===1?e[0]:null,flexColumns:n,finished:t,source:r})}},wj=class extends Re{constructor(){super(...arguments),this.beanName="columnGetStateService"}wireBeans(e){this.columnModel=e.columnModel,this.funcColsService=e.funcColsService}getColumnState(){const e=this.columnModel.getColDefCols();if(_t(e)||!this.columnModel.isAlive())return[];const r=this.columnModel.getAllCols().map(this.createStateItemFromColumn.bind(this));return this.orderColumnStateList(r),r}createStateItemFromColumn(e){const t=this.funcColsService.getRowGroupColumns(),r=this.funcColsService.getPivotColumns(),n=e.isRowGroupActive()?t.indexOf(e):null,i=e.isPivotActive()?r.indexOf(e):null,s=e.isValueActive()?e.getAggFunc():null,o=e.getSort()!=null?e.getSort():null,a=e.getSortIndex()!=null?e.getSortIndex():null,l=e.getFlex()!=null&&e.getFlex()>0?e.getFlex():null;return{colId:e.getColId(),width:e.getActualWidth(),hide:!e.isVisible(),pinned:e.getPinned(),sort:o,sortIndex:a,aggFunc:s,rowGroup:e.isRowGroupActive(),rowGroupIndex:n,pivot:e.isPivotActive(),pivotIndex:i,flex:l}}orderColumnStateList(e){const t=this.columnModel.getCols(),r=new Map(t.map((n,i)=>[n.getColId(),i]));e.sort((n,i)=>{const s=r.has(n.colId)?r.get(n.colId):-1,o=r.has(i.colId)?r.get(i.colId):-1;return s-o})}},Cj=class extends Re{constructor(){super(...arguments),this.beanName="columnGroupStateService"}wireBeans(e){this.columnModel=e.columnModel,this.columnAnimationService=e.columnAnimationService,this.eventDispatcher=e.columnEventDispatcher,this.visibleColsService=e.visibleColsService}getColumnGroupState(){const e=[],t=this.columnModel.getColTree();return ps(null,t,r=>{sn(r)&&e.push({groupId:r.getGroupId(),open:r.isExpanded()})}),e}resetColumnGroupState(e){const t=this.columnModel.getColDefColTree();if(!t)return;const r=[];ps(null,t,n=>{if(sn(n)){const i=n.getColGroupDef(),s={groupId:n.getGroupId(),open:i?i.openByDefault:void 0};r.push(s)}}),this.setColumnGroupState(r,e)}setColumnGroupState(e,t){if(!this.columnModel.getColTree())return;this.columnAnimationService.start();const n=[];e.forEach(i=>{const s=i.groupId,o=i.open,a=this.columnModel.getProvidedColGroup(s);a&&a.isExpanded()!==o&&(a.setExpanded(o),n.push(a))}),this.visibleColsService.refresh(t,!0),n.length&&this.eventDispatcher.groupOpened(n),this.columnAnimationService.finish()}},Sj=class extends Re{constructor(){super(...arguments),this.beanName="columnViewportService",this.colsWithinViewport=[],this.headerColsWithinViewport=[],this.colsWithinViewportHash="",this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={}}wireBeans(e){this.visibleColsService=e.visibleColsService,this.columnModel=e.columnModel,this.eventDispatcher=e.columnEventDispatcher}postConstruct(){this.suppressColumnVirtualisation=this.gos.get("suppressColumnVirtualisation")}setScrollPosition(e,t,r=!1){const n=this.visibleColsService.isBodyWidthDirty();if(!(e===this.scrollWidth&&t===this.scrollPosition&&!n)){if(this.scrollWidth=e,this.scrollPosition=t,this.visibleColsService.setBodyWidthDirty(),this.gos.get("enableRtl")){const s=this.visibleColsService.getBodyContainerWidth();this.viewportLeft=s-this.scrollPosition-this.scrollWidth,this.viewportRight=s-this.scrollPosition}else this.viewportLeft=this.scrollPosition,this.viewportRight=this.scrollWidth+this.scrollPosition;this.columnModel.isReady()&&this.checkViewportColumns(r)}}getHeadersToRender(e,t){let r;switch(e){case"left":r=this.rowsOfHeadersToRenderLeft[t];break;case"right":r=this.rowsOfHeadersToRenderRight[t];break;default:r=this.rowsOfHeadersToRenderCenter[t];break}return r||[]}extractViewportColumns(){const e=this.visibleColsService.getCenterCols();this.isColumnVirtualisationSuppressed()?(this.colsWithinViewport=e,this.headerColsWithinViewport=e):(this.colsWithinViewport=e.filter(this.isColumnInRowViewport.bind(this)),this.headerColsWithinViewport=e.filter(this.isColumnInHeaderViewport.bind(this)))}isColumnVirtualisationSuppressed(){return this.suppressColumnVirtualisation||this.viewportRight===0}clear(){this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={},this.colsWithinViewportHash=""}isColumnInHeaderViewport(e){return e.isAutoHeaderHeight()||this.isAnyParentAutoHeaderHeight(e)?!0:this.isColumnInRowViewport(e)}isAnyParentAutoHeaderHeight(e){for(;e;){if(e.isAutoHeaderHeight())return!0;e=e.getParent()}return!1}isColumnInRowViewport(e){if(e.isAutoHeight())return!0;const t=e.getLeft()||0,r=t+e.getActualWidth(),n=this.viewportLeft-200,i=this.viewportRight+200,s=t<n&&r<n,o=t>i&&r>i;return!s&&!o}getViewportColumns(){const e=this.visibleColsService.getLeftCols(),t=this.visibleColsService.getRightCols();return this.colsWithinViewport.concat(e).concat(t)}getColsWithinViewport(e){if(!this.columnModel.isColSpanActive())return this.colsWithinViewport;const t=i=>{const s=i.getLeft();return je(s)&&s>this.viewportLeft},r=this.isColumnVirtualisationSuppressed()?null:this.isColumnInRowViewport.bind(this),n=this.visibleColsService.getColsCenter();return this.visibleColsService.getColsForRow(e,n,r,t)}checkViewportColumns(e=!1){this.extractViewport()&&this.eventDispatcher.virtualColumnsChanged(e)}calculateHeaderRows(){this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={};const e={},t=this.visibleColsService.getLeftCols(),r=this.visibleColsService.getRightCols();this.headerColsWithinViewport.concat(t).concat(r).forEach(s=>e[s.getId()]=!0);const i=(s,o,a)=>{let l=!1;for(let c=0;c<s.length;c++){const u=s[c];let f=!1;if(no(u))f=e[u.getId()]===!0;else{const h=u.getDisplayedChildren();h&&(f=i(h,o,a+1))}f&&(l=!0,o[a]||(o[a]=[]),o[a].push(u))}return l};i(this.visibleColsService.getTreeLeft(),this.rowsOfHeadersToRenderLeft,0),i(this.visibleColsService.getTreeRight(),this.rowsOfHeadersToRenderRight,0),i(this.visibleColsService.getTreeCenter(),this.rowsOfHeadersToRenderCenter,0)}extractViewport(){const e=n=>`${n.getId()}-${n.getPinned()||"normal"}`;this.extractViewportColumns();const t=this.getViewportColumns().map(e).join("#"),r=this.colsWithinViewportHash!==t;return r&&(this.colsWithinViewportHash=t,this.calculateHeaderRows()),r}},xj=class extends Re{constructor(){super(...arguments),this.beanName="agComponentUtils"}wireBeans(e){this.componentMetadataProvider=e.componentMetadataProvider}adaptFunction(e,t){const r=this.componentMetadataProvider.retrieve(e);return r&&r.functionAdapter?r.functionAdapter(t):null}adaptCellRendererFunction(e){class t{refresh(){return!1}getGui(){return this.eGui}init(n){const i=e(n),s=typeof i;if(s==="string"||s==="number"||s==="boolean"){this.eGui=wl("<span>"+i+"</span>");return}if(i==null){this.eGui=wl("<span></span>");return}this.eGui=i}}return t}doesImplementIComponent(e){return e?e.prototype&&"getGui"in e.prototype:!1}},Rj=class extends Re{constructor(){super(...arguments),this.beanName="componentMetadataProvider"}wireBeans(e){this.agComponentUtils=e.agComponentUtils}postConstruct(){this.componentMetaData={dateComponent:{mandatoryMethodList:["getDate","setDate"],optionalMethodList:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled","onParamsUpdated","refresh"]},detailCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},headerComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},headerGroupComponent:{mandatoryMethodList:[],optionalMethodList:[]},loadingCellRenderer:{mandatoryMethodList:[],optionalMethodList:[],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},loadingOverlayComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},noRowsOverlayComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},floatingFilterComponent:{mandatoryMethodList:["onParentModelChanged"],optionalMethodList:["afterGuiAttached","onParamsUpdated","refresh"]},cellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},cellEditor:{mandatoryMethodList:["getValue"],optionalMethodList:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached","refresh"]},innerRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},fullWidthCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},groupRowRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},filter:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged","refresh"]},statusPanel:{mandatoryMethodList:[],optionalMethodList:["refresh"]},toolPanel:{mandatoryMethodList:[],optionalMethodList:["refresh","getState"]},tooltipComponent:{mandatoryMethodList:[],optionalMethodList:[]},menuItem:{mandatoryMethodList:[],optionalMethodList:["setActive","select","setExpanded","configureDefaults"]}}}retrieve(e){return this.componentMetaData[e]}},Ej=["rowPositionUtils","cellPositionUtils","headerPositionUtils","paginationAutoPageSizeService","apiFunctionService","gridApi","userComponentRegistry","agComponentUtils","componentMetadataProvider","resizeObserverService","userComponentFactory","rowContainerHeightService","horizontalResizeService","localeService","validationService","pinnedRowModel","dragService","visibleColsService","eventService","gos","popupService","selectionService","columnFilterService","quickFilterService","filterManager","columnModel","headerNavigationService","pageBoundsService","paginationService","pageBoundsListener","rowRenderer","expressionService","columnFactory","alignedGridsService","navigationService","valueCache","valueService","loggerFactory","autoWidthCalculator","filterMenuFactory","dragAndDropService","focusService","mouseEventService","environment","cellNavigationService","stylingService","scrollVisibleService","sortController","columnHoverService","columnAnimationService","selectableService","autoColService","changeDetectionService","animationFrameService","undoRedoService","columnDefFactory","rowCssClassCalculator","rowNodeBlockLoader","rowNodeSorter","ctrlsService","pinnedWidthService","rowNodeEventThrottle","ctrlsFactory","dataTypeService","syncService","overlayService","stateService","expansionService","apiEventService","ariaAnnouncementService","menuService","columnApplyStateService","columnEventDispatcher","columnMoveService","columnAutosizeService","columnGetStateService","columnGroupStateService","columnSizeService","funcColsService","columnNameService","columnViewportService","pivotResultColsService","showRowGroupColsService"],rC=Object.fromEntries(Ej.map((e,t)=>[e,t]));function Tj(e,t){const r=(e.beanName?rC[e.beanName]:void 0)??Number.MAX_SAFE_INTEGER,n=(t.beanName?rC[t.beanName]:void 0)??Number.MAX_SAFE_INTEGER;return r-n}function Pj(e,t){return(e==null?void 0:e.beanName)==="gridDestroyService"?-1:0}var _j=class extends Re{constructor(){super(...arguments),this.beanName="ctrlsFactory",this.registry={}}register(e){this.registry[e.name]=e.classImp}getInstance(e,...t){const r=this.registry[e];if(r!=null)return new r(...t)}},Mj=class extends Re{constructor(){super(...arguments),this.beanName="ctrlsService",this.params={},this.ready=!1,this.readyCallbacks=[]}checkReady(){const e=this.params;this.ready=e.gridCtrl!=null&&e.gridBodyCtrl!=null&&e.center!=null&&e.left!=null&&e.right!=null&&e.bottomCenter!=null&&e.bottomLeft!=null&&e.bottomRight!=null&&e.topCenter!=null&&e.topLeft!=null&&e.topRight!=null&&e.stickyTopCenter!=null&&e.stickyTopLeft!=null&&e.stickyTopRight!=null&&e.stickyBottomCenter!=null&&e.stickyBottomLeft!=null&&e.stickyBottomRight!=null&&e.centerHeader!=null&&e.leftHeader!=null&&e.rightHeader!=null&&e.fakeHScrollComp!=null&&e.fakeVScrollComp!=null&&e.gridHeaderCtrl!=null,this.ready&&(this.readyCallbacks.forEach(t=>t(e)),this.readyCallbacks.length=0)}whenReady(e){this.ready?e(this.params):this.readyCallbacks.push(e)}register(e,t){this.params[e]=t,this.checkReady()}registerHeaderContainer(e,t){const r=this.params;switch(t){case"left":r.leftHeader=e;break;case"right":r.rightHeader=e;break;default:r.centerHeader=e;break}this.checkReady()}get(e){return this.params[e]}getParams(){return this.params}getGridBodyCtrl(){return this.params.gridBodyCtrl}getHeaderRowContainerCtrls(){const{leftHeader:e,centerHeader:t,rightHeader:r}=this.params;return[e,r,t]}getHeaderRowContainerCtrl(e){const t=this.params;switch(e){case"left":return t.leftHeader;case"right":return t.rightHeader;default:return t.centerHeader}}},kj=class extends Re{constructor(){super(...arguments),this.beanName="cellPositionUtils"}createId(e){const{rowIndex:t,rowPinned:r,column:n}=e;return this.createIdFromValues({rowIndex:t,column:n,rowPinned:r})}createIdFromValues(e){const{rowIndex:t,rowPinned:r,column:n}=e;return`${t}.${r??"null"}.${n.getId()}`}equals(e,t){const r=e.column===t.column,n=e.rowPinned===t.rowPinned,i=e.rowIndex===t.rowIndex;return r&&n&&i}},Fj=class extends Re{constructor(){super(...arguments),this.beanName="rowNodeEventThrottle",this.events=[]}wireBeans(e){this.animationFrameService=e.animationFrameService,this.rowModel=e.rowModel}postConstruct(){this.rowModel.getType()=="clientSide"&&(this.clientSideRowModel=this.rowModel)}dispatchExpanded(e,t){if(this.clientSideRowModel==null){this.eventService.dispatchEvent(e);return}this.events.push(e);const r=()=>{this.clientSideRowModel&&this.clientSideRowModel.onRowGroupOpened(),this.events.forEach(n=>this.eventService.dispatchEvent(n)),this.events=[]};t?r():(this.dispatchExpandedDebounced==null&&(this.dispatchExpandedDebounced=this.animationFrameService.debounce(r)),this.dispatchExpandedDebounced())}},Aj=class extends Re{constructor(){super(...arguments),this.beanName="rowPositionUtils"}wireBeans(e){this.rowModel=e.rowModel,this.pinnedRowModel=e.pinnedRowModel,this.pageBoundsService=e.pageBoundsService}getFirstRow(){let e=0,t;return this.pinnedRowModel.getPinnedTopRowCount()?t="top":this.rowModel.getRowCount()?(t=null,e=this.pageBoundsService.getFirstRow()):this.pinnedRowModel.getPinnedBottomRowCount()&&(t="bottom"),t===void 0?null:{rowIndex:e,rowPinned:t}}getLastRow(){let e,t=null;const r=this.pinnedRowModel.getPinnedBottomRowCount(),n=this.pinnedRowModel.getPinnedTopRowCount();return r?(t="bottom",e=r-1):this.rowModel.getRowCount()?(t=null,e=this.pageBoundsService.getLastRow()):n&&(t="top",e=n-1),e===void 0?null:{rowIndex:e,rowPinned:t}}getRowNode(e){switch(e.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRow(e.rowIndex);case"bottom":return this.pinnedRowModel.getPinnedBottomRow(e.rowIndex);default:return this.rowModel.getRow(e.rowIndex)}}sameRow(e,t){return!e&&!t?!0:e&&!t||!e&&t?!1:e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned}before(e,t){switch(e.rowPinned){case"top":if(t.rowPinned!=="top")return!0;break;case"bottom":if(t.rowPinned!=="bottom")return!1;break;default:if(je(t.rowPinned))return t.rowPinned!=="top";break}return e.rowIndex<t.rowIndex}},nC={cssName:"--ag-row-height",changeKey:"rowHeightChanged",defaultValue:42},iC={cssName:"--ag-header-height",changeKey:"headerHeightChanged",defaultValue:48},sC={cssName:"--ag-list-item-height",changeKey:"listItemHeightChanged",defaultValue:24},Oj=class extends Re{constructor(){super(...arguments),this.beanName="environment",this.sizeEls=new Map,this.lastKnownValues=new Map,this.themeClasses=[],this.eThemeAncestor=null,this.eMeasurementContainer=null,this.sizesMeasured=!1}wireBeans(e){this.resizeObserverService=e.resizeObserverService,this.eGridDiv=e.eGridDiv}postConstruct(){this.addManagedPropertyListener("rowHeight",()=>this.refreshRowHeightVariable()),this.themeClasses=this.getAncestorThemeClasses(),this.setUpThemeClassObservers(),this.getSizeEl(nC),this.getSizeEl(iC),this.getSizeEl(sC)}getDefaultRowHeight(){return this.getCSSVariablePixelValue(nC)}getDefaultHeaderHeight(){return this.getCSSVariablePixelValue(iC)}getDefaultListItemHeight(){return this.getCSSVariablePixelValue(sC)}hasMeasuredSizes(){return this.sizesMeasured}getThemeClasses(){return this.themeClasses}applyThemeClasses(e){for(const t of Array.from(e.classList))t.startsWith("ag-theme-")&&!this.themeClasses.includes(t)&&e.classList.remove(t);for(const t of this.themeClasses)e.classList.contains(t)||e.classList.add(t)}getThemeAncestorElement(){return this.eThemeAncestor}refreshRowHeightVariable(){const e=this.eGridDiv.style.getPropertyValue("--ag-line-height").trim(),t=this.gos.get("rowHeight");if(t==null||isNaN(t)||!isFinite(t))return e!==null&&this.eGridDiv.style.setProperty("--ag-line-height",null),-1;const r=`${t}px`;return e!=r?(this.eGridDiv.style.setProperty("--ag-line-height",r),t):e!=""?parseFloat(e):-1}getCSSVariablePixelValue(e){const t=this.lastKnownValues.get(e);if(t!=null)return t;const r=this.measureSizeEl(e);return r==="detached"||r==="no-styles"?e.defaultValue:(this.lastKnownValues.set(e,r),r)}measureSizeEl(e){const t=this.getSizeEl(e);if(t.offsetParent==null)return"detached";const r=t.offsetWidth;return r===oC?"no-styles":(this.sizesMeasured=!0,r)}getSizeEl(e){let t=this.sizeEls.get(e);if(t)return t;let r=this.eMeasurementContainer;r||(r=this.eMeasurementContainer=document.createElement("div"),r.className="ag-measurement-container",this.eGridDiv.appendChild(r)),t=document.createElement("div"),t.style.width=`var(${e.cssName}, ${oC}px)`,r.appendChild(t),this.sizeEls.set(e,t);let n=this.measureSizeEl(e);n==="no-styles"&&ke(`no value for ${e.cssName}. This usually means that the grid has been initialised before styles have been loaded. The default value of ${e.defaultValue} will be used and updated when styles load.`);const i=this.resizeObserverService.observeResize(t,()=>{const s=this.measureSizeEl(e);s==="detached"||s==="no-styles"||(this.lastKnownValues.set(e,s),s!==n&&(n=s,this.fireGridStylesChangedEvent(e.changeKey)))});return this.addDestroyFunc(()=>i()),t}fireGridStylesChangedEvent(e){this.eventService.dispatchEvent({type:"gridStylesChanged",[e]:!0})}setUpThemeClassObservers(){const e=new MutationObserver(()=>{const r=this.getAncestorThemeClasses();Dj(r,this.themeClasses)||(this.themeClasses=r,this.fireGridStylesChangedEvent("themeChanged"))});let t=this.eGridDiv;for(;t;)e.observe(t||this.eGridDiv,{attributes:!0,attributeFilter:["class"]}),t=t.parentElement}getAncestorThemeClasses(){let e=this.eGridDiv;const t=[];for(this.eThemeAncestor=null;e;){const r=Array.from(e.classList).filter(n=>n.startsWith("ag-theme-"));for(const n of r)this.eThemeAncestor=e,t.includes(n)||t.unshift(n);e=e.parentElement}return Object.freeze(t)}},Dj=(e,t)=>e.length===t.length&&e.findIndex((r,n)=>e[n]!==t[n])===-1,oC=15538,Ij=class extends Re{constructor(){super(...arguments),this.beanName="eventService",this.globalEventService=new Nl}wireBeans(e){this.globalEventListener=e.globalEventListener,this.globalSyncEventListener=e.globalSyncEventListener}postConstruct(){if(this.globalEventListener){const e=this.gos.useAsyncEvents();this.addGlobalListener(this.globalEventListener,e)}this.globalSyncEventListener&&this.addGlobalListener(this.globalSyncEventListener,!1)}addEventListener(e,t,r){this.globalEventService.addEventListener(e,t,r)}removeEventListener(e,t,r){this.globalEventService.removeEventListener(e,t,r)}addGlobalListener(e,t=!1){this.globalEventService.addGlobalListener(e,t)}removeGlobalListener(e,t=!1){this.globalEventService.removeGlobalListener(e,t)}dispatchLocalEvent(){}dispatchEvent(e){this.globalEventService.dispatchEvent(this.gos.addGridCommonParams(e))}dispatchEventOnce(e){this.globalEventService.dispatchEventOnce(this.gos.addGridCommonParams(e))}},Ty=class Tn extends Re{constructor(){super(...arguments),this.beanName="focusService"}wireBeans(t){this.eGridDiv=t.eGridDiv,this.columnModel=t.columnModel,this.visibleColsService=t.visibleColsService,this.headerNavigationService=t.headerNavigationService,this.headerPositionUtils=t.headerPositionUtils,this.rowRenderer=t.rowRenderer,this.rowPositionUtils=t.rowPositionUtils,this.cellPositionUtils=t.cellPositionUtils,this.navigationService=t.navigationService,this.ctrlsService=t.ctrlsService,this.filterManager=t.filterManager,this.rangeService=t.rangeService,this.advancedFilterService=t.advancedFilterService,this.overlayService=t.overlayService}static addKeyboardModeEvents(t){this.instanceCount>0||(t.addEventListener("keydown",Tn.toggleKeyboardMode),t.addEventListener("mousedown",Tn.toggleKeyboardMode))}static removeKeyboardModeEvents(t){this.instanceCount>0||(t.addEventListener("keydown",Tn.toggleKeyboardMode),t.addEventListener("mousedown",Tn.toggleKeyboardMode))}static toggleKeyboardMode(t){const r=Tn.keyboardModeActive,n=t.type==="keydown";n&&(t.ctrlKey||t.metaKey||t.altKey)||r!==n&&(Tn.keyboardModeActive=n)}static unregisterGridCompController(t){Tn.removeKeyboardModeEvents(t)}postConstruct(){const t=this.clearFocusedCell.bind(this);this.addManagedEventListeners({columnPivotModeChanged:t,newColumnsLoaded:this.onColumnEverythingChanged.bind(this),columnGroupOpened:t,columnRowGroupChanged:t}),this.registerKeyboardFocusEvents(),this.ctrlsService.whenReady(r=>{this.gridCtrl=r.gridCtrl})}registerKeyboardFocusEvents(){const t=this.gos.getDocument();Tn.addKeyboardModeEvents(t),Tn.instanceCount++,this.addDestroyFunc(()=>{Tn.instanceCount--,Tn.unregisterGridCompController(t)})}onColumnEverythingChanged(){if(!this.focusedCellPosition)return;const t=this.focusedCellPosition.column,r=this.columnModel.getCol(t.getId());t!==r&&this.clearFocusedCell()}isKeyboardMode(){return Tn.keyboardModeActive}getFocusCellToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedCellPosition||this.isDomDataMissingInHierarchy(this.gos.getActiveDomElement(),Bo.DOM_DATA_KEY_ROW_CTRL)?null:this.focusedCellPosition}getFocusHeaderToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedHeaderPosition||this.isDomDataMissingInHierarchy(this.gos.getActiveDomElement(),Lf.DOM_DATA_KEY_HEADER_CTRL)?null:this.focusedHeaderPosition}isDomDataMissingInHierarchy(t,r){let n=t;for(;n;){if(this.gos.getDomData(n,r))return!1;n=n.parentNode}return!0}getFocusedCell(){return this.focusedCellPosition}shouldRestoreFocus(t){return this.isCellRestoreFocused(t)?(setTimeout(()=>{this.restoredFocusedCellPosition=null},0),!0):!1}clearRestoreFocus(){this.restoredFocusedCellPosition=null,this.awaitRestoreFocusedCell=!1}restoreFocusedCell(t,r){this.awaitRestoreFocusedCell=!0,setTimeout(()=>{this.awaitRestoreFocusedCell&&(this.setRestoreFocusedCell(t),r())})}isCellRestoreFocused(t){return this.restoredFocusedCellPosition==null?!1:this.cellPositionUtils.equals(t,this.restoredFocusedCellPosition)}setRestoreFocusedCell(t){this.getFrameworkOverrides().renderingEngine==="react"&&(this.restoredFocusedCellPosition=t)}getFocusEventParams(t){const{rowIndex:r,rowPinned:n,column:i}=t,s={rowIndex:r,rowPinned:n,column:i,isFullWidthCell:!1},o=this.rowRenderer.getRowByPosition({rowIndex:r,rowPinned:n});return o&&(s.isFullWidthCell=o.isFullWidth()),s}clearFocusedCell(){if(this.restoredFocusedCellPosition=null,this.focusedCellPosition==null)return;const t=this.getFocusEventParams(this.focusedCellPosition);this.focusedCellPosition=null,this.eventService.dispatchEvent({type:"cellFocusCleared",...t})}setFocusedCell(t){const{column:r,rowIndex:n,rowPinned:i,forceBrowserFocus:s=!1,preventScrollOnBrowserFocus:o=!1}=t,a=this.columnModel.getCol(r);if(!a){this.focusedCellPosition=null;return}this.focusedCellPosition={rowIndex:n,rowPinned:is(i),column:a},this.eventService.dispatchEvent({type:"cellFocused",...this.getFocusEventParams(this.focusedCellPosition),forceBrowserFocus:s,preventScrollOnBrowserFocus:o})}isCellFocused(t){return this.focusedCellPosition==null?!1:this.cellPositionUtils.equals(t,this.focusedCellPosition)}isRowNodeFocused(t){return this.isRowFocused(t.rowIndex,t.rowPinned)}isHeaderWrapperFocused(t){if(this.focusedHeaderPosition==null)return!1;const r=t.getColumnGroupChild(),n=t.getRowIndex(),i=t.getPinned(),{column:s,headerRowIndex:o}=this.focusedHeaderPosition;return r===s&&n===o&&i==s.getPinned()}clearFocusedHeader(){this.focusedHeaderPosition=null}getFocusedHeader(){return this.focusedHeaderPosition}setFocusedHeader(t,r){this.focusedHeaderPosition={headerRowIndex:t,column:r}}isHeaderFocusSuppressed(){return this.gos.get("suppressHeaderFocus")||this.overlayService.isExclusive()}isCellFocusSuppressed(){return this.gos.get("suppressCellFocus")||this.overlayService.isExclusive()}focusHeaderPosition(t){var c;if(this.isHeaderFocusSuppressed())return!1;const{direction:r,fromTab:n,allowUserOverride:i,event:s,fromCell:o,rowWithoutSpanValue:a}=t;let{headerPosition:l}=t;if(o&&((c=this.filterManager)!=null&&c.isAdvancedFilterHeaderActive()))return this.focusAdvancedFilter(l);if(i){const u=this.getFocusedHeader(),f=this.headerNavigationService.getHeaderRowCount();if(n){const d=this.gos.getCallback("tabToNextHeader");d&&(l=this.getHeaderPositionFromUserFunc({userFunc:d,direction:r,currentPosition:u,headerPosition:l,headerRowCount:f}))}else{const d=this.gos.getCallback("navigateToNextHeader");if(d&&s){const h={key:s.key,previousHeaderPosition:u,nextHeaderPosition:l,headerRowCount:f,event:s};l=d(h)}}}return l?this.focusProvidedHeaderPosition({headerPosition:l,direction:r,event:s,fromCell:o,rowWithoutSpanValue:a}):!1}focusHeaderPositionFromUserFunc(t){if(this.isHeaderFocusSuppressed())return!1;const{userFunc:r,headerPosition:n,direction:i,event:s}=t,o=this.getFocusedHeader(),a=this.headerNavigationService.getHeaderRowCount(),l=this.getHeaderPositionFromUserFunc({userFunc:r,direction:i,currentPosition:o,headerPosition:n,headerRowCount:a});return!!l&&this.focusProvidedHeaderPosition({headerPosition:l,direction:i,event:s})}getHeaderPositionFromUserFunc(t){const{userFunc:r,direction:n,currentPosition:i,headerPosition:s,headerRowCount:o}=t,l=r({backwards:n==="Before",previousHeaderPosition:i,nextHeaderPosition:s,headerRowCount:o});return l===!0||l===null?(l===null&&ke("Since v31.3 Returning `null` from tabToNextHeader is deprecated. Return `true` to stay on the current header, or `false` to let the browser handle the tab behaviour."),i):l===!1?null:l}focusProvidedHeaderPosition(t){var f;const{headerPosition:r,direction:n,fromCell:i,rowWithoutSpanValue:s,event:o}=t,{column:a,headerRowIndex:l}=r;if(l===-1)return(f=this.filterManager)!=null&&f.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(r):this.focusGridView(a);this.headerNavigationService.scrollToColumn(a,n);const c=this.ctrlsService.getHeaderRowContainerCtrl(a.getPinned()),u=(c==null?void 0:c.focusHeader(r.headerRowIndex,a,o))||!1;return u&&(s!=null||i)&&this.headerNavigationService.setCurrentHeaderRowWithoutSpan(s??-1),u}focusFirstHeader(){if(this.overlayService.isExclusive()&&this.focusOverlay())return!0;let t=this.visibleColsService.getAllCols()[0];if(!t)return!1;t.getParent()&&(t=this.visibleColsService.getColGroupAtLevel(t,0));const r=this.headerPositionUtils.getHeaderIndexToFocus(t,0);return this.focusHeaderPosition({headerPosition:r,rowWithoutSpanValue:0})}focusLastHeader(t){if(this.overlayService.isExclusive()&&this.focusOverlay(!0))return!0;const r=this.headerNavigationService.getHeaderRowCount()-1,n=Ot(this.visibleColsService.getAllCols());return this.focusHeaderPosition({headerPosition:{headerRowIndex:r,column:n},rowWithoutSpanValue:-1,event:t})}focusPreviousFromFirstCell(t){var r;return(r=this.filterManager)!=null&&r.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(null):this.focusLastHeader(t)}isAnyCellFocused(){return!!this.focusedCellPosition}isRowFocused(t,r){return this.focusedCellPosition==null?!1:this.focusedCellPosition.rowIndex===t&&this.focusedCellPosition.rowPinned===is(r)}findFocusableElements(t,r,n=!1){const i=NI;let s=nR;r&&(s+=", "+r),n&&(s+=', [tabindex="-1"]');const o=Array.prototype.slice.apply(t.querySelectorAll(i)).filter(c=>Vi(c)),a=Array.prototype.slice.apply(t.querySelectorAll(s));return a.length?((c,u)=>c.filter(f=>u.indexOf(f)===-1))(o,a):o}focusInto(t,r=!1,n=!1){const i=this.findFocusableElements(t,null,n),s=r?Ot(i):i[0];return s?(s.focus({preventScroll:!0}),!0):!1}findFocusableElementBeforeTabGuard(t,r){if(!r)return null;const n=this.findFocusableElements(t),i=n.indexOf(r);if(i===-1)return null;let s=-1;for(let o=i-1;o>=0;o--)if(n[o].classList.contains("ag-tab-guard-top")){s=o;break}return s<=0?null:n[s-1]}findNextFocusableElement(t=this.eGridDiv,r,n){const i=this.findFocusableElements(t,r?':not([tabindex="-1"])':null),s=this.gos.getActiveDomElement();let o;r?o=i.findIndex(l=>l.contains(s)):o=i.indexOf(s);const a=o+(n?-1:1);return a<0||a>=i.length?null:i[a]}isTargetUnderManagedComponent(t,r){if(!r)return!1;const n=t.querySelectorAll(`.${la.FOCUS_MANAGED_CLASS}`);if(!n.length)return!1;for(let i=0;i<n.length;i++)if(n[i].contains(r))return!0;return!1}findTabbableParent(t,r=5){let n=0;for(;t&&av(t)===null&&++n<=r;)t=t.parentElement;return av(t)===null?null:t}focusOverlay(t){var n;const r=this.overlayService.isVisible()&&((n=this.overlayService.getOverlayWrapper())==null?void 0:n.getGui());return!!r&&this.focusInto(r,t)}focusGridViewFailed(t,r){return r&&this.focusOverlay(t)||t&&this.focusLastHeader()}focusGridView(t,r=!1,n=!0){var s,o;if(this.overlayService.isExclusive())return n&&this.focusOverlay(r);if(this.isCellFocusSuppressed())return r&&!this.isHeaderFocusSuppressed()?this.focusLastHeader():n&&this.focusOverlay(r)?!0:this.focusNextGridCoreContainer(!1);const i=r?this.rowPositionUtils.getLastRow():this.rowPositionUtils.getFirstRow();if(i){const{rowIndex:a,rowPinned:l}=i;if(t??(t=(s=this.getFocusedHeader())==null?void 0:s.column),t&&a!==void 0&&a!==null)return this.navigationService.ensureCellVisible({rowIndex:a,column:t,rowPinned:l}),this.setFocusedCell({rowIndex:a,column:t,rowPinned:is(l),forceBrowserFocus:!0}),(o=this.rangeService)==null||o.setRangeToCell({rowIndex:a,rowPinned:l,column:t}),!0}return!!(n&&this.focusOverlay(r)||r&&this.focusLastHeader())}isGridFocused(){const t=this.gos.getActiveDomElement();return!!t&&this.eGridDiv.contains(t)}focusNextGridCoreContainer(t,r=!1){return!r&&this.gridCtrl.focusNextInnerContainer(t)?!0:((r||!t&&!this.gridCtrl.isDetailGrid())&&this.gridCtrl.forceFocusOutOfContainer(t),!1)}focusAdvancedFilter(t){var r;return this.advancedFilterFocusColumn=t==null?void 0:t.column,((r=this.advancedFilterService)==null?void 0:r.getCtrl().focusHeaderComp())??!1}focusNextFromAdvancedFilter(t,r){var i;const n=(r?void 0:this.advancedFilterFocusColumn)??((i=this.visibleColsService.getAllCols())==null?void 0:i[0]);return t?this.focusHeaderPosition({headerPosition:{column:n,headerRowIndex:this.headerNavigationService.getHeaderRowCount()-1}}):this.focusGridView(n)}clearAdvancedFilterColumn(){this.advancedFilterFocusColumn=void 0}addFocusableContainer(t){this.gridCtrl.addFocusableContainer(t)}removeFocusableContainer(t){this.gridCtrl.removeFocusableContainer(t)}focusGridInnerElement(t){return this.gridCtrl.focusInnerElement(t)}allowFocusForNextGridCoreContainer(t){this.gridCtrl.allowFocusForNextCoreContainer(t)}};Ty.keyboardModeActive=!1;Ty.instanceCount=0;var Nj=Ty,Lj=class extends Re{constructor(){super(...arguments),this.beanName="pinnedWidthService"}wireBeans(e){this.visibleColsService=e.visibleColsService}postConstruct(){const e=this.checkContainerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}checkContainerWidths(){const e=this.gos.isDomLayout("print"),t=e?0:this.visibleColsService.getColsLeftWidth(),r=e?0:this.visibleColsService.getDisplayedColumnsRightWidth();t!=this.leftWidth&&(this.leftWidth=t,this.eventService.dispatchEvent({type:"leftPinnedWidthChanged"})),r!=this.rightWidth&&(this.rightWidth=r,this.eventService.dispatchEvent({type:"rightPinnedWidthChanged"}))}getPinnedRightWidth(){return this.rightWidth}getPinnedLeftWidth(){return this.leftWidth}},jj=class extends Re{constructor(){super(...arguments),this.additionalFocusableContainers=new Set}wireBeans(e){this.beans=e,this.focusService=e.focusService,this.visibleColsService=e.visibleColsService}setComp(e,t,r){this.view=e,this.eGridHostDiv=t,this.eGui=r,this.eGui.setAttribute("grid-id",this.gridId);const{dragAndDropService:n,mouseEventService:i,ctrlsService:s,resizeObserverService:o}=this.beans;n.addDropTarget({getContainer:()=>this.eGui,isInterestedIn:l=>l===1||l===0,getIconName:()=>"notAllowed"}),i.stampTopLevelGridCompWithGridInstance(t),this.createManagedBean(new Ey(this.view)),this.addRtlSupport();const a=o.observeResize(this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(()=>a()),s.register("gridCtrl",this)}isDetailGrid(){var t;const e=this.focusService.findTabbableParent(this.getGui());return((t=e==null?void 0:e.getAttribute("row-id"))==null?void 0:t.startsWith("detail"))||!1}getOptionalSelectors(){var t,r,n,i,s;const e=this.beans;return{paginationSelector:(t=e.paginationService)==null?void 0:t.getPaginationSelector(),gridHeaderDropZonesSelector:(r=e.columnDropZonesService)==null?void 0:r.getDropZoneSelector(),sideBarSelector:(n=e.sideBarService)==null?void 0:n.getSideBarSelector(),statusBarSelector:(i=e.statusBarService)==null?void 0:i.getStatusPanelSelector(),watermarkSelector:(s=e.licenseManager)==null?void 0:s.getWatermarkSelector()}}onGridSizeChanged(){this.eventService.dispatchEvent({type:"gridSizeChanged",clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight})}addRtlSupport(){const e=this.gos.get("enableRtl")?"ag-rtl":"ag-ltr";this.view.setRtlClass(e)}destroyGridUi(){this.view.destroyGridUi()}getGui(){return this.eGui}setResizeCursor(e){this.view.setCursor(e?"ew-resize":null)}disableUserSelect(e){this.view.setUserSelect(e?"none":null)}focusNextInnerContainer(e){const t=this.getFocusableContainers(),{indexWithFocus:r,nextIndex:n}=this.getNextFocusableIndex(t,e);if(n<0||n>=t.length)return!1;if(n===0){if(r>0){const i=this.visibleColsService.getAllCols(),s=Ot(i);if(this.focusService.focusGridView(s,!0))return!0}return!1}return this.focusContainer(t[n],e)}focusInnerElement(e){const t=this.gos.getCallback("focusGridInnerElement");if(t&&t({fromBottom:!!e}))return!0;const r=this.getFocusableContainers(),n=this.visibleColsService.getAllCols();if(e){if(r.length>1)return this.focusContainer(Ot(r),!0);const i=Ot(n);if(this.focusService.focusGridView(i,!0))return!0}if(this.gos.get("headerHeight")===0||this.focusService.isHeaderFocusSuppressed()){if(this.focusService.focusGridView(n[0]))return!0;for(let i=1;i<r.length;i++)if(this.focusService.focusInto(r[i].getGui()))return!0;return!1}return this.focusService.focusFirstHeader()}forceFocusOutOfContainer(e=!1){this.view.forceFocusOutOfContainer(e)}addFocusableContainer(e){this.additionalFocusableContainers.add(e)}removeFocusableContainer(e){this.additionalFocusableContainers.delete(e)}allowFocusForNextCoreContainer(e){var s;const t=this.view.getFocusableContainers(),{nextIndex:r,indexWithFocus:n}=this.getNextFocusableIndex(t,e);if(n===-1||r<0||r>=t.length)return;const i=t[r];(s=i.setAllowFocus)==null||s.call(i,!0),setTimeout(()=>{var o;(o=i.setAllowFocus)==null||o.call(i,!1)})}getNextFocusableIndex(e,t){const r=this.gos.getActiveDomElement(),n=e.findIndex(s=>s.getGui().contains(r)),i=n+(t?-1:1);return{indexWithFocus:n,nextIndex:i}}focusContainer(e,t){var n,i;(n=e.setAllowFocus)==null||n.call(e,!0);const r=this.focusService.focusInto(e.getGui(),t);return(i=e.setAllowFocus)==null||i.call(e,!1),r}getFocusableContainers(){return[...this.view.getFocusableContainers(),...this.additionalFocusableContainers]}destroy(){this.additionalFocusableContainers.clear(),super.destroy()}},Bj=class extends Re{constructor(){super(...arguments),this.beanName="alignedGridsService",this.consuming=!1}wireBeans(e){this.columnModel=e.columnModel,this.columnSizeService=e.columnSizeService,this.ctrlsService=e.ctrlsService,this.columnApplyStateService=e.columnApplyStateService}getAlignedGridApis(){let e=this.gos.get("alignedGrids")??[];const t=typeof e=="function";typeof e=="function"&&(e=e());const r=()=>`See ${this.getFrameworkOverrides().getDocLink("aligned-grids")}`;return e.map(i=>{var o;if(!i){Vt("alignedGrids contains an undefined option."),t||Vt(`You may want to configure via a callback to avoid setup race conditions:
                     "alignedGrids: () => [linkedGrid]"`),Vt(r());return}if(this.isGridApi(i))return i;const s=i;return"current"in s?(o=s.current)==null?void 0:o.api:(s.api||Vt(`alignedGrids - No api found on the linked grid. If you are passing gridOptions to alignedGrids since v31 this is no longer valid. ${r()}`),s.api)}).filter(i=>!!i&&!i.isDestroyed())}isGridApi(e){return!!e&&!!e.dispatchEvent}postConstruct(){const e=this.fireColumnEvent.bind(this);this.addManagedEventListeners({columnMoved:e,columnVisible:e,columnPinned:e,columnGroupOpened:e,columnResized:e,bodyScroll:this.fireScrollEvent.bind(this),alignedGridColumn:({event:t})=>this.onColumnEvent(t),alignedGridScroll:({event:t})=>this.onScrollEvent(t)})}fireEvent(e){this.consuming||this.getAlignedGridApis().forEach(t=>{t.isDestroyed()||t.dispatchEvent(e)})}onEvent(e){this.consuming=!0,e(),this.consuming=!1}fireColumnEvent(e){this.fireEvent({type:"alignedGridColumn",event:e})}fireScrollEvent(e){e.direction==="horizontal"&&this.fireEvent({type:"alignedGridScroll",event:e})}onScrollEvent(e){this.onEvent(()=>{this.ctrlsService.getGridBodyCtrl().getScrollFeature().setHorizontalScrollPosition(e.left,!0)})}extractDataFromEvent(e,t){const r=[];return e.columns?e.columns.forEach(n=>{r.push(t(n))}):e.column&&r.push(t(e.column)),r}getMasterColumns(e){return this.extractDataFromEvent(e,t=>t)}getColumnIds(e){return this.extractDataFromEvent(e,t=>t.getColId())}onColumnEvent(e){this.onEvent(()=>{switch(e.type){case"columnMoved":case"columnVisible":case"columnPinned":case"columnResized":{this.processColumnEvent(e);break}case"columnGroupOpened":{this.processGroupOpenedEvent(e);break}case"columnPivotChanged":ke("pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.");break}})}processGroupOpenedEvent(e){const{columnModel:t}=this;e.columnGroups.forEach(r=>{let n=null;r&&(n=t.getProvidedColGroup(r.getGroupId())),!(r&&!n)&&t.setColumnGroupOpened(n,r.isExpanded(),"alignedGridChanged")})}processColumnEvent(e){var c;const t=e.column;let r=null;if(t&&(r=this.columnModel.getColDefCol(t.getColId())),t&&!r)return;const n=this.getMasterColumns(e),{columnApplyStateService:i,columnSizeService:s,ctrlsService:o}=this;switch(e.type){case"columnMoved":{const f=e.api.getColumnState().map(d=>({colId:d.colId}));i.applyColumnState({state:f,applyOrder:!0},"alignedGridChanged")}break;case"columnVisible":{const f=e.api.getColumnState().map(d=>({colId:d.colId,hide:d.hide}));i.applyColumnState({state:f},"alignedGridChanged")}break;case"columnPinned":{const f=e.api.getColumnState().map(d=>({colId:d.colId,pinned:d.pinned}));i.applyColumnState({state:f},"alignedGridChanged")}break;case"columnResized":{const u=e,f={};n.forEach(d=>{f[d.getId()]={key:d.getColId(),newWidth:d.getActualWidth()}}),(c=u.flexColumns)==null||c.forEach(d=>{f[d.getId()]&&delete f[d.getId()]}),s.setColumnWidths(Object.values(f),!1,u.finished,"alignedGridChanged");break}}const l=o.getGridBodyCtrl().isVerticalScrollShowing();this.getAlignedGridApis().forEach(u=>{u.setGridOption("alwaysShowVerticalScroll",l)})}},Hj={version:vt,moduleName:"@ag-grid-community/aligned-grid",beans:[Bj]};function Gj(e,t){const r=e.columnModel.getColDefCol(t);return r?r.getColDef():null}function Vj(e){return e.columnModel.getColumnDefs()}function zj(e,t){typeof t=="number"?e.columnSizeService.sizeColumnsToFit(t,"api"):e.ctrlsService.getGridBodyCtrl().sizeColumnsToFit(t)}function Wj(e,t,r){e.columnModel.setColumnGroupOpened(t,r,"api")}function $j(e,t,r){return e.visibleColsService.getColumnGroup(t,r)}function Uj(e,t){return e.columnModel.getProvidedColGroup(t)}function Kj(e,t,r){return e.columnNameService.getDisplayNameForColumn(t,r)||""}function qj(e,t,r){return e.columnNameService.getDisplayNameForColumnGroup(t,r)||""}function Yj(e,t){return e.columnModel.getColDefCol(t)}function Xj(e){return e.columnModel.getColDefCols()}function Qj(e,t){return e.columnApplyStateService.applyColumnState(t,"api")}function Zj(e){return e.columnGetStateService.getColumnState()}function Jj(e){e.columnApplyStateService.resetColumnState("api")}function eB(e){return e.columnGroupStateService.getColumnGroupState()}function tB(e,t){e.columnGroupStateService.setColumnGroupState(t,"api")}function rB(e){e.columnGroupStateService.resetColumnGroupState("api")}function nB(e){return e.visibleColsService.isPinningLeft()||e.visibleColsService.isPinningRight()}function iB(e){return e.visibleColsService.isPinningLeft()}function sB(e){return e.visibleColsService.isPinningRight()}function oB(e,t){return e.visibleColsService.getColAfter(t)}function aB(e,t){return e.visibleColsService.getColBefore(t)}function lB(e,t,r){e.columnModel.setColsVisible([t],r,"api")}function cB(e,t,r){e.columnModel.setColsVisible(t,r,"api")}function uB(e,t,r){e.columnModel.setColsPinned([t],r,"api")}function dB(e,t,r){e.columnModel.setColsPinned(t,r,"api")}function hB(e){return e.columnModel.getCols()}function fB(e){return e.visibleColsService.getLeftCols()}function pB(e){return e.visibleColsService.getCenterCols()}function gB(e){return e.visibleColsService.getRightCols()}function mB(e){return e.visibleColsService.getAllCols()}function vB(e){return e.columnViewportService.getViewportColumns()}function yB(e,t,r){e.columnMoveService.moveColumns([t],r,"api")}function bB(e,t,r){e.columnMoveService.moveColumnByIndex(t,r,"api")}function wB(e,t,r){e.columnMoveService.moveColumns(t,r,"api")}function CB(e,t,r,n=!0,i="api"){e.columnSizeService.setColumnWidths([{key:t,newWidth:r}],!1,n,i)}function SB(e,t,r=!0,n="api"){e.columnSizeService.setColumnWidths(t,!1,r,n)}function xB(e){return e.visibleColsService.getTreeLeft()}function RB(e){return e.visibleColsService.getTreeCenter()}function EB(e){return e.visibleColsService.getTreeRight()}function TB(e){return e.visibleColsService.getAllTrees()}function PB(e,t,r){return e.columnAutosizeService.autoSizeCols({colKeys:[t],skipHeader:r,source:"api"})}function _B(e,t,r){e.columnAutosizeService.autoSizeCols({colKeys:t,skipHeader:r,source:"api"})}function MB(e,t){e.columnAutosizeService.autoSizeAllColumns("api",t)}var aC={january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},lC=["january","february","march","april","may","june","july","august","september","october","november","december"],kB=class extends Re{constructor(){super(...arguments),this.beanName="dataTypeService",this.dataTypeDefinitions={},this.isWaitingForRowData=!1,this.isColumnTypeOverrideInDataTypeDefinitions=!1,this.columnStateUpdatesPendingInference={},this.columnStateUpdateListenerDestroyFuncs=[]}wireBeans(e){this.rowModel=e.rowModel,this.columnModel=e.columnModel,this.funcColsService=e.funcColsService,this.valueService=e.valueService,this.columnApplyStateService=e.columnApplyStateService}postConstruct(){this.groupHideOpenParents=this.gos.get("groupHideOpenParents"),this.addManagedPropertyListener("groupHideOpenParents",()=>{this.groupHideOpenParents=this.gos.get("groupHideOpenParents")}),this.processDataTypeDefinitions(),this.addManagedPropertyListener("dataTypeDefinitions",e=>{this.processDataTypeDefinitions(),this.columnModel.recreateColumnDefs(Wa(e.source))})}processDataTypeDefinitions(){const e=this.getDefaultDataTypes();this.dataTypeDefinitions={},this.formatValueFuncs={};const t=n=>i=>{const{column:s,node:o,value:a}=i;let l=s.getColDef().valueFormatter;return l===n.groupSafeValueFormatter&&(l=n.valueFormatter),this.valueService.formatValue(s,o,a,l)};Object.entries(e).forEach(([n,i])=>{const s={...i,groupSafeValueFormatter:this.createGroupSafeValueFormatter(i)};this.dataTypeDefinitions[n]=s,this.formatValueFuncs[n]=t(s)});const r=this.gos.get("dataTypeDefinitions")??{};this.dataTypeMatchers={},Object.entries(r).forEach(([n,i])=>{const s=this.processDataTypeDefinition(i,r,[n],e);s&&(this.dataTypeDefinitions[n]=s,i.dataTypeMatcher&&(this.dataTypeMatchers[n]=i.dataTypeMatcher),this.formatValueFuncs[n]=t(s))}),this.checkObjectValueHandlers(e),["dateString","text","number","boolean","date"].forEach(n=>{const i=this.dataTypeMatchers[n];i&&delete this.dataTypeMatchers[n],this.dataTypeMatchers[n]=i??e[n].dataTypeMatcher})}mergeDataTypeDefinitions(e,t){const r={...e,...t};return e.columnTypes&&t.columnTypes&&t.appendColumnTypes&&(r.columnTypes=[...th(e.columnTypes),...th(t.columnTypes)]),r}processDataTypeDefinition(e,t,r,n){let i;const s=e.extendsDataType;if(e.columnTypes&&(this.isColumnTypeOverrideInDataTypeDefinitions=!0),e.extendsDataType===e.baseDataType){let o=n[s];const a=t[s];if(o&&a&&(o=a),!this.validateDataTypeDefinition(e,o,s))return;i=this.mergeDataTypeDefinitions(o,e)}else{if(r.includes(s)){ke('Data type definition hierarchies (via the "extendsDataType" property) cannot contain circular references.');return}const o=t[s];if(!this.validateDataTypeDefinition(e,o,s))return;const a=this.processDataTypeDefinition(o,t,[...r,s],n);if(!a)return;i=this.mergeDataTypeDefinitions(a,e)}return{...i,groupSafeValueFormatter:this.createGroupSafeValueFormatter(i)}}validateDataTypeDefinition(e,t,r){return t?t.baseDataType!==e.baseDataType?(ke('The "baseDataType" property of a data type definition must match that of its parent.'),!1):!0:(ke(`The data type definition ${r} does not exist.`),!1)}createGroupSafeValueFormatter(e){if(e.valueFormatter)return t=>{var r,n;if((r=t.node)!=null&&r.group){const i=t.column.getAggFunc();if(i){if(i==="first"||i==="last")return e.valueFormatter(t);if(e.baseDataType==="number"&&i!=="count"){if(typeof t.value=="number")return e.valueFormatter(t);if(typeof t.value=="object"){if(!t.value)return;if("toNumber"in t.value)return e.valueFormatter({...t,value:t.value.toNumber()});if("value"in t.value)return e.valueFormatter({...t,value:t.value.value})}}}if(!this.gos.get("suppressGroupMaintainValueType"))return}else if(this.groupHideOpenParents&&t.column.isRowGroupActive()){if(typeof t.value!="string"||(n=e.dataTypeMatcher)!=null&&n.call(e,t.value))return e.valueFormatter(t);if(!this.gos.get("suppressGroupMaintainValueType"))return}return e.valueFormatter(t)}}updateColDefAndGetColumnType(e,t,r){let{cellDataType:n}=t;const{field:i}=t;if(n===void 0&&(n=e.cellDataType),(n==null||n===!0)&&(n=this.canInferCellDataType(e,t)?this.inferCellDataType(i,r):!1),!n){e.cellDataType=!1;return}const s=this.dataTypeDefinitions[n];if(!s){ke(`Missing data type definition - "${n}"`);return}return e.cellDataType=n,s.groupSafeValueFormatter&&(e.valueFormatter=s.groupSafeValueFormatter),s.valueParser&&(e.valueParser=s.valueParser),s.suppressDefaultProperties||this.setColDefPropertiesForBaseDataType(e,n,s,r),s.columnTypes}addColumnListeners(e){if(!this.isWaitingForRowData)return;const t=this.columnStateUpdatesPendingInference[e.getColId()];if(!t)return;const r=n=>{t.add(n.key)};e.addEventListener("columnStateUpdated",r),this.columnStateUpdateListenerDestroyFuncs.push(()=>e.removeEventListener("columnStateUpdated",r))}canInferCellDataType(e,t){if(this.rowModel.getType()!=="clientSide")return!1;const r={cellRenderer:!0,valueGetter:!0,valueParser:!0,refData:!0};if(this.doColDefPropsPreventInference(t,r))return!1;const n=t.type===null?e.type:t.type;if(n){const i=this.gos.get("columnTypes")??{};if(th(n).some(o=>{const a=i[o.trim()];return a&&this.doColDefPropsPreventInference(a,r)}))return!1}return!this.doColDefPropsPreventInference(e,r)}doColDefPropsPreventInference(e,t){return[["cellRenderer","agSparklineCellRenderer"],["valueGetter",void 0],["valueParser",void 0],["refData",void 0]].some(([r,n])=>this.doesColDefPropPreventInference(e,t,r,n))}doesColDefPropPreventInference(e,t,r,n){if(!t[r])return!1;const i=e[r];return i===null?(t[r]=!1,!1):n===void 0?!!i:i===n}inferCellDataType(e,t){if(!e)return;let r;const n=this.getInitialData();if(n){const s=e.indexOf(".")>=0&&!this.gos.get("suppressFieldDotNotation");r=Ac(n,e,s)}else this.initWaitForRowData(t);if(r==null)return;const[i]=Object.entries(this.dataTypeMatchers).find(([s,o])=>o(r))??["object"];return i}getInitialData(){const e=this.gos.get("rowData");if(e!=null&&e.length)return e[0];if(this.initialData)return this.initialData;{const t=this.rowModel.getRootNode().allLeafChildren;if(t!=null&&t.length)return t[0].data}return null}initWaitForRowData(e){if(this.columnStateUpdatesPendingInference[e]=new Set,this.isWaitingForRowData)return;this.isWaitingForRowData=!0;const t=this.isColumnTypeOverrideInDataTypeDefinitions;t&&this.columnModel.queueResizeOperations();const[r]=this.addManagedEventListeners({rowDataUpdateStarted:n=>{const{firstRowData:i}=n;i&&(r==null||r(),this.isWaitingForRowData=!1,this.processColumnsPendingInference(i,t),this.columnStateUpdatesPendingInference={},t&&this.columnModel.processResizeOperations(),this.eventService.dispatchEvent({type:"dataTypesInferred"}))}})}isPendingInference(){return this.isWaitingForRowData}processColumnsPendingInference(e,t){this.initialData=e;const r=[];this.destroyColumnStateUpdateListeners();const n={},i={};Object.entries(this.columnStateUpdatesPendingInference).forEach(([s,o])=>{const a=this.columnModel.getCol(s);if(!a)return;const l=a.getColDef();if(!this.columnModel.resetColDefIntoCol(a,"cellDataTypeInferred"))return;const c=a.getColDef();if(t&&c.type&&c.type!==l.type){const u=this.getUpdatedColumnState(a,o);u.rowGroup&&u.rowGroupIndex==null&&(n[s]=u),u.pivot&&u.pivotIndex==null&&(i[s]=u),r.push(u)}}),t&&r.push(...this.funcColsService.generateColumnStateForRowGroupAndPivotIndexes(n,i)),r.length&&this.columnApplyStateService.applyColumnState({state:r},"cellDataTypeInferred"),this.initialData=null}getUpdatedColumnState(e,t){const r=this.columnApplyStateService.getColumnStateFromColDef(e);return t.forEach(n=>{delete r[n],n==="rowGroup"?delete r.rowGroupIndex:n==="pivot"&&delete r.pivotIndex}),r}checkObjectValueHandlers(e){const t=this.dataTypeDefinitions.object,r=e.object;this.hasObjectValueParser=t.valueParser!==r.valueParser,this.hasObjectValueFormatter=t.valueFormatter!==r.valueFormatter}getDateStringTypeDefinition(e){return e?this.getDataTypeDefinition(e)??this.dataTypeDefinitions.dateString:this.dataTypeDefinitions.dateString}getDateParserFunction(e){return this.getDateStringTypeDefinition(e).dateParser}getDateFormatterFunction(e){return this.getDateStringTypeDefinition(e).dateFormatter}getDataTypeDefinition(e){const t=e.getColDef();if(t.cellDataType)return this.dataTypeDefinitions[t.cellDataType]}getBaseDataType(e){var t;return(t=this.getDataTypeDefinition(e))==null?void 0:t.baseDataType}checkType(e,t){var n;if(t==null)return!0;const r=(n=this.getDataTypeDefinition(e))==null?void 0:n.dataTypeMatcher;return r?r(t):!0}validateColDef(e){const t=r=>ke(`Cell data type is "object" but no Value ${r} has been provided. Please either provide an object data type definition with a Value ${r}, or set "colDef.value${r}"`);e.cellDataType==="object"&&(e.valueFormatter===this.dataTypeDefinitions.object.groupSafeValueFormatter&&!this.hasObjectValueFormatter&&t("Formatter"),e.editable&&e.valueParser===this.dataTypeDefinitions.object.valueParser&&!this.hasObjectValueParser&&t("Parser"))}getFormatValue(e){return this.formatValueFuncs[e]}setColDefPropertiesForBaseDataType(e,t,r,n){const i=this.formatValueFuncs[t],s=Zr.__isRegistered("@ag-grid-enterprise/set-filter",this.gridId),o=this.localeService.getLocaleTextFunc(),a=l=>{const{filterParams:c}=e;e.filterParams=typeof c=="object"?{...c,...l}:l};switch(r.baseDataType){case"number":{e.cellEditor="agNumberCellEditor",s&&a({comparator:(l,c)=>{const u=l==null?0:parseInt(l),f=c==null?0:parseInt(c);return u===f?0:u>f?1:-1}});break}case"boolean":{e.cellEditor="agCheckboxCellEditor",e.cellRenderer="agCheckboxCellRenderer",e.suppressKeyboardEvent=l=>!!l.colDef.editable&&l.event.key===Se.SPACE,a(s?{valueFormatter:l=>je(l.value)?o(String(l.value),l.value?"True":"False"):o("blanks","(Blanks)")}:{maxNumConditions:1,debounceMs:0,filterOptions:["empty",{displayKey:"true",displayName:"True",predicate:(l,c)=>c,numberOfInputs:0},{displayKey:"false",displayName:"False",predicate:(l,c)=>c===!1,numberOfInputs:0}]});break}case"date":{e.cellEditor="agDateCellEditor",e.keyCreator=i,s&&a({valueFormatter:l=>{const c=i(l);return je(c)?c:o("blanks","(Blanks)")},treeList:!0,treeListFormatter:(l,c)=>{if(c===1&&l!=null){const u=lC[Number(l)-1];return o(u,aC[u])}return l??o("blanks","(Blanks)")}});break}case"dateString":{e.cellEditor="agDateStringCellEditor",e.keyCreator=i;const l=r.dateParser;a(s?{valueFormatter:c=>{const u=i(c);return je(u)?u:o("blanks","(Blanks)")},treeList:!0,treeListPathGetter:c=>{const u=l(c??void 0);return u?[String(u.getFullYear()),String(u.getMonth()+1),String(u.getDate())]:null},treeListFormatter:(c,u)=>{if(u===1&&c!=null){const f=lC[Number(c)-1];return o(f,aC[f])}return c??o("blanks","(Blanks)")}}:{comparator:(c,u)=>{const f=l(u);return u==null||f<c?-1:f>c?1:0}});break}case"object":{e.cellEditorParams={useFormatter:!0},e.comparator=(l,c)=>{const u=this.columnModel.getColDefCol(n),f=u==null?void 0:u.getColDef();if(!u||!f)return 0;const d=l==null?"":i({column:u,node:null,value:l}),h=c==null?"":i({column:u,node:null,value:c});return d===h?0:d>h?1:-1},e.keyCreator=i,s?a({valueFormatter:l=>{const c=i(l);return je(c)?c:o("blanks","(Blanks)")}}):e.filterValueGetter=l=>i({column:l.column,node:l.node,value:this.valueService.getValue(l.column,l.node)});break}}}getDefaultDataTypes(){const e=r=>!!r.match("^\\d{4}-\\d{2}-\\d{2}$"),t=this.localeService.getLocaleTextFunc();return{number:{baseDataType:"number",valueParser:r=>{var n,i;return((i=(n=r.newValue)==null?void 0:n.trim)==null?void 0:i.call(n))===""?null:Number(r.newValue)},valueFormatter:r=>r.value==null?"":typeof r.value!="number"||isNaN(r.value)?t("invalidNumber","Invalid Number"):String(r.value),dataTypeMatcher:r=>typeof r=="number"},text:{baseDataType:"text",valueParser:r=>r.newValue===""?null:Jm(r.newValue),dataTypeMatcher:r=>typeof r=="string"},boolean:{baseDataType:"boolean",valueParser:r=>{var n,i;return r.newValue==null?r.newValue:((i=(n=r.newValue)==null?void 0:n.trim)==null?void 0:i.call(n))===""?null:String(r.newValue).toLowerCase()==="true"},valueFormatter:r=>r.value==null?"":String(r.value),dataTypeMatcher:r=>typeof r=="boolean"},date:{baseDataType:"date",valueParser:r=>vn(r.newValue==null?null:String(r.newValue)),valueFormatter:r=>r.value==null?"":!(r.value instanceof Date)||isNaN(r.value.getTime())?t("invalidDate","Invalid Date"):Jn(r.value,!1)??"",dataTypeMatcher:r=>r instanceof Date},dateString:{baseDataType:"dateString",dateParser:r=>vn(r)??void 0,dateFormatter:r=>Jn(r??null,!1)??void 0,valueParser:r=>e(String(r.newValue))?r.newValue:null,valueFormatter:r=>e(String(r.value))?r.value:"",dataTypeMatcher:r=>typeof r=="string"&&e(r)},object:{baseDataType:"object",valueParser:()=>null,valueFormatter:r=>Jm(r.value)??""}}}destroyColumnStateUpdateListeners(){this.columnStateUpdateListenerDestroyFuncs.forEach(e=>e()),this.columnStateUpdateListenerDestroyFuncs=[]}destroy(){this.dataTypeDefinitions={},this.dataTypeMatchers={},this.formatValueFuncs={},this.columnStateUpdatesPendingInference={},this.destroyColumnStateUpdateListeners(),super.destroy()}},FB={version:vt,moduleName:"@ag-grid-community/data-type",beans:[kB]},AB={version:vt,moduleName:"@ag-grid-community/column-api",apiFunctions:{getColumnDef:Gj,getColumnDefs:Vj,sizeColumnsToFit:zj,setColumnGroupOpened:Wj,getColumnGroup:$j,getProvidedColumnGroup:Uj,getDisplayNameForColumn:Kj,getDisplayNameForColumnGroup:qj,getColumn:Yj,getColumns:Xj,applyColumnState:Qj,getColumnState:Zj,resetColumnState:Jj,getColumnGroupState:eB,setColumnGroupState:tB,resetColumnGroupState:rB,isPinning:nB,isPinningLeft:iB,isPinningRight:sB,getDisplayedColAfter:oB,getDisplayedColBefore:aB,setColumnVisible:lB,setColumnsVisible:cB,setColumnPinned:uB,setColumnsPinned:dB,getAllGridColumns:hB,getDisplayedLeftColumns:fB,getDisplayedCenterColumns:pB,getDisplayedRightColumns:gB,getAllDisplayedColumns:mB,getAllDisplayedVirtualColumns:vB,moveColumn:yB,moveColumnByIndex:bB,moveColumns:wB,setColumnWidth:CB,setColumnWidths:SB,getLeftDisplayedColumnGroups:xB,getCenterDisplayedColumnGroups:RB,getRightDisplayedColumnGroups:EB,getAllDisplayedColumnGroups:TB,autoSizeColumn:PB,autoSizeColumns:_B,autoSizeAllColumns:MB}};function OB(e,t){e.ctrlsService.getGridBodyCtrl().getRowDragFeature().addRowDropZone(t)}function DB(e,t){const r=e.dragAndDropService.findExternalZone(t);r&&e.dragAndDropService.removeDropTarget(r)}function IB(e,t){return e.ctrlsService.getGridBodyCtrl().getRowDragFeature().getRowDropZone(t)}var NB={version:vt,moduleName:"@ag-grid-community/drag-api",apiFunctions:{addRowDropZone:OB,removeRowDropZone:DB,getRowDropZoneParams:IB}};function LB(e){return e.pinnedRowModel.getPinnedTopRowCount()}function jB(e){return e.pinnedRowModel.getPinnedBottomRowCount()}function BB(e,t){return e.pinnedRowModel.getPinnedTopRow(t)}function HB(e,t){return e.pinnedRowModel.getPinnedBottomRow(t)}var GB={version:vt,moduleName:"@ag-grid-community/pinned-row-api",apiFunctions:{getPinnedTopRowCount:LB,getPinnedBottomRowCount:jB,getPinnedTopRow:BB,getPinnedBottomRow:HB}};function VB(e){e.overlayService.showLoadingOverlay()}function zB(e){e.overlayService.showNoRowsOverlay()}function WB(e){e.overlayService.hideOverlay()}var $B={version:vt,moduleName:"@ag-grid-community/overlay-api",apiFunctions:{showLoadingOverlay:VB,showNoRowsOverlay:zB,hideOverlay:WB}};function UB(e,t,r){if(!t)return;const n=e.ctrlsService.getGridBodyCtrl().getGui(),i=`aria-${t}`;r===null?n.removeAttribute(i):n.setAttribute(i,r)}function KB(e,t={}){e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.refreshCells(t))}function qB(e,t={}){const r=n=>ke(`Since v31.1 api.flashCells parameter '${n}Delay' is deprecated. Please use '${n}Duration' instead.`);je(t.fadeDelay)&&r("fade"),je(t.flashDelay)&&r("flash"),e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.flashCells(t))}function YB(e){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsService.getHeaderRowContainerCtrls().forEach(t=>t.refresh()))}function XB(e){return e.animationFrameService.isQueueEmpty()}function QB(e){e.animationFrameService.flushAllFrames()}function ZB(e){return{rowHeight:e.gos.getRowHeightAsNumber(),headerHeight:e.columnModel.getHeaderHeight()}}function JB(e,t={}){return e.rowRenderer.getCellRendererInstances(t).map(Dc)}var eH={version:vt,moduleName:"@ag-grid-community/render-api",apiFunctions:{setGridAriaProperty:UB,refreshCells:KB,flashCells:qB,refreshHeader:YB,isAnimationFrameQueueEmpty:XB,flushAllAnimationFrames:QB,getSizesForCurrentTheme:ZB,getCellRendererInstances:JB}};function tH(e){e.valueCache.expire()}function rH(e,t,r){return c4(e,{colKey:t,rowNode:r})}function c4(e,t){const{colKey:r,rowNode:n,useFormatter:i}=t,s=e.columnModel.getColDefCol(r)??e.columnModel.getCol(r);if(_t(s))return null;const o=e.valueService.getValue(s,n);return i?e.valueService.formatValue(s,n,o)??Bi(o,!0):o}function nH(e){return e.context.getGridId()}function iH(e){e.gridDestroyService.destroy()}function sH(e){return e.gridDestroyService.isDestroyCalled()}function oH(e,t){return e.gos.get(t)}function aH(e,t,r){u4(e,{[t]:r})}function u4(e,t){e.gos.updateGridOptions({options:t})}function lH(e,t,r){e.apiEventService.addEventListener(t,r)}function cH(e,t,r){e.apiEventService.removeEventListener(t,r)}function uH(e,t){e.apiEventService.addGlobalListener(t)}function dH(e,t){e.apiEventService.removeGlobalListener(t)}function hH(e){return e.focusService.getFocusedCell()}function fH(e){return e.focusService.clearFocusedCell()}function pH(e,t,r,n){e.focusService.setFocusedCell({rowIndex:t,column:r,rowPinned:n,forceBrowserFocus:!0})}function gH(e,t){return e.navigationService.tabToNextCell(!1,t)}function mH(e,t){return e.navigationService.tabToNextCell(!0,t)}function vH(e,t,r=!1){const n=e.headerNavigationService.getHeaderPositionForColumn(t,r);n&&e.focusService.focusHeaderPosition({headerPosition:n})}function yH(e,t,r){const n=e.columnModel.getCol(t);e.menuService.showColumnMenu({column:n,buttonElement:r,positionBy:"button"})}function bH(e,t,r){let n=e.columnModel.getCol(t);if(n||(n=e.columnModel.getColDefCol(t)),!n){Vt(`column '${t}' not found`);return}e.menuService.showColumnMenu({column:n,mouseEvent:r,positionBy:"mouse"})}function wH(e,t){const r=e.columnModel.getCol(t);if(!r){Vt(`column '${t}' not found`);return}e.menuService.showColumnMenu({column:r,positionBy:"auto"})}function CH(e){e.menuService.hidePopupMenu()}function SH(e,t={}){const r=t?t.rowNodes:void 0;e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.redrawRows(r))}function xH(e,t,r,n,i){e.expansionService.setRowNodeExpanded(t,r,n,i)}function RH(e,t){return e.rowModel.getRowNode(t)}function EH(e,t,r,n){e.rowRenderer.addRenderedRowListener(t,r,n)}function TH(e){return e.rowRenderer.getRenderedNodes()}function PH(e,t,r){e.rowModel.forEachNode(t,r)}function _H(e){return d4(e)}function d4(e){return e.rowRenderer.getFirstVirtualRenderedRow()}function MH(e){return h4(e)}function h4(e){return e.rowRenderer.getLastVirtualRenderedRow()}function kH(e,t){return e.rowModel.getRow(t)}function FH(e){return e.rowModel.getRowCount()}function AH(e){return e.rowModel}function OH(e,t){if(!t.nodes.every(a=>a.rowPinned?(ke("cannot select pinned rows"),!1):a.id===void 0?(ke("cannot select node until id for node is known"),!1):!0))return;const{nodes:n,source:i,newValue:s}=t,o=n;e.selectionService.setNodesSelected({nodes:o,source:i??"api",newValue:s})}function DH(e,t="apiSelectAll"){e.selectionService.selectAllRowNodes({source:t})}function IH(e,t="apiSelectAll"){e.selectionService.deselectAllRowNodes({source:t})}function NH(e,t="apiSelectAllFiltered"){e.selectionService.selectAllRowNodes({source:t,justFiltered:!0})}function LH(e,t="apiSelectAllFiltered"){e.selectionService.deselectAllRowNodes({source:t,justFiltered:!0})}function jH(e,t="apiSelectAllCurrentPage"){e.selectionService.selectAllRowNodes({source:t,justCurrentPage:!0})}function BH(e,t="apiSelectAllCurrentPage"){e.selectionService.deselectAllRowNodes({source:t,justCurrentPage:!0})}function HH(e){return e.selectionService.getSelectedNodes()}function GH(e){return e.selectionService.getSelectedRows()}function VH(e){e.sortController.onSortChanged("api")}var zH={version:vt,moduleName:"@ag-grid-community/core-api",apiFunctions:{getGridId:nH,destroy:iH,isDestroyed:sH,getGridOption:oH,setGridOption:aH,updateGridOptions:u4}},WH={version:vt,moduleName:"@ag-grid-community/row-selection-api",apiFunctions:{setNodesSelected:OH,selectAll:DH,deselectAll:IH,selectAllFiltered:NH,deselectAllFiltered:LH,selectAllOnCurrentPage:jH,deselectAllOnCurrentPage:BH,getSelectedNodes:HH,getSelectedRows:GH}},$H={version:vt,moduleName:"@ag-grid-community/row-api",apiFunctions:{redrawRows:SH,setRowNodeExpanded:xH,getRowNode:RH,addRenderedRowListener:EH,getRenderedNodes:TH,forEachNode:PH,getFirstDisplayedRow:_H,getFirstDisplayedRowIndex:d4,getLastDisplayedRow:MH,getLastDisplayedRowIndex:h4,getDisplayedRowAtIndex:kH,getDisplayedRowCount:FH,getModel:AH}},UH={version:vt,moduleName:"@ag-grid-community/scroll-api",apiFunctions:{getVerticalPixelRange:FL,getHorizontalPixelRange:AL,ensureColumnVisible:n4,ensureIndexVisible:i4,ensureNodeVisible:OL}},KH={version:vt,moduleName:"@ag-grid-community/keyboard-navigation-api",apiFunctions:{getFocusedCell:hH,clearFocusedCell:fH,setFocusedCell:pH,setFocusedHeader:vH,tabToNextCell:gH,tabToPreviousCell:mH}},qH={version:vt,moduleName:"@ag-grid-community/event-api",apiFunctions:{addEventListener:lH,addGlobalListener:uH,removeEventListener:cH,removeGlobalListener:dH}},YH={version:vt,moduleName:"@ag-grid-community/cell-api",apiFunctions:{expireValueCache:tH,getValue:rH,getCellValue:c4}},XH={version:vt,moduleName:"@ag-grid-community/menu-api",apiFunctions:{showColumnMenuAfterButtonClick:yH,showColumnMenuAfterMouseClick:bH,showColumnMenu:wH,hidePopupMenu:CH}},QH={version:vt,moduleName:"@ag-grid-community/sort-api",apiFunctions:{onSortChanged:VH}},ZH={version:vt,moduleName:"@ag-grid-community/api",dependantModules:[zH,GB,WH,AB,$H,NB,UH,$B,KH,qH,eH,YH,XH,QH]};function JH(e){var t;return((t=e.stateService)==null?void 0:t.getState())??{}}var eG=class extends Re{constructor(){super(...arguments),this.beanName="stateService",this.suppressEvents=!0,this.queuedUpdateSources=new Set,this.dispatchStateUpdateEventDebounced=ln(()=>this.dispatchQueuedStateUpdateEvents(),0),this.onRowGroupOpenedDebounced=ln(()=>this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState()),0),this.onRowSelectedDebounced=ln(()=>{this.staleStateKeys.delete("rowSelection"),this.updateCachedState("rowSelection",this.getRowSelectionState())},0),this.staleStateKeys=new Set}wireBeans(e){this.filterManager=e.filterManager,this.ctrlsService=e.ctrlsService,this.pivotResultColsService=e.pivotResultColsService,this.focusService=e.focusService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.columnGroupStateService=e.columnGroupStateService,this.columnGetStateService=e.columnGetStateService,this.paginationService=e.paginationService,this.rowModel=e.rowModel,this.selectionService=e.selectionService,this.expansionService=e.expansionService,this.columnAnimationService=e.columnAnimationService,this.columnApplyStateService=e.columnApplyStateService,this.sideBarService=e.sideBarService,this.rangeService=e.rangeService}postConstruct(){this.isClientSideRowModel=this.rowModel.getType()==="clientSide",this.cachedState=this.gos.get("initialState")??{},this.ctrlsService.whenReady(()=>this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnGridReady()));const[e,t,r]=this.addManagedEventListeners({newColumnsLoaded:({source:n})=>{n==="gridInitializing"&&(e(),this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnColumnsInitialised()))},rowCountReady:()=>{t==null||t(),this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnRowCountReady())},firstDataRendered:()=>{r==null||r(),this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnFirstDataRendered())}})}getState(){return this.staleStateKeys.size&&this.refreshStaleState(),this.cachedState}setupStateOnGridReady(){this.updateCachedState("sideBar",this.getSideBarState());const e=()=>this.updateCachedState("sideBar",this.getSideBarState());this.addManagedEventListeners({toolPanelVisibleChanged:e,sideBarUpdated:e})}setupStateOnColumnsInitialised(){const e=this.gos.get("initialState")??{};this.setColumnState(e),this.setColumnGroupState(e),this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","pivot","rowGroup","sort"]),this.updateCachedState("columnGroup",this.getColumnGroupState());const t=r=>()=>this.updateColumnState([r]);this.addManagedEventListeners({columnValueChanged:t("aggregation"),columnMoved:t("columnOrder"),columnPinned:t("columnPinning"),columnResized:t("columnSizing"),columnVisible:t("columnVisibility"),columnPivotChanged:t("pivot"),columnPivotModeChanged:t("pivot"),columnRowGroupChanged:t("rowGroup"),sortChanged:t("sort"),newColumnsLoaded:()=>this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","rowGroup","sort"]),columnGroupOpened:()=>this.updateCachedState("columnGroup",this.getColumnGroupState())})}setupStateOnRowCountReady(){const{filter:e,rowGroupExpansion:t,rowSelection:r,pagination:n}=this.gos.get("initialState")??{},i=this.gos.get("advancedFilterModel");(e||i)&&this.setFilterState(e,i),t&&this.setRowGroupExpansionState(t),r&&this.setRowSelectionState(r),n&&this.setPaginationState(n),this.updateCachedState("filter",this.getFilterState()),this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState()),this.updateCachedState("rowSelection",this.getRowSelectionState()),this.updateCachedState("pagination",this.getPaginationState());const s=()=>this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState());this.addManagedEventListeners({filterChanged:()=>this.updateCachedState("filter",this.getFilterState()),rowGroupOpened:()=>this.onRowGroupOpenedDebounced(),expandOrCollapseAll:s,columnRowGroupChanged:s,rowDataUpdated:()=>{this.gos.get("groupDefaultExpanded")!==0&&setTimeout(()=>{s()})},selectionChanged:()=>{this.staleStateKeys.add("rowSelection"),this.onRowSelectedDebounced()},paginationChanged:o=>{(o.newPage||o.newPageSize)&&this.updateCachedState("pagination",this.getPaginationState())}})}setupStateOnFirstDataRendered(){const{scroll:e,rangeSelection:t,focusedCell:r,columnOrder:n}=this.gos.get("initialState")??{};r&&this.setFocusedCellState(r),t&&this.setRangeSelectionState(t),e&&this.setScrollState(e),this.setColumnPivotState(!!(n!=null&&n.orderedColIds)),this.updateCachedState("sideBar",this.getSideBarState()),this.updateCachedState("focusedCell",this.getFocusedCellState()),this.updateCachedState("rangeSelection",this.getRangeSelectionState()),this.updateCachedState("scroll",this.getScrollState()),this.addManagedEventListeners({cellFocused:()=>this.updateCachedState("focusedCell",this.getFocusedCellState()),rangeSelectionChanged:i=>{i.finished&&this.updateCachedState("rangeSelection",this.getRangeSelectionState())},bodyScrollEnd:()=>this.updateCachedState("scroll",this.getScrollState())})}getColumnState(){const e=this.columnModel.isPivotMode(),t=[],r=[],n=[],i=[],s=[],o=[],a=[],l=[],c=[];let u=0;const f=this.columnGetStateService.getColumnState();for(let d=0;d<f.length;d++){const{colId:h,sort:g,sortIndex:v,rowGroup:p,rowGroupIndex:y,aggFunc:m,pivot:b,pivotIndex:x,pinned:P,hide:F,width:D,flex:O}=f[d];c.push(h),g&&(t[v??u++]={colId:h,sort:g}),p&&(r[y??0]=h),typeof m=="string"&&n.push({colId:h,aggFunc:m}),b&&(i[x??0]=h),P&&(P==="right"?o:s).push(h),F&&a.push(h),(O||D)&&l.push({colId:h,flex:O??void 0,width:D})}return{sort:t.length?{sortModel:t}:void 0,rowGroup:r.length?{groupColIds:r}:void 0,aggregation:n.length?{aggregationModel:n}:void 0,pivot:i.length||e?{pivotMode:e,pivotColIds:i}:void 0,columnPinning:s.length||o.length?{leftColIds:s,rightColIds:o}:void 0,columnVisibility:a.length?{hiddenColIds:a}:void 0,columnSizing:l.length?{columnSizingModel:l}:void 0,columnOrder:c.length?{orderedColIds:c}:void 0}}setColumnState(e){const{sort:t,rowGroup:r,aggregation:n,pivot:i,columnPinning:s,columnVisibility:o,columnSizing:a,columnOrder:l}=e,c={},u=g=>{let v=c[g];return v||(v={colId:g},c[g]=v,v)};t&&t.sortModel.forEach(({colId:g,sort:v},p)=>{const y=u(g);y.sort=v,y.sortIndex=p}),r&&r.groupColIds.forEach((g,v)=>{const p=u(g);p.rowGroup=!0,p.rowGroupIndex=v}),n&&n.aggregationModel.forEach(({colId:g,aggFunc:v})=>{u(g).aggFunc=v}),i&&(i.pivotColIds.forEach((g,v)=>{const p=u(g);p.pivot=!0,p.pivotIndex=v}),this.gos.updateGridOptions({options:{pivotMode:i.pivotMode},source:"gridInitializing"})),s&&(s.leftColIds.forEach(g=>{u(g).pinned="left"}),s.rightColIds.forEach(g=>{u(g).pinned="right"})),o&&o.hiddenColIds.forEach(g=>{u(g).hide=!0}),a&&a.columnSizingModel.forEach(({colId:g,flex:v,width:p})=>{const y=u(g);y.flex=v??null,y.width=p});const f=l==null?void 0:l.orderedColIds,d=!!(f!=null&&f.length),h=d?f.map(g=>u(g)):Object.values(c);if(h.length){this.columnStates=h;const g={sort:null,sortIndex:null,rowGroup:null,rowGroupIndex:null,aggFunc:null,pivot:null,pivotIndex:null,pinned:null,hide:null,flex:null};this.columnApplyStateService.applyColumnState({state:h,applyOrder:d,defaultState:g},"gridInitializing")}}setColumnPivotState(e){const t=this.columnStates;this.columnStates=void 0;const r=this.columnGroupStates;if(this.columnGroupStates=void 0,!!this.pivotResultColsService.isPivotResultColsPresent()){if(t){const n=[];for(const i of t)this.pivotResultColsService.getPivotResultCol(i.colId)&&n.push(i);this.columnApplyStateService.applyColumnState({state:n,applyOrder:e},"gridInitializing")}r&&this.columnGroupStateService.setColumnGroupState(r,"gridInitializing")}}getColumnGroupState(){const e=this.columnGroupStateService.getColumnGroupState(),t=[];return e.forEach(({groupId:r,open:n})=>{n&&t.push(r)}),t.length?{openColumnGroupIds:t}:void 0}setColumnGroupState(e){var i;if(!Object.prototype.hasOwnProperty.call(e,"columnGroup"))return;const t=new Set((i=e.columnGroup)==null?void 0:i.openColumnGroupIds),n=this.columnGroupStateService.getColumnGroupState().map(({groupId:s})=>{const o=t.has(s);return o&&t.delete(s),{groupId:s,open:o}});t.forEach(s=>{n.push({groupId:s,open:!0})}),n.length&&(this.columnGroupStates=n),this.columnGroupStateService.setColumnGroupState(n,"gridInitializing")}getFilterState(){var r,n;let e=(r=this.filterManager)==null?void 0:r.getFilterModel();e&&Object.keys(e).length===0&&(e=void 0);const t=((n=this.filterManager)==null?void 0:n.getAdvancedFilterModel())??void 0;return e||t?{filterModel:e,advancedFilterModel:t}:void 0}setFilterState(e,t){var i,s;const{filterModel:r,advancedFilterModel:n}=e??{advancedFilterModel:t};r&&((i=this.filterManager)==null||i.setFilterModel(r,"columnFilter")),n&&((s=this.filterManager)==null||s.setAdvancedFilterModel(n))}getRangeSelectionState(){var t;const e=(t=this.rangeService)==null?void 0:t.getCellRanges().map(r=>{const{id:n,type:i,startRow:s,endRow:o,columns:a,startColumn:l}=r;return{id:n,type:i,startRow:s,endRow:o,colIds:a.map(c=>c.getColId()),startColId:l.getColId()}});return e!=null&&e.length?{cellRanges:e}:void 0}setRangeSelectionState(e){if(!this.gos.get("enableRangeSelection")||!this.rangeService)return;const t=[];e.cellRanges.forEach(r=>{const n=[];if(r.colIds.forEach(s=>{const o=this.columnModel.getCol(s);o&&n.push(o)}),!n.length)return;let i=this.columnModel.getCol(r.startColId);if(!i){const s=this.visibleColsService.getAllCols(),o=new Set(n);i=s.find(a=>o.has(a))}t.push({...r,columns:n,startColumn:i})}),this.rangeService.setCellRanges(t)}getScrollState(){var n;if(!this.isClientSideRowModel)return;const e=(n=this.ctrlsService.getGridBodyCtrl())==null?void 0:n.getScrollFeature(),{left:t}=(e==null?void 0:e.getHScrollPosition())??{left:0},{top:r}=(e==null?void 0:e.getVScrollPosition())??{top:0};return r||t?{top:r,left:t}:void 0}setScrollState(e){var n;if(!this.isClientSideRowModel)return;const{top:t,left:r}=e;(n=this.ctrlsService.getGridBodyCtrl())==null||n.getScrollFeature().setScrollPosition(t,r)}getSideBarState(){var e,t;return(t=(e=this.sideBarService)==null?void 0:e.getSideBarComp())==null?void 0:t.getState()}getFocusedCellState(){if(!this.isClientSideRowModel)return;const e=this.focusService.getFocusedCell();if(e){const{column:t,rowIndex:r,rowPinned:n}=e;return{colId:t.getColId(),rowIndex:r,rowPinned:n}}}setFocusedCellState(e){if(!this.isClientSideRowModel)return;const{colId:t,rowIndex:r,rowPinned:n}=e;this.focusService.setFocusedCell({column:this.columnModel.getCol(t),rowIndex:r,rowPinned:n,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}getPaginationState(){if(!this.paginationService)return;const e=this.paginationService.getCurrentPage(),t=this.gos.get("paginationAutoPageSize")?void 0:this.paginationService.getPageSize();if(!(!e&&!t))return{page:e,pageSize:t}}setPaginationState(e){this.paginationService&&(e.pageSize&&!this.gos.get("paginationAutoPageSize")&&this.paginationService.setPageSize(e.pageSize,"initialState"),typeof e.page=="number"&&this.paginationService.setPage(e.page))}getRowSelectionState(){var r;const e=this.selectionService.getSelectionState();return!e||!Array.isArray(e)&&(e.selectAll===!1||e.selectAllChildren===!1)&&!((r=e==null?void 0:e.toggledNodes)!=null&&r.length)?void 0:e}setRowSelectionState(e){this.selectionService.setSelectionState(e,"gridInitializing")}getRowGroupExpansionState(){const e=this.expansionService.getExpandedRows();return e.length?{expandedRowGroupIds:e}:void 0}setRowGroupExpansionState(e){this.expansionService.expandRows(e.expandedRowGroupIds)}updateColumnState(e){const t=this.getColumnState();let r=!1;Object.entries(t).forEach(([n,i])=>{fu(i,this.cachedState[n])||(r=!0)}),this.cachedState={...this.cachedState,...t},r&&this.dispatchStateUpdateEvent(e)}updateCachedState(e,t){const r=this.cachedState[e];this.setCachedStateValue(e,t),fu(t,r)||this.dispatchStateUpdateEvent([e])}setCachedStateValue(e,t){this.cachedState={...this.cachedState,[e]:t}}refreshStaleState(){this.staleStateKeys.forEach(e=>{switch(e){case"rowSelection":this.setCachedStateValue(e,this.getRowSelectionState());break}}),this.staleStateKeys.clear()}dispatchStateUpdateEvent(e){this.suppressEvents||(e.forEach(t=>this.queuedUpdateSources.add(t)),this.dispatchStateUpdateEventDebounced())}dispatchQueuedStateUpdateEvents(){const e=Array.from(this.queuedUpdateSources);this.queuedUpdateSources.clear(),this.eventService.dispatchEvent({type:"stateUpdated",sources:e,state:this.cachedState})}suppressEventsAndDispatchInitEvent(e){this.suppressEvents=!0,this.columnAnimationService.setSuppressAnimation(!0),e(),setTimeout(()=>{this.suppressEvents=!1,this.queuedUpdateSources.clear(),this.isAlive()&&(this.columnAnimationService.setSuppressAnimation(!1),this.dispatchStateUpdateEvent(["gridInitializing"]))})}},f4={version:vt,moduleName:"@ag-grid-community/state-core",beans:[eG]},tG={version:vt,moduleName:"@ag-grid-community/state-api",apiFunctions:{getState:JH},dependantModules:[f4]},rG={version:vt,moduleName:"@ag-grid-community/state",dependantModules:[f4,tG]};function nG(e){return e.rowModel.isLastRowIndexKnown()}function iG(e){var t;return((t=e.paginationService)==null?void 0:t.getPageSize())??100}function sG(e){var t;return((t=e.paginationService)==null?void 0:t.getCurrentPage())??0}function oG(e){var t;return((t=e.paginationService)==null?void 0:t.getTotalPages())??1}function aG(e){return e.paginationService?e.paginationService.getMasterRowCount():e.rowModel.getRowCount()}function lG(e){var t;(t=e.paginationService)==null||t.goToNextPage()}function cG(e){var t;(t=e.paginationService)==null||t.goToPreviousPage()}function uG(e){var t;(t=e.paginationService)==null||t.goToFirstPage()}function dG(e){var t;(t=e.paginationService)==null||t.goToLastPage()}function hG(e,t){var r;(r=e.paginationService)==null||r.goToPage(t)}var fG=class extends Re{constructor(){super(...arguments),this.beanName="paginationAutoPageSizeService"}wireBeans(e){this.ctrlsService=e.ctrlsService,this.paginationService=e.paginationService}postConstruct(){this.ctrlsService.whenReady(e=>{this.centerRowsCtrl=e.center;const t=this.checkPageSize.bind(this);this.addManagedEventListeners({bodyHeightChanged:t,scrollVisibilityChanged:t}),this.addManagedPropertyListener("paginationAutoPageSize",this.onPaginationAutoSizeChanged.bind(this)),this.checkPageSize()})}notActive(){return!this.gos.get("paginationAutoPageSize")||this.centerRowsCtrl==null}onPaginationAutoSizeChanged(){this.notActive()?this.paginationService.unsetAutoCalculatedPageSize():this.checkPageSize()}checkPageSize(){if(this.notActive())return;const e=this.centerRowsCtrl.getViewportSizeFeature().getBodyHeight();if(e>0){const t=()=>{const r=Math.max(this.gos.getRowHeightAsNumber(),1),n=Math.floor(e/r);this.paginationService.setPageSize(n,"autoCalculated")};this.isBodyRendered?ln(()=>t(),50)():(t(),this.isBodyRendered=!0)}else this.isBodyRendered=!1}};function pG(e,t,r){e.addManagedElementListeners(t,{keydown:n=>{if(!n.defaultPrevented&&n.key===Se.TAB){const i=n.shiftKey;r.findNextFocusableElement(t,!1,i)||r.focusNextGridCoreContainer(i)&&n.preventDefault()}}})}var gG=class extends Jt{constructor(){super('<span class="ag-paging-page-size"></span>'),this.hasEmptyOption=!1,this.handlePageSizeItemSelected=()=>{if(!this.selectPageSizeComp)return;const e=this.selectPageSizeComp.getValue();if(!e)return;const t=Number(e);isNaN(t)||t<1||t===this.paginationService.getPageSize()||(this.paginationService.setPageSize(t,"pageSizeSelector"),this.hasEmptyOption&&this.toggleSelectDisplay(!0),this.selectPageSizeComp.getFocusableElement().focus())}}wireBeans(e){this.paginationService=e.paginationService}postConstruct(){this.addManagedPropertyListener("paginationPageSizeSelector",()=>{this.onPageSizeSelectorValuesChange()}),this.addManagedEventListeners({paginationChanged:e=>this.handlePaginationChanged(e)})}handlePaginationChanged(e){if(!this.selectPageSizeComp||!(e!=null&&e.newPageSize))return;const t=this.paginationService.getPageSize();this.getPageSizeSelectorValues().includes(t)?this.selectPageSizeComp.setValue(t.toString()):this.hasEmptyOption?this.selectPageSizeComp.setValue(""):this.toggleSelectDisplay(!0)}toggleSelectDisplay(e){this.selectPageSizeComp&&this.reset(),e&&(this.reloadPageSizesSelector(),this.selectPageSizeComp&&this.appendChild(this.selectPageSizeComp))}reset(){Dn(this.getGui()),this.selectPageSizeComp&&(this.selectPageSizeComp=this.destroyBean(this.selectPageSizeComp))}onPageSizeSelectorValuesChange(){this.selectPageSizeComp&&this.shouldShowPageSizeSelector()&&this.reloadPageSizesSelector()}shouldShowPageSizeSelector(){return this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel")&&!this.gos.get("paginationAutoPageSize")&&this.gos.get("paginationPageSizeSelector")!==!1}reloadPageSizesSelector(){const e=this.getPageSizeSelectorValues(),t=this.paginationService.getPageSize(),r=!t||!e.includes(t);r&&(e.unshift(""),ke(`The paginationPageSize grid option is set to a value that is not in the list of page size options.
                Please make sure that the paginationPageSize grid option is set to one of the values in the 
                paginationPageSizeSelector array, or set the paginationPageSizeSelector to false to hide the page size selector.`)),this.selectPageSizeComp&&(this.selectPageSizeComp=this.destroyBean(this.selectPageSizeComp));const n=this.localeService.getLocaleTextFunc(),i=n("pageSizeSelectorLabel","Page Size:"),s=e.map(a=>({value:String(a),text:String(a)})),o=n("ariaPageSizeSelectorLabel","Page Size");this.selectPageSizeComp=this.createManagedBean(new gy).addOptions(s).setValue(String(r?"":t)).setAriaLabel(o).setLabel(i).onValueChange(()=>this.handlePageSizeItemSelected()),this.hasEmptyOption=r}getPageSizeSelectorValues(){const e=[20,50,100],t=this.gos.get("paginationPageSizeSelector");return!Array.isArray(t)||!this.validateValues(t)?e:[...t].sort((r,n)=>r-n)}validateValues(e){if(!e.length)return ke(`The paginationPageSizeSelector grid option is an empty array. This is most likely a mistake.
                If you want to hide the page size selector, please set the paginationPageSizeSelector to false.`),!1;for(let t=0;t<e.length;t++){const r=e[t],n=typeof r=="number",i=r>0;if(!n)return ke(`The paginationPageSizeSelector grid option contains a non-numeric value.
                    Please make sure that all values in the paginationPageSizeSelector array are numbers.`),!1;if(!i)return ke(`The paginationPageSizeSelector grid option contains a negative number or zero.
                    Please make sure that all values in the paginationPageSizeSelector array are positive.`),!1}return!0}destroy(){this.toggleSelectDisplay(!1),super.destroy()}},mG={selector:"AG-PAGE-SIZE-SELECTOR",component:gG},vG=class extends cj{constructor(){super(),this.btFirst=ht,this.btPrevious=ht,this.btNext=ht,this.btLast=ht,this.lbRecordCount=ht,this.lbFirstRowOnPage=ht,this.lbLastRowOnPage=ht,this.lbCurrent=ht,this.lbTotal=ht,this.pageSizeComp=ht,this.previousAndFirstButtonsDisabled=!1,this.nextButtonDisabled=!1,this.lastButtonDisabled=!1,this.areListenersSetup=!1,this.allowFocusInnerElement=!1}wireBeans(e){this.rowModel=e.rowModel,this.paginationService=e.paginationService,this.focusService=e.focusService,this.ariaAnnouncementService=e.ariaAnnouncementService}postConstruct(){const e=this.gos.get("enableRtl");this.setTemplate(this.getTemplate(),[mG]);const{btFirst:t,btPrevious:r,btNext:n,btLast:i}=this;this.activateTabIndex([t,r,n,i]),t.insertAdjacentElement("afterbegin",kn(e?"last":"first",this.gos)),r.insertAdjacentElement("afterbegin",kn(e?"next":"previous",this.gos)),n.insertAdjacentElement("afterbegin",kn(e?"previous":"next",this.gos)),i.insertAdjacentElement("afterbegin",kn(e?"first":"last",this.gos)),this.addManagedPropertyListener("pagination",this.onPaginationChanged.bind(this)),this.addManagedPropertyListener("suppressPaginationPanel",this.onPaginationChanged.bind(this)),this.addManagedPropertyListeners(["paginationPageSizeSelector","paginationAutoPageSize","suppressPaginationPanel"],()=>this.onPageSizeRelatedOptionsChange()),this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector()),this.initialiseTabGuard({onTabKeyDown:()=>{},focusInnerElement:s=>{this.allowFocusInnerElement?this.tabGuardFeature.getTabGuardCtrl().focusInnerElement(s):this.focusService.focusGridInnerElement(s)},forceFocusOutWhenTabGuardsAreEmpty:!0}),this.onPaginationChanged()}setAllowFocus(e){this.allowFocusInnerElement=e}onPaginationChanged(){const t=this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel");this.setDisplayed(t),t&&(this.setupListeners(),this.enableOrDisableButtons(),this.updateLabels(),this.onPageSizeRelatedOptionsChange())}onPageSizeRelatedOptionsChange(){this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector())}setupListeners(){this.areListenersSetup||(this.addManagedEventListeners({paginationChanged:this.onPaginationChanged.bind(this)}),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach(e=>{const{el:t,fn:r}=e;this.addManagedListeners(t,{click:r,keydown:n=>{(n.key===Se.ENTER||n.key===Se.SPACE)&&(n.preventDefault(),r())}})}),pG(this,this.getGui(),this.focusService),this.areListenersSetup=!0)}onBtFirst(){this.previousAndFirstButtonsDisabled||this.paginationService.goToFirstPage()}formatNumber(e){const t=this.gos.getCallback("paginationNumberFormatter");if(t)return t({value:e});const r=this.localeService.getLocaleTextFunc(),n=r("thousandSeparator",","),i=r("decimalSeparator",".");return a9(e,n,i)}getTemplate(){const e=this.localeService.getLocaleTextFunc(),t=e("page","Page"),r=e("to","to"),n=e("of","of"),i=e("firstPage","First Page"),s=e("previousPage","Previous Page"),o=e("nextPage","Next Page"),a=e("lastPage","Last Page"),l=this.getCompId();return`<div class="ag-paging-panel ag-unselectable" id="ag-${l}">
                <ag-page-size-selector data-ref="pageSizeComp"></ag-page-size-selector>
                <span class="ag-paging-row-summary-panel">
                    <span id="ag-${l}-first-row" data-ref="lbFirstRowOnPage" class="ag-paging-row-summary-panel-number"></span>
                    <span id="ag-${l}-to">${r}</span>
                    <span id="ag-${l}-last-row" data-ref="lbLastRowOnPage" class="ag-paging-row-summary-panel-number"></span>
                    <span id="ag-${l}-of">${n}</span>
                    <span id="ag-${l}-row-count" data-ref="lbRecordCount" class="ag-paging-row-summary-panel-number"></span>
                </span>
                <span class="ag-paging-page-summary-panel" role="presentation">
                    <div data-ref="btFirst" class="ag-button ag-paging-button" role="button" aria-label="${i}"></div>
                    <div data-ref="btPrevious" class="ag-button ag-paging-button" role="button" aria-label="${s}"></div>
                    <span class="ag-paging-description">
                        <span id="ag-${l}-start-page">${t}</span>
                        <span id="ag-${l}-start-page-number" data-ref="lbCurrent" class="ag-paging-number"></span>
                        <span id="ag-${l}-of-page">${n}</span>
                        <span id="ag-${l}-of-page-number" data-ref="lbTotal" class="ag-paging-number"></span>
                    </span>
                    <div data-ref="btNext" class="ag-button ag-paging-button" role="button" aria-label="${o}"></div>
                    <div data-ref="btLast" class="ag-button ag-paging-button" role="button" aria-label="${a}"></div>
                </span>
            </div>`}onBtNext(){this.nextButtonDisabled||this.paginationService.goToNextPage()}onBtPrevious(){this.previousAndFirstButtonsDisabled||this.paginationService.goToPreviousPage()}onBtLast(){this.lastButtonDisabled||this.paginationService.goToLastPage()}enableOrDisableButtons(){const e=this.paginationService.getCurrentPage(),t=this.rowModel.isLastRowIndexKnown(),r=this.paginationService.getTotalPages();this.previousAndFirstButtonsDisabled=e===0,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);const n=this.isZeroPagesToDisplay(),i=e===r-1;this.nextButtonDisabled=i||n,this.lastButtonDisabled=!t||n||e===r-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)}toggleButtonDisabled(e,t){SI(e,t),e.classList.toggle("ag-disabled",t)}isZeroPagesToDisplay(){const e=this.rowModel.isLastRowIndexKnown(),t=this.paginationService.getTotalPages();return e&&t===0}updateLabels(){const e=this.rowModel.isLastRowIndexKnown(),t=this.paginationService.getTotalPages(),r=this.paginationService.getMasterRowCount(),n=e?r:null;if(n===1){const m=this.rowModel.getRow(0);if(m&&m.group&&!(m.groupData||m.aggData)){this.setTotalLabelsToZero();return}}const i=this.paginationService.getCurrentPage(),s=this.paginationService.getPageSize();let o,a;this.isZeroPagesToDisplay()?o=a=0:(o=s*i+1,a=o+s-1,e&&a>n&&(a=n));const l=o+s-1,c=!e&&r<l,u=this.formatNumber(o);this.lbFirstRowOnPage.textContent=u;let f;const d=this.localeService.getLocaleTextFunc();c?f=d("pageLastRowUnknown","?"):f=this.formatNumber(a),this.lbLastRowOnPage.textContent=f;const g=t>0?i+1:0,v=this.formatNumber(g);this.lbCurrent.textContent=v;let p,y;if(e)p=this.formatNumber(t),y=this.formatNumber(n);else{const m=d("more","more");p=m,y=m}this.lbTotal.textContent=p,this.lbRecordCount.textContent=y,this.announceAriaStatus(u,f,y,v,p)}announceAriaStatus(e,t,r,n,i){const s=this.localeService.getLocaleTextFunc(),o=s("page","Page"),a=s("to","to"),l=s("of","of"),c=`${e} ${a} ${t} ${l} ${r}`,u=`${o} ${n} ${l} ${i}`;c!==this.ariaRowStatus&&(this.ariaRowStatus=c,this.ariaAnnouncementService.announceValue(c,"paginationRow")),u!==this.ariaPageStatus&&(this.ariaPageStatus=u,this.ariaAnnouncementService.announceValue(u,"paginationPage"))}setTotalLabelsToZero(){const e=this.formatNumber(0);this.lbFirstRowOnPage.textContent=e,this.lbCurrent.textContent=e,this.lbLastRowOnPage.textContent=e,this.lbTotal.textContent=e,this.lbRecordCount.textContent=e,this.announceAriaStatus(e,e,e,e,e)}},yG={selector:"AG-PAGINATION",component:vG},bG=class extends Re{constructor(){super(...arguments),this.beanName="paginationService",this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=0,this.masterRowCount=0}wireBeans(e){this.rowModel=e.rowModel,this.pageBoundsService=e.pageBoundsService}postConstruct(){this.active=this.gos.get("pagination"),this.pageSizeFromGridOptions=this.gos.get("paginationPageSize"),this.paginateChildRows=this.isPaginateChildRows(),this.addManagedPropertyListener("pagination",this.onPaginationGridOptionChanged.bind(this)),this.addManagedPropertyListener("paginationPageSize",this.onPageSizeGridOptionChanged.bind(this))}getPaginationSelector(){return yG}isPaginateChildRows(){return this.gos.get("groupRemoveSingleChildren")||this.gos.get("groupRemoveLowestSingleChildren")?!0:this.gos.get("paginateChildRows")}onPaginationGridOptionChanged(){this.active=this.gos.get("pagination"),this.calculatePages(),this.dispatchPaginationChangedEvent({keepRenderedRows:!0})}onPageSizeGridOptionChanged(){this.setPageSize(this.gos.get("paginationPageSize"),"gridOptions")}goToPage(e){!this.active||this.currentPage===e||typeof this.currentPage!="number"||(this.currentPage=e,this.calculatePages(),this.dispatchPaginationChangedEvent({newPage:!0}))}isRowPresent(e){return e.rowIndex>=this.topDisplayedRowIndex&&e.rowIndex<=this.bottomDisplayedRowIndex}getPageForIndex(e){return Math.floor(e/this.pageSize)}goToPageWithIndex(e){if(!this.active)return;const t=this.getPageForIndex(e);this.goToPage(t)}isRowInPage(e){return this.active?this.getPageForIndex(e.rowIndex)===this.currentPage:!0}getCurrentPage(){return this.currentPage}goToNextPage(){this.goToPage(this.currentPage+1)}goToPreviousPage(){this.goToPage(this.currentPage-1)}goToFirstPage(){this.goToPage(0)}goToLastPage(){const e=this.rowModel.getRowCount(),t=Math.floor(e/this.pageSize);this.goToPage(t)}getPageSize(){return this.pageSize}getTotalPages(){return this.totalPages}setPage(e){this.currentPage=e}get pageSize(){return je(this.pageSizeAutoCalculated)?this.pageSizeAutoCalculated:je(this.pageSizeFromPageSizeSelector)?this.pageSizeFromPageSizeSelector:je(this.pageSizeFromInitialState)?this.pageSizeFromInitialState:je(this.pageSizeFromGridOptions)?this.pageSizeFromGridOptions:this.defaultPageSize}calculatePages(){this.active?this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly():this.calculatedPagesNotActive(),this.pageBoundsService.calculateBounds(this.topDisplayedRowIndex,this.bottomDisplayedRowIndex)}unsetAutoCalculatedPageSize(){if(this.pageSizeAutoCalculated===void 0)return;const e=this.pageSizeAutoCalculated;this.pageSizeAutoCalculated=void 0,this.pageSize!==e&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0}))}setPageSize(e,t){const r=this.pageSize;switch(t){case"autoCalculated":this.pageSizeAutoCalculated=e;break;case"pageSizeSelector":this.pageSizeFromPageSizeSelector=e,this.currentPage!==0&&this.goToFirstPage();break;case"initialState":this.pageSizeFromInitialState=e;break;case"gridOptions":this.pageSizeFromGridOptions=e,this.pageSizeFromInitialState=void 0,this.pageSizeFromPageSizeSelector=void 0,this.currentPage!==0&&this.goToFirstPage();break}r!==this.pageSize&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0,keepRenderedRows:!0}))}setZeroRows(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0}adjustCurrentPageIfInvalid(){this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!isFinite(this.currentPage)||isNaN(this.currentPage)||this.currentPage<0)&&(this.currentPage=0)}calculatePagesMasterRowsOnly(){if(this.masterRowCount=this.rowModel.getTopLevelRowCount(),this.masterRowCount<=0){this.setZeroRows();return}const e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.adjustCurrentPageIfInvalid();const t=this.pageSize*this.currentPage;let r=this.pageSize*(this.currentPage+1)-1;if(r>e&&(r=e),this.topDisplayedRowIndex=this.rowModel.getTopLevelRowDisplayedIndex(t),r===e)this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1;else{const n=this.rowModel.getTopLevelRowDisplayedIndex(r+1);this.bottomDisplayedRowIndex=n-1}}getMasterRowCount(){return this.masterRowCount}calculatePagesAllRows(){if(this.masterRowCount=this.rowModel.getRowCount(),this.masterRowCount===0){this.setZeroRows();return}const e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.adjustCurrentPageIfInvalid(),this.topDisplayedRowIndex=this.pageSize*this.currentPage,this.bottomDisplayedRowIndex=this.pageSize*(this.currentPage+1)-1,this.bottomDisplayedRowIndex>e&&(this.bottomDisplayedRowIndex=e)}calculatedPagesNotActive(){this.setPageSize(void 0,"autoCalculated"),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1}dispatchPaginationChangedEvent(e){const{keepRenderedRows:t=!1,newPage:r=!1,newPageSize:n=!1}=e;this.eventService.dispatchEvent({type:"paginationChanged",animate:!1,newData:!1,newPage:r,newPageSize:n,keepRenderedRows:t})}},p4={version:vt,moduleName:"@ag-grid-community/pagination-core",beans:[bG,fG]},wG={version:vt,moduleName:"@ag-grid-community/pagination-api",dependantModules:[p4],apiFunctions:{paginationIsLastPageFound:nG,paginationGetPageSize:iG,paginationGetCurrentPage:sG,paginationGetTotalPages:oG,paginationGetRowCount:aG,paginationGoToNextPage:lG,paginationGoToPreviousPage:cG,paginationGoToFirstPage:uG,paginationGoToLastPage:dG,paginationGoToPage:hG}},CG={version:vt,moduleName:"@ag-grid-community/pagination",dependantModules:[p4,wG]},En="clientSide",fn="serverSide",ba="infinite",SG={onGroupExpandedOrCollapsed:[En],refreshClientSideRowModel:[En],forEachLeafNode:[En],forEachNodeAfterFilter:[En],forEachNodeAfterFilterAndSort:[En],resetRowHeights:[En],applyTransaction:[En],applyTransactionAsync:[En],flushAsyncTransactions:[En],getBestCostNodeSelection:[En],getServerSideSelectionState:[fn],setServerSideSelectionState:[fn],applyServerSideTransaction:[fn],applyServerSideTransactionAsync:[fn],applyServerSideRowData:[fn],retryServerSideLoads:[fn],flushServerSideAsyncTransactions:[fn],refreshServerSide:[fn],getServerSideGroupLevelState:[fn],refreshInfiniteCache:[ba],purgeInfiniteCache:[ba],getInfiniteRowCount:[ba],isLastRowIndexKnown:[ba],expandAll:[En,fn],collapseAll:[En,fn],onRowHeightChanged:[En,fn],setRowCount:[ba,fn],getCacheBlockState:[ba,fn]},xG={getValue:{version:"v31.3",new:"getCellValue"},getFirstDisplayedRow:{version:"v31.1",new:"getFirstDisplayedRowIndex"},getLastDisplayedRow:{version:"v31.1",new:"getLastDisplayedRowIndex"},getModel:{version:"v31.1",message:"Please use the appropriate grid API methods instead."},setColumnVisible:{version:"v31.1",old:"setColumnVisible(key,visible)",new:"setColumnsVisible([key],visible)"},setColumnPinned:{version:"v31.1",old:"setColumnPinned(key,pinned)",new:"setColumnsPinned([key],pinned)"},moveColumn:{version:"v31.1",old:"moveColumn(key, toIndex)",new:"moveColumns([key], toIndex)"},setColumnWidth:{version:"v31.1",old:"setColumnWidth(col, width)",new:"setColumnWidths([{key: col, newWidth: width}])"},autoSizeColumn:{version:"v31.1",old:"autoSizeColumn(key, skipHeader)",new:"autoSizeColumns([key], skipHeader)"},addAggFunc:{version:"v31.1",old:"addAggFunc(key, func)",new:"addAggFuncs({ key: func })"},removeValueColumn:{version:"v31.1",old:"removeValueColumn(colKey)",new:"removeValueColumns([colKey])"},addValueColumn:{version:"v31.1",old:"addValueColumn(colKey)",new:"addValueColumns([colKey])"},removeRowGroupColumn:{version:"v31.1",old:"removeRowGroupColumn(colKey)",new:"removeRowGroupColumns([colKey])"},addRowGroupColumn:{version:"v31.1",old:"addRowGroupColumn(colKey)",new:"addRowGroupColumns([colKey])"},removePivotColumn:{version:"v31.1",old:"removePivotColumn(colKey)",new:"removePivotColumns([colKey])"},addPivotColumn:{version:"v31.1",old:"addPivotColumn(colKey)",new:"addPivotColumns([colKey])"},showColumnMenuAfterButtonClick:{version:"v31.1",message:"Use 'IHeaderParams.showColumnMenu' within a header component, or 'api.showColumnMenu' elsewhere."},showColumnMenuAfterMouseClick:{version:"v31.1",message:"Use 'IHeaderParams.showColumnMenuAfterMouseClick' within a header component, or 'api.showColumnMenu' elsewhere."},getFilterInstance:{version:"v31.1",message:"'getFilterInstance' is deprecated. To get/set individual filter models, use 'getColumnFilterModel' or 'setColumnFilterModel' instead. To get hold of the filter instance, use 'getColumnFilterInstance' which returns the instance asynchronously."},showLoadingOverlay:{version:"v32",message:'`showLoadingOverlay` is deprecated. Use the grid option "loading"=true instead or setGridOption("loading", true).'}};function RG(e,t,r){const n=xG[e];if(n){const{version:s,new:o,old:a,message:l}=n,c=a??e;return(...u)=>{const f=o?`Please use ${o} instead. `:"";return ke(`Since ${s} api.${c} is deprecated. ${f}${l??""}`),t.apply(t,u)}}const i=SG[e];return i?(...s)=>{const o=r.rowModel.getType();if(!i.includes(o)){Vt(`api.${e} can only be called when gridOptions.rowModelType is ${i.join(" or ")}`);return}return t.apply(t,s)}:t}var EG={columnsMenuParams:{version:"31.1",message:"Use `columnChooserParams` instead."},suppressMenu:{version:"31.1",message:"Use `suppressHeaderMenuButton` instead."},suppressCellFlash:{version:"31.2",message:"Use `enableCellChangeFlash={false}` in the ColDef"}},_s=(e,t)=>(t.rowModelType??"clientSide")==="clientSide"?{module:"@ag-grid-enterprise/row-grouping"}:null,TG={enableRowGroup:_s,rowGroup:_s,rowGroupIndex:_s,enablePivot:_s,enableValue:_s,pivot:_s,pivotIndex:_s,aggFunc:_s,cellEditor:e=>e.cellEditor==="agRichSelect"||e.cellEditor==="agRichSelectCellEditor"?{module:"@ag-grid-enterprise/rich-select"}:null,menuTabs:e=>{var r;const t=["columnsMenuTab","generalMenuTab"];return(r=e.menuTabs)!=null&&r.some(n=>t.includes(n))?{module:"@ag-grid-enterprise/menu"}:null},columnsMenuParams:{module:["@ag-grid-enterprise/menu","@ag-grid-enterprise/column-tool-panel"]},columnChooserParams:{module:["@ag-grid-enterprise/menu","@ag-grid-enterprise/column-tool-panel"]},headerCheckboxSelection:{supportedRowModels:["clientSide","serverSide"],dependencies:(e,{rowSelection:t})=>t==="multiple"?null:"headerCheckboxSelection is only supported with rowSelection=multiple"},headerCheckboxSelectionFilteredOnly:{supportedRowModels:["clientSide"],dependencies:(e,{rowSelection:t})=>t==="multiple"?null:"headerCheckboxSelectionFilteredOnly is only supported with rowSelection=multiple"},headerCheckboxSelectionCurrentPageOnly:{supportedRowModels:["clientSide"],dependencies:(e,{rowSelection:t})=>t==="multiple"?null:"headerCheckboxSelectionCurrentPageOnly is only supported with rowSelection=multiple"},children:()=>Ua},PG={headerName:void 0,columnGroupShow:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,cellDataType:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellAriaRole:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellEditor:void 0,cellEditorParams:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,tooltipComponentParams:void 0,refData:void 0,columnsMenuParams:void 0,columnChooserParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressCellFlash:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,suppressStickyLabel:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressMenu:void 0,suppressHeaderMenuButton:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0,suppressSpanHeaderHeight:void 0,useValueFormatterForExport:void 0,useValueParserForImport:void 0,mainMenuItems:void 0,contextMenuItems:void 0,suppressFloatingFilterButton:void 0,suppressHeaderFilterButton:void 0,suppressHeaderContextMenu:void 0,loadingCellRenderer:void 0,loadingCellRendererParams:void 0,loadingCellRendererSelector:void 0,context:void 0},_G=Object.keys(PG),Ua={objectName:"colDef",allProperties:_G,docsUrl:"column-properties/",deprecations:EG,validations:TG},MG=()=>({advancedFilterModel:{version:"31",message:"Use `initialState.filter.advancedFilterModel` instead."},suppressAsyncEvents:{version:"31",message:"Events should be handled asynchronously."},cellFadeDelay:{version:"31.1",renamed:"cellFadeDuration"},cellFlashDelay:{version:"31.1",renamed:"cellFlashDuration"},suppressServerSideInfiniteScroll:{version:"31.1"},serverSideSortOnServer:{version:"31.1"},serverSideFilterOnServer:{version:"31.1"},enableCellChangeFlash:{version:"31.2",message:"Use `enableCellChangeFlash` in the `ColDef` or `defaultColDef` for all columns."},groupIncludeFooter:{version:"31.3",message:"Use `groupTotalRow` instead."},groupIncludeTotalFooter:{version:"31.3",message:"Use `grandTotalRow` instead."},suppressLoadingOverlay:{version:"32",message:"Use `loading`=false instead."}}),kG={suppressContextMenu:!1,preventDefaultOnContextMenu:!1,allowContextMenuWithControlKey:!1,suppressMenuHide:!0,enableBrowserTooltips:!1,tooltipTrigger:"hover",tooltipShowDelay:2e3,tooltipHideDelay:1e4,tooltipMouseTrack:!1,tooltipShowMode:"standard",tooltipInteraction:!1,copyHeadersToClipboard:!1,copyGroupHeadersToClipboard:!1,clipboardDelimiter:"	",suppressCopyRowsToClipboard:!1,suppressCopySingleCellRanges:!1,suppressLastEmptyLineOnPaste:!1,suppressClipboardPaste:!1,suppressClipboardApi:!1,suppressCutToClipboard:!1,maintainColumnOrder:!1,suppressFieldDotNotation:!1,allowDragFromColumnsToolPanel:!1,suppressMovableColumns:!1,suppressColumnMoveAnimation:!1,suppressDragLeaveHidesColumns:!1,suppressRowGroupHidesColumns:!1,suppressAutoSize:!1,autoSizePadding:20,skipHeaderOnAutoSize:!1,singleClickEdit:!1,suppressClickEdit:!1,readOnlyEdit:!1,stopEditingWhenCellsLoseFocus:!1,enterNavigatesVertically:!1,enterNavigatesVerticallyAfterEdit:!1,enableCellEditingOnBackspace:!1,undoRedoCellEditing:!1,undoRedoCellEditingLimit:10,suppressCsvExport:!1,suppressExcelExport:!1,cacheQuickFilter:!1,includeHiddenColumnsInQuickFilter:!1,excludeChildrenWhenTreeDataFiltering:!1,enableAdvancedFilter:!1,includeHiddenColumnsInAdvancedFilter:!1,enableCharts:!1,masterDetail:!1,keepDetailRows:!1,keepDetailRowsCount:10,detailRowAutoHeight:!1,tabIndex:0,rowBuffer:10,valueCache:!1,valueCacheNeverExpires:!1,enableCellExpressions:!1,suppressTouch:!1,suppressFocusAfterRefresh:!1,suppressAsyncEvents:!1,suppressBrowserResizeObserver:!1,suppressPropertyNamesCheck:!1,suppressChangeDetection:!1,debug:!1,suppressLoadingOverlay:!1,suppressNoRowsOverlay:!1,pagination:!1,paginationPageSize:100,paginationPageSizeSelector:!0,paginationAutoPageSize:!1,paginateChildRows:!1,suppressPaginationPanel:!1,pivotMode:!1,pivotPanelShow:"never",pivotDefaultExpanded:0,pivotSuppressAutoColumn:!1,suppressExpandablePivotGroups:!1,functionsReadOnly:!1,suppressAggFuncInHeader:!1,alwaysAggregateAtRootLevel:!1,aggregateOnlyChangedColumns:!1,suppressAggFilteredOnly:!1,removePivotHeaderRowWhenSingleValueColumn:!1,animateRows:!0,enableCellChangeFlash:!1,cellFlashDelay:500,cellFlashDuration:500,cellFadeDelay:1e3,cellFadeDuration:1e3,allowShowChangeAfterFilter:!1,domLayout:"normal",ensureDomOrder:!1,enableRtl:!1,suppressColumnVirtualisation:!1,suppressMaxRenderedRowRestriction:!1,suppressRowVirtualisation:!1,rowDragManaged:!1,suppressRowDrag:!1,suppressMoveWhenRowDragging:!1,rowDragEntireRow:!1,rowDragMultiRow:!1,embedFullWidthRows:!1,groupDisplayType:"singleColumn",groupDefaultExpanded:0,groupMaintainOrder:!1,groupSelectsChildren:!1,groupIncludeTotalFooter:!1,groupSuppressBlankHeader:!1,groupSelectsFiltered:!1,showOpenedGroup:!1,groupRemoveSingleChildren:!1,groupRemoveLowestSingleChildren:!1,groupHideOpenParents:!1,groupAllowUnbalanced:!1,rowGroupPanelShow:"never",suppressMakeColumnVisibleAfterUnGroup:!1,treeData:!1,rowGroupPanelSuppressSort:!1,suppressGroupRowsSticky:!1,rowModelType:"clientSide",asyncTransactionWaitMillis:50,suppressModelUpdateAfterUpdateTransaction:!1,cacheOverflowSize:1,infiniteInitialRowCount:1,serverSideInitialRowCount:1,suppressServerSideInfiniteScroll:!1,cacheBlockSize:100,maxBlocksInCache:-1,maxConcurrentDatasourceRequests:2,blockLoadDebounceMillis:0,purgeClosedRowNodes:!1,serverSideSortAllLevels:!1,serverSideOnlyRefreshFilteredGroups:!1,serverSideSortOnServer:!1,serverSideFilterOnServer:!1,serverSidePivotResultFieldSeparator:"_",viewportRowModelPageSize:5,viewportRowModelBufferSize:5,alwaysShowHorizontalScroll:!1,alwaysShowVerticalScroll:!1,debounceVerticalScrollbar:!1,suppressHorizontalScroll:!1,suppressScrollOnNewData:!1,suppressScrollWhenPopupsAreOpen:!1,suppressAnimationFrame:!1,suppressMiddleClickScrolls:!1,suppressPreventDefaultOnMouseWheel:!1,rowMultiSelectWithClick:!1,suppressRowDeselection:!1,suppressRowClickSelection:!1,suppressCellFocus:!1,suppressHeaderFocus:!1,suppressMultiRangeSelection:!1,enableCellTextSelection:!1,enableRangeSelection:!1,enableRangeHandle:!1,enableFillHandle:!1,fillHandleDirection:"xy",suppressClearOnFillReduction:!1,accentedSort:!1,unSortIcon:!1,suppressMultiSort:!1,alwaysMultiSort:!1,suppressMaintainUnsortedOrder:!1,suppressRowHoverHighlight:!1,suppressRowTransform:!1,columnHoverHighlight:!1,deltaSort:!1,enableGroupEdit:!1,suppressGroupMaintainValueType:!1,groupLockGroupColumns:0,serverSideEnableClientSideSort:!1,suppressServerSideFullWidthLoadingRow:!1,pivotMaxGeneratedColumns:-1,columnMenu:"new",reactiveCustomComponents:!0},FG=()=>({sideBar:{module:"@ag-grid-enterprise/side-bar"},statusBar:{module:"@ag-grid-enterprise/status-bar"},enableCharts:{module:"@ag-grid-enterprise/charts"},getMainMenuItems:{module:"@ag-grid-enterprise/menu"},getContextMenuItems:{module:"@ag-grid-enterprise/menu"},allowContextMenuWithControlKey:{module:"@ag-grid-enterprise/menu"},enableAdvancedFilter:{module:"@ag-grid-enterprise/advanced-filter"},treeData:{supportedRowModels:["clientSide","serverSide"],module:"@ag-grid-enterprise/row-grouping",dependencies:e=>{const t=e.rowModelType??"clientSide";switch(t){case"clientSide":{const r=`treeData requires 'getDataPath' in the ${t} row model.`;return e.getDataPath?null:r}case"serverSide":{const r=`treeData requires 'isServerSideGroup' and 'getServerSideGroupKey' in the ${t} row model.`;return e.isServerSideGroup&&e.getServerSideGroupKey?null:r}}return null}},masterDetail:{module:"@ag-grid-enterprise/master-detail"},enableRangeSelection:{module:"@ag-grid-enterprise/range-selection"},enableRangeHandle:{dependencies:{enableRangeSelection:[!0]}},enableFillHandle:{dependencies:{enableRangeSelection:[!0]}},groupDefaultExpanded:{supportedRowModels:["clientSide"]},groupIncludeFooter:{supportedRowModels:["clientSide","serverSide"],dependencies:e=>{switch(e.rowModelType??"clientSide"){case"clientSide":return null;case"serverSide":{const r="groupIncludeFooter is not supported alongside suppressServerSideInfiniteScroll";return e.suppressServerSideInfiniteScroll?r:null}}return null}},groupHideOpenParents:{supportedRowModels:["clientSide","serverSide"],dependencies:{groupTotalRow:[void 0,"bottom"]}},groupIncludeTotalFooter:{supportedRowModels:["clientSide"]},groupRemoveSingleChildren:{dependencies:{groupHideOpenParents:[void 0,!1],groupRemoveLowestSingleChildren:[void 0,!1]}},groupRemoveLowestSingleChildren:{dependencies:{groupHideOpenParents:[void 0,!1],groupRemoveSingleChildren:[void 0,!1]}},groupSelectsChildren:{dependencies:{rowSelection:["multiple"]}},viewportDatasource:{supportedRowModels:["viewport"],module:"@ag-grid-enterprise/viewport-row-model"},serverSideDatasource:{supportedRowModels:["serverSide"],module:"@ag-grid-enterprise/server-side-row-model"},cacheBlockSize:{supportedRowModels:["serverSide","infinite"]},datasource:{supportedRowModels:["infinite"],module:"@ag-grid-community/infinite-row-model"},rowData:{supportedRowModels:["clientSide"],module:"@ag-grid-community/client-side-row-model"},columnDefs:()=>Ua,defaultColDef:()=>Ua,defaultColGroupDef:()=>Ua,autoGroupColumnDef:()=>Ua}),AG=()=>({objectName:"gridOptions",allProperties:[...pu.ALL_PROPERTIES,...gu.EVENT_CALLBACKS],propertyExceptions:["api"],docsUrl:"grid-options/",deprecations:MG(),validations:FG()}),OG=class extends Re{constructor(){super(...arguments),this.beanName="validationService"}wireBeans(e){this.beans=e,this.gridOptions=e.gridOptions}postConstruct(){this.processGridOptions(this.gridOptions)}processGridOptions(e){this.processOptions(e,AG())}processColumnDefs(e){this.processOptions(e,Ua)}validateApiFunction(e,t){return RG(e,t,this.beans)}processOptions(e,t){const{validations:r,deprecations:n,allProperties:i,propertyExceptions:s,objectName:o,docsUrl:a}=t;i&&this.gridOptions.suppressPropertyNamesCheck!==!0&&this.checkProperties(e,[...s??[],...Object.keys(n)],i,o,a);const l=new Set;Object.keys(e).forEach(u=>{const f=n[u];if(f)if("renamed"in f){const{renamed:m,version:b}=f;l.add(`As of v${b}, ${String(u)} is deprecated. Please use ${String(m)} instead.`),e[m]=e[u]}else{const{message:m,version:b}=f;l.add(`As of v${b}, ${String(u)} is deprecated. ${m??""}`)}const d=e[u];if(d==null||d===!1)return;const h=r[u];let g;if(h)if(typeof h=="function"){const m=h(e,this.gridOptions);if(!m)return;if("objectName"in m){const b=e[u];if(Array.isArray(b)){b.forEach(x=>{this.processOptions(x,m)});return}this.processOptions(e[u],m);return}g=m}else g=h;else return;const{module:v,dependencies:p,supportedRowModels:y}=g;if(y){const m=this.gridOptions.rowModelType??"clientSide";if(!y.includes(m)){l.add(`${String(u)} is not supported with the '${m}' row model.`);return}}if(v){const m=Array.isArray(v)?v:[v];let b=!0;if(m.forEach(x=>{Zr.__assertRegistered(x,String(u),this.gridId)||(b=!1,l.add(`${String(u)} is only available when ${x} is loaded.`))}),!b)return}if(p){const m=this.checkForWarning(u,p,e);if(m){l.add(m);return}}}),l.size>0&&l.forEach(u=>{ke(u)})}checkForWarning(e,t,r){if(typeof t=="function")return t(r,this.gridOptions);const i=Object.entries(t).find(([a,l])=>{const c=r[a];return!l.includes(c)});if(!i)return null;const[s,o]=i;return o.length>1?`'${String(e)}' requires '${s}' to be one of [${o.join(", ")}].`:`'${String(e)}' requires '${s}' to be ${o[0]}.`}checkProperties(e,t,r,n,i){const s=["__ob__","__v_skip","__metadata__"],o=c7(Object.getOwnPropertyNames(e),[...s,...t,...r],r);if(bi(o,(a,l)=>{let c=`invalid ${n} property '${a}' did you mean any of these: ${l.slice(0,8).join(", ")}.`;r.includes("context")&&(c+=`
If you are trying to annotate ${n} with application data, use the '${n}.context' property instead.`),ke(c)}),Object.keys(o).length>0&&i){const a=this.getFrameworkOverrides().getDocLink(i);ke(`to see all the valid ${n} properties please check: ${a}`)}}},DG={version:vt,moduleName:"@ag-grid-community/core"},IG={version:vt,moduleName:"@ag-grid-community/core-validations",beans:[OG]},g4={version:vt,moduleName:"@ag-grid-community/core-community-features",dependantModules:[DG,IG,QL,$9,rG,FB,Hj,CG,ZH]},NG=class extends Re{constructor(){super(...arguments),this.beanName="gridDestroyService",this.destroyCalled=!1}wireBeans(e){this.beans=e}destroy(){var e,t;this.destroyCalled||(this.eventService.dispatchEvent({type:"gridPreDestroyed",state:((e=this.beans.stateService)==null?void 0:e.getState())??{}}),this.destroyCalled=!0,(t=this.beans.ctrlsService.get("gridCtrl"))==null||t.destroyGridUi(),this.beans.context.destroy(),super.destroy())}isDestroyCalled(){return this.destroyCalled}},nh=new Set(["gridPreDestroyed","fillStart","pasteStart"]),LG=e=>e==="checkboxSelected"||e==="rowClicked"||e==="spaceKey"||e==="uiSelectAll"||e==="uiSelectAllCurrentPage"||e==="uiSelectAllFiltered",jG=new Map([...pu.BOOLEAN_PROPERTIES.map(e=>[e,tv]),...pu.NUMBER_PROPERTIES.map(e=>[e,OR]),["groupAggFiltering",e=>typeof e=="function"?e:tv(e)],["pageSize",ki(1)],["autoSizePadding",ki(0)],["keepDetailRowsCount",ki(1)],["rowBuffer",ki(0)],["infiniteInitialRowCount",ki(1)],["cacheOverflowSize",ki(1)],["cacheBlockSize",ki(1)],["serverSideInitialRowCount",ki(1)],["viewportRowModelPageSize",ki(1)],["viewportRowModelBufferSize",ki(0)]]);function m4(e,t){const r=jG.get(e);return r?r(t):t}function BG(e){const t={};return Object.entries(e).forEach(([r,n])=>{const i=m4(r,n);t[r]=i}),t}var v4=class y4 extends Re{constructor(){super(...arguments),this.beanName="gos",this.domDataKey="__AG_"+Math.random().toString(),this.propertyEventService=new Nl,this.globalEventHandlerFactory=t=>(r,n)=>{if(!this.isAlive())return;const i=nh.has(r);if(i&&!t||!i&&t)return;const s=gu.getCallbackForEvent(r),o=this.gridOptions[s];typeof o=="function"&&this.frameworkOverrides.wrapOutgoing(()=>{o(n)})}}wireBeans(t){this.gridOptions=t.gridOptions,this.eGridDiv=t.eGridDiv,this.validationService=t.validationService,this.environment=t.environment,this.api=t.gridApi}get gridOptionsContext(){return this.gridOptions.context}postConstruct(){const t=!this.get("suppressAsyncEvents");this.eventService.addGlobalListener(this.globalEventHandlerFactory().bind(this),t),this.eventService.addGlobalListener(this.globalEventHandlerFactory(!0).bind(this),!1),this.propertyEventService.setFrameworkOverrides(this.frameworkOverrides),this.getScrollbarWidth(),this.addManagedEventListeners({gridOptionsChanged:({options:r})=>{this.updateGridOptions({options:r,force:!0,source:"gridOptionsUpdated"})}})}get(t){return this.gridOptions[t]??kG[t]}getCallback(t){return this.mergeGridCommonParams(this.gridOptions[t])}exists(t){return je(this.gridOptions[t])}mergeGridCommonParams(t){return t&&(n=>{const i=n;return i.api=this.api,i.context=this.gridOptionsContext,t(i)})}updateGridOptions({options:t,force:r,source:n="api"}){var o;const i={id:y4.changeSetId++,properties:[]},s=[];Object.entries(t).forEach(([a,l])=>{n==="api"&&gI[a]&&ke(`${a} is an initial property and cannot be updated.`);const c=m4(a,l),u=r||typeof c=="object"&&n==="api",f=this.gridOptions[a];if(u||f!==c){this.gridOptions[a]=c;const d={type:a,currentValue:c,previousValue:f,changeSet:i,source:n};s.push(d)}}),(o=this.validationService)==null||o.processGridOptions(this.gridOptions),i.properties=s.map(a=>a.type),s.forEach(a=>{this.gridOptions.debug&&Si(`Updated property ${a.type} from`,a.previousValue," to ",a.currentValue),this.propertyEventService.dispatchEvent(a)})}addPropertyEventListener(t,r){this.propertyEventService.addEventListener(t,r)}removePropertyEventListener(t,r){this.propertyEventService.removeEventListener(t,r)}getScrollbarWidth(){if(this.scrollbarWidth==null){const r=typeof this.gridOptions.scrollbarWidth=="number"&&this.gridOptions.scrollbarWidth>=0?this.gridOptions.scrollbarWidth:II();r!=null&&(this.scrollbarWidth=r,this.eventService.dispatchEvent({type:"scrollbarWidthChanged"}))}return this.scrollbarWidth}isRowModelType(t){return this.gridOptions.rowModelType===t||t==="clientSide"&&_t(this.gridOptions.rowModelType)}isDomLayout(t){return(this.gridOptions.domLayout??"normal")===t}isRowSelection(){return this.gridOptions.rowSelection==="single"||this.gridOptions.rowSelection==="multiple"}useAsyncEvents(){return!this.get("suppressAsyncEvents")}isGetRowHeightFunction(){return typeof this.gridOptions.getRowHeight=="function"}getRowHeightForNode(t,r=!1,n){if(n==null&&(n=this.environment.getDefaultRowHeight()),this.isGetRowHeightFunction()){if(r)return{height:n,estimated:!0};const s={node:t,data:t.data},o=this.getCallback("getRowHeight")(s);if(this.isNumeric(o))return o===0&&ke("The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead."),{height:Math.max(1,o),estimated:!1}}return t.detail&&this.get("masterDetail")?this.getMasterDetailRowHeight():{height:this.gridOptions.rowHeight&&this.isNumeric(this.gridOptions.rowHeight)?this.gridOptions.rowHeight:n,estimated:!1}}getMasterDetailRowHeight(){return this.get("detailRowAutoHeight")?{height:1,estimated:!1}:this.isNumeric(this.gridOptions.detailRowHeight)?{height:this.gridOptions.detailRowHeight,estimated:!1}:{height:300,estimated:!1}}getRowHeightAsNumber(){if(!this.gridOptions.rowHeight||_t(this.gridOptions.rowHeight))return this.environment.getDefaultRowHeight();const t=this.environment.refreshRowHeightVariable();return t!==-1?t:(ke("row height must be a number if not using standard row model"),this.environment.getDefaultRowHeight())}isNumeric(t){return!isNaN(t)&&typeof t=="number"&&isFinite(t)}getDomDataKey(){return this.domDataKey}getDomData(t,r){const n=t[this.getDomDataKey()];return n?n[r]:void 0}setDomData(t,r,n){const i=this.getDomDataKey();let s=t[i];_t(s)&&(s={},t[i]=s),s[r]=n}getDocument(){let t=null;return this.gridOptions.getDocument&&je(this.gridOptions.getDocument)?t=this.gridOptions.getDocument():this.eGridDiv&&(t=this.eGridDiv.ownerDocument),t&&je(t)?t:document}getWindow(){return this.getDocument().defaultView||window}getRootNode(){return this.eGridDiv.getRootNode()}getActiveDomElement(){return this.getRootNode().activeElement}isNothingFocused(){const t=this.getDocument(),r=this.getActiveDomElement();return r===null||r===t.body}getAsyncTransactionWaitMillis(){return je(this.gridOptions.asyncTransactionWaitMillis)?this.gridOptions.asyncTransactionWaitMillis:50}isAnimateRows(){return this.get("ensureDomOrder")?!1:this.get("animateRows")}isGroupRowsSticky(){return!(this.get("paginateChildRows")||this.get("groupHideOpenParents")||this.isDomLayout("print"))}isColumnsSortingCoupledToGroup(){const t=this.gridOptions.autoGroupColumnDef;return!(t!=null&&t.comparator)&&!this.get("treeData")}getGroupAggFiltering(){const t=this.gridOptions.groupAggFiltering;if(typeof t=="function")return this.getCallback("groupAggFiltering");if(t===!0)return()=>!0}getGrandTotalRow(){const t=this.gridOptions.grandTotalRow;if(t)return t;if(this.gridOptions.groupIncludeTotalFooter)return"bottom"}getGroupTotalRowCallback(){const t=this.get("groupTotalRow");if(typeof t=="function")return this.getCallback("groupTotalRow");if(t)return()=>t;const r=this.get("groupIncludeFooter");if(typeof r=="function"){const n=this.getCallback("groupIncludeFooter");return i=>n(i)?"bottom":void 0}return()=>r?"bottom":void 0}isGroupMultiAutoColumn(){return this.gridOptions.groupDisplayType?this.gridOptions.groupDisplayType==="multipleColumns":this.get("groupHideOpenParents")}isGroupUseEntireRow(t){return t?!1:this.gridOptions.groupDisplayType==="groupRows"}getGridCommonParams(){return{api:this.api,context:this.gridOptionsContext}}addGridCommonParams(t){const r=t;return r.api=this.api,r.context=this.gridOptionsContext,r}getRowIdCallback(){const t=this.getCallback("getRowId");return t===void 0?t:r=>{let n=t(r);return typeof n!="string"&&(ke("The getRowId callback must return a string. The ID ",n," is being cast to a string."),n=String(n)),n}}};v4.changeSetId=0;var HG=v4,GG=class extends Re{constructor(){super(...arguments),this.beanName="headerPositionUtils"}wireBeans(e){this.visibleColsService=e.visibleColsService,this.ctrlsService=e.ctrlsService}findHeader(e,t){let r,n;if(Cr(e.column)?r=this.visibleColsService.getGroupAtDirection(e.column,t):(n=`getCol${t}`,r=this.visibleColsService[n](e.column)),!r)return;const{headerRowIndex:i}=e;if(this.getHeaderRowType(i)!=="filter"){const a=[r];for(;r.getParent();)r=r.getParent(),a.push(r);r=a[a.length-1-i]}const{column:s,headerRowIndex:o}=this.getHeaderIndexToFocus(r,i);return{column:s,headerRowIndex:o}}getHeaderIndexToFocus(e,t){let r;if(Cr(e)&&this.isAnyChildSpanningHeaderHeight(e)&&e.isPadding()){const n=e;r=n.getLeafColumns()[0];let i=r;for(;i!==n;)t++,i=i.getParent()}return{column:r||e,headerRowIndex:t}}isAnyChildSpanningHeaderHeight(e){return e?e.getLeafColumns().some(t=>t.isSpanHeaderHeight()):!1}getColumnVisibleParent(e,t){const r=this.getHeaderRowType(t),n=r==="filter",i=r==="column";let s=n?e:e.getParent(),o=t-1,a=o;if(i&&this.isAnyChildSpanningHeaderHeight(e.getParent())){for(;s&&s.isPadding();)s=s.getParent(),o--;a=o,o<0&&(s=e,o=t,a=void 0)}return{column:s,headerRowIndex:o,headerRowIndexWithoutSpan:a}}getColumnVisibleChild(e,t,r="After"){const n=this.getHeaderRowType(t);let i=e,s=t+1;const o=s;if(n==="group"){const a=e.getDisplayedLeafColumns(),l=r==="After"?a[0]:Ot(a),c=[];let u=l;for(;u.getParent()!==e;)u=u.getParent(),c.push(u);if(i=l,l.isSpanHeaderHeight())for(let f=c.length-1;f>=0;f--){const d=c[f];if(!d.isPadding()){i=d;break}s++}else i=Ot(c),i||(i=l)}return{column:i,headerRowIndex:s,headerRowIndexWithoutSpan:o}}getHeaderRowType(e){const t=this.ctrlsService.getHeaderRowContainerCtrl();if(t)return t.getRowType(e)}findColAtEdgeForHeaderRow(e,t){const r=this.visibleColsService.getAllCols(),n=r[t==="start"?0:r.length-1];if(!n)return;const i=this.ctrlsService.getHeaderRowContainerCtrl(n.getPinned()),s=i==null?void 0:i.getRowType(e);if(s=="group"){const o=this.visibleColsService.getColGroupAtLevel(n,e);return{headerRowIndex:e,column:o}}return{headerRowIndex:s==null?-1:e,column:n}}},VG=class extends Re{constructor(){super(...arguments),this.beanName="localeService"}getLocaleTextFunc(){const e=this.gos.getCallback("getLocaleText");if(e)return(r,n,i)=>e({key:r,defaultValue:n,variableValues:i});const t=this.gos.get("localeText");return(r,n,i)=>{let s=t&&t[r];if(s&&i&&i.length){let o=0;for(;!(o>=i.length||s.indexOf("${variable}")===-1);)s=s.replace("${variable}",i[o++])}return s??n}}},zG=class extends Re{constructor(){super(...arguments),this.beanName="apiEventService",this.syncEventListeners=new Map,this.asyncEventListeners=new Map,this.syncGlobalEventListeners=new Set,this.globalEventListenerPairs=new Map}postConstruct(){this.frameworkEventWrappingService=new Z0(this.getFrameworkOverrides())}addEventListener(e,t){const r=this.frameworkEventWrappingService.wrap(t),n=this.gos.useAsyncEvents()&&!nh.has(e),i=n?this.asyncEventListeners:this.syncEventListeners;i.has(e)||i.set(e,new Set),i.get(e).add(r),this.eventService.addEventListener(e,r,n)}removeEventListener(e,t){var s;const r=this.frameworkEventWrappingService.unwrap(t),n=this.asyncEventListeners.get(e),i=!!(n!=null&&n.delete(r));i||(s=this.syncEventListeners.get(e))==null||s.delete(r),this.eventService.removeEventListener(e,r,i)}addGlobalListener(e){const t=this.frameworkEventWrappingService.wrapGlobal(e);if(this.gos.useAsyncEvents()){const n=(s,o)=>{nh.has(s)&&t(s,o)},i=(s,o)=>{nh.has(s)||t(s,o)};this.globalEventListenerPairs.set(e,{syncListener:n,asyncListener:i}),this.eventService.addGlobalListener(n,!1),this.eventService.addGlobalListener(i,!0)}else this.syncGlobalEventListeners.add(t),this.eventService.addGlobalListener(t,!1)}removeGlobalListener(e){const t=this.frameworkEventWrappingService.unwrapGlobal(e);if(this.globalEventListenerPairs.has(t)){const{syncListener:n,asyncListener:i}=this.globalEventListenerPairs.get(t);this.eventService.removeGlobalListener(n,!1),this.eventService.removeGlobalListener(i,!0),this.globalEventListenerPairs.delete(e)}else this.syncGlobalEventListeners.delete(t),this.eventService.removeGlobalListener(t,!1)}destroyEventListeners(e,t){e.forEach((r,n)=>{r.forEach(i=>this.eventService.removeEventListener(n,i,t)),r.clear()}),e.clear()}destroyGlobalListeners(e,t){e.forEach(r=>this.eventService.removeGlobalListener(r,t)),e.clear()}destroy(){super.destroy(),this.destroyEventListeners(this.syncEventListeners,!1),this.destroyEventListeners(this.asyncEventListeners,!0),this.destroyGlobalListeners(this.syncGlobalEventListeners,!1),this.globalEventListenerPairs.forEach(({syncListener:e,asyncListener:t})=>{this.eventService.removeGlobalListener(e,!1),this.eventService.removeGlobalListener(t,!0)}),this.globalEventListenerPairs.clear()}},WG=class extends Re{constructor(){super(...arguments),this.beanName="pageBoundsListener"}wireBeans(e){this.rowModel=e.rowModel,this.paginationService=e.paginationService,this.pageBoundsService=e.pageBoundsService}postConstruct(){this.addManagedEventListeners({modelUpdated:this.onModelUpdated.bind(this),recalculateRowBounds:this.calculatePages.bind(this)}),this.onModelUpdated()}onModelUpdated(e){this.calculatePages(),this.eventService.dispatchEvent({type:"paginationChanged",animate:(e==null?void 0:e.animate)??!1,newData:(e==null?void 0:e.newData)??!1,newPage:(e==null?void 0:e.newPage)??!1,newPageSize:(e==null?void 0:e.newPageSize)??!1,keepRenderedRows:(e==null?void 0:e.keepRenderedRows)??!1})}calculatePages(){this.paginationService?this.paginationService.calculatePages():this.pageBoundsService.calculateBounds(0,this.rowModel.getRowCount()-1)}},$G=class extends Re{constructor(){super(...arguments),this.beanName="pageBoundsService",this.pixelOffset=0}wireBeans(e){this.rowModel=e.rowModel}getFirstRow(){return this.topRowBounds?this.topRowBounds.rowIndex:-1}getLastRow(){return this.bottomRowBounds?this.bottomRowBounds.rowIndex:-1}getCurrentPageHeight(){return _t(this.topRowBounds)||_t(this.bottomRowBounds)?0:Math.max(this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight-this.topRowBounds.rowTop,0)}getCurrentPagePixelRange(){const e=this.topRowBounds?this.topRowBounds.rowTop:0,t=this.bottomRowBounds?this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight:0;return{pageFirstPixel:e,pageLastPixel:t}}calculateBounds(e,t){this.topRowBounds=this.rowModel.getRowBounds(e),this.topRowBounds&&(this.topRowBounds.rowIndex=e),this.bottomRowBounds=this.rowModel.getRowBounds(t),this.bottomRowBounds&&(this.bottomRowBounds.rowIndex=t),this.calculatePixelOffset()}getPixelOffset(){return this.pixelOffset}calculatePixelOffset(){const e=je(this.topRowBounds)?this.topRowBounds.rowTop:0;this.pixelOffset!==e&&(this.pixelOffset=e,this.eventService.dispatchEvent({type:"paginationPixelOffsetChanged"}))}},UG=class extends Re{constructor(){super(),this.beanName="ariaAnnouncementService",this.descriptionContainer=null,this.pendingAnnouncements=new Map,this.updateAnnouncement=ln(this.updateAnnouncement.bind(this),200)}wireBeans(e){this.eGridDiv=e.eGridDiv}postConstruct(){const e=this.gos.getDocument(),t=this.descriptionContainer=e.createElement("div");t.classList.add("ag-aria-description-container"),X3(t,"polite"),CI(t,"additions text"),wI(t,!0),this.eGridDiv.appendChild(t)}announceValue(e,t){this.pendingAnnouncements.set(t,e),this.updateAnnouncement()}updateAnnouncement(){if(!this.descriptionContainer)return;const e=Array.from(this.pendingAnnouncements.values()).join(". ");this.pendingAnnouncements.clear(),this.descriptionContainer.textContent="",setTimeout(()=>{this.isAlive()&&this.descriptionContainer&&(this.descriptionContainer.textContent=e)},50)}destroy(){super.destroy();const{descriptionContainer:e}=this;e&&(Dn(e),e.parentElement&&e.parentElement.removeChild(e)),this.descriptionContainer=null,this.eGridDiv=null,this.pendingAnnouncements.clear()}},KG=class extends Re{constructor(){super(...arguments),this.beanName="columnAnimationService",this.executeNextFuncs=[],this.executeLaterFuncs=[],this.active=!1,this.activeNext=!1,this.suppressAnimation=!1,this.animationThreadCount=0}wireBeans(e){this.ctrlsService=e.ctrlsService}postConstruct(){this.ctrlsService.whenReady(e=>this.gridBodyCtrl=e.gridBodyCtrl)}isActive(){return this.active&&!this.suppressAnimation}setSuppressAnimation(e){this.suppressAnimation=e}start(){this.active||this.gos.get("suppressColumnMoveAnimation")||this.gos.get("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0,this.activeNext=!0)}finish(){this.active&&this.flush(()=>this.activeNext=!1,()=>this.active=!1)}executeNextVMTurn(e){this.activeNext?this.executeNextFuncs.push(e):e()}executeLaterVMTurn(e){this.active?this.executeLaterFuncs.push(e):e()}ensureAnimationCssClassPresent(){this.animationThreadCount++;const e=this.animationThreadCount;this.gridBodyCtrl.setColumnMovingCss(!0),this.executeLaterFuncs.push(()=>{this.animationThreadCount===e&&this.gridBodyCtrl.setColumnMovingCss(!1)})}flush(e,t){if(this.executeNextFuncs.length===0&&this.executeLaterFuncs.length===0){e(),t();return}const r=n=>{for(;n.length;){const i=n.pop();i&&i()}};this.getFrameworkOverrides().wrapIncoming(()=>{window.setTimeout(()=>{e(),r(this.executeNextFuncs)},0),window.setTimeout(()=>{t(),r(this.executeLaterFuncs)},200)})}},qG=class extends Re{constructor(){super(...arguments),this.beanName="columnHoverService"}setMouseOver(e){this.updateState(e)}clearMouseOver(){this.updateState(null)}isHovered(e){return!!this.selectedColumns&&this.selectedColumns.indexOf(e)>=0}updateState(e){this.selectedColumns=e,this.eventService.dispatchEvent({type:"columnHoverChanged"})}},YG=class extends Re{constructor(){super(...arguments),this.beanName="overlayService",this.state=0,this.showInitialOverlay=!0,this.wrapperPadding=0}wireBeans(e){this.userComponentFactory=e.userComponentFactory,this.rowModel=e.rowModel,this.columnModel=e.columnModel,this.ctrlsService=e.ctrlsService}postConstruct(){this.isClientSide=this.gos.isRowModelType("clientSide");const e=()=>this.updateOverlayVisibility();this.addManagedEventListeners({newColumnsLoaded:e,rowDataUpdated:e,gridSizeChanged:this.onGridSizeChanged.bind(this),rowCountReady:()=>{this.showInitialOverlay=!1,this.updateOverlayVisibility()}}),this.addManagedPropertyListener("loading",e)}registerOverlayWrapperComp(e){this.overlayWrapperComp=e,this.updateOverlayVisibility()}isVisible(){return this.state!==0}isExclusive(){return this.state===1}getOverlayWrapper(){return this.overlayWrapperComp}showLoadingOverlay(){this.showInitialOverlay=!1;const e=this.gos.get("loading");!e&&(e!==void 0||this.gos.get("suppressLoadingOverlay"))||this.doShowLoadingOverlay()}showNoRowsOverlay(){this.showInitialOverlay=!1,!(this.gos.get("loading")||this.gos.get("suppressNoRowsOverlay"))&&this.doShowNoRowsOverlay()}hideOverlay(){if(this.showInitialOverlay=!1,this.gos.get("loading")){ke("Since v32, `api.hideOverlay()` does not hide the loading overlay when `loading=true`. Set `loading=false` instead.");return}this.doHideOverlay()}updateOverlayVisibility(){let e=this.gos.get("loading");this.showInitialOverlay&&e===void 0&&!this.gos.get("suppressLoadingOverlay")&&(e=!this.gos.get("columnDefs")||!this.columnModel.isReady()||!this.gos.get("rowData")&&this.isClientSide),e?this.state!==1&&this.doShowLoadingOverlay():(this.showInitialOverlay=!1,this.rowModel.isEmpty()&&!this.gos.get("suppressNoRowsOverlay")&&this.isClientSide?this.state!==2&&this.doShowNoRowsOverlay():this.state!==0&&this.doHideOverlay())}doShowLoadingOverlay(){this.state=1,this.showOverlay(this.userComponentFactory.getLoadingOverlayCompDetails({}),"ag-overlay-loading-wrapper","loadingOverlayComponentParams"),this.updateExclusive()}doShowNoRowsOverlay(){this.state=2,this.showOverlay(this.userComponentFactory.getNoRowsOverlayCompDetails({}),"ag-overlay-no-rows-wrapper","noRowsOverlayComponentParams"),this.updateExclusive()}doHideOverlay(){this.state=0,this.overlayWrapperComp.hideOverlay(),this.updateExclusive()}showOverlay(e,t,r){const n=e.newAgStackInstance();this.overlayWrapperComp.showOverlay(n,t,this.isExclusive(),r),this.refreshWrapperPadding()}updateExclusive(){const e=this.exclusive;this.exclusive=this.isExclusive(),this.exclusive!==e&&this.eventService.dispatchEvent({type:"overlayExclusiveChanged"})}onGridSizeChanged(){this.refreshWrapperPadding()}refreshWrapperPadding(){let e=0;if(this.state===2){const t=this.ctrlsService.get("gridHeaderCtrl");e=(t==null?void 0:t.getHeaderHeight())||0}else this.wrapperPadding!==0&&(e=0);this.wrapperPadding!==e&&(this.wrapperPadding=e,this.overlayWrapperComp.updateOverlayWrapperPaddingTop(e))}},XG=class extends Re{constructor(){super(...arguments),this.beanName="rowCssClassCalculator"}wireBeans(e){this.stylingService=e.stylingService}getInitialRowClasses(e){const t=[];return je(e.extraCssClass)&&t.push(e.extraCssClass),t.push("ag-row"),t.push(e.rowFocused?"ag-row-focus":"ag-row-no-focus"),e.fadeRowIn&&t.push("ag-opacity-zero"),t.push(e.rowIsEven?"ag-row-even":"ag-row-odd"),e.rowNode.isRowPinned()&&t.push("ag-row-pinned"),e.rowNode.isSelected()&&t.push("ag-row-selected"),e.rowNode.footer&&t.push("ag-row-footer"),t.push("ag-row-level-"+e.rowLevel),e.rowNode.stub&&t.push("ag-row-loading"),e.fullWidthRow&&t.push("ag-full-width-row"),e.expandable&&(t.push("ag-row-group"),t.push(e.rowNode.expanded?"ag-row-group-expanded":"ag-row-group-contracted")),e.rowNode.dragging&&t.push("ag-row-dragging"),Bw(t,this.processClassesFromGridOptions(e.rowNode)),Bw(t,this.preProcessRowClassRules(e.rowNode)),t.push(e.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),e.firstRowOnPage&&t.push("ag-row-first"),e.lastRowOnPage&&t.push("ag-row-last"),e.fullWidthRow&&(e.pinned==="left"&&t.push("ag-cell-last-left-pinned"),e.pinned==="right"&&t.push("ag-cell-first-right-pinned")),t}processClassesFromGridOptions(e){const t=[],r=s=>{typeof s=="string"?t.push(s):Array.isArray(s)&&s.forEach(o=>t.push(o))},n=this.gos.get("rowClass");if(n){if(typeof n=="function")return ke("rowClass should not be a function, please use getRowClass instead"),[];r(n)}const i=this.gos.getCallback("getRowClass");if(i){const s={data:e.data,node:e,rowIndex:e.rowIndex},o=i(s);r(o)}return t}preProcessRowClassRules(e){const t=[];return this.processRowClassRules(e,r=>{t.push(r)},()=>{}),t}processRowClassRules(e,t,r){const n=this.gos.addGridCommonParams({data:e.data,node:e,rowIndex:e.rowIndex});this.stylingService.processClassRules(void 0,this.gos.get("rowClassRules"),n,t,r)}calculateRowLevel(e){return e.group?e.level:e.parent?e.parent.level+1:0}},QG=class extends Re{constructor(){super(...arguments),this.beanName="rowContainerHeightService",this.scrollY=0,this.uiBodyHeight=0}wireBeans(e){this.ctrlsService=e.ctrlsService}postConstruct(){this.addManagedEventListeners({bodyHeightChanged:this.updateOffset.bind(this)}),this.maxDivHeight=AI(),this.gos.get("debug")&&Si("RowContainerHeightService - maxDivHeight = "+this.maxDivHeight)}isStretching(){return this.stretching}getDivStretchOffset(){return this.divStretchOffset}updateOffset(){if(!this.stretching)return;const t=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition().top,r=this.getUiBodyHeight();(t!==this.scrollY||r!==this.uiBodyHeight)&&(this.scrollY=t,this.uiBodyHeight=r,this.calculateOffset())}calculateOffset(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;const e=this.scrollY/this.maxScrollY,t=e*this.pixelsToShave;this.gos.get("debug")&&Si(`RowContainerHeightService - Div Stretch Offset = ${t} (${this.pixelsToShave} * ${e})`),this.setDivStretchOffset(t)}setUiContainerHeight(e){e!==this.uiContainerHeight&&(this.uiContainerHeight=e,this.eventService.dispatchEvent({type:"rowContainerHeightChanged"}))}clearOffset(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)}setDivStretchOffset(e){const t=typeof e=="number"?Math.floor(e):null;this.divStretchOffset!==t&&(this.divStretchOffset=t,this.eventService.dispatchEvent({type:"heightScaleChanged"}))}setModelHeight(e){this.modelHeight=e,this.stretching=e!=null&&this.maxDivHeight>0&&e>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()}getUiContainerHeight(){return this.uiContainerHeight}getRealPixelPosition(e){return e-this.divStretchOffset}getUiBodyHeight(){const t=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition();return t.bottom-t.top}getScrollPositionForPixel(e){if(this.pixelsToShave<=0)return e;const t=this.modelHeight-this.getUiBodyHeight(),r=e/t;return this.maxScrollY*r}},ZG=class extends Re{constructor(){super(...arguments),this.beanName="rowNodeSorter"}wireBeans(e){this.valueService=e.valueService,this.columnModel=e.columnModel,this.showRowGroupColsService=e.showRowGroupColsService}postConstruct(){this.isAccentedSort=this.gos.get("accentedSort"),this.primaryColumnsSortGroups=this.gos.isColumnsSortingCoupledToGroup(),this.addManagedPropertyListener("accentedSort",e=>this.isAccentedSort=e.currentValue),this.addManagedPropertyListener("autoGroupColumnDef",()=>this.primaryColumnsSortGroups=this.gos.isColumnsSortingCoupledToGroup())}doFullSort(e,t){const r=(i,s)=>({currentPos:s,rowNode:i}),n=e.map(r);return n.sort(this.compareRowNodes.bind(this,t)),n.map(i=>i.rowNode)}compareRowNodes(e,t,r){const n=t.rowNode,i=r.rowNode;for(let s=0,o=e.length;s<o;s++){const a=e[s],l=a.sort==="desc",c=this.getValue(n,a.column),u=this.getValue(i,a.column);let f;const d=this.getComparator(a,n);if(d?f=d(c,u,n,i,l):f=zD(c,u,this.isAccentedSort),!isNaN(f)&&f!==0)return a.sort==="asc"?f:f*-1}return t.currentPos-r.currentPos}getComparator(e,t){const r=e.column,n=r.getColDef().comparator;if(n!=null)return n;if(!r.getColDef().showRowGroup)return;const i=!t.group&&r.getColDef().field;if(!i)return;const s=this.columnModel.getColDefCol(i);if(s)return s.getColDef().comparator}getValue(e,t){var n,i,s;if(!this.primaryColumnsSortGroups)return this.valueService.getValue(t,e,!1,!1);if(e.rowGroupColumn===t){if(this.gos.isGroupUseEntireRow(this.columnModel.isPivotActive())){const l=(n=e.allLeafChildren)==null?void 0:n[0];return l?this.valueService.getValue(t,l,!1,!1):void 0}const a=(i=this.showRowGroupColsService)==null?void 0:i.getShowRowGroupCol(t.getId());return a?(s=e.groupData)==null?void 0:s[a.getId()]:void 0}if(!(e.group&&t.getColDef().showRowGroup))return this.valueService.getValue(t,e,!1,!1)}},Bf=class{constructor(e,t){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=e,this.pathRoot={rowNode:t,children:null},this.mapToItems[t.id]=this.pathRoot}setInactive(){this.active=!1}isActive(){return this.active}depthFirstSearchChangedPath(e,t){if(e.children)for(let r=0;r<e.children.length;r++)this.depthFirstSearchChangedPath(e.children[r],t);t(e.rowNode)}depthFirstSearchEverything(e,t,r){if(e.childrenAfterGroup)for(let n=0;n<e.childrenAfterGroup.length;n++){const i=e.childrenAfterGroup[n];i.childrenAfterGroup?this.depthFirstSearchEverything(e.childrenAfterGroup[n],t,r):r&&t(i)}t(e)}forEachChangedNodeDepthFirst(e,t=!1,r=!1){this.active&&!r?this.depthFirstSearchChangedPath(this.pathRoot,e):this.depthFirstSearchEverything(this.pathRoot.rowNode,e,t)}executeFromRootNode(e){e(this.pathRoot.rowNode)}createPathItems(e){let t=e,r=0;for(;!this.mapToItems[t.id];){const n={rowNode:t,children:null};this.mapToItems[t.id]=n,r++,t=t.parent}return r}populateColumnsMap(e,t){if(!this.keepingColumns||!t)return;let r=e;for(;r;)this.nodeIdsToColumns[r.id]||(this.nodeIdsToColumns[r.id]={}),t.forEach(n=>this.nodeIdsToColumns[r.id][n.getId()]=!0),r=r.parent}linkPathItems(e,t){let r=e;for(let n=0;n<t;n++){const i=this.mapToItems[r.id],s=this.mapToItems[r.parent.id];s.children||(s.children=[]),s.children.push(i),r=r.parent}}addParentNode(e,t){if(!e||e.isRowPinned())return;const r=this.createPathItems(e);this.linkPathItems(e,r),this.populateColumnsMap(e,t)}canSkip(e){return this.active&&!this.mapToItems[e.id]}getValueColumnsForNode(e,t){if(!this.keepingColumns)return t;const r=this.nodeIdsToColumns[e.id];return t.filter(i=>r[i.getId()])}getNotValueColumnsForNode(e,t){if(!this.keepingColumns)return null;const r=this.nodeIdsToColumns[e.id];return t.filter(i=>!r[i.getId()])}},b4=class extends Re{constructor(){super(...arguments),this.beanName="selectionService",this.selectedNodes=new Map,this.selectionCtx=new oj}wireBeans(e){this.rowModel=e.rowModel,this.pageBoundsService=e.pageBoundsService}postConstruct(){this.selectionCtx.init(this.rowModel),this.rowSelection=this.gos.get("rowSelection"),this.groupSelectsChildren=this.gos.get("groupSelectsChildren"),this.addManagedPropertyListeners(["groupSelectsChildren","rowSelection"],()=>{this.groupSelectsChildren=this.gos.get("groupSelectsChildren"),this.rowSelection=this.gos.get("rowSelection"),this.deselectAllRowNodes({source:"api"})}),this.addManagedEventListeners({rowSelected:this.onRowSelected.bind(this)})}destroy(){super.destroy(),this.resetNodes(),this.selectionCtx.reset()}isMultiselect(){return this.rowSelection==="multiple"}overrideSelectionValue(e,t){if(!LG(t))return e;const r=this.selectionCtx.getRoot();return r?r.isSelected()??!1:!0}setNodesSelected(e){var f;const{newValue:t,clearSelection:r,suppressFinishActions:n,rangeSelect:i,nodes:s,event:o,source:a}=e;if(s.length===0)return 0;if(s.length>1&&!this.isMultiselect())return ke("cannot multi select while rowSelection='single'"),0;const l=this.groupSelectsChildren&&e.groupSelectsFiltered===!0,c=s.map(d=>d.footer?d.sibling:d);if(i){if(c.length>1)return ke("cannot range select while selecting multiple rows"),0;const d=c[0],h=this.overrideSelectionValue(t,a);if(this.isMultiselect()){if(this.selectionCtx.isInRange(d)){const g=this.selectionCtx.truncate(d);return h&&this.selectRange(g.discard,!1,a),this.selectRange(g.keep,h,a)}else if(this.selectionCtx.getRoot()!==d){const p=this.selectionCtx.extend(d,this.groupSelectsChildren);return h&&this.selectRange(p.discard,!1,a),this.selectRange(p.keep,h,a)}}}n||this.selectionCtx.setRoot(c[0]);let u=0;for(let d=0;d<c.length;d++){const h=c[d];l&&h.group||h.selectThisNode(t,o,a)&&u++,this.groupSelectsChildren&&((f=h.childrenAfterGroup)!=null&&f.length)&&(u+=this.selectChildren(h,t,l,a))}return n||(t&&(r||!this.isMultiselect())&&(u+=this.clearOtherNodes(c[0],a)),u>0&&(this.updateGroupsFromChildrenSelections(a),this.dispatchSelectionChanged(a))),u}selectRange(e,t,r){let n=0;return e.forEach(i=>{if(i.group&&this.groupSelectsChildren)return;i.selectThisNode(t,void 0,r)&&n++}),n>0&&(this.updateGroupsFromChildrenSelections(r),this.dispatchSelectionChanged(r)),n}selectChildren(e,t,r,n){const i=r?e.childrenAfterAggFilter:e.childrenAfterGroup;return _t(i)?0:this.setNodesSelected({newValue:t,clearSelection:!1,suppressFinishActions:!0,groupSelectsFiltered:r,source:n,nodes:i})}getSelectedNodes(){const e=[];return this.selectedNodes.forEach(t=>{t&&e.push(t)}),e}getSelectedRows(){const e=[];return this.selectedNodes.forEach(t=>{t&&t.data&&e.push(t.data)}),e}getSelectionCount(){return this.selectedNodes.size}filterFromSelection(e){const t=new Map;this.selectedNodes.forEach((r,n)=>{r&&e(r)&&t.set(n,r)}),this.selectedNodes=t}updateGroupsFromChildrenSelections(e,t){if(!this.groupSelectsChildren||this.rowModel.getType()!=="clientSide")return!1;const n=this.rowModel.getRootNode();t||(t=new Bf(!0,n),t.setInactive());let i=!1;return t.forEachChangedNodeDepthFirst(s=>{if(s!==n){const o=s.calculateSelectedFromChildren();i=s.selectThisNode(o===null?!1:o,void 0,e)||i}}),i}clearOtherNodes(e,t){const r=new Map;let n=0;return this.selectedNodes.forEach(i=>{if(i&&i.id!==e.id){const s=this.selectedNodes.get(i.id);n+=s.setSelectedParams({newValue:!1,clearSelection:!1,suppressFinishActions:!0,source:t}),this.groupSelectsChildren&&i.parent&&r.set(i.parent.id,i.parent)}}),r.forEach(i=>{const s=i.calculateSelectedFromChildren();i.selectThisNode(s===null?!1:s,void 0,t)}),n}onRowSelected(e){const t=e.node;this.groupSelectsChildren&&t.group||(t.isSelected()?this.selectedNodes.set(t.id,t):this.selectedNodes.delete(t.id))}syncInRowNode(e,t){this.syncInOldRowNode(e,t),this.syncInNewRowNode(e)}syncInOldRowNode(e,t){if(je(t)&&e.id!==t.id&&t){const n=t.id;this.selectedNodes.get(n)==e&&this.selectedNodes.set(t.id,t)}}syncInNewRowNode(e){this.selectedNodes.has(e.id)?(e.setSelectedInitialValue(!0),this.selectedNodes.set(e.id,e)):e.setSelectedInitialValue(!1)}reset(e){const t=this.getSelectionCount();this.resetNodes(),t&&this.dispatchSelectionChanged(e)}resetNodes(){var e;(e=this.selectedNodes)==null||e.clear()}getBestCostNodeSelection(){if(this.rowModel.getType()!=="clientSide")return;const t=this.rowModel.getTopLevelNodes();if(t===null)return;const r=[];function n(i){for(let s=0,o=i.length;s<o;s++){const a=i[s];if(a.isSelected())r.push(a);else{const l=a;l.group&&l.children&&n(l.children)}}}return n(t),r}isEmpty(){let e=0;return this.selectedNodes.forEach(t=>{t&&e++}),e===0}deselectAllRowNodes(e){const t=o=>o.selectThisNode(!1,void 0,n),r=this.rowModel.getType()==="clientSide",{source:n,justFiltered:i,justCurrentPage:s}=e;if(s||i){if(!r){Vt("selecting just filtered only works when gridOptions.rowModelType='clientSide'");return}this.getNodesToSelect(i,s).forEach(t)}else this.selectedNodes.forEach(o=>{o&&t(o)}),this.reset(n);this.selectionCtx.reset(),r&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(n),this.dispatchSelectionChanged(n)}getSelectedCounts(e,t){let r=0,n=0;const i=s=>{this.groupSelectsChildren&&s.group||(s.isSelected()?r++:s.selectable&&n++)};return this.getNodesToSelect(e,t).forEach(i),{selectedCount:r,notSelectedCount:n}}getSelectAllState(e,t){const{selectedCount:r,notSelectedCount:n}=this.getSelectedCounts(e,t);return r===0&&n===0?!1:r>0&&n>0?null:r>0}hasNodesToSelect(e=!1,t=!1){return this.getNodesToSelect(e,t).filter(r=>r.selectable).length>0}getNodesToSelect(e=!1,t=!1){if(this.rowModel.getType()!=="clientSide")throw new Error(`selectAll only available when rowModelType='clientSide', ie not ${this.rowModel.getType()}`);const r=[];if(t)return this.forEachNodeOnPage(i=>{if(!i.group){r.push(i);return}if(!i.expanded){const s=o=>{var a;r.push(o),(a=o.childrenAfterFilter)!=null&&a.length&&o.childrenAfterFilter.forEach(s)};s(i);return}this.groupSelectsChildren||r.push(i)}),r;const n=this.rowModel;return e?(n.forEachNodeAfterFilter(i=>{r.push(i)}),r):(n.forEachNode(i=>{r.push(i)}),r)}forEachNodeOnPage(e){const t=this.pageBoundsService.getFirstRow(),r=this.pageBoundsService.getLastRow();for(let n=t;n<=r;n++){const i=this.rowModel.getRow(n);i&&e(i)}}selectAllRowNodes(e){if(this.rowModel.getType()!=="clientSide")throw new Error(`selectAll only available when rowModelType='clientSide', ie not ${this.rowModel.getType()}`);const{source:t,justFiltered:r,justCurrentPage:n}=e,i=this.getNodesToSelect(r,n);i.forEach(s=>s.selectThisNode(!0,void 0,t)),this.selectionCtx.setRoot(i[0]??null),this.selectionCtx.setEndRange(Ot(i)??null),this.rowModel.getType()==="clientSide"&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(t),this.dispatchSelectionChanged(t)}getSelectionState(){const e=[];return this.selectedNodes.forEach(t=>{t!=null&&t.id&&e.push(t.id)}),e.length?e:null}setSelectionState(e,t){if(!Array.isArray(e))return;const r=new Set(e),n=[];this.rowModel.forEachNode(i=>{r.has(i.id)&&n.push(i)}),this.setNodesSelected({newValue:!0,nodes:n,source:t})}dispatchSelectionChanged(e){this.eventService.dispatchEvent({type:"selectionChanged",source:e})}},JG=class extends Re{constructor(){super(...arguments),this.beanName="selectableService"}wireBeans(e){this.rowModel=e.rowModel,this.selectionService=e.selectionService}postConstruct(){this.addManagedPropertyListener("isRowSelectable",()=>this.updateSelectable())}updateSelectableAfterGrouping(){this.updateSelectable(!0)}updateSelectable(e=!1){const t=!!this.gos.get("rowSelection"),r=this.gos.get("isRowSelectable");if(!t||!r)return;const n=this.gos.get("groupSelectsChildren"),i=this.rowModel.getType()==="clientSide"&&n,s=[],o=a=>{if(e&&!a.group)return;if(i&&a.group){const c=a.childrenAfterGroup.some(u=>u.selectable===!0);a.setRowSelectable(c,!0);return}const l=r?r(a):!0;a.setRowSelectable(l,!0),!l&&a.isSelected()&&s.push(a)};if(i){const a=this.rowModel;new Bf(!1,a.getRootNode()).forEachChangedNodeDepthFirst(o,!0,!0)}else this.rowModel.forEachNode(o);s.length&&this.selectionService.setNodesSelected({nodes:s,newValue:!1,source:"selectableChanged"}),i&&this.selectionService instanceof b4&&this.selectionService.updateGroupsFromChildrenSelections("selectableChanged")}},cC=["asc","desc",null],eV=class extends Re{constructor(){super(...arguments),this.beanName="sortController"}wireBeans(e){this.columnModel=e.columnModel,this.funcColsService=e.funcColsService,this.showRowGroupColsService=e.showRowGroupColsService}progressSort(e,t,r){const n=this.getNextSortDirection(e);this.setSortForColumn(e,n,t,r)}setSortForColumn(e,t,r,n){t!=="asc"&&t!=="desc"&&(t=null);const i=this.gos.isColumnsSortingCoupledToGroup();let s=[e];if(i&&e.getColDef().showRowGroup){const l=this.funcColsService.getSourceColumnsForGroupColumn(e),c=l==null?void 0:l.filter(u=>u.isSortable());c&&(s=[e,...c])}s.forEach(l=>l.setSort(t,n));const o=(r||this.gos.get("alwaysMultiSort"))&&!this.gos.get("suppressMultiSort"),a=[];if(!o){const l=this.clearSortBarTheseColumns(s,n);a.push(...l)}this.updateSortIndex(e),a.push(...s),this.dispatchSortChangedEvents(n,a)}updateSortIndex(e){var a;const t=this.gos.isColumnsSortingCoupledToGroup(),r=(a=this.showRowGroupColsService)==null?void 0:a.getShowRowGroupCol(e.getId()),n=t&&r||e,i=this.getColumnsWithSortingOrdered();this.columnModel.getAllCols().forEach(l=>l.setSortIndex(null));const s=i.filter(l=>t&&l.getColDef().showRowGroup?!1:l!==n);(n.getSort()?[...s,n]:s).forEach((l,c)=>{l.setSortIndex(c)})}onSortChanged(e,t){this.dispatchSortChangedEvents(e,t)}isSortActive(){const t=this.columnModel.getAllCols().filter(r=>!!r.getSort());return t&&t.length>0}dispatchSortChangedEvents(e,t){const r={type:"sortChanged",source:e};t&&(r.columns=t),this.eventService.dispatchEvent(r)}clearSortBarTheseColumns(e,t){const r=[];return this.columnModel.getAllCols().forEach(n=>{e.includes(n)||(n.getSort()&&r.push(n),n.setSort(void 0,t))}),r}getNextSortDirection(e){let t;if(e.getColDef().sortingOrder?t=e.getColDef().sortingOrder:this.gos.get("sortingOrder")?t=this.gos.get("sortingOrder"):t=cC,!Array.isArray(t)||t.length<=0)return ke(`sortingOrder must be an array with at least one element, currently it's ${t}`),null;const r=t.indexOf(e.getSort()),n=r<0,i=r==t.length-1;let s;return n||i?s=t[0]:s=t[r+1],cC.indexOf(s)<0?(ke("invalid sort type ",s),null):s}getIndexedSortMap(){let e=this.columnModel.getAllCols().filter(s=>!!s.getSort());if(this.columnModel.isPivotMode()){const s=this.gos.isColumnsSortingCoupledToGroup();e=e.filter(o=>{var u;const a=!!o.getAggFunc(),l=!o.isPrimary(),c=s?(u=this.showRowGroupColsService)==null?void 0:u.getShowRowGroupCol(o.getId()):o.getColDef().showRowGroup;return a||l||c})}const t=this.funcColsService.getRowGroupColumns().filter(s=>!!s.getSort()),r={};e.forEach((s,o)=>r[s.getId()]=o),e.sort((s,o)=>{const a=s.getSortIndex(),l=o.getSortIndex();if(a!=null&&l!=null)return a-l;if(a==null&&l==null){const c=r[s.getId()],u=r[o.getId()];return c>u?1:-1}else return l==null?-1:1});const n=this.gos.isColumnsSortingCoupledToGroup()&&!!t.length;n&&(e=[...new Set(e.map(s=>{var o;return((o=this.showRowGroupColsService)==null?void 0:o.getShowRowGroupCol(s.getId()))??s}))]);const i=new Map;return e.forEach((s,o)=>i.set(s,o)),n&&t.forEach(s=>{const o=this.showRowGroupColsService.getShowRowGroupCol(s.getId());i.set(s,i.get(o))}),i}getColumnsWithSortingOrdered(){return[...this.getIndexedSortMap().entries()].sort(([e,t],[r,n])=>t-n).map(([e])=>e)}getSortModel(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),colId:e.getId()}))}getSortOptions(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),column:e}))}canColumnDisplayMixedSort(e){const t=this.gos.isColumnsSortingCoupledToGroup(),r=!!e.getColDef().showRowGroup;return t&&r}getDisplaySortForColumn(e){const t=this.funcColsService.getSourceColumnsForGroupColumn(e);if(!this.canColumnDisplayMixedSort(e)||!(t!=null&&t.length))return e.getSort();const n=e.getColDef().field!=null||!!e.getColDef().valueGetter?[e,...t]:t,i=n[0].getSort();return n.every(o=>o.getSort()==i)?i:"mixed"}getDisplaySortIndexForColumn(e){return this.getIndexedSortMap().get(e)}},tV=class extends Re{constructor(){super(...arguments),this.beanName="syncService",this.waitingForColumns=!1}wireBeans(e){this.ctrlsService=e.ctrlsService,this.columnModel=e.columnModel,this.rowModel=e.rowModel}postConstruct(){this.addManagedPropertyListener("columnDefs",e=>this.setColumnDefs(e))}start(){this.ctrlsService.whenReady(()=>{const e=this.gos.get("columnDefs");e?this.setColumnsAndData(e):this.waitingForColumns=!0,this.gridReady()})}setColumnsAndData(e){this.columnModel.setColumnDefs(e??[],"gridInitializing"),this.rowModel.start()}gridReady(){this.dispatchGridReadyEvent();const e=Zr.__isRegistered("@ag-grid-enterprise/core",this.gridId);this.gos.get("debug")&&Si(`initialised successfully, enterprise = ${e}`)}dispatchGridReadyEvent(){this.eventService.dispatchEvent({type:"gridReady"})}setColumnDefs(e){const t=this.gos.get("columnDefs");if(t){if(this.waitingForColumns){this.waitingForColumns=!1,this.setColumnsAndData(t);return}this.columnModel.setColumnDefs(t,Wa(e.source))}}},rV="paste",nV=class extends Re{constructor(){super(...arguments),this.beanName="changeDetectionService"}wireBeans(e){this.rowModel=e.rowModel,this.rowRenderer=e.rowRenderer}postConstruct(){this.rowModel.getType()==="clientSide"&&(this.clientSideRowModel=this.rowModel),this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this)})}onCellValueChanged(e){e.source!==rV&&this.doChangeDetection(e.node,e.column)}doChangeDetection(e,t){if(this.gos.get("suppressChangeDetection"))return;const r=[e];if(this.clientSideRowModel&&!e.isRowPinned()){const n=this.gos.get("aggregateOnlyChangedColumns"),i=new Bf(n,this.clientSideRowModel.getRootNode());i.addParentNode(e.parent,[t]),this.clientSideRowModel.doAggregate(i),i.forEachChangedNodeDepthFirst(s=>{r.push(s)})}this.rowRenderer.refreshCells({rowNodes:r})}},iV=class extends Re{constructor(){super(...arguments),this.beanName="expressionService",this.expressionToFunctionCache={}}evaluate(e,t){if(typeof e=="string")return this.evaluateExpression(e,t);Vt("value should be either a string or a function",e)}evaluateExpression(e,t){try{return this.createExpressionFunction(e)(t.value,t.context,t.oldValue,t.newValue,t.value,t.node,t.data,t.colDef,t.rowIndex,t.api,t.getValue,t.column,t.columnGroup)}catch(r){return Si("Processing of the expression failed"),Si("Expression = ",e),Si("Params = ",t),Si("Exception = ",r),null}}createExpressionFunction(e){if(this.expressionToFunctionCache[e])return this.expressionToFunctionCache[e];const t=this.createFunctionBody(e),r=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, getValue, column, columnGroup",t);return this.expressionToFunctionCache[e]=r,r}createFunctionBody(e){return e.indexOf("return")>=0?e:"return "+e+";"}},sV=class extends Re{constructor(){super(...arguments),this.beanName="valueCache",this.cacheVersion=0}postConstruct(){this.active=this.gos.get("valueCache"),this.neverExpires=this.gos.get("valueCacheNeverExpires")}onDataChanged(){this.neverExpires||this.expire()}expire(){this.cacheVersion++}setValue(e,t,r){this.active&&(e.__cacheVersion!==this.cacheVersion&&(e.__cacheVersion=this.cacheVersion,e.__cacheData={}),e.__cacheData[t]=r)}getValue(e,t){if(!(!this.active||e.__cacheVersion!==this.cacheVersion))return e.__cacheData[t]}},oV=class extends Re{constructor(){super(...arguments),this.beanName="valueService",this.initialised=!1,this.isSsrm=!1}wireBeans(e){this.expressionService=e.expressionService,this.columnModel=e.columnModel,this.valueCache=e.valueCache,this.dataTypeService=e.dataTypeService}postConstruct(){this.initialised||this.init()}init(){this.isSsrm=this.gos.isRowModelType("serverSide"),this.cellExpressions=this.gos.get("enableCellExpressions"),this.isTreeData=this.gos.get("treeData"),this.initialised=!0;const e=r=>this.callColumnCellValueChangedHandler(r),t=this.gos.useAsyncEvents();this.eventService.addEventListener("cellValueChanged",e,t),this.addDestroyFunc(()=>this.eventService.removeEventListener("cellValueChanged",e,t)),this.addManagedPropertyListener("treeData",r=>this.isTreeData=r.currentValue)}getValue(e,t,r=!1,n=!1){if(this.initialised||this.init(),!t)return;const i=e.getColDef(),s=i.field,o=e.getColId(),a=t.data;let l;const c=t.groupData&&t.groupData[o]!==void 0,u=!n&&t.aggData&&t.aggData[o]!==void 0,f=this.isSsrm&&n&&!!e.getColDef().aggFunc,d=this.isSsrm&&t.footer&&t.field&&(e.getColDef().showRowGroup===!0||e.getColDef().showRowGroup===t.field);if(r&&i.filterValueGetter?l=this.executeFilterValueGetter(i.filterValueGetter,a,e,t):this.isTreeData&&u?l=t.aggData[o]:this.isTreeData&&i.valueGetter?l=this.executeValueGetter(i.valueGetter,a,e,t):this.isTreeData&&s&&a?l=Ac(a,s,e.isFieldContainsDots()):c?l=t.groupData[o]:u?l=t.aggData[o]:i.valueGetter?l=this.executeValueGetter(i.valueGetter,a,e,t):d?l=Ac(a,t.field,e.isFieldContainsDots()):s&&a&&!f&&(l=Ac(a,s,e.isFieldContainsDots())),this.cellExpressions&&typeof l=="string"&&l.indexOf("=")===0){const h=l.substring(1);l=this.executeValueGetter(h,a,e,t)}if(l==null){const h=this.getOpenedGroup(t,e);if(h!=null)return h}return l}parseValue(e,t,r,n){const i=e.getColDef(),s=this.gos.addGridCommonParams({node:t,data:t==null?void 0:t.data,oldValue:n,newValue:r,colDef:i,column:e}),o=i.valueParser;return je(o)?typeof o=="function"?o(s):this.expressionService.evaluate(o,s):r}formatValue(e,t,r,n,i=!0){let s=null,o;const a=e.getColDef();if(n?o=n:i&&(o=a.valueFormatter),o){const l=this.gos.addGridCommonParams({value:r,node:t,data:t?t.data:null,colDef:a,column:e});typeof o=="function"?s=o(l):s=this.expressionService.evaluate(o,l)}else if(a.refData)return a.refData[r]||"";return s==null&&Array.isArray(r)&&(s=r.join(", ")),s}getOpenedGroup(e,t){if(!this.gos.get("showOpenedGroup")||!t.getColDef().showRowGroup)return;const n=t.getColDef().showRowGroup;let i=e.parent;for(;i!=null;){if(i.rowGroupColumn&&(n===!0||n===i.rowGroupColumn.getColId()))return i.key;i=i.parent}}setValue(e,t,r,n){const i=this.columnModel.getColDefCol(t);if(!e||!i)return!1;_t(e.data)&&(e.data={});const{field:s,valueSetter:o}=i.getColDef();if(_t(s)&&_t(o))return ke("you need either field or valueSetter set on colDef for editing to work"),!1;if(this.dataTypeService&&!this.dataTypeService.checkType(i,r))return ke("Data type of the new value does not match the cell data type of the column"),!1;const a=this.gos.addGridCommonParams({node:e,data:e.data,oldValue:this.getValue(i,e),newValue:r,colDef:i.getColDef(),column:i});a.newValue=r;let l;return je(o)?typeof o=="function"?l=o(a):l=this.expressionService.evaluate(o,a):l=this.setValueUsingField(e.data,s,r,i.isFieldContainsDots()),l===void 0&&(l=!0),l?(e.resetQuickFilterAggregateText(),this.valueCache.onDataChanged(),a.newValue=this.getValue(i,e),this.eventService.dispatchEvent({type:"cellValueChanged",event:null,rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:a.column,colDef:a.colDef,data:e.data,node:e,oldValue:a.oldValue,newValue:a.newValue,value:a.newValue,source:n}),!0):!1}callColumnCellValueChangedHandler(e){const t=e.colDef.onCellValueChanged;typeof t=="function"&&this.getFrameworkOverrides().wrapOutgoing(()=>{t({node:e.node,data:e.data,oldValue:e.oldValue,newValue:e.newValue,colDef:e.colDef,column:e.column,api:e.api,context:e.context})})}setValueUsingField(e,t,r,n){if(!t)return!1;let i=!1;if(!n)i=e[t]===r,i||(e[t]=r);else{const s=t.split(".");let o=e;for(;s.length>0&&o;){const a=s.shift();s.length===0?(i=o[a]===r,i||(o[a]=r)):o=o[a]}}return!i}executeFilterValueGetter(e,t,r,n){const i=this.gos.addGridCommonParams({data:t,node:n,column:r,colDef:r.getColDef(),getValue:this.getValueCallback.bind(this,n)});return typeof e=="function"?e(i):this.expressionService.evaluate(e,i)}executeValueGetter(e,t,r,n){const i=r.getColId(),s=this.valueCache.getValue(n,i);if(s!==void 0)return s;const o=this.gos.addGridCommonParams({data:t,node:n,column:r,colDef:r.getColDef(),getValue:this.getValueCallback.bind(this,n)});let a;return typeof e=="function"?a=e(o):a=this.expressionService.evaluate(e,o),this.valueCache.setValue(n,i,a),a}getValueCallback(e,t){const r=this.columnModel.getColDefCol(t);return r?this.getValue(r,e):null}getKeyForNode(e,t){const r=this.getValue(e,t),n=e.getColDef().keyCreator;let i=r;if(n){const s=this.gos.addGridCommonParams({value:r,colDef:e.getColDef(),column:e,node:t,data:t.data});i=n(s)}return typeof i=="string"||i==null||(i=String(i),i==="[object Object]"&&ke("a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (se AG Grid docs) or b) to toString() on the object to return a key")),i}},mv=class{};mv.gridOptions=void 0;var aV=1,lV=class{create(e,t,r,n,i){let s={};mv.gridOptions?(Kn(s,mv.gridOptions,!0,!0),s={...s,...t}):s=t;const o=BG(s),a=o.gridId??String(aV++),l=this.getRegisteredModules(i,a),c=this.createBeansList(o.rowModelType,l,a),u=this.createProvidedBeans(e,o,i);if(!c){Vt("Failed to create grid.");return}const f={providedBeanInstances:u,beanClasses:c,gridId:a,beanInitComparator:Tj,beanDestroyComparator:Pj,derivedBeans:[vj]},d=new k7(f);return this.registerModuleUserComponents(d,l),this.registerControllers(d,l),this.registerModuleApiFunctions(d,l),r(d),d.getBean("syncService").start(),n&&n(d),d.getBean("gridApi")}registerControllers(e,t){const r=e.getBean("ctrlsFactory");t.forEach(n=>{n.controllers&&n.controllers.forEach(i=>r.register(i))})}getRegisteredModules(e,t){const r=e?e.modules:null,n=Zr.__getRegisteredModules(t),i=[],s={},o=(a,l,c)=>{(f=>{s[f.moduleName]||(s[f.moduleName]=!0,i.push(f),Zr.__register(f,a,c))})(l),l.dependantModules&&l.dependantModules.forEach(f=>o(a,f,c))};return o(!!(r!=null&&r.length)||!Zr.__isPackageBased(),g4,void 0),r&&r.forEach(a=>o(!0,a,t)),n&&n.forEach(a=>o(!Zr.__isPackageBased(),a,void 0)),i}registerModuleUserComponents(e,t){const r=this.extractModuleEntity(t,i=>i.userComponents?i.userComponents:[]),n=e.getBean("userComponentRegistry");r.forEach(i=>{n.registerDefaultComponent(i.name,i.classImp)})}registerModuleApiFunctions(e,t){const r=e.getBean("apiFunctionService");t.forEach(n=>{const i=n.apiFunctions;i&&Object.keys(i).forEach(o=>{r==null||r.addFunction(o,i[o])})})}createProvidedBeans(e,t,r){let n=r?r.frameworkOverrides:null;_t(n)&&(n=new a4);const i={gridOptions:t,eGridDiv:e,globalEventListener:r?r.globalEventListener:null,globalSyncEventListener:r?r.globalSyncEventListener:null,frameworkOverrides:n};return r&&r.providedBeanInstances&&Object.assign(i,r.providedBeanInstances),i}createBeansList(e="clientSide",t,r){const n=t.filter(l=>!l.rowModel||l.rowModel===e),i={clientSide:"@ag-grid-community/client-side-row-model",infinite:"@ag-grid-community/infinite-row-model",serverSide:"@ag-grid-enterprise/server-side-row-model",viewport:"@ag-grid-enterprise/viewport-row-model"};if(!i[e]){Vt("Could not find row model for rowModelType = ",e);return}if(!Zr.__assertRegistered(i[e],`rowModelType = '${e}'`,r))return;const s=[Aj,kj,GG,NG,mj,d7,xj,Rj,dL,mR,QG,lL,VG,rj,I7,hI,Ij,HG,hj,b4,JD,U9,$G,WG,ej,iV,ZD,aL,sV,oV,ZL,cL,A7,Nj,oL,Oj,pj,aj,sL,eV,qG,KG,JG,nV,hL,yj,XG,ZG,Mj,Lj,Fj,_j,tV,YG,fL,zG,UG,pL,iI,bj,sI,rI,wj,Cj,dI,nI,cI,Sj,uI],o=this.extractModuleEntity(n,l=>l.beans?l.beans:[]);s.push(...o);const a=[];return s.forEach(l=>{a.indexOf(l)<0&&a.push(l)}),a}extractModuleEntity(e,t){return[].concat(...e.map(t))}},w4=class extends Re{constructor(){super(...arguments),this.beanName="rowModelHelperService"}wireBeans(e){this.rowModel=e.rowModel}postConstruct(){const e=this.rowModel;switch(e.getType()){case"clientSide":this.clientSideRowModel=e;break;case"infinite":this.infiniteRowModel=e;break;case"serverSide":this.serverSideRowModel=e;break}}getClientSideRowModel(){return this.clientSideRowModel}getInfiniteRowModel(){return this.infiniteRowModel}getServerSideRowModel(){return this.serverSideRowModel}};function cV(e){e.expansionService.expandAll(!0)}function uV(e){e.expansionService.expandAll(!1)}function dV(e){var n,i;const t=(n=e.rowModelHelperService)==null?void 0:n.getClientSideRowModel(),r=(i=e.rowModelHelperService)==null?void 0:i.getServerSideRowModel();t?t.onRowHeightChanged():r&&r.onRowHeightChanged()}function hV(e,t,r){var s,o;const n=(s=e.rowModelHelperService)==null?void 0:s.getServerSideRowModel();if(n){if(e.funcColsService.isRowGroupEmpty()){n.setRowCount(t,r);return}Vt("setRowCount cannot be used while using row grouping.");return}const i=(o=e.rowModelHelperService)==null?void 0:o.getInfiniteRowModel();if(i){i.setRowCount(t,r);return}}function fV(e){var t;return((t=e.rowNodeBlockLoader)==null?void 0:t.getBlockState())??{}}var pV={version:vt,moduleName:"@ag-grid-community/csrm-ssrm-shared-api",apiFunctions:{expandAll:cV,collapseAll:uV,onRowHeightChanged:dV}},gV={version:vt,moduleName:"@ag-grid-community/ssrm-infinite-shared-api",apiFunctions:{setRowCount:hV,getCacheBlockState:fV}},mV=class{wrap(e,t,r=[],n){const i=this.createWrapper(e,n);return t.forEach(s=>{this.createMethod(i,s,!0)}),r.forEach(s=>{this.createMethod(i,s,!1)}),i}unwrap(e){return e}createMethod(e,t,r){e.addMethod(t,this.createMethodProxy(e,t,r))}createMethodProxy(e,t,r){return function(){return e.hasMethod(t)?e.callMethod(t,arguments):(r&&ke("Framework component is missing the method "+t+"()"),null)}}};function vV(e,t){if(!e)return!1;const r=(o,a)=>{const l=t[o.id],c=t[a.id],u=l!==void 0,f=c!==void 0,d=u&&f,h=!u&&!f;return d?l-c:h?o.__objectId-a.__objectId:u?1:-1};let n,i,s=!1;for(let o=0;o<e.length-1;o++)if(n=e[o],i=e[o+1],r(n,i)>0){s=!0;break}return s?(e.sort(r),!0):!1}var Bl=typeof global>"u"?{}:global;Bl.HTMLElement=typeof HTMLElement>"u"?{}:HTMLElement;Bl.HTMLButtonElement=typeof HTMLButtonElement>"u"?{}:HTMLButtonElement;Bl.HTMLSelectElement=typeof HTMLSelectElement>"u"?{}:HTMLSelectElement;Bl.HTMLInputElement=typeof HTMLInputElement>"u"?{}:HTMLInputElement;Bl.Node=typeof Node>"u"?{}:Node;Bl.MouseEvent=typeof MouseEvent>"u"?{}:MouseEvent;var yV="ROOT_NODE_ID",Gp=0,bV=class{constructor(e,t,r,n,i,s){this.nextId=0,this.rowCountReady=!1,this.allNodesMap={},this.rootNode=e,this.gos=t,this.eventService=r,this.funcColsService=n,this.beans=s,this.selectionService=i,this.rootNode.group=!0,this.rootNode.level=-1,this.rootNode.id=yV,this.rootNode.allLeafChildren=[],this.rootNode.childrenAfterGroup=[],this.rootNode.childrenAfterSort=[],this.rootNode.childrenAfterAggFilter=[],this.rootNode.childrenAfterFilter=[]}getCopyOfNodesMap(){return H3(this.allNodesMap)}getRowNode(e){return this.allNodesMap[e]}setRowData(e){if(typeof e=="string"){ke("rowData must be an array.");return}this.rowCountReady=!0,this.dispatchRowDataUpdateStartedEvent(e);const t=this.rootNode,r=this.rootNode.sibling;t.childrenAfterFilter=null,t.childrenAfterGroup=null,t.childrenAfterAggFilter=null,t.childrenAfterSort=null,t.childrenMapped=null,t.updateHasChildren(),this.nextId=0,this.allNodesMap={},e?t.allLeafChildren=e.map(n=>this.createNode(n,this.rootNode,Gp)):(t.allLeafChildren=[],t.childrenAfterGroup=[]),r&&(r.childrenAfterFilter=t.childrenAfterFilter,r.childrenAfterGroup=t.childrenAfterGroup,r.childrenAfterAggFilter=t.childrenAfterAggFilter,r.childrenAfterSort=t.childrenAfterSort,r.childrenMapped=t.childrenMapped,r.allLeafChildren=t.allLeafChildren)}updateRowData(e,t){this.rowCountReady=!0,this.dispatchRowDataUpdateStartedEvent(e.add);const r={remove:[],update:[],add:[]},n=[];return this.executeRemove(e,r,n),this.executeUpdate(e,r,n),this.executeAdd(e,r),this.updateSelection(n,"rowDataChanged"),t&&vV(this.rootNode.allLeafChildren,t),r}isRowCountReady(){return this.rowCountReady}dispatchRowDataUpdateStartedEvent(e){this.eventService.dispatchEvent({type:"rowDataUpdateStarted",firstRowData:e!=null&&e.length?e[0]:null})}updateSelection(e,t){const r=e.length>0;r&&this.selectionService.setNodesSelected({newValue:!1,nodes:e,suppressFinishActions:!0,source:t}),this.selectionService.updateGroupsFromChildrenSelections(t),r&&this.eventService.dispatchEvent({type:"selectionChanged",source:t})}executeAdd(e,t){var o;const{add:r,addIndex:n}=e;if(xn(r))return;const i=r.map(a=>this.createNode(a,this.rootNode,Gp)),s=this.rootNode.allLeafChildren;if(typeof n=="number"&&n>=0){const a=s.length;let l=n;if(this.gos.get("treeData")&&n>0&&a>0){for(let d=0;d<a;d++)if(((o=s[d])==null?void 0:o.rowIndex)==n-1){l=d+1;break}}const u=s.slice(0,l),f=s.slice(l,s.length);this.rootNode.allLeafChildren=[...u,...i,...f]}else this.rootNode.allLeafChildren=[...s,...i];this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=s),t.add=i}executeRemove(e,t,r){var s;const{remove:n}=e;if(xn(n))return;const i={};n.forEach(o=>{const a=this.lookupRowNode(o);a&&(a.isSelected()&&r.push(a),a.clearRowTopAndRowIndex(),i[a.id]=!0,delete this.allNodesMap[a.id],t.remove.push(a))}),this.rootNode.allLeafChildren=((s=this.rootNode.allLeafChildren)==null?void 0:s.filter(o=>!i[o.id]))??null,this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren)}executeUpdate(e,t,r){const{update:n}=e;xn(n)||n.forEach(i=>{const s=this.lookupRowNode(i);s&&(s.updateData(i),!s.selectable&&s.isSelected()&&r.push(s),this.setMasterForRow(s,i,Gp,!1),t.update.push(s))})}lookupRowNode(e){var n;const t=this.gos.getRowIdCallback();let r;if(t){const i=t({data:e,level:0});if(r=this.allNodesMap[i],!r)return Vt(`could not find row id=${i}, data item was not found for this id`),null}else if(r=(n=this.rootNode.allLeafChildren)==null?void 0:n.find(i=>i.data===e),!r)return Vt("could not find data item as object was not found",e),Vt("Consider using getRowId to help the Grid find matching row data"),null;return r||null}createNode(e,t,r){const n=new ss(this.beans);return n.group=!1,this.setMasterForRow(n,e,r,!0),t&&(n.parent=t),n.level=r,n.setDataAndId(e,this.nextId.toString()),this.allNodesMap[n.id]&&ke(`duplicate node id '${n.id}' detected from getRowId callback, this could cause issues in your grid.`),this.allNodesMap[n.id]=n,this.nextId++,n}setMasterForRow(e,t,r,n){if(this.gos.get("treeData"))e.setMaster(!1),n&&(e.expanded=!1);else{if(this.gos.get("masterDetail")){const o=this.gos.get("isRowMaster");o?e.setMaster(o(t)):e.setMaster(!0)}else e.setMaster(!1);if(n){const o=this.funcColsService.getRowGroupColumns(),a=o?o.length:0,l=r+a;e.expanded=e.master?this.isExpanded(l):!1}}}isExpanded(e){const t=this.gos.get("groupDefaultExpanded");return t===-1?!0:e<t}},wV=class extends Re{constructor(){super(...arguments),this.beanName="rowModel",this.onRowHeightChanged_debounced=ln(this.onRowHeightChanged.bind(this),100),this.rowsToDisplay=[],this.hasStarted=!1,this.shouldSkipSettingDataOnStart=!1,this.isRefreshingModel=!1,this.rowCountReady=!1}wireBeans(e){this.beans=e,this.columnModel=e.columnModel,this.funcColsService=e.funcColsService,this.selectionService=e.selectionService,this.valueCache=e.valueCache,this.environment=e.environment,this.filterStage=e.filterStage,this.sortStage=e.sortStage,this.flattenStage=e.flattenStage,this.groupStage=e.groupStage,this.aggregationStage=e.aggregationStage,this.pivotStage=e.pivotStage,this.filterAggregatesStage=e.filterAggregatesStage}postConstruct(){const e=this.refreshModel.bind(this,{step:"group"}),t=!this.gos.get("suppressAnimationFrame"),r=this.refreshModel.bind(this,{step:"group",afterColumnsChanged:!0,keepRenderedRows:!0,animate:t});this.addManagedEventListeners({newColumnsLoaded:r,columnRowGroupChanged:e,columnValueChanged:this.onValueChanged.bind(this),columnPivotChanged:this.refreshModel.bind(this,{step:"pivot"}),filterChanged:this.onFilterChanged.bind(this),sortChanged:this.onSortChanged.bind(this),columnPivotModeChanged:e,gridStylesChanged:this.onGridStylesChanges.bind(this),gridReady:this.onGridReady.bind(this)}),this.addPropertyListeners(),this.rootNode=new ss(this.beans),this.nodeManager=new bV(this.rootNode,this.gos,this.eventService,this.funcColsService,this.selectionService,this.beans)}addPropertyListeners(){const e=new Set(["treeData","masterDetail"]),t=new Set(["groupDefaultExpanded","groupAllowUnbalanced","initialGroupOrderComparator","groupHideOpenParents","groupDisplayType"]),r=new Set(["excludeChildrenWhenTreeDataFiltering"]),n=new Set(["removePivotHeaderRowWhenSingleValueColumn","pivotRowTotals","pivotColumnGroupTotals","suppressExpandablePivotGroups"]),i=new Set(["getGroupRowAgg","alwaysAggregateAtRootLevel","groupIncludeTotalFooter","suppressAggFilteredOnly","grandTotalRow"]),s=new Set(["postSortRows","groupDisplayType","accentedSort"]),o=new Set([]),a=new Set(["groupRemoveSingleChildren","groupRemoveLowestSingleChildren","groupIncludeFooter","groupTotalRow"]),l=[...e,...t,...r,...n,...n,...i,...s,...o,...a];this.addManagedPropertyListeners(l,c=>{var d;const u=(d=c.changeSet)==null?void 0:d.properties;if(!u)return;const f=h=>u.some(g=>h.has(g));if(f(e)){this.setRowData(this.rootNode.allLeafChildren.map(h=>h.data));return}if(f(t)){this.refreshModel({step:"group"});return}if(f(r)){this.refreshModel({step:"filter"});return}if(f(n)){this.refreshModel({step:"pivot"});return}if(f(i)){this.refreshModel({step:"aggregate"});return}if(f(s)){this.refreshModel({step:"sort"});return}if(f(o)){this.refreshModel({step:"filter_aggregates"});return}f(a)&&this.refreshModel({step:"map"})}),this.addManagedPropertyListener("rowHeight",()=>this.resetRowHeights())}start(){this.hasStarted=!0,this.shouldSkipSettingDataOnStart?this.dispatchUpdateEventsAndRefresh():this.setInitialData()}setInitialData(){const e=this.gos.get("rowData");e&&(this.shouldSkipSettingDataOnStart=!0,this.setRowData(e))}ensureRowHeightsValid(e,t,r,n){let i,s=!1;do{i=!1;const o=this.getRowIndexAtPixel(e),a=this.getRowIndexAtPixel(t),l=Math.max(o,r),c=Math.min(a,n);for(let u=l;u<=c;u++){const f=this.getRow(u);if(f.rowHeightEstimated){const d=this.gos.getRowHeightForNode(f);f.setRowHeight(d.height),i=!0,s=!0}}i&&this.setRowTopAndRowIndex()}while(i);return s}setRowTopAndRowIndex(){const e=this.environment.getDefaultRowHeight();let t=0;const r=new Set,n=this.gos.isDomLayout("normal");for(let i=0;i<this.rowsToDisplay.length;i++){const s=this.rowsToDisplay[i];if(s.id!=null&&r.add(s.id),s.rowHeight==null){const o=this.gos.getRowHeightForNode(s,n,e);s.setRowHeight(o.height,o.estimated)}s.setRowTop(t),s.setRowIndex(i),t+=s.rowHeight}return r}clearRowTopAndRowIndex(e,t){const r=e.isActive(),n=s=>{s&&s.id!=null&&!t.has(s.id)&&s.clearRowTopAndRowIndex()},i=s=>{if(n(s),n(s.detailNode),n(s.sibling),s.hasChildren()&&s.childrenAfterGroup){const o=s.level==-1;r&&!o&&!s.expanded||s.childrenAfterGroup.forEach(i)}};i(this.rootNode)}ensureRowsAtPixel(e,t,r=0){const n=this.getRowIndexAtPixel(t),i=this.getRow(n),s=!this.gos.get("suppressAnimationFrame");return i===e[0]?!1:(e.forEach(o=>{an(this.rootNode.allLeafChildren,o)}),e.forEach((o,a)=>{Qh(this.rootNode.allLeafChildren,o,Math.max(n+r,0)+a)}),this.refreshModel({step:"group",keepRenderedRows:!0,keepEditingRows:!0,animate:s}),!0)}highlightRowAtPixel(e,t){const r=t!=null?this.getRowIndexAtPixel(t):null,n=r!=null?this.getRow(r):null;if(!n||!e||n===e||t==null){this.lastHighlightedRow&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null);return}const i=this.getHighlightPosition(t,n);this.lastHighlightedRow&&this.lastHighlightedRow!==n&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null),n.setHighlighted(i),this.lastHighlightedRow=n}getHighlightPosition(e,t){if(!t){const i=this.getRowIndexAtPixel(e);if(t=this.getRow(i||0),!t)return 1}const{rowTop:r,rowHeight:n}=t;return e-r<n/2?0:1}getLastHighlightedRowNode(){return this.lastHighlightedRow}isLastRowIndexKnown(){return!0}getRowCount(){return this.rowsToDisplay?this.rowsToDisplay.length:0}getTopLevelRowCount(){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return 1;const t=this.rootNode.sibling?1:0,r=this.rootNode.childrenAfterAggFilter;return(r?r.length:0)+t}getTopLevelRowDisplayedIndex(e){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return e;let r=e;if(this.rowsToDisplay[0].footer){if(e===0)return 0;r-=1}const n=this.rowsToDisplay[this.rowsToDisplay.length-1],i=r>=this.rootNode.childrenAfterSort.length;if(n.footer&&i)return n.rowIndex;let s=this.rootNode.childrenAfterSort[r];if(this.gos.get("groupHideOpenParents"))for(;s.expanded&&s.childrenAfterSort&&s.childrenAfterSort.length>0;)s=s.childrenAfterSort[0];return s.rowIndex}getRowBounds(e){if(_t(this.rowsToDisplay))return null;const t=this.rowsToDisplay[e];return t?{rowTop:t.rowTop,rowHeight:t.rowHeight}:null}onRowGroupOpened(){const e=this.gos.isAnimateRows();this.refreshModel({step:"map",keepRenderedRows:!0,animate:e})}onFilterChanged(e){if(e.afterDataChange)return;const t=this.gos.isAnimateRows(),n=e.columns.length===0||e.columns.some(i=>i.isPrimary())?"filter":"filter_aggregates";this.refreshModel({step:n,keepRenderedRows:!0,animate:t})}onSortChanged(){const e=this.gos.isAnimateRows();this.refreshModel({step:"sort",keepRenderedRows:!0,animate:e,keepEditingRows:!0})}getType(){return"clientSide"}onValueChanged(){this.columnModel.isPivotActive()?this.refreshModel({step:"pivot"}):this.refreshModel({step:"aggregate"})}createChangePath(e){const t=xn(e),r=new Bf(!1,this.rootNode);return(t||this.gos.get("treeData"))&&r.setInactive(),r}isSuppressModelUpdateAfterUpdateTransaction(e){if(!this.gos.get("suppressModelUpdateAfterUpdateTransaction")||e.rowNodeTransactions==null)return!1;const t=e.rowNodeTransactions.filter(n=>n.add!=null&&n.add.length>0||n.remove!=null&&n.remove.length>0);return t==null||t.length==0}buildRefreshModelParams(e){let t="group";const r={everything:"group",group:"group",filter:"filter",map:"map",aggregate:"aggregate",sort:"sort",pivot:"pivot"};if(je(e)&&(t=r[e]),_t(t)){Vt(`invalid step ${e}, available steps are ${Object.keys(r).join(", ")}`);return}const n=!this.gos.get("suppressAnimationFrame");return{step:t,keepRenderedRows:!0,keepEditingRows:!0,animate:n}}refreshModel(e){if(!this.hasStarted||this.isRefreshingModel||this.columnModel.isChangeEventsDispatching())return;const t=typeof e=="object"&&"step"in e?e:this.buildRefreshModelParams(e);if(!t||this.isSuppressModelUpdateAfterUpdateTransaction(t))return;const r=this.createChangePath(t.rowNodeTransactions);switch(this.isRefreshingModel=!0,t.step){case"group":this.doRowGrouping(t.rowNodeTransactions,t.rowNodeOrder,r,!!t.afterColumnsChanged);case"filter":this.doFilter(r);case"pivot":this.doPivot(r);case"aggregate":this.doAggregate(r);case"filter_aggregates":this.doFilterAggregates(r);case"sort":this.doSort(t.rowNodeTransactions,r);case"map":this.doRowsToDisplay()}const n=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(r,n),this.isRefreshingModel=!1,this.eventService.dispatchEvent({type:"modelUpdated",animate:t.animate,keepRenderedRows:t.keepRenderedRows,newData:t.newData,newPage:!1,keepUndoRedoStack:t.keepUndoRedoStack})}isEmpty(){const e=_t(this.rootNode.allLeafChildren)||this.rootNode.allLeafChildren.length===0;return _t(this.rootNode)||e||!this.columnModel.isReady()}isRowsToRender(){return je(this.rowsToDisplay)&&this.rowsToDisplay.length>0}getNodesInRangeForSelection(e,t){let r=!1,n=!1;const i=[],s=this.gos.get("groupSelectsChildren");return this.forEachNodeAfterFilterAndSort(o=>{if(n)return;if(r&&(o===t||o===e)&&(n=!0,o.group&&s)){i.push(...o.allLeafChildren);return}if(!r){if(o!==t&&o!==e)return;r=!0}if(!o.group||!s){i.push(o);return}}),i}setDatasource(e){Vt("should never call setDatasource on clientSideRowController")}getTopLevelNodes(){return this.rootNode?this.rootNode.childrenAfterGroup:null}getRootNode(){return this.rootNode}getRow(e){return this.rowsToDisplay[e]}isRowPresent(e){return this.rowsToDisplay.indexOf(e)>=0}getRowIndexAtPixel(e){if(this.isEmpty()||this.rowsToDisplay.length===0)return-1;let t=0,r=this.rowsToDisplay.length-1;if(e<=0)return 0;if(Ot(this.rowsToDisplay).rowTop<=e)return this.rowsToDisplay.length-1;let i=-1,s=-1;for(;;){const o=Math.floor((t+r)/2),a=this.rowsToDisplay[o];if(this.isRowInPixel(a,e)||(a.rowTop<e?t=o+1:a.rowTop>e&&(r=o-1),i===t&&s===r))return o;i=t,s=r}}isRowInPixel(e,t){const r=e.rowTop,n=e.rowTop+e.rowHeight;return r<=t&&n>t}forEachLeafNode(e){this.rootNode.allLeafChildren&&this.rootNode.allLeafChildren.forEach((t,r)=>e(t,r))}forEachNode(e,t=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterGroup||[]],callback:e,recursionType:0,index:0,includeFooterNodes:t})}forEachNodeAfterFilter(e,t=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterAggFilter||[]],callback:e,recursionType:1,index:0,includeFooterNodes:t})}forEachNodeAfterFilterAndSort(e,t=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterSort||[]],callback:e,recursionType:2,index:0,includeFooterNodes:t})}forEachPivotNode(e,t=!1){this.recursivelyWalkNodesAndCallback({nodes:[this.rootNode],callback:e,recursionType:3,index:0,includeFooterNodes:t})}recursivelyWalkNodesAndCallback(e){const{nodes:t,callback:r,recursionType:n,includeFooterNodes:i}=e;let{index:s}=e;const o=a=>{var h;const l=(h=t[0])==null?void 0:h.parent;if(!l)return;const c=i&&this.gos.getGrandTotalRow(),u=this.gos.getGroupTotalRowCallback(),f=i&&u({node:l});if(l===this.rootNode){c===a&&(l.createFooter(),r(l.sibling,s++));return}f===a&&(l.createFooter(),r(l.sibling,s++))};o("top");for(let a=0;a<t.length;a++){const l=t[a];if(r(l,s++),l.hasChildren()&&!l.footer){let c=null;switch(n){case 0:c=l.childrenAfterGroup;break;case 1:c=l.childrenAfterAggFilter;break;case 2:c=l.childrenAfterSort;break;case 3:c=l.leafGroup?null:l.childrenAfterSort;break}c&&(s=this.recursivelyWalkNodesAndCallback({nodes:[...c],callback:r,recursionType:n,index:s,includeFooterNodes:i}))}}return o("bottom"),s}doAggregate(e){var t;(t=this.aggregationStage)==null||t.execute({rowNode:this.rootNode,changedPath:e})}doFilterAggregates(e){this.filterAggregatesStage?this.filterAggregatesStage.execute({rowNode:this.rootNode,changedPath:e}):this.rootNode.childrenAfterAggFilter=this.rootNode.childrenAfterFilter}expandOrCollapseAll(e){const t=this.gos.get("treeData"),r=this.columnModel.isPivotActive(),n=i=>{i&&i.forEach(s=>{const o=()=>{s.expanded=e,n(s.childrenAfterGroup)};if(t){je(s.childrenAfterGroup)&&o();return}if(r){!s.leafGroup&&o();return}s.group&&o()})};this.rootNode&&n(this.rootNode.childrenAfterGroup),this.refreshModel({step:"map"}),this.eventService.dispatchEvent({type:"expandOrCollapseAll",source:e?"expandAll":"collapseAll"})}doSort(e,t){this.sortStage.execute({rowNode:this.rootNode,rowNodeTransactions:e,changedPath:t})}doRowGrouping(e,t,r,n){this.groupStage?(e?this.groupStage.execute({rowNode:this.rootNode,rowNodeTransactions:e,rowNodeOrder:t,changedPath:r}):this.groupStage.execute({rowNode:this.rootNode,changedPath:r,afterColumnsChanged:n}),this.gos.get("groupSelectsChildren")&&this.selectionService.updateGroupsFromChildrenSelections("rowGroupChanged",r)&&this.eventService.dispatchEvent({type:"selectionChanged",source:"rowGroupChanged"})):(this.rootNode.childrenAfterGroup=this.rootNode.allLeafChildren,this.rootNode.sibling&&(this.rootNode.sibling.childrenAfterGroup=this.rootNode.childrenAfterGroup),this.rootNode.updateHasChildren()),this.nodeManager.isRowCountReady()&&(this.rowCountReady=!0,this.eventService.dispatchEventOnce({type:"rowCountReady"}))}doFilter(e){this.filterStage.execute({rowNode:this.rootNode,changedPath:e})}doPivot(e){var t;(t=this.pivotStage)==null||t.execute({rowNode:this.rootNode,changedPath:e})}getCopyOfNodesMap(){return this.nodeManager.getCopyOfNodesMap()}getRowNode(e){if(typeof e=="string"&&e.indexOf(ss.ID_PREFIX_ROW_GROUP)==0){let r;return this.forEachNode(n=>{n.id===e&&(r=n)}),r}return this.nodeManager.getRowNode(e)}setRowData(e){this.selectionService.reset("rowDataChanged"),this.nodeManager.setRowData(e),this.hasStarted&&this.dispatchUpdateEventsAndRefresh()}dispatchUpdateEventsAndRefresh(){this.eventService.dispatchEvent({type:"rowDataUpdated"}),this.refreshModel({step:"group",newData:!0})}batchUpdateRowData(e,t){if(this.applyAsyncTransactionsTimeout==null){this.rowDataTransactionBatch=[];const r=this.gos.getAsyncTransactionWaitMillis();this.applyAsyncTransactionsTimeout=window.setTimeout(()=>{this.executeBatchUpdateRowData()},r)}this.rowDataTransactionBatch.push({rowDataTransaction:e,callback:t})}flushAsyncTransactions(){this.applyAsyncTransactionsTimeout!=null&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())}executeBatchUpdateRowData(){this.valueCache.onDataChanged();const e=[],t=[];let r=!1;this.rowDataTransactionBatch&&this.rowDataTransactionBatch.forEach(n=>{const i=this.nodeManager.updateRowData(n.rowDataTransaction,void 0);t.push(i),n.callback&&e.push(n.callback.bind(null,i)),typeof n.rowDataTransaction.addIndex=="number"&&(r=!0)}),this.commonUpdateRowData(t,void 0,r),e.length>0&&window.setTimeout(()=>{e.forEach(n=>n())},0),t.length>0&&this.eventService.dispatchEvent({type:"asyncTransactionsFlushed",results:t}),this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0}updateRowData(e,t){this.valueCache.onDataChanged();const r=this.nodeManager.updateRowData(e,t),n=typeof e.addIndex=="number";return this.commonUpdateRowData([r],t,n),r}createRowNodeOrder(){if(this.gos.get("suppressMaintainUnsortedOrder"))return;const t={};if(this.rootNode&&this.rootNode.allLeafChildren)for(let r=0;r<this.rootNode.allLeafChildren.length;r++){const n=this.rootNode.allLeafChildren[r];t[n.id]=r}return t}commonUpdateRowData(e,t,r){if(!this.hasStarted)return;const n=!this.gos.get("suppressAnimationFrame");r&&(t=this.createRowNodeOrder()),this.eventService.dispatchEvent({type:"rowDataUpdated"}),this.refreshModel({step:"group",rowNodeTransactions:e,rowNodeOrder:t,keepRenderedRows:!0,keepEditingRows:!0,animate:n})}doRowsToDisplay(){this.rowsToDisplay=this.flattenStage.execute({rowNode:this.rootNode})}onRowHeightChanged(){this.refreshModel({step:"map",keepRenderedRows:!0,keepEditingRows:!0,keepUndoRedoStack:!0})}onRowHeightChangedDebounced(){this.onRowHeightChanged_debounced()}resetRowHeights(){const e=this.resetRowHeightsForAllRowNodes();this.rootNode.setRowHeight(this.rootNode.rowHeight,!0),this.rootNode.sibling&&this.rootNode.sibling.setRowHeight(this.rootNode.sibling.rowHeight,!0),e&&this.onRowHeightChanged()}resetRowHeightsForAllRowNodes(){let e=!1;return this.forEachNode(t=>{t.setRowHeight(t.rowHeight,!0);const r=t.detailNode;r&&r.setRowHeight(r.rowHeight,!0),t.sibling&&t.sibling.setRowHeight(t.sibling.rowHeight,!0),e=!0}),e}onGridStylesChanges(e){if(e.rowHeightChanged){if(this.columnModel.isAutoRowHeightActive())return;this.resetRowHeights()}}onGridReady(){this.hasStarted||this.setInitialData()}isRowDataLoaded(){return this.rowCountReady}};function CV(e){e.expansionService.onGroupExpandedOrCollapsed()}function SV(e,t){var r,n;(n=(r=e.rowModelHelperService)==null?void 0:r.getClientSideRowModel())==null||n.refreshModel(t)}function xV(e,t){var r,n;(n=(r=e.rowModelHelperService)==null?void 0:r.getClientSideRowModel())==null||n.forEachLeafNode(t)}function RV(e,t){var r,n;(n=(r=e.rowModelHelperService)==null?void 0:r.getClientSideRowModel())==null||n.forEachNodeAfterFilter(t)}function EV(e,t){var r,n;(n=(r=e.rowModelHelperService)==null?void 0:r.getClientSideRowModel())==null||n.forEachNodeAfterFilterAndSort(t)}function TV(e){var t,r;if(e.columnModel.isAutoRowHeightActive()){ke("calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.");return}(r=(t=e.rowModelHelperService)==null?void 0:t.getClientSideRowModel())==null||r.resetRowHeights()}function PV(e,t){return e.frameworkOverrides.wrapIncoming(()=>{var r,n;return(n=(r=e.rowModelHelperService)==null?void 0:r.getClientSideRowModel())==null?void 0:n.updateRowData(t)})}function _V(e,t,r){e.frameworkOverrides.wrapIncoming(()=>{var n,i;return(i=(n=e.rowModelHelperService)==null?void 0:n.getClientSideRowModel())==null?void 0:i.batchUpdateRowData(t,r)})}function MV(e){e.frameworkOverrides.wrapIncoming(()=>{var t,r;return(r=(t=e.rowModelHelperService)==null?void 0:t.getClientSideRowModel())==null?void 0:r.flushAsyncTransactions()})}function kV(e){return e.selectionService.getBestCostNodeSelection()}var FV=class extends Re{constructor(){super(...arguments),this.beanName="filterStage"}wireBeans(e){this.filterManager=e.filterManager}execute(e){const{changedPath:t}=e;this.filter(t)}filter(e){var r;const t=!!((r=this.filterManager)!=null&&r.isChildFilterPresent());this.filterNodes(t,e)}filterNodes(e,t){const r=(n,i)=>{n.hasChildren()&&e&&!i?n.childrenAfterFilter=n.childrenAfterGroup.filter(s=>{const o=s.childrenAfterFilter&&s.childrenAfterFilter.length>0,a=s.data&&this.filterManager.doesRowPassFilter({rowNode:s});return o||a}):n.childrenAfterFilter=n.childrenAfterGroup,n.sibling&&(n.sibling.childrenAfterFilter=n.childrenAfterFilter)};if(this.doingTreeDataFiltering()){const n=(s,o)=>{if(s.childrenAfterGroup)for(let a=0;a<s.childrenAfterGroup.length;a++){const l=s.childrenAfterGroup[a],c=o||this.filterManager.doesRowPassFilter({rowNode:l});l.childrenAfterGroup?n(s.childrenAfterGroup[a],c):r(l,c)}r(s,o)},i=s=>n(s,!1);t.executeFromRootNode(i)}else{const n=i=>r(i,!1);t.forEachChangedNodeDepthFirst(n,!0)}}doingTreeDataFiltering(){return this.gos.get("treeData")&&!this.gos.get("excludeChildrenWhenTreeDataFiltering")}},AV=class extends Re{constructor(){super(...arguments),this.beanName="flattenStage"}wireBeans(e){this.beans=e,this.columnModel=e.columnModel}execute(e){const t=e.rowNode,r=[],n=this.columnModel.isPivotMode(),i=n&&t.leafGroup,s=i?[t]:t.childrenAfterSort,o=this.getFlattenDetails();this.recursivelyAddToRowsToDisplay(o,s,r,n,0);const a=r.length>0;if(!i&&a&&o.grandTotalRow){t.createFooter();const c=o.grandTotalRow==="top";this.addRowNodeToRowsToDisplay(o,t.sibling,r,0,c)}return r}getFlattenDetails(){const e=this.gos.get("groupRemoveSingleChildren");return{groupRemoveLowestSingleChildren:!e&&this.gos.get("groupRemoveLowestSingleChildren"),groupRemoveSingleChildren:e,isGroupMultiAutoColumn:this.gos.isGroupMultiAutoColumn(),hideOpenParents:this.gos.get("groupHideOpenParents"),grandTotalRow:this.gos.getGrandTotalRow(),groupTotalRow:this.gos.getGroupTotalRowCallback()}}recursivelyAddToRowsToDisplay(e,t,r,n,i){if(!xn(t))for(let s=0;s<t.length;s++){const o=t[s],a=o.hasChildren(),l=n&&!a,c=e.groupRemoveSingleChildren&&a&&o.childrenAfterGroup.length===1,u=e.groupRemoveLowestSingleChildren&&a&&o.leafGroup&&o.childrenAfterGroup.length===1,f=n&&o.leafGroup,d=e.hideOpenParents&&o.expanded&&!o.master&&!f;if(!l&&!d&&!c&&!u&&this.addRowNodeToRowsToDisplay(e,o,r,i),!(n&&o.leafGroup)){if(a){const g=c||u;if(o.expanded||g){const v=e.groupTotalRow({node:o});v||o.destroyFooter();const p=g?i:i+1;v==="top"&&(o.createFooter(),this.addRowNodeToRowsToDisplay(e,o.sibling,r,p)),this.recursivelyAddToRowsToDisplay(e,o.childrenAfterSort,r,n,p),v==="bottom"&&(o.createFooter(),this.addRowNodeToRowsToDisplay(e,o.sibling,r,p))}}else if(o.master&&o.expanded){const g=this.createDetailNode(o);this.addRowNodeToRowsToDisplay(e,g,r,i)}}}}addRowNodeToRowsToDisplay(e,t,r,n,i){i?r.unshift(t):r.push(t),t.setUiLevel(e.isGroupMultiAutoColumn?0:n)}createDetailNode(e){if(je(e.detailNode))return e.detailNode;const t=new ss(this.beans);return t.detail=!0,t.selectable=!1,t.parent=e,je(e.id)&&(t.id="detail_"+e.id),t.data=e.data,t.level=e.level+1,e.detailNode=t,t}},OV=class extends Re{constructor(){super(...arguments),this.beanName="immutableService"}wireBeans(e){this.rowModel=e.rowModel,this.selectionService=e.selectionService}postConstruct(){this.rowModel.getType()==="clientSide"&&(this.clientSideRowModel=this.rowModel,this.addManagedPropertyListener("rowData",()=>this.onRowDataUpdated()))}isActive(){const e=this.gos.exists("getRowId");return this.gos.get("resetRowDataOnUpdate")?!1:e}setRowData(e){const t=this.createTransactionForRowData(e);if(!t)return;const[r,n]=t;this.clientSideRowModel.updateRowData(r,n)}createTransactionForRowData(e){if(_t(this.clientSideRowModel)){Vt("ImmutableService only works with ClientSideRowModel");return}const t=this.gos.getRowIdCallback();if(t==null){Vt("ImmutableService requires getRowId() callback to be implemented, your row data needs IDs!");return}const r={remove:[],update:[],add:[]},n=this.clientSideRowModel.getCopyOfNodesMap(),s=this.gos.get("suppressMaintainUnsortedOrder")?void 0:{};return je(e)&&e.forEach((o,a)=>{const l=t({data:o,level:0}),c=n[l];s&&(s[l]=a),c?(c.data!==o&&r.update.push(o),n[l]=void 0):r.add.push(o)}),bi(n,(o,a)=>{a&&r.remove.push(a.data)}),[r,s]}onRowDataUpdated(){const e=this.gos.get("rowData");e&&(this.isActive()?this.setRowData(e):(this.selectionService.reset("rowDataChanged"),this.clientSideRowModel.setRowData(e)))}},DV=class extends Re{constructor(){super(...arguments),this.beanName="sortService"}wireBeans(e){this.columnModel=e.columnModel,this.funcColsService=e.funcColsService,this.rowNodeSorter=e.rowNodeSorter,this.showRowGroupColsService=e.showRowGroupColsService}sort(e,t,r,n,i,s){const o=this.gos.get("groupMaintainOrder"),a=this.columnModel.getCols().some(d=>d.isRowGroupActive());let l={};r&&n&&(l=this.calculateDirtyNodes(n));const c=this.columnModel.isPivotMode(),u=this.gos.getCallback("postSortRows"),f=d=>{var v;this.pullDownGroupDataForHideOpenParents(d.childrenAfterAggFilter,!0);const h=c&&d.leafGroup;if(o&&a&&!d.leafGroup&&!s){const p=(v=this.funcColsService.getRowGroupColumns())==null?void 0:v[d.level+1],y=(p==null?void 0:p.getSort())===null,m=d.childrenAfterAggFilter.slice(0);if(d.childrenAfterSort&&!y){const b={};d.childrenAfterSort.forEach((x,P)=>{b[x.id]=P}),m.sort((x,P)=>(b[x.id]??0)-(b[P.id]??0))}d.childrenAfterSort=m}else!t||h?d.childrenAfterSort=d.childrenAfterAggFilter.slice(0):r?d.childrenAfterSort=this.doDeltaSort(d,l,i,e):d.childrenAfterSort=this.rowNodeSorter.doFullSort(d.childrenAfterAggFilter,e);if(d.sibling&&(d.sibling.childrenAfterSort=d.childrenAfterSort),this.updateChildIndexes(d),u){const p={nodes:d.childrenAfterSort};u(p)}};i&&i.forEachChangedNodeDepthFirst(f),this.updateGroupDataForHideOpenParents(i)}calculateDirtyNodes(e){const t={},r=n=>{n&&n.forEach(i=>t[i.id]=!0)};return e&&e.forEach(n=>{r(n.add),r(n.update),r(n.remove)}),t}doDeltaSort(e,t,r,n){const i=e.childrenAfterAggFilter,s=e.childrenAfterSort;if(!s)return this.rowNodeSorter.doFullSort(i,n);const o={},a=[];i.forEach(f=>{t[f.id]||!r.canSkip(f)?a.push(f):o[f.id]=!0});const l=s.filter(f=>o[f.id]),c=(f,d)=>({currentPos:d,rowNode:f}),u=a.map(c).sort((f,d)=>this.rowNodeSorter.compareRowNodes(n,f,d));return this.mergeSortedArrays(n,u,l.map(c)).map(({rowNode:f})=>f)}mergeSortedArrays(e,t,r){const n=[];let i=0,s=0;for(;i<t.length&&s<r.length;)this.rowNodeSorter.compareRowNodes(e,t[i],r[s])<0?n.push(t[i++]):n.push(r[s++]);for(;i<t.length;)n.push(t[i++]);for(;s<r.length;)n.push(r[s++]);return n}updateChildIndexes(e){if(_t(e.childrenAfterSort))return;const t=e.childrenAfterSort;for(let r=0;r<t.length;r++){const n=t[r],i=r===0,s=r===e.childrenAfterSort.length-1;n.setFirstChild(i),n.setLastChild(s),n.setChildIndex(r)}}updateGroupDataForHideOpenParents(e){if(!this.gos.get("groupHideOpenParents"))return;if(this.gos.get("treeData"))return ke("The property hideOpenParents dose not work with Tree Data. This is because Tree Data has values at the group level, it doesn't make sense to hide them."),!1;const t=r=>{this.pullDownGroupDataForHideOpenParents(r.childrenAfterSort,!1),r.childrenAfterSort.forEach(n=>{n.hasChildren()&&t(n)})};e&&e.executeFromRootNode(r=>t(r))}pullDownGroupDataForHideOpenParents(e,t){!this.gos.get("groupHideOpenParents")||_t(e)||e.forEach(r=>{var i;(((i=this.showRowGroupColsService)==null?void 0:i.getShowRowGroupCols())??[]).forEach(s=>{const o=s.getColDef().showRowGroup;if(typeof o!="string"){Vt("groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup");return}const a=o,l=this.columnModel.getColDefCol(a);if(l!==r.rowGroupColumn)if(t)r.setGroupValue(s.getId(),void 0);else{const u=r.getFirstChildOfFirstChild(l);u&&r.setGroupValue(s.getId(),u.key)}})})}},IV=class extends Re{constructor(){super(...arguments),this.beanName="sortStage"}wireBeans(e){this.sortService=e.sortService,this.sortController=e.sortController}execute(e){const t=this.sortController.getSortOptions(),r=je(t)&&t.length>0,n=r&&je(e.rowNodeTransactions)&&this.gos.get("deltaSort"),i=t.some(s=>this.gos.isColumnsSortingCoupledToGroup()?s.column.isPrimary()&&s.column.isRowGroupActive():!!s.column.getColDef().showRowGroup);this.sortService.sort(t,r,n,e.rowNodeTransactions,e.changedPath,i)}},Py="32.1.0",C4={version:Py,moduleName:"@ag-grid-community/client-side-row-model-core",rowModel:"clientSide",beans:[wV,FV,IV,AV,DV,OV]},NV={version:Py,moduleName:"@ag-grid-community/client-side-row-model-api",beans:[w4],apiFunctions:{onGroupExpandedOrCollapsed:CV,refreshClientSideRowModel:SV,forEachLeafNode:xV,forEachNodeAfterFilter:RV,forEachNodeAfterFilterAndSort:EV,resetRowHeights:TV,applyTransaction:PV,applyTransactionAsync:_V,flushAsyncTransactions:MV,getBestCostNodeSelection:kV},dependantModules:[C4,pV]},LV={version:Py,moduleName:"@ag-grid-community/client-side-row-model",dependantModules:[C4,NV]},jV=class extends Re{setBeans(e){this.beans=e}getFileName(e){const t=this.getDefaultFileExtension();return(e==null||!e.length)&&(e=this.getDefaultFileName()),e.indexOf(".")===-1?`${e}.${t}`:e}getData(e){const t=this.createSerializingSession(e);return this.beans.gridSerializer.serialize(t,e)}getDefaultFileName(){return`export.${this.getDefaultFileExtension()}`}},BV=class{constructor(e){this.groupColumns=[];const{columnModel:t,funcColsService:r,columnNameService:n,valueService:i,gos:s,processCellCallback:o,processHeaderCallback:a,processGroupHeaderCallback:l,processRowGroupCallback:c}=e;this.columnModel=t,this.funcColsService=r,this.columnNameService=n,this.valueService=i,this.gos=s,this.processCellCallback=o,this.processHeaderCallback=a,this.processGroupHeaderCallback=l,this.processRowGroupCallback=c}prepare(e){this.groupColumns=e.filter(t=>!!t.getColDef().showRowGroup)}extractHeaderValue(e){return this.getHeaderName(this.processHeaderCallback,e)??""}extractRowCellValue(e,t,r,n,i){const o=(!this.gos.get("groupHideOpenParents")||i.footer)&&this.shouldRenderGroupSummaryCell(i,e,t)?this.createValueForGroupNode(e,i):this.valueService.getValue(e,i);return this.processCell({accumulatedRowIndex:r,rowNode:i,column:e,value:o,processCellCallback:this.processCellCallback,type:n})}shouldRenderGroupSummaryCell(e,t,r){var o;if(!(e&&e.group))return!1;if(this.groupColumns.indexOf(t)!==-1){if(((o=e.groupData)==null?void 0:o[t.getId()])!=null||this.gos.isRowModelType("serverSide")&&e.group)return!0;if(e.footer&&e.level===-1){const a=t.getColDef();return a==null||a.showRowGroup===!0||a.showRowGroup===this.funcColsService.getRowGroupColumns()[0].getId()}}const s=this.gos.isGroupUseEntireRow(this.columnModel.isPivotMode());return r===0&&s}getHeaderName(e,t){return e?e(this.gos.addGridCommonParams({column:t})):this.columnNameService.getDisplayNameForColumn(t,"csv",!0)}createValueForGroupNode(e,t){if(this.processRowGroupCallback)return this.processRowGroupCallback(this.gos.addGridCommonParams({column:e,node:t}));const r=this.gos.get("treeData"),n=this.gos.get("suppressGroupMaintainValueType"),i=l=>{var u;if(r||n)return l.key;const c=(u=l.groupData)==null?void 0:u[e.getId()];return!c||!l.rowGroupColumn||l.rowGroupColumn.getColDef().useValueFormatterForExport===!1?c:this.valueService.formatValue(l.rowGroupColumn,l,c)??c},s=t.footer,o=[i(t)];if(!this.gos.isGroupMultiAutoColumn())for(;t.parent;)t=t.parent,o.push(i(t));const a=o.reverse().join(" -> ");return s?`Total ${a}`:a}processCell(e){const{accumulatedRowIndex:t,rowNode:r,column:n,value:i,processCellCallback:s,type:o}=e;return s?{value:s(this.gos.addGridCommonParams({accumulatedRowIndex:t,column:n,node:r,value:i,type:o,parseValue:a=>this.valueService.parseValue(n,r,a,this.valueService.getValue(n,r)),formatValue:a=>this.valueService.formatValue(n,r,a)??a}))??""}:n.getColDef().useValueFormatterForExport!==!1?{value:i??"",valueFormatted:this.valueService.formatValue(n,r,i)}:{value:i??""}}},HV=class{static download(e,t){const r=document.defaultView||window;if(!r){ke("There is no `window` associated with the current `document`");return}const n=document.createElement("a"),i=r.URL.createObjectURL(t);n.setAttribute("href",i),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:r})),document.body.removeChild(n),r.setTimeout(()=>{r.URL.revokeObjectURL(i)},0)}},uC=`\r
`,GV=class extends BV{constructor(e){super(e),this.isFirstLine=!0,this.result="";const{suppressQuotes:t,columnSeparator:r}=e;this.suppressQuotes=t,this.columnSeparator=r}addCustomContent(e){e&&(typeof e=="string"?(/^\s*\n/.test(e)||this.beginNewLine(),e=e.replace(/\r?\n/g,uC),this.result+=e):e.forEach(t=>{this.beginNewLine(),t.forEach((r,n)=>{n!==0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(r.data.value||""),r.mergeAcross&&this.appendEmptyCells(r.mergeAcross)})}))}onNewHeaderGroupingRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}}onNewHeaderGroupingRowColumn(e,t,r,n){r!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(t),this.appendEmptyCells(n)}appendEmptyCells(e){for(let t=1;t<=e;t++)this.result+=this.columnSeparator+this.putInQuotes("")}onNewHeaderRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}}onNewHeaderRowColumn(e,t){t!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(e))}onNewBodyRow(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}}onNewBodyRowColumn(e,t,r){t!=0&&(this.result+=this.columnSeparator);const n=this.extractRowCellValue(e,t,t,"csv",r);this.result+=this.putInQuotes(n.valueFormatted??n.value)}putInQuotes(e){if(this.suppressQuotes)return e;if(e==null)return'""';let t;return typeof e=="string"?t=e:typeof e.toString=="function"?t=e.toString():(ke("unknown value type during csv conversion"),t=""),'"'+t.replace(/"/g,'""')+'"'}parse(){return this.result}beginNewLine(){this.isFirstLine||(this.result+=uC),this.isFirstLine=!1}},VV=class extends jV{constructor(){super(...arguments),this.beanName="csvCreator"}wireBeans(e){this.columnModel=e.columnModel,this.columnNameService=e.columnNameService,this.funcColsService=e.funcColsService,this.valueService=e.valueService,this.gridSerializer=e.gridSerializer}postConstruct(){this.setBeans({gridSerializer:this.gridSerializer,gos:this.gos})}getMergedParams(e){const t=this.gos.get("defaultCsvExportParams");return Object.assign({},t,e)}export(e){if(this.isExportSuppressed()){ke("Export cancelled. Export is not allowed as per your configuration.");return}const t=this.getMergedParams(e),r=this.getData(t),n=new Blob(["\uFEFF",r],{type:"text/plain"}),i=typeof t.fileName=="function"?t.fileName(this.gos.getGridCommonParams()):t.fileName;HV.download(this.getFileName(i),n)}exportDataAsCsv(e){this.export(e)}getDataAsCsv(e,t=!1){const r=t?Object.assign({},e):this.getMergedParams(e);return this.getData(r)}getDefaultFileExtension(){return"csv"}createSerializingSession(e){const{columnModel:t,columnNameService:r,funcColsService:n,valueService:i,gos:s}=this,{processCellCallback:o,processHeaderCallback:a,processGroupHeaderCallback:l,processRowGroupCallback:c,suppressQuotes:u,columnSeparator:f}=e;return new GV({columnModel:t,columnNameService:r,funcColsService:n,valueService:i,gos:s,processCellCallback:o||void 0,processHeaderCallback:a||void 0,processGroupHeaderCallback:l||void 0,processRowGroupCallback:c||void 0,suppressQuotes:u||!1,columnSeparator:f||","})}isExportSuppressed(){return this.gos.get("suppressCsvExport")}};function zV(e,t){var r;return(r=e.csvCreator)==null?void 0:r.getDataAsCsv(t)}function WV(e,t){var r;(r=e.csvCreator)==null||r.exportDataAsCsv(t)}var $V=class extends Re{constructor(){super(...arguments),this.beanName="gridSerializer"}wireBeans(e){this.visibleColsService=e.visibleColsService,this.columnModel=e.columnModel,this.columnNameService=e.columnNameService,this.rowModel=e.rowModel,this.pinnedRowModel=e.pinnedRowModel,this.selectionService=e.selectionService,this.rowNodeSorter=e.rowNodeSorter,this.sortController=e.sortController}serialize(e,t={}){const{allColumns:r,columnKeys:n,skipRowGroups:i}=t,s=this.getColumnsToExport(r,i,n);return XD(this.prepareSession(s),this.prependContent(t),this.exportColumnGroups(t,s),this.exportHeaders(t,s),this.processPinnedTopRows(t,s),this.processRows(t,s),this.processPinnedBottomRows(t,s),this.appendContent(t))(e).parse()}processRow(e,t,r,n){var y;const i=t.shouldRowBeSkipped||(()=>!1),s=this.gos.get("groupRemoveSingleChildren"),o=this.gos.get("groupRemoveLowestSingleChildren"),l=t.rowPositions!=null||!!t.onlySelected,c=this.gos.get("groupHideOpenParents")&&!l,u=this.columnModel.isPivotMode()?n.leafGroup:!n.group,f=!!n.footer,d=o&&n.leafGroup,h=n.allChildrenCount===1&&((y=n.childrenAfterGroup)==null?void 0:y.length)===1&&(s||d);if(!u&&!f&&(t.skipRowGroups||h||c)||t.onlySelected&&!n.isSelected()||t.skipPinnedTop&&n.rowPinned==="top"||t.skipPinnedBottom&&n.rowPinned==="bottom"||n.level===-1&&!u&&!f||i(this.gos.addGridCommonParams({node:n})))return;const p=e.onNewBodyRow(n);if(r.forEach((m,b)=>{p.onColumn(m,b,n)}),t.getCustomContentBelowRow){const m=t.getCustomContentBelowRow(this.gos.addGridCommonParams({node:n}));m&&e.addCustomContent(m)}}appendContent(e){return t=>{const r=e.appendContent;return r&&t.addCustomContent(r),t}}prependContent(e){return t=>{const r=e.prependContent;return r&&t.addCustomContent(r),t}}prepareSession(e){return t=>(t.prepare(e),t)}exportColumnGroups(e,t){return r=>{if(!e.skipColumnGroupHeaders){const n=new U3,i=this.visibleColsService.createGroups({columns:t,idCreator:n,pinned:null,isStandaloneStructure:!0});this.recursivelyAddHeaderGroups(i,r,e.processGroupHeaderCallback)}return r}}exportHeaders(e,t){return r=>{if(!e.skipColumnHeaders){const n=r.onNewHeaderRow();t.forEach((i,s)=>{n.onColumn(i,s,void 0)})}return r}}processPinnedTopRows(e,t){return r=>{const n=this.processRow.bind(this,r,e,t);return e.rowPositions?e.rowPositions.filter(i=>i.rowPinned==="top").sort((i,s)=>i.rowIndex-s.rowIndex).map(i=>this.pinnedRowModel.getPinnedTopRow(i.rowIndex)).forEach(n):this.pinnedRowModel.forEachPinnedRow("top",n),r}}processRows(e,t){return r=>{const n=this.rowModel,i=n.getType(),s=i==="clientSide",o=i==="serverSide",a=!s&&e.onlySelected,l=this.processRow.bind(this,r,e,t),{exportedRows:c="filteredAndSorted"}=e;if(e.rowPositions)e.rowPositions.filter(u=>u.rowPinned==null).sort((u,f)=>u.rowIndex-f.rowIndex).map(u=>n.getRow(u.rowIndex)).forEach(l);else if(this.columnModel.isPivotMode())s?n.forEachPivotNode(l,!0):o?n.forEachNodeAfterFilterAndSort(l,!0):n.forEachNode(l);else if(e.onlySelectedAllPages||a){const u=this.selectionService.getSelectedNodes();this.replicateSortedOrder(u),u.forEach(l)}else c==="all"?n.forEachNode(l):s||o?n.forEachNodeAfterFilterAndSort(l,!0):n.forEachNode(l);return r}}replicateSortedOrder(e){const t=this.sortController.getSortOptions(),r=(n,i)=>{var s,o;return n.rowIndex!=null&&i.rowIndex!=null?n.rowIndex-i.rowIndex:n.level===i.level?((s=n.parent)==null?void 0:s.id)===((o=i.parent)==null?void 0:o.id)?this.rowNodeSorter.compareRowNodes(t,{rowNode:n,currentPos:n.rowIndex??-1},{rowNode:i,currentPos:i.rowIndex??-1}):r(n.parent,i.parent):n.level>i.level?r(n.parent,i):r(n,i.parent)};e.sort(r)}processPinnedBottomRows(e,t){return r=>{const n=this.processRow.bind(this,r,e,t);return e.rowPositions?e.rowPositions.filter(i=>i.rowPinned==="bottom").sort((i,s)=>i.rowIndex-s.rowIndex).map(i=>this.pinnedRowModel.getPinnedBottomRow(i.rowIndex)).forEach(n):this.pinnedRowModel.forEachPinnedRow("bottom",n),r}}getColumnsToExport(e=!1,t=!1,r){const n=this.columnModel.isPivotMode();if(r&&r.length)return this.columnModel.getColsForKeys(r);const i=this.gos.get("treeData");let s=[];return e&&!n?s=this.columnModel.getCols():s=this.visibleColsService.getAllCols(),t&&!i&&(s=s.filter(o=>o.getColId()!==Ou)),s}recursivelyAddHeaderGroups(e,t,r){const n=[];e.forEach(i=>{const s=i;s.getChildren&&s.getChildren().forEach(o=>n.push(o))}),e.length>0&&Cr(e[0])&&this.doAddHeaderHeader(t,e,r),n&&n.length>0&&this.recursivelyAddHeaderGroups(n,t,r)}doAddHeaderHeader(e,t,r){const n=e.onNewHeaderGroupingRow();let i=0;t.forEach(s=>{const o=s;let a;r?a=r(this.gos.addGridCommonParams({columnGroup:o})):a=this.columnNameService.getDisplayNameForColumnGroup(o,"header");const l=o.getLeafColumns().reduce((c,u,f,d)=>{let h=Ot(c);return u.getColumnGroupShow()==="open"?(!h||h[1]!=null)&&(h=[f],c.push(h)):h&&h[1]==null&&(h[1]=f-1),f===d.length-1&&h&&h[1]==null&&(h[1]=f),c},[]);n.onColumn(o,a||"",i++,o.getLeafColumns().length-1,l)})}},_y="32.1.0",S4={version:_y,moduleName:"@ag-grid-community/csv-export-core",beans:[VV,$V]},UV={version:_y,moduleName:"@ag-grid-community/csv-export-api",apiFunctions:{getDataAsCsv:zV,exportDataAsCsv:WV},dependantModules:[S4]},KV={version:_y,moduleName:"@ag-grid-community/csv-export",dependantModules:[S4,UV]},qV=class extends nj{wireBeans(e){this.beans=e}constructor(e,t,r){super(e),this.parentCache=t,this.params=r,this.startRow=e*r.blockSize,this.endRow=this.startRow+r.blockSize}postConstruct(){this.createRowNodes()}getBlockStateJson(){return{id:""+this.getId(),state:{blockNumber:this.getId(),startRow:this.getStartRow(),endRow:this.getEndRow(),pageStatus:this.getState()}}}setDataAndId(e,t,r){je(t)?e.setDataAndId(t,r.toString()):e.setDataAndId(void 0,void 0)}loadFromDatasource(){const e=this.createLoadParams();if(_t(this.params.datasource.getRows)){ke("datasource is missing getRows method");return}window.setTimeout(()=>{this.params.datasource.getRows(e)},0)}processServerFail(){}createLoadParams(){return{startRow:this.getStartRow(),endRow:this.getEndRow(),successCallback:this.pageLoaded.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),sortModel:this.params.sortModel,filterModel:this.params.filterModel,context:this.gos.getGridCommonParams().context}}forEachNode(e,t,r){this.rowNodes.forEach((n,i)=>{this.startRow+i<r&&e(n,t.next())})}getLastAccessed(){return this.lastAccessed}getRow(e,t=!1){t||(this.lastAccessed=this.params.lastAccessedSequence.next());const r=e-this.startRow;return this.rowNodes[r]}getStartRow(){return this.startRow}getEndRow(){return this.endRow}createRowNodes(){this.rowNodes=[];for(let e=0;e<this.params.blockSize;e++){const t=this.startRow+e,r=new ss(this.beans);r.setRowHeight(this.params.rowHeight),r.uiLevel=0,r.setRowIndex(t),r.setRowTop(this.params.rowHeight*t),this.rowNodes.push(r)}}processServerResult(e){this.rowNodes.forEach((r,n)=>{const i=e.rowData?e.rowData[n]:void 0;!r.id&&r.alreadyRendered&&i&&(this.rowNodes[n]=new ss(this.beans),this.rowNodes[n].setRowIndex(r.rowIndex),this.rowNodes[n].setRowTop(r.rowTop),this.rowNodes[n].setRowHeight(r.rowHeight),r.clearRowTopAndRowIndex()),this.setDataAndId(this.rowNodes[n],i,this.startRow+n)});const t=e.rowCount!=null&&e.rowCount>=0?e.rowCount:void 0;this.parentCache.pageLoaded(this,t)}destroy(){this.rowNodes.forEach(e=>{e.clearRowTopAndRowIndex()}),super.destroy()}},YV=2,XV=class extends Re{constructor(e){super(),this.lastRowIndexKnown=!1,this.blocks={},this.blockCount=0,this.rowCount=e.initialRowCount,this.params=e}wireBeans(e){this.rowRenderer=e.rowRenderer,this.focusService=e.focusService}getRow(e,t=!1){const r=Math.floor(e/this.params.blockSize);let n=this.blocks[r];if(!n){if(t)return;n=this.createBlock(r)}return n.getRow(e)}createBlock(e){const t=this.createBean(new qV(e,this,this.params));return this.blocks[t.getId()]=t,this.blockCount++,this.purgeBlocksIfNeeded(t),this.params.rowNodeBlockLoader.addBlock(t),t}refreshCache(){if(this.blockCount==0){this.purgeCache();return}this.getBlocksInOrder().forEach(t=>t.setStateWaitingToLoad()),this.params.rowNodeBlockLoader.checkBlockToLoad()}destroy(){this.getBlocksInOrder().forEach(e=>this.destroyBlock(e)),super.destroy()}getRowCount(){return this.rowCount}isLastRowIndexKnown(){return this.lastRowIndexKnown}pageLoaded(e,t){this.isAlive()&&(this.gos.get("debug")&&Si(`InfiniteCache - onPageLoaded: page = ${e.getId()}, lastRow = ${t}`),this.checkRowCount(e,t),this.onCacheUpdated())}purgeBlocksIfNeeded(e){const t=this.getBlocksInOrder().filter(o=>o!=e),r=(o,a)=>a.getLastAccessed()-o.getLastAccessed();t.sort(r);const n=this.params.maxBlocksInCache>0,i=n?this.params.maxBlocksInCache-1:null,s=YV-1;t.forEach((o,a)=>{const l=o.getState()==="needsLoading"&&a>=s,c=n?a>=i:!1;if(l||c){if(this.isBlockCurrentlyDisplayed(o)||this.isBlockFocused(o))return;this.removeBlockFromCache(o)}})}isBlockFocused(e){const t=this.focusService.getFocusCellToUseAfterRefresh();if(!t||t.rowPinned!=null)return!1;const r=e.getStartRow(),n=e.getEndRow();return t.rowIndex>=r&&t.rowIndex<n}isBlockCurrentlyDisplayed(e){const t=e.getStartRow(),r=e.getEndRow()-1;return this.rowRenderer.isRangeInRenderedViewport(t,r)}removeBlockFromCache(e){e&&this.destroyBlock(e)}checkRowCount(e,t){if(typeof t=="number"&&t>=0)this.rowCount=t,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){const n=(e.getId()+1)*this.params.blockSize+this.params.overflowSize;this.rowCount<n&&(this.rowCount=n)}}setRowCount(e,t){this.rowCount=e,je(t)&&(this.lastRowIndexKnown=t),this.lastRowIndexKnown||this.rowCount%this.params.blockSize===0&&this.rowCount++,this.onCacheUpdated()}forEachNodeDeep(e){const t=new Cl;this.getBlocksInOrder().forEach(r=>r.forEachNode(e,t,this.rowCount))}getBlocksInOrder(){const e=(r,n)=>r.getId()-n.getId();return nv(this.blocks).sort(e)}destroyBlock(e){delete this.blocks[e.getId()],this.destroyBean(e),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(e)}onCacheUpdated(){this.isAlive()&&(this.destroyAllBlocksPastVirtualRowCount(),this.eventService.dispatchEvent({type:"storeUpdated"}))}destroyAllBlocksPastVirtualRowCount(){const e=[];this.getBlocksInOrder().forEach(t=>{t.getId()*this.params.blockSize>=this.rowCount&&e.push(t)}),e.length>0&&e.forEach(t=>this.destroyBlock(t))}purgeCache(){this.getBlocksInOrder().forEach(e=>this.removeBlockFromCache(e)),this.lastRowIndexKnown=!1,this.rowCount===0&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()}getRowNodesInRange(e,t){const r=[];let n=-1,i=!1;const s=new Cl;let o=!1;return this.getBlocksInOrder().forEach(l=>{if(!o){if(i&&n+1!==l.getId()){o=!0;return}n=l.getId(),l.forEachNode(c=>{const u=c===e||c===t;(i||u)&&r.push(c),u&&(i=!i)},s,this.rowCount)}}),o||i?[]:r}},QV=class extends Re{constructor(){super(...arguments),this.beanName="rowModel"}wireBeans(e){this.filterManager=e.filterManager,this.sortController=e.sortController,this.selectionService=e.selectionService,this.rowRenderer=e.rowRenderer,this.rowNodeBlockLoader=e.rowNodeBlockLoader}getRowBounds(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}}ensureRowHeightsValid(){return!1}postConstruct(){this.gos.isRowModelType("infinite")&&(this.rowHeight=this.gos.getRowHeightAsNumber(),this.addEventListeners(),this.addDestroyFunc(()=>this.destroyCache()),this.verifyProps())}verifyProps(){this.gos.exists("initialGroupOrderComparator")&&ke("initialGroupOrderComparator cannot be used with Infinite Row Model as sorting is done on the server side")}start(){this.setDatasource(this.gos.get("datasource"))}destroy(){this.destroyDatasource(),super.destroy()}destroyDatasource(){this.datasource&&(this.destroyBean(this.datasource),this.rowRenderer.datasourceChanged(),this.datasource=null)}addEventListeners(){this.addManagedEventListeners({filterChanged:this.onFilterChanged.bind(this),sortChanged:this.onSortChanged.bind(this),newColumnsLoaded:this.onColumnEverything.bind(this),storeUpdated:this.onCacheUpdated.bind(this)}),this.addManagedPropertyListener("datasource",()=>this.setDatasource(this.gos.get("datasource"))),this.addManagedPropertyListener("cacheBlockSize",()=>this.resetCache()),this.addManagedPropertyListener("rowHeight",()=>{this.rowHeight=this.gos.getRowHeightAsNumber(),this.cacheParams.rowHeight=this.rowHeight,this.updateRowHeights()})}onFilterChanged(){this.reset()}onSortChanged(){this.reset()}onColumnEverything(){let e;this.cacheParams?e=this.isSortModelDifferent():e=!0,e&&this.reset()}isSortModelDifferent(){return!fu(this.cacheParams.sortModel,this.sortController.getSortModel())}getType(){return"infinite"}setDatasource(e){this.destroyDatasource(),this.datasource=e,e&&this.reset()}isEmpty(){return!this.infiniteCache}isRowsToRender(){return!!this.infiniteCache}getNodesInRangeForSelection(e,t){return this.infiniteCache?this.infiniteCache.getRowNodesInRange(e,t):[]}reset(){if(!this.datasource)return;this.gos.getRowIdCallback()!=null||this.selectionService.reset("rowDataChanged"),this.resetCache()}dispatchModelUpdatedEvent(){this.eventService.dispatchEvent({type:"modelUpdated",newPage:!1,newPageSize:!1,newData:!1,keepRenderedRows:!0,animate:!1})}resetCache(){var e;this.destroyCache(),this.cacheParams={datasource:this.datasource,filterModel:((e=this.filterManager)==null?void 0:e.getFilterModel())??{},sortModel:this.sortController.getSortModel(),rowNodeBlockLoader:this.rowNodeBlockLoader,initialRowCount:this.gos.get("infiniteInitialRowCount"),maxBlocksInCache:this.gos.get("maxBlocksInCache"),rowHeight:this.gos.getRowHeightAsNumber(),overflowSize:this.gos.get("cacheOverflowSize"),blockSize:this.gos.get("cacheBlockSize"),lastAccessedSequence:new Cl},this.infiniteCache=this.createBean(new XV(this.cacheParams)),this.eventService.dispatchEventOnce({type:"rowCountReady"}),this.dispatchModelUpdatedEvent()}updateRowHeights(){this.forEachNode(e=>{e.setRowHeight(this.rowHeight),e.setRowTop(this.rowHeight*e.rowIndex)}),this.dispatchModelUpdatedEvent()}destroyCache(){this.infiniteCache&&(this.infiniteCache=this.destroyBean(this.infiniteCache))}onCacheUpdated(){this.dispatchModelUpdatedEvent()}getRow(e){if(this.infiniteCache&&!(e>=this.infiniteCache.getRowCount()))return this.infiniteCache.getRow(e)}getRowNode(e){let t;return this.forEachNode(r=>{r.id===e&&(t=r)}),t}forEachNode(e){this.infiniteCache&&this.infiniteCache.forEachNodeDeep(e)}getTopLevelRowCount(){return this.getRowCount()}getTopLevelRowDisplayedIndex(e){return e}getRowIndexAtPixel(e){if(this.rowHeight!==0){const t=Math.floor(e/this.rowHeight),r=this.getRowCount()-1;return t>r?r:t}return 0}getRowCount(){return this.infiniteCache?this.infiniteCache.getRowCount():0}isRowPresent(e){return!!this.getRowNode(e.id)}refreshCache(){this.infiniteCache&&this.infiniteCache.refreshCache()}purgeCache(){this.infiniteCache&&this.infiniteCache.purgeCache()}isLastRowIndexKnown(){return this.infiniteCache?this.infiniteCache.isLastRowIndexKnown():!1}setRowCount(e,t){this.infiniteCache&&this.infiniteCache.setRowCount(e,t)}};function ZV(e){var t,r;(r=(t=e.rowModelHelperService)==null?void 0:t.getInfiniteRowModel())==null||r.refreshCache()}function JV(e){var t,r;(r=(t=e.rowModelHelperService)==null?void 0:t.getInfiniteRowModel())==null||r.purgeCache()}function ez(e){var t,r;return(r=(t=e.rowModelHelperService)==null?void 0:t.getInfiniteRowModel())==null?void 0:r.getRowCount()}function tz(e){var t,r;return(r=(t=e.rowModelHelperService)==null?void 0:t.getInfiniteRowModel())==null?void 0:r.isLastRowIndexKnown()}var My="32.1.0",x4={version:My,moduleName:"@ag-grid-community/infinite-row-model-core",rowModel:"infinite",beans:[QV],dependantModules:[sj]},rz={version:My,moduleName:"@ag-grid-community/infinite-row-model-api",beans:[w4],apiFunctions:{refreshInfiniteCache:ZV,purgeInfiniteCache:JV,getInfiniteRowCount:ez,isLastRowIndexKnown:tz},dependantModules:[x4,gV]},nz={version:My,moduleName:"@ag-grid-community/infinite-row-model",dependantModules:[x4,rz]};Zr.__registerModules([g4,LV,nz,KV],!1,void 0);var hn=pe.createContext({}),Lu=(e,t,r,n)=>{if(!e||e.componentFromFramework||t.isDestroyed())return;const s=e.newAgStackInstance();if(s==null)return;let o,a,l=!1;return s.then(c=>{if(l){t.destroyBean(c);return}o=c,a=o.getGui(),r.appendChild(a),dC(n,o)}),()=>{l=!0,o&&(a&&a.parentElement&&a.parentElement.removeChild(a),t.destroyBean(o),n&&dC(n,void 0))}},dC=(e,t)=>{if(e)if(e instanceof Function)e(t);else{const r=e;r.current=t}},fi=(...e)=>e.filter(r=>r!=null&&r!=="").join(" "),qn=class R4{constructor(...t){this.classesMap={},t.forEach(r=>{this.classesMap[r]=!0})}setClass(t,r){if(!!this.classesMap[t]==r)return this;const i=new R4;return i.classesMap={...this.classesMap},i.classesMap[t]=r,i}toString(){return Object.keys(this.classesMap).filter(r=>this.classesMap[r]).join(" ")}},Hl=e=>{const t=()=>typeof Symbol=="function"&&Symbol.for,r=()=>t()?Symbol.for("react.memo"):60115;return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===r()},E4=es.createRoot!=null&&es.flushSync!=null;function iz(){return!E4}var ih=!1;function sz(e){return ih||setTimeout(()=>ih=!1,0),ih=!0,e()}var ky=(e,t)=>{E4&&e&&!ih?es.flushSync(t):t()};function Fy(e,t,r){if(t==null||e==null)return t;if(e===t||t.length===0&&e.length===0)return e;if(r||e.length===0&&t.length>0||e.length>0&&t.length===0)return t;const n=[],i=[],s=new Map,o=new Map;for(let a=0;a<t.length;a++){const l=t[a];o.set(l.getInstanceId(),l)}for(let a=0;a<e.length;a++){const l=e[a];s.set(l.getInstanceId(),l),o.has(l.getInstanceId())&&n.push(l)}for(let a=0;a<t.length;a++){const l=t[a],c=l.getInstanceId();s.has(c)||i.push(l)}return n.length===e.length&&i.length===0?e:n.length===0&&i.length===t.length?t:n.length===0?i:i.length===0?n:[...n,...i]}var T4=U.forwardRef((e,t)=>{var C;const{ctrlsFactory:r,context:n}=U.useContext(hn),i=U.useRef(null),s=U.useRef(null),o=U.useRef(null),a=U.useRef(null),l=U.useRef(null),c=U.useRef(),[u,f]=U.useState(),[d,h]=U.useState(),[g,v]=U.useState(),[p,y]=U.useState(()=>new qn),[m,b]=U.useState(()=>new qn("ag-hidden")),[x,P]=U.useState(()=>new qn("ag-hidden")),[F,D]=U.useState(()=>new qn("ag-invisible"));U.useImperativeHandle(t,()=>({refresh(){return!1}})),U.useLayoutEffect(()=>Lu(u,n,s.current),[u]);const O=U.useCallback(S=>{if(i.current=S,!i.current){n.destroyBean(c.current),c.current=null;return}const R={setInnerRenderer:(N,B)=>{f(N),v(B)},setChildCount:N=>h(N),addOrRemoveCssClass:(N,B)=>y(V=>V.setClass(N,B)),setContractedDisplayed:N=>P(B=>B.setClass("ag-hidden",!N)),setExpandedDisplayed:N=>b(B=>B.setClass("ag-hidden",!N)),setCheckboxVisible:N=>D(B=>B.setClass("ag-invisible",!N))},_=r.getInstance("groupCellRendererCtrl");_&&(c.current=n.createBean(_),c.current.init(R,i.current,o.current,a.current,l.current,T4,e))},[]),j=U.useMemo(()=>`ag-cell-wrapper ${p.toString()}`,[p]),H=U.useMemo(()=>`ag-group-expanded ${m.toString()}`,[m]),W=U.useMemo(()=>`ag-group-contracted ${x.toString()}`,[x]),G=U.useMemo(()=>`ag-group-checkbox ${F.toString()}`,[F]),M=u&&u.componentFromFramework,k=M?u.componentClass:void 0,E=u==null&&g!=null,w=Bi(g,!0);return pe.createElement("span",{className:j,ref:O,...e.colDef?{}:{role:(C=c.current)==null?void 0:C.getCellAriaRole()}},pe.createElement("span",{className:H,ref:a}),pe.createElement("span",{className:W,ref:l}),pe.createElement("span",{className:G,ref:o}),pe.createElement("span",{className:"ag-group-value",ref:s},E&&pe.createElement(pe.Fragment,null,w),M&&pe.createElement(k,{...u.params})),pe.createElement("span",{className:"ag-group-child-count"},d))}),hC=T4,Ay=U.createContext({setMethods:()=>{}}),oz=e=>{const{initialProps:t,addUpdateCallback:r,CustomComponentClass:n,setMethods:i}=e,[s,o]=U.useState(t);return U.useEffect(()=>{r(a=>o(a))},[]),pe.createElement(Ay.Provider,{value:{setMethods:i}},pe.createElement(n,{...s}))},az=U.memo(oz),lz=0;function fC(){return`agPortalKey_${++lz}`}var P4=class{constructor(e,t,r,n){this.portal=null,this.oldPortal=null,this.reactComponent=e,this.portalManager=t,this.componentType=r,this.suppressFallbackMethods=!!n,this.statelessComponent=this.isStateless(this.reactComponent),this.key=fC(),this.portalKey=fC(),this.instanceCreated=this.isStatelessComponent()?br.resolve(!1):new br(i=>{this.resolveInstanceCreated=i})}getGui(){return this.eParentElement}getRootElement(){return this.eParentElement.firstChild}destroy(){this.componentInstance&&typeof this.componentInstance.destroy=="function"&&this.componentInstance.destroy();const e=this.portal;e&&this.portalManager.destroyPortal(e)}createParentElement(e){const t=this.portalManager.getComponentWrappingElement(),r=document.createElement(t||"div");return r.classList.add("ag-react-container"),e.reactContainer=r,r}addParentContainerStyleAndClasses(){this.componentInstance&&(this.componentInstance.getReactContainerStyle&&this.componentInstance.getReactContainerStyle()&&(ke('Since v31.1 "getReactContainerStyle" is deprecated. Apply styling directly to ".ag-react-container" if needed.'),Object.assign(this.eParentElement.style,this.componentInstance.getReactContainerStyle())),this.componentInstance.getReactContainerClasses&&this.componentInstance.getReactContainerClasses()&&(ke('Since v31.1 "getReactContainerClasses" is deprecated. Apply styling directly to ".ag-react-container" if needed.'),this.componentInstance.getReactContainerClasses().forEach(t=>this.eParentElement.classList.add(t))))}statelessComponentRendered(){return this.eParentElement.childElementCount>0||this.eParentElement.childNodes.length>0}getFrameworkComponentInstance(){return this.componentInstance}isStatelessComponent(){return this.statelessComponent}getReactComponentName(){return this.reactComponent.name}getMemoType(){return this.hasSymbol()?Symbol.for("react.memo"):60115}hasSymbol(){return typeof Symbol=="function"&&Symbol.for}isStateless(e){return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===this.getMemoType()}hasMethod(e){const t=this.getFrameworkComponentInstance();return!!t&&t[e]!=null||this.fallbackMethodAvailable(e)}callMethod(e,t){const r=this.getFrameworkComponentInstance();if(this.isStatelessComponent())return this.fallbackMethod(e,t&&t[0]?t[0]:{});if(!r){setTimeout(()=>this.callMethod(e,t));return}const n=r[e];if(n)return n.apply(r,t);if(this.fallbackMethodAvailable(e))return this.fallbackMethod(e,t&&t[0]?t[0]:{})}addMethod(e,t){this[e]=t}init(e){return this.eParentElement=this.createParentElement(e),this.params=e,this.createOrUpdatePortal(e),new br(t=>this.createReactComponent(t))}createOrUpdatePortal(e){this.isStatelessComponent()||(this.ref=t=>{var r;this.componentInstance=t,this.addParentContainerStyleAndClasses(),(r=this.resolveInstanceCreated)==null||r.call(this,!0),this.resolveInstanceCreated=void 0},e.ref=this.ref),this.reactElement=this.createElement(this.reactComponent,{...e,key:this.key}),this.portal=xu.createPortal(this.reactElement,this.eParentElement,this.portalKey)}createElement(e,t){return U.createElement(e,t)}createReactComponent(e){this.portalManager.mountReactPortal(this.portal,this,e)}rendered(){return this.isStatelessComponent()&&this.statelessComponentRendered()||!!(!this.isStatelessComponent()&&this.getFrameworkComponentInstance())}refreshComponent(e){this.oldPortal=this.portal,this.createOrUpdatePortal(e),this.portalManager.updateReactPortal(this.oldPortal,this.portal)}fallbackMethod(e,t){const r=this[`${e}Component`];if(!this.suppressFallbackMethods&&r)return r.bind(this)(t)}fallbackMethodAvailable(e){return this.suppressFallbackMethods?!1:!!this[`${e}Component`]}};function Oy(e,t,r){e.forEach(n=>{const i=t[n];i&&(r[n]=i)})}var ws=class extends P4{constructor(){super(...arguments),this.awaitUpdateCallback=new br(e=>{this.resolveUpdateCallback=e}),this.wrapperComponent=az}init(e){return this.sourceParams=e,super.init(this.getProps())}addMethod(){}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}getFrameworkComponentInstance(){return this}createElement(e,t){return super.createElement(this.wrapperComponent,{initialProps:t,CustomComponentClass:e,setMethods:r=>this.setMethods(r),addUpdateCallback:r=>{this.updateCallback=()=>(r(this.getProps()),new br(n=>{setTimeout(()=>{n()})})),this.resolveUpdateCallback()}})}setMethods(e){this.providedMethods=e,Oy(this.getOptionalMethods(),this.providedMethods,this)}getOptionalMethods(){return[]}getProps(){return{...this.sourceParams,key:this.key,ref:this.ref}}refreshProps(){return this.updateCallback?this.updateCallback():new br(e=>this.awaitUpdateCallback.then(()=>{this.updateCallback().then(()=>e())}))}},cz=class extends ws{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},uz=class extends ws{constructor(){super(...arguments),this.date=null,this.onDateChange=e=>this.updateDate(e)}getDate(){return this.date}setDate(e){this.date=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled"]}updateDate(e){this.setDate(e),this.sourceParams.onDateChanged()}getProps(){const e=super.getProps();return e.date=this.date,e.onDateChange=this.onDateChange,delete e.onDateChanged,e}},dz=class extends ws{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e),this.onUiChange=()=>this.sourceParams.filterChangedCallback(),this.expectingNewMethods=!0}isFilterActive(){return this.model!=null}doesFilterPass(e){return this.providedMethods.doesFilterPass(e)}getModel(){return this.model}setModel(e){return this.expectingNewMethods=!0,this.model=e,this.refreshProps()}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getOptionalMethods(){return["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onAnyFilterChanged"]}setMethods(e){var t;this.expectingNewMethods===!1&&((t=this.providedMethods)==null?void 0:t.doesFilterPass)!==(e==null?void 0:e.doesFilterPass)&&setTimeout(()=>{this.sourceParams.filterChangedCallback()}),this.expectingNewMethods=!1,super.setMethods(e)}updateModel(e){this.setModel(e).then(()=>this.sourceParams.filterChangedCallback())}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e.onUiChange=this.onUiChange,delete e.filterChangedCallback,delete e.filterModifiedCallback,delete e.valueGetter,e}};function _4(e,t){e.parentFilterInstance(r=>{(r.setModel(t)||br.resolve()).then(()=>{e.filterParams.filterChangedCallback()})})}var hz=class{constructor(e,t){this.floatingFilterParams=e,this.refreshProps=t,this.model=null,this.onModelChange=r=>this.updateModel(r)}getProps(){return{...this.floatingFilterParams,model:this.model,onModelChange:this.onModelChange}}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.floatingFilterParams=e,this.refreshProps()}setMethods(e){Oy(this.getOptionalMethods(),e,this)}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),_4(this.floatingFilterParams,e)}},fz=class extends ws{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e)}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),_4(this.sourceParams,e)}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e}},pz=class extends ws{refresh(e){this.sourceParams=e,this.refreshProps()}},gz=class extends ws{constructor(){super(...arguments),this.active=!1,this.expanded=!1,this.onActiveChange=e=>this.updateActive(e)}setActive(e){this.awaitSetActive(e)}setExpanded(e){this.expanded=e,this.refreshProps()}getOptionalMethods(){return["select","configureDefaults"]}awaitSetActive(e){return this.active=e,this.refreshProps()}updateActive(e){const t=this.awaitSetActive(e);e&&t.then(()=>this.sourceParams.onItemActivated())}getProps(){const e=super.getProps();return e.active=this.active,e.expanded=this.expanded,e.onActiveChange=this.onActiveChange,delete e.onItemActivated,e}},mz=class extends ws{refresh(e){this.sourceParams=e,this.refreshProps()}},vz=class extends ws{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},yz=class extends ws{constructor(){super(...arguments),this.onStateChange=e=>this.updateState(e)}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getState(){return this.state}updateState(e){this.state=e,this.refreshProps(),this.sourceParams.onStateUpdated()}getProps(){const e=super.getProps();return e.state=this.state,e.onStateChange=this.onStateChange,e}};function Dy(){ke("As of v32, using custom components with `reactiveCustomComponents = false` is deprecated.")}var bz=1e3,wz=class{constructor(e,t,r){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=t||"div",this.refresher=e,this.maxComponentCreationTimeMs=r||bz}getPortals(){return this.portals}destroy(){this.destroyed=!0}destroyPortal(e){this.portals=this.portals.filter(t=>t!==e),this.batchUpdate()}getComponentWrappingElement(){return this.wrappingElement}mountReactPortal(e,t,r){this.portals=[...this.portals,e],this.waitForInstance(t,r),this.batchUpdate()}updateReactPortal(e,t){this.portals[this.portals.indexOf(e)]=t,this.batchUpdate()}batchUpdate(){this.hasPendingPortalUpdate||(setTimeout(()=>{this.destroyed||(this.refresher(),this.hasPendingPortalUpdate=!1)}),this.hasPendingPortalUpdate=!0)}waitForInstance(e,t,r=Date.now()){if(this.destroyed){t(null);return}if(e.rendered())t(e);else{if(Date.now()-r>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate)return;window.setTimeout(()=>{this.waitForInstance(e,t,r)})}}},Cz=e=>{const{ctrl:t}=e,r=t.isAlive(),{context:n}=U.useContext(hn),i=r?t.getColId():void 0,[s,o]=U.useState(),a=U.useRef(null),l=U.useRef(null),c=U.useRef(null),u=U.useRef(),f=U.useRef();r&&!f.current&&(f.current=new Du(()=>a.current));const d=U.useCallback(p=>{var b;if(a.current=p,!a.current||!r)return;const y={setWidth:x=>{a.current&&(a.current.style.width=x)},addOrRemoveCssClass:(x,P)=>f.current.addOrRemoveCssClass(x,P),setAriaSort:x=>{a.current&&(x?MI(a.current,x):kI(a.current))},setUserCompDetails:x=>o(x),getUserCompInstance:()=>u.current||void 0};t.setComp(y,a.current,l.current,c.current);const m=t.getSelectAllGui();(b=l.current)==null||b.insertAdjacentElement("afterend",m)},[]);U.useLayoutEffect(()=>Lu(s,n,c.current,u),[s]),U.useEffect(()=>{t.setDragSource(a.current)},[s]);const h=U.useMemo(()=>!!((s==null?void 0:s.componentFromFramework)&&Hl(s.componentClass)),[s]),g=s&&s.componentFromFramework,v=s&&s.componentClass;return pe.createElement("div",{ref:d,className:"ag-header-cell","col-id":i,role:"columnheader"},pe.createElement("div",{ref:l,className:"ag-header-cell-resize",role:"presentation"}),pe.createElement("div",{ref:c,className:"ag-header-cell-comp-wrapper",role:"presentation"},g&&h&&pe.createElement(v,{...s.params}),g&&!h&&pe.createElement(v,{...s.params,ref:u})))},Sz=U.memo(Cz),xz=e=>{const{context:t,gos:r}=U.useContext(hn),[n,i]=U.useState(()=>new qn("ag-header-cell","ag-floating-filter")),[s,o]=U.useState(()=>new qn),[a,l]=U.useState(()=>new qn("ag-floating-filter-button","ag-hidden")),[c,u]=U.useState("false"),[f,d]=U.useState(),[,h]=U.useState(1),g=U.useRef(null),v=U.useRef(null),p=U.useRef(null),y=U.useRef(null),m=U.useRef(),b=U.useRef(),x=w=>{w!=null&&m.current&&m.current(w)},{ctrl:P}=e,F=U.useCallback(w=>{if(g.current=w,!g.current)return;b.current=new br(S=>{m.current=S});const C={addOrRemoveCssClass:(S,R)=>i(_=>_.setClass(S,R)),addOrRemoveBodyCssClass:(S,R)=>o(_=>_.setClass(S,R)),setButtonWrapperDisplayed:S=>{l(R=>R.setClass("ag-hidden",!S)),u(S?"false":"true")},setWidth:S=>{g.current&&(g.current.style.width=S)},setCompDetails:S=>d(S),getFloatingFilterComp:()=>b.current?b.current:null,setMenuIcon:S=>{var R;return(R=y.current)==null?void 0:R.appendChild(S)}};P.setComp(C,g.current,y.current,v.current)},[]);U.useLayoutEffect(()=>Lu(f,t,v.current,x),[f]);const D=U.useMemo(()=>n.toString(),[n]),O=U.useMemo(()=>s.toString(),[s]),j=U.useMemo(()=>a.toString(),[a]),H=U.useMemo(()=>!!(f&&f.componentFromFramework&&Hl(f.componentClass)),[f]),W=U.useMemo(()=>r.get("reactiveCustomComponents"),[]),G=U.useMemo(()=>{if(f)if(W){const w=new hz(f.params,()=>h(C=>C+1));return x(w),w}else f.componentFromFramework&&Dy()},[f]),M=G==null?void 0:G.getProps(),k=f&&f.componentFromFramework,E=f&&f.componentClass;return pe.createElement("div",{ref:F,className:D,role:"gridcell"},pe.createElement("div",{ref:v,className:O,role:"presentation"},k&&!W&&pe.createElement(E,{...f.params,ref:H?()=>{}:x}),k&&W&&pe.createElement(Ay.Provider,{value:{setMethods:w=>G.setMethods(w)}},pe.createElement(E,{...M}))),pe.createElement("div",{ref:p,"aria-hidden":c,className:j,role:"presentation"},pe.createElement("button",{ref:y,type:"button",className:"ag-button ag-floating-filter-button-button",tabIndex:-1})))},Rz=U.memo(xz),Ez=e=>{const{context:t}=U.useContext(hn),{ctrl:r}=e,[n,i]=U.useState(()=>new qn),[s,o]=U.useState(()=>new qn),[a,l]=U.useState("false"),[c,u]=U.useState(),[f,d]=U.useState(),h=U.useMemo(()=>r.getColId(),[]),g=U.useRef(null),v=U.useRef(null),p=U.useRef(null),y=U.useRef(),m=U.useCallback(O=>{if(g.current=O,!g.current)return;const j={setWidth:H=>{g.current&&(g.current.style.width=H)},addOrRemoveCssClass:(H,W)=>i(G=>G.setClass(H,W)),setUserCompDetails:H=>d(H),setResizableDisplayed:H=>{o(W=>W.setClass("ag-hidden",!H)),l(H?"false":"true")},setAriaExpanded:H=>u(H),getUserCompInstance:()=>y.current||void 0};r.setComp(j,g.current,v.current,p.current)},[]);U.useLayoutEffect(()=>Lu(f,t,p.current),[f]),U.useEffect(()=>{g.current&&r.setDragSource(g.current)},[f]);const b=U.useMemo(()=>!!((f==null?void 0:f.componentFromFramework)&&Hl(f.componentClass)),[f]),x=U.useMemo(()=>"ag-header-group-cell "+n.toString(),[n]),P=U.useMemo(()=>"ag-header-cell-resize "+s.toString(),[s]),F=f&&f.componentFromFramework,D=f&&f.componentClass;return pe.createElement("div",{ref:m,className:x,"col-id":h,role:"columnheader","aria-expanded":c},pe.createElement("div",{ref:p,className:"ag-header-cell-comp-wrapper",role:"presentation"},F&&b&&pe.createElement(D,{...f.params}),F&&!b&&pe.createElement(D,{...f.params,ref:y})),pe.createElement("div",{ref:v,"aria-hidden":a,className:P}))},Tz=U.memo(Ez),Pz=e=>{const{ctrl:t}=e,{topOffset:r,rowHeight:n}=U.useMemo(()=>t.getTopAndHeight(),[]),i=t.getAriaRowIndex(),s=t.getHeaderRowClass(),[o,a]=U.useState(()=>n+"px"),[l,c]=U.useState(()=>r+"px"),u=U.useRef(null),f=U.useRef(null),[d,h]=U.useState(()=>t.getHeaderCtrls()),g=U.useRef(null),v=U.useCallback(m=>{if(g.current=m,!m)return;const b={setHeight:x=>a(x),setTop:x=>c(x),setHeaderCtrls:(x,P,F)=>{f.current=u.current,u.current=x;const D=Fy(f.current,x,P);D!==f.current&&ky(F,()=>h(D))},setWidth:x=>{g.current&&(g.current.style.width=x)}};t.setComp(b,!1)},[]),p=U.useMemo(()=>({height:o,top:l}),[o,l]),y=U.useCallback(m=>{switch(t.getType()){case hv.COLUMN_GROUP:return pe.createElement(Tz,{ctrl:m,key:m.getInstanceId()});case hv.FLOATING_FILTER:return pe.createElement(Rz,{ctrl:m,key:m.getInstanceId()});default:return pe.createElement(Sz,{ctrl:m,key:m.getInstanceId()})}},[]);return pe.createElement("div",{ref:v,className:s,role:"row",style:p,"aria-rowindex":i},d.map(y))},_z=U.memo(Pz),Mz=e=>{const[t,r]=U.useState(!0),[n,i]=U.useState([]),{context:s}=U.useContext(hn),o=U.useRef(null),a=U.useRef(null),l=U.useRef(null),c=e.pinned==="left",u=e.pinned==="right",f=!c&&!u,d=U.useCallback(v=>{if(o.current=v,!o.current){s.destroyBean(l.current),l.current=null;return}const p={setDisplayed:r,setCtrls:y=>i(y),setCenterWidth:y=>{a.current&&(a.current.style.width=y)},setViewportScrollLeft:y=>{o.current&&(o.current.scrollLeft=y)},setPinnedContainerWidth:y=>{o.current&&(o.current.style.width=y,o.current.style.minWidth=y,o.current.style.maxWidth=y)}};l.current=s.createBean(new lN(e.pinned)),l.current.setComp(p,o.current)},[]),h=t?"":"ag-hidden",g=()=>n.map(v=>pe.createElement(_z,{ctrl:v,key:v.getInstanceId()}));return pe.createElement(pe.Fragment,null,c&&pe.createElement("div",{ref:d,className:"ag-pinned-left-header "+h,"aria-hidden":!t,role:"rowgroup"},g()),u&&pe.createElement("div",{ref:d,className:"ag-pinned-right-header "+h,"aria-hidden":!t,role:"rowgroup"},g()),f&&pe.createElement("div",{ref:d,className:"ag-header-viewport "+h,role:"presentation"},pe.createElement("div",{ref:a,className:"ag-header-container",role:"rowgroup"},g())))},Vp=U.memo(Mz),kz=()=>{const[e,t]=U.useState(()=>new qn),[r,n]=U.useState(),{context:i}=U.useContext(hn),s=U.useRef(null),o=U.useRef(null),a=U.useCallback(u=>{if(s.current=u,!u){i.destroyBean(o.current),o.current=null;return}const f={addOrRemoveCssClass:(d,h)=>t(g=>g.setClass(d,h)),setHeightAndMinHeight:d=>n(d)};o.current=i.createBean(new K9),o.current.setComp(f,s.current,s.current)},[]),l=U.useMemo(()=>"ag-header "+e.toString(),[e]),c=U.useMemo(()=>({height:r,minHeight:r}),[r]);return pe.createElement("div",{ref:a,className:l,style:c,role:"presentation"},pe.createElement(Vp,{pinned:"left"}),pe.createElement(Vp,{pinned:null}),pe.createElement(Vp,{pinned:"right"}))},Fz=U.memo(kz),Az=(e,t)=>{U.useEffect(()=>{const r=t.current;if(r){const n=r.parentElement;if(n){const i=document.createComment(e);return n.insertBefore(i,r),()=>{n.removeChild(i)}}}},[e])},Ro=Az,Oz=class{constructor(e,t){this.cellEditorParams=e,this.refreshProps=t,this.instanceCreated=new br(r=>{this.resolveInstanceCreated=r}),this.onValueChange=r=>this.updateValue(r),this.value=e.value}getProps(){return{...this.cellEditorParams,initialValue:this.cellEditorParams.value,value:this.value,onValueChange:this.onValueChange}}getValue(){return this.value}refresh(e){this.cellEditorParams=e,this.refreshProps()}setMethods(e){Oy(this.getOptionalMethods(),e,this)}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}setRef(e){var t;this.componentInstance=e,(t=this.resolveInstanceCreated)==null||t.call(this),this.resolveInstanceCreated=void 0}getOptionalMethods(){return["isCancelBeforeStart","isCancelAfterEnd","focusIn","focusOut","afterGuiAttached"]}updateValue(e){this.value=e,this.refreshProps()}},Dz=e=>{const t=U.useRef(e),r=U.useRef(),n=U.useRef(!1),i=U.useRef(!1),[,s]=U.useState(0);n.current&&(i.current=!0),U.useEffect(()=>(n.current||(r.current=t.current(),n.current=!0),s(o=>o+1),()=>{i.current&&r.current&&r.current()}),[])},Iz=e=>{const[t,r]=U.useState(),{context:n,popupService:i,localeService:s,gos:o,editService:a}=U.useContext(hn);return Dz(()=>{const{editDetails:l,cellCtrl:c,eParentCell:u}=e,{compDetails:f}=l,d=o.get("stopEditingWhenCellsLoseFocus"),h=n.createBean(a.createPopupEditorWrapper(f.params)),g=h.getGui();if(e.jsChildComp){const x=e.jsChildComp.getGui();x&&g.appendChild(x)}const v={column:c.getColumn(),rowNode:c.getRowNode(),type:"popupCellEditor",eventSource:u,ePopup:g,position:l.popupPosition,keepWithinBounds:!0},p=i.positionPopupByComponent.bind(i,v),y=s.getLocaleTextFunc(),m=i.addPopup({modal:d,eChild:g,closeOnEsc:!0,closedCallback:()=>{c.onPopupEditorClosed()},anchorToElement:u,positionCallback:p,ariaLabel:y("ariaLabelCellEditor","Cell Editor")}),b=m?m.hideFunc:void 0;return r(h),e.jsChildComp&&e.jsChildComp.afterGuiAttached&&e.jsChildComp.afterGuiAttached(),()=>{b!=null&&b(),n.destroyBean(h)}}),pe.createElement(pe.Fragment,null,t&&e.wrappedContent&&xu.createPortal(e.wrappedContent,t.getGui()))},pC=U.memo(Iz),Nz=(e,t,r,n,i,s)=>{const{context:o}=U.useContext(hn),a=U.useCallback(()=>{const l=i.current;if(!l)return;const c=l.getGui();c&&c.parentElement&&c.parentElement.removeChild(c),o.destroyBean(l),i.current=void 0},[]);U.useEffect(()=>{const l=e!=null,c=e&&e.compDetails&&!e.compDetails.componentFromFramework,u=t&&r==null;if(!(l&&c&&!u)){a();return}const d=e.compDetails;if(i.current){const g=i.current,p=g.refresh!=null&&e.force==!1?g.refresh(d.params):!1;if(p===!0||p===void 0)return;a()}const h=d.newAgStackInstance();h!=null&&h.then(g=>{if(!g)return;const v=g.getGui();if(!v)return;(t?r:s.current).appendChild(v),i.current=g})},[e,t,n]),U.useEffect(()=>a,[])},Lz=Nz,jz=(e,t,r)=>{const{compProxy:n}=e;r(n);const i=n.getProps(),s=Hl(t);return pe.createElement(Ay.Provider,{value:{setMethods:o=>n.setMethods(o)}},s&&pe.createElement(t,{...i}),!s&&pe.createElement(t,{...i,ref:o=>n.setRef(o)}))},gC=(e,t,r)=>{const n=e.compProxy;return pe.createElement(pe.Fragment,null,!n&&pe.createElement(t,{...e.compDetails.params,ref:r}),n&&jz(e,t,r))},Bz=(e,t,r,n,i,s)=>{const o=e.compDetails,a=o.componentClass,l=o.componentFromFramework&&!e.popup,c=o.componentFromFramework&&e.popup,u=!o.componentFromFramework&&e.popup;return pe.createElement(pe.Fragment,null,l&&gC(e,a,t),c&&pe.createElement(pC,{editDetails:e,cellCtrl:i,eParentCell:n,wrappedContent:gC(e,a,r)}),u&&s&&pe.createElement(pC,{editDetails:e,cellCtrl:i,eParentCell:n,jsChildComp:s}))},Hz=(e,t,r,n,i,s,o)=>{const{compDetails:a,value:l}=e,c=!a,u=a&&a.componentFromFramework,f=a&&a.componentClass,d=l!=null&&l.toString?l.toString():l,h=()=>pe.createElement(pe.Fragment,null,c&&pe.createElement(pe.Fragment,null,d),u&&!s&&pe.createElement(f,{...a.params,key:t,ref:n}),u&&s&&pe.createElement(f,{...a.params,key:t}));return pe.createElement(pe.Fragment,null,i?pe.createElement("span",{role:"presentation",id:`cell-${r}`,className:"ag-cell-value",ref:o},h()):h())},Gz=e=>{const{context:t}=U.useContext(hn),{cellCtrl:r,printLayout:n,editingRow:i}=e,s=r.getColumnIdSanitised(),o=r.getInstanceId(),[a,l]=U.useState(()=>r.isCellRenderer()?void 0:{compDetails:void 0,value:r.getValueToDisplay(),force:!1}),[c,u]=U.useState(),[f,d]=U.useState(1),[h,g]=U.useState(),[v,p]=U.useState(!1),[y,m]=U.useState(!1),[b,x]=U.useState(!1),[P,F]=U.useState(),D=U.useMemo(()=>r.isForceWrapper(),[r]),O=U.useMemo(()=>r.getCellAriaRole(),[r]),j=U.useRef(null),H=U.useRef(null),W=U.useRef(),G=U.useRef(),M=U.useRef(),k=U.useRef([]),E=U.useRef(),[w,C]=U.useState(0),S=U.useCallback(q=>{E.current=q,C(J=>J+1)},[]),R=a!=null&&(v||b||y),_=D||R,N=U.useCallback((q,J)=>{G.current=J,J&&J.isCancelBeforeStart&&J.isCancelBeforeStart()&&setTimeout(()=>{r.stopEditing(!0),r.focusCell(!0)})},[r]),B=U.useCallback(q=>N(!0,q),[N]),V=U.useCallback(q=>N(!1,q),[N]),$=U.useRef();$.current||($.current=new Du(()=>j.current)),Lz(a,_,E.current,w,W,j);const Y=U.useRef();U.useLayoutEffect(()=>{const q=Y.current,J=a;if(Y.current=a,q==null||q.compDetails==null||J==null||J.compDetails==null)return;const X=q.compDetails,Z=J.compDetails;if(X.componentClass!=Z.componentClass||H.current==null||H.current.refresh==null)return;H.current.refresh(Z.params)!=!0&&d(se=>se+1)},[a]),U.useLayoutEffect(()=>{if(!(c&&!c.compDetails.componentFromFramework))return;const J=c.compDetails,X=c.popup===!0,Z=J.newAgStackInstance();return Z.then(ie=>{if(!ie)return;const se=ie.getGui();if(N(X,ie),!X){const Q=(D?M:j).current;Q==null||Q.appendChild(se),ie.afterGuiAttached&&ie.afterGuiAttached()}F(ie)}),()=>{Z.then(ie=>{const se=ie.getGui();t.destroyBean(ie),N(X,void 0),F(void 0),se&&se.parentElement&&se.parentElement.removeChild(se)})}},[c]);const L=U.useCallback(q=>{if(M.current=q,!M.current){k.current.forEach(X=>X()),k.current=[];return}const J=X=>{var Z;if(X){const ie=X.getGui();(Z=M.current)==null||Z.insertAdjacentElement("afterbegin",ie),k.current.push(()=>{t.destroyBean(X),Xo(ie)})}return X};if(v){const X=r.createSelectionCheckbox();J(X)}b&&J(r.createDndSource()),y&&J(r.createRowDragComp())},[r,t,b,y,v]),K=U.useCallback(q=>{if(j.current=q,!j.current||!r)return;const J={addOrRemoveCssClass:(Z,ie)=>$.current.addOrRemoveCssClass(Z,ie),setUserStyles:Z=>g(Z),getFocusableElement:()=>j.current,setIncludeSelection:Z=>p(Z),setIncludeRowDrag:Z=>m(Z),setIncludeDndSource:Z=>x(Z),getCellEditor:()=>G.current||null,getCellRenderer:()=>H.current?H.current:W.current,getParentOfValue:()=>E.current?E.current:M.current?M.current:j.current,setRenderDetails:(Z,ie,se)=>{l(Q=>(Q==null?void 0:Q.compDetails)!==Z||(Q==null?void 0:Q.value)!==ie||(Q==null?void 0:Q.force)!==se?{value:ie,compDetails:Z,force:se}:Q)},setEditDetails:(Z,ie,se,Q)=>{if(Z){let re;Q?re=new Oz(Z.params,()=>d(ne=>ne+1)):Z.componentFromFramework&&Dy(),u({compDetails:Z,popup:ie,popupPosition:se,compProxy:re}),ie||l(void 0)}else u(re=>{re!=null&&re.compProxy&&(G.current=void 0)})}},X=M.current||void 0;r.setComp(J,j.current,X,n,i)},[]),I=U.useMemo(()=>!!(a&&a.compDetails&&a.compDetails.componentFromFramework&&Hl(a.compDetails.componentClass)),[a]);U.useLayoutEffect(()=>{var q;j.current&&($.current.addOrRemoveCssClass("ag-cell-value",!_),$.current.addOrRemoveCssClass("ag-cell-inline-editing",!!c&&!c.popup),$.current.addOrRemoveCssClass("ag-cell-popup-editing",!!c&&!!c.popup),$.current.addOrRemoveCssClass("ag-cell-not-inline-editing",!c||!!c.popup),(q=r.getRowCtrl())==null||q.setInlineEditingCss(),r.shouldRestoreFocus()&&!r.isEditing()&&j.current.focus({preventScroll:!0}))});const A=()=>pe.createElement(pe.Fragment,null,a!=null&&Hz(a,f,o,H,_,I,S),c!=null&&Bz(c,V,B,j.current,r,P)),z=U.useCallback(()=>r.onFocusOut(),[]);return pe.createElement("div",{ref:K,style:h,role:O,"col-id":s,onBlur:z},_?pe.createElement("div",{className:"ag-cell-wrapper",role:"presentation",ref:L},A()):A())},Vz=U.memo(Gz),zz=e=>{const{context:t,gos:r}=U.useContext(hn),{rowCtrl:n,containerType:i}=e,s=U.useRef(n.getDomOrder()),o=n.isFullWidth(),a=n.getRowNode().displayed,[l,c]=U.useState(()=>a?n.getRowIndex():null),[u,f]=U.useState(()=>n.getRowId()),[d,h]=U.useState(()=>n.getBusinessKey()),[g,v]=U.useState(()=>n.getRowStyles()),p=U.useRef(null),y=U.useRef(null),[m,b]=U.useState(()=>null),[x,P]=U.useState(),[F,D]=U.useState(()=>a?n.getInitialRowTop(i):void 0),[O,j]=U.useState(()=>a?n.getInitialTransform(i):void 0),H=U.useRef(null),W=U.useRef(),G=U.useRef(!1),[M,k]=U.useState(0);U.useEffect(()=>{var Y;if(G.current||!x||M>10)return;const $=(Y=H.current)==null?void 0:Y.firstChild;$?(n.setupDetailRowAutoHeight($),G.current=!0):k(L=>L+1)},[x,M]);const E=U.useRef();E.current||(E.current=new Du(()=>H.current));const w=U.useCallback($=>{if(H.current=$,!H.current){n.unsetComp(i);return}if(!n.isAlive())return;const Y={setTop:D,setTransform:j,addOrRemoveCssClass:(L,K)=>E.current.addOrRemoveCssClass(L,K),setDomOrder:L=>s.current=L,setRowIndex:c,setRowId:f,setRowBusinessKey:h,setUserStyles:v,setCellCtrls:(L,K)=>{y.current=p.current,p.current=L;const I=Fy(y.current,L,s.current);I!==y.current&&ky(K,()=>b(I))},showFullWidth:L=>P(L),getFullWidthCellRenderer:()=>W.current,refreshFullWidth:L=>N.current?(P(K=>({...K,params:L()})),!0):!W.current||!W.current.refresh?!1:W.current.refresh(L())};n.setComp(Y,H.current,i)},[]);U.useLayoutEffect(()=>Lu(x,t,H.current,W),[x]);const C=U.useMemo(()=>{const $={top:F,transform:O};return Object.assign($,g),$},[F,O,g]),S=o&&x&&x.componentFromFramework,R=!o&&m!=null,_=U.useMemo(()=>!!((x==null?void 0:x.componentFromFramework)&&Hl(x.componentClass)),[x]),N=U.useRef(!1);U.useEffect(()=>{N.current=_&&!!x&&!!r.get("reactiveCustomComponents")},[_,x]);const B=()=>m==null?void 0:m.map($=>pe.createElement(Vz,{cellCtrl:$,editingRow:n.isEditing(),printLayout:n.isPrintLayout(),key:$.getInstanceId()})),V=()=>{const $=x.componentClass;return pe.createElement(pe.Fragment,null,_&&pe.createElement($,{...x.params}),!_&&pe.createElement($,{...x.params,ref:W}))};return pe.createElement("div",{ref:w,role:"row",style:C,"row-index":l,"row-id":u,"row-business-key":d},R&&B(),S&&V())},Wz=U.memo(zz),$z=e=>{const{context:t}=U.useContext(hn),{name:r}=e,n=U.useMemo(()=>$a(r),[r]),i=U.useRef(null),s=U.useRef(null),o=U.useRef([]),a=U.useRef([]),[l,c]=U.useState(()=>[]),u=U.useRef(!1),f=U.useRef(),d=U.useMemo(()=>fi(n.viewport),[n]),h=U.useMemo(()=>fi(n.container),[n]),g=n.type==="center",v=g?i:s;Ro(" AG Row Container "+r+" ",v);const p=U.useCallback(()=>g?i.current!=null&&s.current!=null:s.current!=null,[]),y=U.useCallback(()=>g?i.current==null&&s.current==null:s.current==null,[]),m=U.useCallback(()=>{if(y()&&(t.destroyBean(f.current),f.current=null),p()){const F=O=>{const j=Fy(a.current,o.current,u.current);j!==a.current&&(a.current=j,ky(O,()=>c(j)))},D={setHorizontalScroll:O=>{i.current&&(i.current.scrollLeft=O)},setViewportHeight:O=>{i.current&&(i.current.style.height=O)},setRowCtrls:({rowCtrls:O,useFlushSync:j})=>{const H=!!j&&o.current.length>0&&O.length>0;o.current=O,F(H)},setDomOrder:O=>{u.current!=O&&(u.current=O,F(!1))},setContainerWidth:O=>{s.current&&(s.current.style.width=O)},setOffsetTop:O=>{s.current&&(s.current.style.transform=`translateY(${O})`)}};f.current=t.createBean(new eL(r)),f.current.setComp(D,s.current,i.current)}},[p,y]),b=U.useCallback(F=>{s.current=F,m()},[m]),x=U.useCallback(F=>{i.current=F,m()},[m]),P=()=>pe.createElement("div",{className:h,ref:b,role:"rowgroup"},l.map(F=>pe.createElement(Wz,{rowCtrl:F,containerType:n.type,key:F.getInstanceId()})));return pe.createElement(pe.Fragment,null,g?pe.createElement("div",{className:d,ref:x,role:"presentation"},P()):P())},Uz=U.memo($z),Kz=()=>{const{context:e,resizeObserverService:t}=U.useContext(hn),[r,n]=U.useState(""),[i,s]=U.useState(0),[o,a]=U.useState(0),[l,c]=U.useState("0px"),[u,f]=U.useState("0px"),[d,h]=U.useState("100%"),[g,v]=U.useState("0px"),[p,y]=U.useState("0px"),[m,b]=U.useState("100%"),[x,P]=U.useState(""),[F,D]=U.useState(""),[O,j]=U.useState(null),[H,W]=U.useState(""),[G,M]=U.useState(null),[k,E]=U.useState("ag-layout-normal"),w=U.useRef();w.current||(w.current=new Du(()=>C.current));const C=U.useRef(null),S=U.useRef(null),R=U.useRef(null),_=U.useRef(null),N=U.useRef(null),B=U.useRef(null),V=U.useRef(null),$=U.useRef([]),Y=U.useRef([]);Ro(" AG Grid Body ",C),Ro(" AG Pinned Top ",S),Ro(" AG Sticky Top ",R),Ro(" AG Middle ",B),Ro(" AG Pinned Bottom ",V);const L=U.useCallback(ue=>{if(C.current=ue,!C.current){e.destroyBeans($.current),Y.current.forEach(De=>De()),$.current=[],Y.current=[];return}if(!e)return;const de=(De,Le)=>{De.appendChild(Le),Y.current.push(()=>De.removeChild(Le))},ge=De=>{const Le=e.createBean(new De);return $.current.push(Le),Le},we=(De,Le,He)=>{de(De,document.createComment(He)),de(De,ge(Le).getGui())};we(C.current,uN," AG Fake Horizontal Scroll "),we(C.current,cN," AG Overlay Wrapper "),N.current&&we(N.current,dN," AG Fake Vertical Scroll ");const xe={setRowAnimationCssOnBodyViewport:n,setColumnCount:De=>{C.current&&PI(C.current,De)},setRowCount:De=>{C.current&&EI(C.current,De)},setTopHeight:s,setBottomHeight:a,setStickyTopHeight:c,setStickyTopTop:f,setStickyTopWidth:h,setTopDisplay:P,setBottomDisplay:D,setColumnMovingCss:(De,Le)=>w.current.addOrRemoveCssClass(De,Le),updateLayoutClasses:E,setAlwaysVerticalScrollClass:j,setPinnedTopBottomOverflowY:W,setCellSelectableCss:(De,Le)=>M(Le?De:null),setBodyViewportWidth:De=>{B.current&&(B.current.style.width=De)},registerBodyViewportResizeListener:De=>{if(B.current){const Le=t.observeResize(B.current,De);Y.current.push(()=>Le())}},setStickyBottomHeight:v,setStickyBottomBottom:y,setStickyBottomWidth:b},Fe=e.createBean(new iL);$.current.push(Fe),Fe.setComp(xe,C.current,B.current,S.current,V.current,R.current,_.current)},[]),K=U.useMemo(()=>fi("ag-root","ag-unselectable",k),[k]),I=U.useMemo(()=>fi("ag-body-viewport",r,k,O,G),[r,k,O,G]),A=U.useMemo(()=>fi("ag-body",k),[k]),z=U.useMemo(()=>fi("ag-floating-top",G),[G]),q=U.useMemo(()=>fi("ag-sticky-top",G),[G]),J=U.useMemo(()=>fi("ag-sticky-bottom",g==="0px"?"ag-hidden":null,G),[G,g]),X=U.useMemo(()=>fi("ag-floating-bottom",G),[G]),Z=U.useMemo(()=>({height:i,minHeight:i,display:x,overflowY:H}),[i,x,H]),ie=U.useMemo(()=>({height:l,top:u,width:d}),[l,u,d]),se=U.useMemo(()=>({height:g,bottom:p,width:m}),[g,p,m]),Q=U.useMemo(()=>({height:o,minHeight:o,display:F,overflowY:H}),[o,F,H]),re=ue=>pe.createElement(Uz,{name:ue,key:`${ue}-container`}),ne=({section:ue,children:de,className:ge,style:we})=>pe.createElement("div",{ref:ue,className:ge,role:"presentation",style:we},de.map(re));return pe.createElement("div",{ref:L,className:K,role:"treegrid"},pe.createElement(Fz,null),ne({section:S,className:z,style:Z,children:["topLeft","topCenter","topRight","topFullWidth"]}),pe.createElement("div",{className:A,ref:N,role:"presentation"},ne({section:B,className:I,children:["left","center","right","fullWidth"]})),ne({section:R,className:q,style:ie,children:["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"]}),ne({section:_,className:J,style:se,children:["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"]}),ne({section:V,className:X,style:Q,children:["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"]}))},qz=U.memo(Kz),Yz=(e,t)=>{const{children:r,eFocusableElement:n,onTabKeyDown:i,gridCtrl:s,forceFocusOutWhenTabGuardsAreEmpty:o}=e,{context:a}=U.useContext(hn),l=U.useRef(null),c=U.useRef(null),u=U.useRef(),f=p=>{const y=p==null?void 0:parseInt(p,10).toString();[l,c].forEach(m=>{var b,x;y===void 0?(b=m.current)==null||b.removeAttribute("tabindex"):(x=m.current)==null||x.setAttribute("tabindex",y)})};U.useImperativeHandle(t,()=>({forceFocusOutOfContainer(p){var y;(y=u.current)==null||y.forceFocusOutOfContainer(p)}}));const d=U.useCallback(()=>{if(!l.current&&!c.current){a.destroyBean(u.current),u.current=null;return}if(l.current&&c.current){const p={setTabIndex:f};u.current=a.createBean(new o4({comp:p,eTopGuard:l.current,eBottomGuard:c.current,eFocusableElement:n,onTabKeyDown:i,forceFocusOutWhenTabGuardsAreEmpty:o,focusInnerElement:y=>s.focusInnerElement(y)}))}},[]),h=U.useCallback(p=>{l.current=p,d()},[d]),g=U.useCallback(p=>{c.current=p,d()},[d]),v=p=>{const y=p==="top"?rh.TAB_GUARD_TOP:rh.TAB_GUARD_BOTTOM;return pe.createElement("div",{className:`${rh.TAB_GUARD} ${y}`,role:"presentation",ref:p==="top"?h:g})};return pe.createElement(pe.Fragment,null,v("top"),r,v("bottom"))},Xz=U.forwardRef(Yz),Qz=U.memo(Xz),Zz=({context:e})=>{const[t,r]=U.useState(""),[n,i]=U.useState(""),[s,o]=U.useState(null),[a,l]=U.useState(null),[c,u]=U.useState(!1),[f,d]=U.useState(),h=U.useRef(null),g=U.useRef(null),v=U.useRef(),[p,y]=U.useState(null),m=U.useRef(()=>{}),b=U.useRef(),x=U.useRef([]),P=U.useCallback(()=>{},[]),F=U.useMemo(()=>e.isDestroyed()?null:e.getBeans(),[e]);Ro(" AG Grid ",g);const D=U.useCallback(G=>{if(g.current=G,!g.current){e.destroyBean(h.current),h.current=null;return}if(e.isDestroyed())return;h.current=e.createBean(new jj);const M=h.current;m.current=M.focusInnerElement.bind(M);const k={destroyGridUi:()=>{},setRtlClass:r,forceFocusOutOfContainer:E=>{var w,C;if(!E&&((w=b.current)!=null&&w.isDisplayed())){b.current.forceFocusOutOfContainer(E);return}(C=v.current)==null||C.forceFocusOutOfContainer(E)},updateLayoutClasses:i,getFocusableContainers:()=>{var C;const E=[],w=(C=g.current)==null?void 0:C.querySelector(".ag-root");return w&&E.push({getGui:()=>w}),x.current.forEach(S=>{S.isDisplayed()&&E.push(S)}),E},setCursor:o,setUserSelect:l};M.setComp(k,g.current,g.current),u(!0)},[]);U.useEffect(()=>{if(!f||!F||!h.current||!p||!g.current)return;const G=h.current,M=[],{watermarkSelector:k,paginationSelector:E,sideBarSelector:w,statusBarSelector:C,gridHeaderDropZonesSelector:S}=G.getOptionalSelectors(),R=[],_=g.current;if(S){const B=e.createBean(new S.component),V=B.getGui();_.insertAdjacentElement("afterbegin",V),R.push(V),M.push(B)}if(w){const B=e.createBean(new w.component),V=B.getGui(),$=p.querySelector(".ag-tab-guard-bottom");$&&($.insertAdjacentElement("beforebegin",V),R.push(V)),M.push(B),x.current.push(B)}const N=B=>{const V=e.createBean(new B),$=V.getGui();return _.insertAdjacentElement("beforeend",$),R.push($),M.push(V),V};if(C&&N(C.component),E){const B=N(E.component);b.current=B,x.current.push(B)}return k&&N(k.component),()=>{e.destroyBeans(M),R.forEach(B=>{B.parentElement&&B.parentElement.removeChild(B)})}},[f,p,F]);const O=U.useMemo(()=>fi("ag-root-wrapper",t,n),[t,n]),j=U.useMemo(()=>fi("ag-root-wrapper-body","ag-focus-managed",n),[n]),H=U.useMemo(()=>({userSelect:a??"",WebkitUserSelect:a??"",cursor:s??""}),[a,s]),W=U.useCallback(G=>{v.current=G,d(G!==null)},[]);return pe.createElement("div",{ref:D,className:O,style:H,role:"presentation"},pe.createElement("div",{className:j,ref:y,role:"presentation"},c&&p&&F&&pe.createElement(hn.Provider,{value:F},pe.createElement(Qz,{ref:W,eFocusableElement:p,onTabKeyDown:P,gridCtrl:h.current,forceFocusOutWhenTabGuardsAreEmpty:!0},pe.createElement(qz,null)))))},Jz=U.memo(Zz),eW=class extends Re{wireBeans(e){this.ctrlsService=e.ctrlsService}areHeaderCellsRendered(){return this.ctrlsService.getHeaderRowContainerCtrls().every(e=>e.getAllCtrls().every(t=>t.areCellsRendered()))}},M4=e=>{var v;const t=U.useRef(),r=U.useRef(null),n=U.useRef(null),i=U.useRef([]),s=U.useRef([]),o=U.useRef(e),a=U.useRef(),l=U.useRef(!1),[c,u]=U.useState(void 0),[,f]=U.useState(0),d=U.useCallback(p=>{if(r.current=p,!r.current){i.current.forEach(H=>H()),i.current.length=0;return}const y=e.modules||[];n.current||(n.current=new wz(()=>f(H=>H+1),e.componentWrappingElement,e.maxComponentCreationTimeMs),i.current.push(()=>{var H;(H=n.current)==null||H.destroy(),n.current=null}));const m=mI(e.gridOptions,e),b=()=>{if(l.current){const H=()=>{var G;return(G=a.current)!=null&&G.shouldQueueUpdates()?void 0:s.current.shift()};let W=H();for(;W;)W(),W=H()}},x=iz()?new iW(b):new k4;a.current=x;const P=new eW,F={providedBeanInstances:{frameworkComponentWrapper:new rW(n.current,m.reactiveCustomComponents??!0),renderStatusService:P},modules:y,frameworkOverrides:x},D=H=>{u(H),H.createBean(P),i.current.push(()=>{H.destroy()}),H.getBean("ctrlsService").whenReady(()=>{if(H.isDestroyed())return;const G=t.current;G&&e.setGridApi&&e.setGridApi(G)})},O=H=>{H.getBean("ctrlsService").whenReady(()=>{s.current.forEach(G=>G()),s.current.length=0,l.current=!0})},j=new lV;t.current=j.create(r.current,m,D,O,F)},[]),h=U.useMemo(()=>({height:"100%",...e.containerStyle||{}}),[e.containerStyle]),g=U.useCallback(p=>{var y;l.current&&!((y=a.current)!=null&&y.shouldQueueUpdates())?p():s.current.push(p)},[]);return U.useEffect(()=>{const p=tW(o.current,e);o.current=e,g(()=>{t.current&&vI(p,t.current)})},[e]),pe.createElement("div",{style:h,className:e.className,ref:d},c&&!c.isDestroyed()?pe.createElement(Jz,{context:c}):null,((v=n.current)==null?void 0:v.getPortals())??null)};function tW(e,t){const r={};return Object.keys(t).forEach(n=>{const i=t[n];e[n]!==i&&(r[n]=i)}),r}var rW=class extends mV{constructor(e,t){super(),this.parent=e,this.reactiveCustomComponents=t}createWrapper(e,t){if(this.reactiveCustomComponents){const i=(s=>{switch(s){case"filter":return dz;case"floatingFilterComponent":return fz;case"dateComponent":return uz;case"loadingOverlayComponent":return pz;case"noRowsOverlayComponent":return mz;case"statusPanel":return vz;case"toolPanel":return yz;case"menuItem":return gz;case"cellRenderer":return cz}})(t.propertyName);if(i)return new i(e,this.parent,t)}else switch(t.propertyName){case"filter":case"floatingFilterComponent":case"dateComponent":case"loadingOverlayComponent":case"noRowsOverlayComponent":case"statusPanel":case"toolPanel":case"menuItem":case"cellRenderer":Dy();break}const r=!t.cellRenderer&&t.propertyName!=="toolPanel";return new P4(e,this.parent,t,r)}},nW=U.forwardRef((e,t)=>{const{ctrlsFactory:r,context:n,gos:i,resizeObserverService:s,rowModel:o}=U.useContext(hn),[a,l]=U.useState(()=>new qn),[c,u]=U.useState(()=>new qn),[f,d]=U.useState(),[h,g]=U.useState(),v=U.useRef(),p=U.useRef(null),y=U.useRef(),m=U.useMemo(()=>Zr.__getGridRegisteredModules(e.api.getGridId()),[e]),b=U.useMemo(()=>a.toString()+" ag-details-row",[a]),x=U.useMemo(()=>c.toString()+" ag-details-grid",[c]);t&&U.useImperativeHandle(t,()=>({refresh(){var D;return((D=v.current)==null?void 0:D.refresh())??!1}})),e.template&&ke("detailCellRendererParams.template is not supported by AG Grid React. To change the template, provide a Custom Detail Cell Renderer. See https://ag-grid.com/react-data-grid/master-detail-custom-detail/");const P=U.useCallback(D=>{if(p.current=D,!p.current){n.destroyBean(v.current),y.current&&y.current();return}const O={addOrRemoveCssClass:(H,W)=>l(G=>G.setClass(H,W)),addOrRemoveDetailGridCssClass:(H,W)=>u(G=>G.setClass(H,W)),setDetailGrid:H=>d(H),setRowData:H=>g(H),getGui:()=>p.current},j=r.getInstance("detailCellRenderer");if(j&&(n.createBean(j),j.init(O,e),v.current=j,i.get("detailRowAutoHeight"))){const H=()=>{if(p.current==null)return;const W=p.current.clientHeight;W!=null&&W>0&&setTimeout(()=>{e.node.setRowHeight(W),(o.getType()==="clientSide"||o.getType()==="serverSide")&&o.onRowHeightChanged()},0)};y.current=s.observeResize(p.current,H),H()}},[]),F=U.useCallback(D=>{var O;(O=v.current)==null||O.registerDetailWithMaster(D)},[]);return pe.createElement("div",{className:b,ref:P},f&&pe.createElement(M4,{className:x,...f,modules:m,rowData:h,setGridApi:F}))}),k4=class extends a4{constructor(){super("react"),this.frameworkComponents={agGroupCellRenderer:hC,agGroupRowRenderer:hC,agDetailCellRenderer:nW},this.wrapIncoming=(e,t)=>t==="ensureVisible"?sz(e):e(),this.renderingEngine="react"}frameworkComponent(e){return this.frameworkComponents[e]}isFrameworkComponent(e){if(!e)return!1;const t=e.prototype;return!(t&&"getGui"in t)}shouldQueueUpdates(){return!1}getLockOnRefreshError(){return" This error can also occur if using 'ReactDOM.render' instead of 'createRoot'. If so, please upgrade to 'createRoot'."}},iW=class extends k4{constructor(e){super(),this.processQueuedUpdates=e,this.queueUpdates=!1}getLockOnRefresh(){this.queueUpdates=!0}releaseLockOnRefresh(){this.queueUpdates=!1,this.processQueuedUpdates()}shouldQueueUpdates(){return this.queueUpdates}getLockOnRefreshError(){return""}},sW=class extends U.Component{constructor(){super(...arguments),this.apiListeners=[],this.setGridApi=e=>{this.api=e,this.apiListeners.forEach(t=>t(e))}}registerApiListener(e){this.apiListeners.push(e)}componentWillUnmount(){this.apiListeners.length=0}render(){return pe.createElement(M4,{...this.props,setGridApi:this.setGridApi})}};const oW=e=>e=="dark"?"ag-theme-quartz-dark":"ag-theme-quartz",Gl=e=>{const{theme:t}=Q0();return T.jsx(sW,{...e,className:oW(t)})};var aW="Expected a function",mC=0/0,lW="[object Symbol]",cW=/^\s+|\s+$/g,uW=/^[-+]0x[0-9a-f]+$/i,dW=/^0b[01]+$/i,hW=/^0o[0-7]+$/i,fW=parseInt,pW=typeof Tt=="object"&&Tt&&Tt.Object===Object&&Tt,gW=typeof self=="object"&&self&&self.Object===Object&&self,mW=pW||gW||Function("return this")(),vW=Object.prototype,yW=vW.toString,bW=Math.max,wW=Math.min,zp=function(){return mW.Date.now()};function CW(e,t,r){var n,i,s,o,a,l,c=0,u=!1,f=!1,d=!0;if(typeof e!="function")throw new TypeError(aW);t=vC(t)||0,vv(r)&&(u=!!r.leading,f="maxWait"in r,s=f?bW(vC(r.maxWait)||0,t):s,d="trailing"in r?!!r.trailing:d);function h(F){var D=n,O=i;return n=i=void 0,c=F,o=e.apply(O,D),o}function g(F){return c=F,a=setTimeout(y,t),u?h(F):o}function v(F){var D=F-l,O=F-c,j=t-D;return f?wW(j,s-O):j}function p(F){var D=F-l,O=F-c;return l===void 0||D>=t||D<0||f&&O>=s}function y(){var F=zp();if(p(F))return m(F);a=setTimeout(y,v(F))}function m(F){return a=void 0,d&&n?h(F):(n=i=void 0,o)}function b(){a!==void 0&&clearTimeout(a),c=0,n=l=i=a=void 0}function x(){return a===void 0?o:m(zp())}function P(){var F=zp(),D=p(F);if(n=arguments,i=this,l=F,D){if(a===void 0)return g(l);if(f)return a=setTimeout(y,t),h(l)}return a===void 0&&(a=setTimeout(y,t)),o}return P.cancel=b,P.flush=x,P}function vv(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function SW(e){return!!e&&typeof e=="object"}function xW(e){return typeof e=="symbol"||SW(e)&&yW.call(e)==lW}function vC(e){if(typeof e=="number")return e;if(xW(e))return mC;if(vv(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=vv(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(cW,"");var r=dW.test(e);return r||hW.test(e)?fW(e.slice(2),r?2:8):uW.test(e)?mC:+e}var RW=CW;const EW=io(RW),wt=({type:e,value:t,onChange:r,debounceInterval:n,...i})=>{const[s,o]=U.useState(t);U.useEffect(()=>{o(t)},[t]);const a=U.useCallback(EW(r,n),[r,n]),l=U.useCallback(c=>{o(c.target.value),a(c)},[o,a]);return T.jsx(Me,{type:e,value:s,onChange:l,...i})};wt.defaultProps={debounceInterval:300};const yC=3,Fi={INVALID:0,BARRIER:1,BLUNT:2,EDGE:4,FIRE:8,FLY:16,MAGIC:32,POINT:64,FALL:128},bC={[Fi.INVALID]:"Нет",[Fi.BARRIER]:"Барьер",[Fi.BLUNT]:"Дробящий",[Fi.EDGE]:"Режущий",[Fi.FIRE]:"Огонь",[Fi.FLY]:"Полёт",[Fi.MAGIC]:"Магия",[Fi.POINT]:"Колющий",[Fi.FALL]:"Падение"},gt={BARRIER:0,BLUNT:1,EDGE:2,FIRE:3,FLY:4,MAGIC:5,POINT:6,FALL:7},li={[gt.BARRIER]:"Защита от барьера",[gt.BLUNT]:"Защита от дробящего",[gt.EDGE]:"Защита от режущего",[gt.FIRE]:"Защита от огня",[gt.FLY]:"Защита от полёта",[gt.MAGIC]:"Защита от магии",[gt.POINT]:"Защита от колющего",[gt.FALL]:"Защита от падения"},wa={HITPOINTS:0,HITPOINTS_MAX:1,MANA:2,MANA_MAX:3,STRENGTH:4,DEXTERITY:5},wC={[wa.HITPOINTS]:"Жизнь",[wa.HITPOINTS_MAX]:"Макс. жизнь",[wa.MANA]:"Мана",[wa.MANA_MAX]:"Макс. мана",[wa.STRENGTH]:"Сила",[wa.DEXTERITY]:"Ловкость"},Co={WOOD:0,STONE:1,METAL:2,LEATHER:3,CLAY:4,GLAS:5},CC={[Co.WOOD]:"Дерево",[Co.STONE]:"Камень",[Co.METAL]:"Метал",[Co.LEATHER]:"Кожа",[Co.CLAY]:"Глина",[Co.GLAS]:"Стекло"},ci={NONE:1,NF:2,FF:4,MUN:8,ARMOR:16,FOOD:32,DOCS:64,POTIONS:128,RUNE:512,MAGIC:-2147483648},SC={[ci.NONE]:"Нет",[ci.NF]:"Оружие ближ. боя",[ci.FF]:"Оружие дальн. боя",[ci.MUN]:"Боеприпасы",[ci.ARMOR]:"Броня",[ci.FOOD]:"Еда",[ci.DOCS]:"Документ",[ci.POTIONS]:"Зелье",[ci.RUNE]:"Руна",[ci.MAGIC]:"Магические предметы"},Dd={NONE:0,TORSO:1,HEAD:2,EFFECT:16},xC={[Dd.NONE]:"Нет",[Dd.TORSO]:"Торс",[Dd.HEAD]:"Голова",[Dd.EFFECT]:"Эффект"},Ir={DAG:8192,SWD:16384,AXE:32768,TWOHD_SWD:65536,TWOHD_AXE:1<<17,SHIELD:1<<18,BOW:1<<19,CROSSBOW:1<<20,RING:2048,AMULET:1<<22,BELT:1<<24,MULTI:1<<21,NFOCUS:1<<23,CREATEAMMO:1<<25,NSPLIT:1<<26,DRINK:1<<27,TORCH:1<<28,THROW:1<<29},RC={[Ir.DAG]:"Кинжал",[Ir.SWD]:"Меч",[Ir.AXE]:"Секира",[Ir.TWOHD_SWD]:"Двуручн. меч",[Ir.TWOHD_AXE]:"Двуручн. секира",[Ir.SHIELD]:"Щит",[Ir.BOW]:"Лук",[Ir.CROSSBOW]:"Арбалет",[Ir.RING]:"Кольцо",[Ir.AMULET]:"Амулет",[Ir.BELT]:"Пояс",[Ir.MULTI]:"Мульти",[Ir.DRINK]:"Зелье",[Ir.TORCH]:"Факел",[Ir.THROW]:"Бросаемый",[Ir.NFOCUS]:"Без фокуса",[Ir.NSPLIT]:"Без разделения",[Ir.CREATEAMMO]:"Генератор боеприпасов"},F4={id:Ft,name:Ft,nameid:Ft,hp:0,hp_max:0,mainflag:ci.NONE,flags:0,weight:0,value:0,damagetype:Fi.INVALID,damagetotal:0,damage:[0,0,0,0,0,0,0,0],wear:0,protection:[0,0,0,0,0,0,0,0],nutrition:0,cond_atr:[0,0,0],cond_value:[0,0,0],change_atr:[0,0,0],change_value:[0,0,0],magic:0,on_equip:Ft,on_unequip:Ft,on_state:[Ft,Ft,Ft,Ft],owner:Ft,ownerguild:0,disguiseguild:0,visual:Ft,visual_change:Ft,effect:Ft,visual_skin:0,scemename:Ft,material:Co.WOOD,munution:Ft,spell:0,range:0,mag_circle:0,description:Ft,text:[Ft,Ft,Ft,Ft,Ft,Ft],count:[0,0,0,0,0,0],inv_zbias:0,inv_rotx:0,inv_roty:0,inv_rotz:0,inv_animate:0},Iy=e=>JSON.parse(localStorage.getItem(e)||"[]"),Wn="items",ju=()=>{U.useEffect(()=>{const e=()=>{const t=document.activeElement;t!=null&&t.className.includes("ag-cell")&&navigator.clipboard.writeText(t.innerText)};return document.addEventListener("copy",e),()=>{document.removeEventListener("copy",e)}})},TW=e=>{e.columns.forEach(t=>{const r=t.values.map(i=>i.toString().length),n=Math.max(...r.filter(i=>typeof i=="number"));t.width=n})},PW=Ol(Wn),_W=Dl(Wn),MW=Il(Wn),kW=e=>{var t;if((t=e.data.meta)!=null&&t.isDisabled)return"text-danger"},FW=e=>e.data.id,AW=e=>e.value===0?"Нет":Object.keys(dl).filter(t=>(e.value&Number(t))!=0).map(t=>dl[Number(t)]).join(" | "),go=(e,t)=>{var r;(r=e==null?void 0:e.meta)!=null&&r.isDisabled&&(t.font={color:{argb:"FFFFFFFF"}},t.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFFF0000"}})},OW=U.memo(()=>{const[e]=ex(),t=!e.get("edit"),r=[{headerName:"",field:"drag",rowDrag:t,width:50,cellClass:"px-3",suppressMovable:!0},{headerName:"",field:"icon",cellRenderer:O3,width:40,cellClass:"px-2"},{headerName:"Код",field:"id",sortable:!0,width:300,filter:!0,resizable:!0},{headerName:"Название",field:"name",sortable:!0,resizable:!0},{headerName:"Тип",field:"mainflag",sortable:!0,valueFormatter:m=>Ah[m.value],resizable:!0},{headerName:"Под-тип",field:"flags",sortable:!0,valueFormatter:AW,resizable:!0},{headerName:"Тир",field:"tier",sortable:!0,valueFormatter:({value:m})=>"T"+m,width:80,filter:!0,resizable:!0},{headerName:"Модель",field:"visual",sortable:!0,width:300,resizable:!0},{headerName:"Описание",field:"text",sortable:!0,resizable:!0},{headerName:"",field:"dummy",flex:1,suppressMovable:!0},{headerName:"Действия",field:"actions",cellRenderer:PW,cellRendererParams:{isEditorMode:t},equals:(m,b)=>m!=b,width:140,suppressMovable:!0}],{openModal:n}=lo(),[i,s]=U.useState(""),[o,a]=U.useState(JSON.parse(localStorage.getItem(Wn)||"[]")),l=Iy("spells"),c=U.useCallback(()=>{o.length>0&&localStorage.setItem(Wn,JSON.stringify(o))},[o]);Fl(c);const u=m=>{s(m.target.value)},f=()=>{n(`${Wn}:edit`,{type:"add"})},d=()=>{n(`${Wn}:remove-all`)},h=()=>{kl($g("предметы"),JSON.stringify(o))},g=()=>{n(`${Wn}:code`)},v=m=>{const b=ri(Xt("id"),o),x=ri(Xt("id"),JSON.parse(m)),P=_l({...b,...x});localStorage.setItem(Wn,JSON.stringify(P)),a(P)},p=()=>{const m=new d_.Workbook;[{type:et.MELEE_WEAPON,subtype:"1h",items:ai([en(Xt("tier")),en(Xt("damageTotal"))],o.filter(b=>b.id.startsWith("ITMW_")&&!b.id.includes("2H")))},{type:et.MELEE_WEAPON,subtype:"2h",items:ai([en(Xt("tier")),en(Xt("damageTotal"))],o.filter(b=>b.id.startsWith("ITMW_")&&!b.id.includes("1H")))},{type:et.RANGE_WEAPON,items:ai([en(Xt("tier")),en(Xt("damageTotal"))],o.filter(b=>b.id.startsWith("ITRW_")))},{type:et.SHIELD,items:ai([en(Xt("tier")),en(qP(["condValue",0]))],o.filter(b=>b.id.startsWith("ITSH_")))},{type:et.ARMOR,items:ai([en(Xt("tier"))],o.filter(b=>b.id.startsWith("ITAR_")))},{type:et.HELMET,items:ai([en(Xt("tier"))],o.filter(b=>b.id.startsWith("ITHE_")))},{type:et.FOOD,items:ai([en(Xt("tier"))],o.filter(b=>b.id.startsWith("ITFO_")))},{type:et.TROPHY,items:ai([en(Xt("tier"))],o.filter(b=>b.id.startsWith("ITAT_")))},{type:et.SCROLL,items:ai([en(Xt("tier"))],o.filter(b=>b.id.startsWith("ITSC_")))},{type:et.RUNE,items:ai([en(Xt("tier"))],o.filter(b=>b.id.startsWith("ITRU_")))},{type:et.RECEIPT,items:ai([en(Xt("tier"))],o.filter(b=>b.id.startsWith("ITRC_")&&!b.meta.receipt.isSystem))}].forEach(b=>{const x=m.addWorksheet(b.subtype?`${Kd[b.type]} (${b.subtype=="1h"?"Одноручное":"Двуручное"})`:Kd[b.type]);b.type==et.MELEE_WEAPON&&(x.columns=[{header:"Название",key:"name"},{header:"Тир",key:"tier"},{header:"Необходимый атрибут",key:"att"},{header:"Значение атрибута",key:"attval"},{header:"Урон",key:"dmg"},{header:"Тип урона",key:"dmgtype"},{header:"Длина клинка",key:"range"}],b.items.forEach(P=>{const F=x.addRow({name:P.name,tier:`T${P.tier}`,att:Ec[P.condAttr[0]],attval:P.condValue[0],dmg:P.damageTotal,dmgtype:Js[P.damageType],range:P.range});go(P,F)})),b.type==et.RANGE_WEAPON&&(x.columns=[{header:"Название",key:"name"},{header:"Тир",key:"tier"},{header:"Необходимый атрибут",key:"att"},{header:"Значение атрибута",key:"attval"},{header:"Урон",key:"dmg"},{header:"Тип урона",key:"dmgtype"}],b.items.forEach(P=>{const F=x.addRow({name:P.name,tier:`T${P.tier}`,att:Ec[P.condAttr[0]],attval:P.condValue[0],dmg:P.damageTotal,dmgtype:Js[P.damageType]});go(P,F)})),b.type==et.SHIELD&&(x.columns=[{header:"Название",key:"name"},{header:"Тир",key:"tier"},{header:"Необходимый атрибут",key:"att"},{header:"Значение атрибута",key:"attval"},{header:`${li[gt.EDGE]}`,key:`def${gt.EDGE}`},{header:`${li[gt.BLUNT]}`,key:`def${gt.BLUNT}`},{header:`${li[gt.POINT]}`,key:`def${gt.POINT}`},{header:`${li[gt.MAGIC]}`,key:`def${gt.MAGIC}`},{header:`${li[gt.FIRE]}`,key:`def${gt.FIRE}`}],b.items.forEach(P=>{const F=x.addRow({name:P.name,tier:`T${P.tier}`,att:Ec[P.condAttr[0]],attval:P.condValue[0],[`def${gt.EDGE}`]:P.protection[gt.EDGE],[`def${gt.BLUNT}`]:P.protection[gt.BLUNT],[`def${gt.POINT}`]:P.protection[gt.POINT],[`def${gt.MAGIC}`]:P.protection[gt.MAGIC],[`def${gt.FIRE}`]:P.protection[gt.FIRE]});go(P,F)})),(b.type==et.ARMOR||b.type==et.HELMET)&&(x.columns=[{header:"Название",key:"name"},{header:"Тир",key:"tier"},{header:`${li[gt.EDGE]}`,key:`def${gt.EDGE}`},{header:`${li[gt.BLUNT]}`,key:`def${gt.BLUNT}`},{header:`${li[gt.POINT]}`,key:`def${gt.POINT}`},{header:`${li[gt.MAGIC]}`,key:`def${gt.MAGIC}`},{header:`${li[gt.FIRE]}`,key:`def${gt.FIRE}`}],b.items.forEach(P=>{const F=x.addRow({name:P.name,tier:`T${P.tier}`,[`def${gt.EDGE}`]:P.protection[gt.EDGE],[`def${gt.BLUNT}`]:P.protection[gt.BLUNT],[`def${gt.POINT}`]:P.protection[gt.POINT],[`def${gt.MAGIC}`]:P.protection[gt.MAGIC],[`def${gt.FIRE}`]:P.protection[gt.FIRE]});go(P,F)})),(b.type==et.TROPHY||b.type==et.FOOD)&&(x.columns=[{header:"Название",key:"name"},{header:"Тир",key:"tier"}],b.items.forEach(P=>{const F=x.addRow({name:P.name,tier:`T${P.tier}`});go(P,F)})),b.type==et.RECEIPT&&(x.columns=[{header:"Название",key:"name"},{header:"Тир",key:"tier"},{header:"Категория предмета",key:"category"},{header:"Ингредиенты",key:"ingredients"}],b.items.forEach(P=>{const F=x.addRow({name:P.name,tier:`T${P.tier}`,category:Kd[mx("IT"+P.id.split("_")[1]+"_")],ingredients:P.meta.receipt.ingredients.map(D=>{var O;return`x${D.count} ${((O=o.find(j=>j.id==D.id))==null?void 0:O.name)||D.id}`}).join(", ")});go(P,F)})),(b.type==et.SCROLL||b.type==et.RUNE)&&(x.columns=[{header:"Название",key:"name"},{header:"Тир",key:"tier"},{header:"Необходимо маны",key:"mana"},{header:"Урон",key:"damage"},{header:"Восстановление здоровья",key:"hp"},{header:"Продолжительность",key:"duration"}],b.items.forEach(P=>{const F=l.find((O,j)=>j==P.spell),D=x.addRow({name:P.name,tier:`T${P.tier}`,mana:(F==null?void 0:F.manaCost)||0,damage:(F==null?void 0:F.damagePerLevel)||0,hp:(F==null?void 0:F.hpPerCast)||0,duration:(F==null?void 0:F.duration)||0});go(P,D)})),x.getRow(1).font={bold:!0},TW(x)}),m.xlsx.writeBuffer().then(b=>{const x=new Blob([b],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),P=document.createElement("a");P.href=URL.createObjectURL(x),P.download=$g("gc предметы","xlsx"),P.click(),URL.revokeObjectURL(P.href)})},y=m=>{a(m.api.rowModel.rowsToDisplay.map(b=>b.data))};return ju(),T.jsx(sa,{children:T.jsxs("div",{className:"h-100 d-flex flex-column",children:[T.jsxs("div",{className:"flex-grow-1 d-flex flex-column",children:[T.jsxs("div",{className:"d-flex flex-wrap align-items-center mb-3 gap-2",children:[T.jsx(wt,{onChange:u,placeholder:"Найти",className:"w-auto"}),t&&T.jsxs(T.Fragment,{children:[T.jsx(mt,{className:"flex-shrink-0",color:"success",onClick:f,icon:ms,children:"Добавить"}),T.jsx(mt,{disabled:!o.length,className:"flex-shrink-0",color:"danger",onClick:d,icon:Wi,children:"Удалить все"}),T.jsx(ia,{accept:"application/json",className:"flex-shrink-0",color:"primary",onFileUpload:v,icon:ta,children:"Импортировать"}),T.jsx(mt,{disabled:!o.length,className:"flex-shrink-0",color:"primary",onClick:h,icon:Pl,children:"Экспортировать"}),T.jsx(mt,{disabled:!o.length,className:"flex-shrink-0",color:"primary",onClick:p,icon:OT,children:"Экспортировать в Excel"}),T.jsx(mt,{disabled:!o.length,className:"flex-shrink-0",color:"primary",onClick:g,icon:ra,children:"Код для вставки"})]})]}),T.jsx("div",{className:"flex-grow-1",children:T.jsx(Gl,{columnDefs:r,rowData:o,quickFilterText:i,onRowDragMove:y,overlayNoRowsTemplate:"Список элементов пуст",getRowId:FW,localeText:Ml,rowDragManaged:t,getRowClass:kW,animateRows:!0})})]}),T.jsx(MD,{rowData:o,setRowData:a}),T.jsx(MW,{rowData:o,setRowData:a}),T.jsx(_W,{setRowData:a}),T.jsx(yD,{rowData:o}),T.jsx(wD,{})]})})}),DW=()=>{U.useEffect(()=>{const e=()=>{const t=document.activeElement;t!=null&&t.className.includes("ag-cell")&&navigator.clipboard.writeText(t.innerText)};return document.addEventListener("copy",e),()=>{document.removeEventListener("copy",e)}})},EC={id:Ft,symbolType:"instance",inheritFrom:"C_ITEM",daedalus:F4,daedalusCode:Ft,meta:b_},IW=Object.keys(RC).map(e=>({value:Number(e),displayValue:RC[Number(e)]})),NW=({rowData:e,setRowData:t})=>{const{isOpen:r,toggle:n,params:i,scrollTop:s}=$r(`${$n}:edit`),[o,a]=U.useState(EC),[l,c]=U.useState(Ft),[u,f]=U.useState(Ft);U.useEffect(()=>{var k;a((i==null?void 0:i.data)??EC),c(((k=i==null?void 0:i.data)==null?void 0:k.id)??Ft)},[i]);const d=U.useCallback(k=>E=>a({...o,daedalus:{...o.daedalus,[k]:E.target.value}}),[o]),h=U.useCallback(k=>E=>a({...o,daedalus:{...o.daedalus,[k]:Number(E.target.value)}}),[o]),g=U.useCallback(k=>E=>a({...o,meta:{...o.meta,[k]:E.target.value}}),[o]),v=U.useCallback(k=>E=>a({...o,meta:{...o.meta,[k]:Number(E.target.value)}}),[o]),p=U.useCallback(k=>E=>a({...o,meta:{...o.meta,[k]:E.target.checked}}),[o]),y=U.useCallback(()=>a({...o,meta:{...o.meta,receipt:{...o.meta.receipt,ingredients:[...o.meta.receipt.ingredients,{id:"",count:1}]}}}),[o]),m=U.useCallback(k=>E=>a({...o,meta:{...o.meta,receipt:{...o.meta.receipt,ingredients:o.meta.receipt.ingredients.map((w,C)=>C===k?{...w,id:E}:w)}}}),[o]),b=U.useCallback((k,E)=>a({...o,meta:{...o.meta,receipt:{...o.meta.receipt,ingredients:o.meta.receipt.ingredients.map((w,C)=>C===k?{...w,count:E}:w)}}}),[o]),x=U.useCallback(k=>()=>a({...o,meta:{...o.meta,receipt:{...o.meta.receipt,ingredients:o.meta.receipt.ingredients.filter((E,w)=>w!==k)}}}),[o]),P=U.useCallback(k=>()=>{if(k>0){const E=[...o.meta.receipt.ingredients],w=E[k];E[k]=E[k-1],E[k-1]=w,a({...o,meta:{...o.meta,receipt:{...o.meta.receipt,ingredients:E}}})}},[o]),F=U.useCallback(k=>()=>{if(k<o.meta.receipt.ingredients.length-1){const E=[...o.meta.receipt.ingredients],w=E[k];E[k]=E[k+1],E[k+1]=w,a({...o,meta:{...o.meta,receipt:{...o.meta.receipt,ingredients:E}}})}},[o]),D=(i==null?void 0:i.type)==="view",O=(i==null?void 0:i.type)==="view"?"Просмотреть предмет":(i==null?void 0:i.type)==="edit"?"Редактировать предмет":"Новый предмет",j=U.useCallback(()=>{const k={...o,id:o.id.toUpperCase()};if(k.symbolType==="instance"&&!k.id.length){f("Код предмета не может быть пустым"),s();return}if(k.symbolType==="instance"&&!k.daedalus.name.length){f("Название предмета не может быть пустым"),s();return}if(k.symbolType==="instance"&&!k.daedalus.visual.length){f("Модель предмета не может быть пустой"),s();return}if(k.daedalus.visual&&!/.+\.(?:3DS|MMS|ZEN)$/g.test(k.daedalus.visual.toUpperCase())){f("Модель предмета должна иметь расширение .3DS или .MMS (для луков/арбалетов)"),s();return}if(k.daedalus.visual_change&&!/.+\.(?:ASC)$/g.test(k.daedalus.visual_change.toUpperCase())){f("Одеваемая модель предмета должна иметь расширение .ASC"),s();return}if((i==null?void 0:i.type)==="edit")k.meta.updatedAt=Math.floor(Date.now()/1e3),t(e.map(E=>E.id===l?k:E));else{if(e.find(E=>E.id===k.id)){f("Предмет с данным кодом уже существует"),s();return}k.meta.createdAt=Math.floor(Date.now()/1e3),k.meta.updatedAt=k.meta.createdAt,t([...e,k])}f(Ft),n()},[o,e,s]),H=Iy("spells"),W=U.useMemo(()=>H.map((k,E)=>({value:E+"",displayValue:`${k.name} (${k.id})`})),[H]),G=U.useMemo(()=>e.filter(k=>k.id!=o.id).map(k=>({value:k.id,displayValue:`${k.daedalus.name} (${k.id})`})),[e]),M=U.useMemo(()=>{const k=e.filter(E=>E.id!=o.id&&E.symbolType==="prototype").map(E=>({value:E.id,displayValue:E.id}));return[{value:"C_ITEM",displayValue:"C_ITEM"},...k]},[e]);return T.jsxs(Ur,{isOpen:r,toggle:n,size:"xl",children:[T.jsx(Br,{toggle:n,children:O}),T.jsxs(Hr,{children:[u&&T.jsxs(na,{color:"danger",children:[T.jsx("strong",{children:"Ошибка:"})," ",u]}),T.jsxs(Pr,{className:"mb-3",children:[T.jsx(Mr,{children:"Daedalus"}),T.jsxs(_r,{children:[T.jsxs("div",{className:"row",children:[T.jsx("div",{className:"col-md-6",children:T.jsxs(fe,{children:[T.jsx(he,{for:"symbolType",children:"Тип символа"}),T.jsxs(Me,{id:"symbolType",disabled:D,type:"select",value:o.symbolType,onChange:k=>{const E={...o};E.symbolType=k.target.value,a(E)},children:[T.jsx("option",{value:"instance",children:"instance"}),T.jsx("option",{value:"prototype",children:"prototype"})]})]})}),T.jsx("div",{className:"col-md-6",children:T.jsxs(fe,{children:[T.jsx(he,{for:"inheritFrom",children:"Наследовать от"}),T.jsx(Gs,{id:"inheritFrom",disabled:D,placeholder:"Найти",value:o.inheritFrom,onChange:k=>{const E={...o};E.inheritFrom=k,a(E)},options:M})]})})]}),T.jsxs("div",{className:"row",children:[T.jsx("div",{className:"col-md-6",children:T.jsxs(fe,{children:[T.jsx(he,{for:"daedalus.instance",children:"Код предмета"}),T.jsx(wt,{id:"daedalus.instance",readOnly:D,value:o.id,onChange:k=>a({...o,id:k.target.value})}),T.jsx(Ct,{children:"Уникальный код daedalus инстанса"})]})}),T.jsx("div",{className:"col-md-6",children:T.jsxs(fe,{children:[T.jsx(he,{for:"daedalus.name",children:"Название предмета"}),T.jsx(wt,{id:"daedalus.name",readOnly:D,value:o.daedalus.name,onChange:d("name")}),T.jsx(Ct,{children:"Текст, выводимый при фокусе на предмет в инвентаре и в мире"})]})})]}),T.jsxs("div",{className:"row",children:[T.jsx("div",{className:"col-md-6",children:T.jsxs(fe,{children:[T.jsx(he,{for:"daedalus.mainflag",children:"Тип предмета"}),T.jsxs(Me,{id:"daedalus.mainflag",disabled:D,type:"select",value:o.daedalus.mainflag,onChange:h("mainflag"),children:[T.jsx("option",{value:"",disabled:!0,children:"Выберите тип предмета"}),Object.keys(SC).map(k=>T.jsx("option",{value:k,children:SC[Number(k)]},k))]})]})}),T.jsx("div",{className:"col-md-6",children:T.jsxs(fe,{children:[T.jsx(he,{for:"daedalus.flags",children:"Под-тип предмета"}),T.jsx(X0,{id:"daedalus.flags",value:o.daedalus.flags,placeholder:"Нет",onChange:k=>a({...o,daedalus:{...o.daedalus,flags:k}}),options:IW,disabled:D})]})})]}),T.jsxs(fe,{children:[T.jsx(he,{for:"daedalus.material",children:"Материал"}),T.jsxs(Me,{id:"daedalus.material",disabled:D,type:"select",value:o.daedalus.material,onChange:h("material"),children:[T.jsx("option",{value:"",disabled:!0,children:"Выберите материал"}),Object.keys(CC).map(k=>T.jsx("option",{value:k,children:CC[Number(k)]},k))]}),T.jsx(Ct,{children:"От материала зависит звук удара по поверхности предмета"})]}),T.jsxs("div",{className:"row",children:[T.jsx("div",{className:"col-md-4",children:T.jsxs(fe,{children:[T.jsx(he,{for:"daedalus.damagetotal",children:"Урон"}),T.jsx(wt,{id:"daedalus.damagetotal",readOnly:D,value:o.daedalus.damagetotal,onChange:h("damagetotal")})]})}),T.jsx("div",{className:"col-md-4",children:T.jsxs(fe,{children:[T.jsx(he,{for:"daedalus.damagetype",children:"Тип урона"}),T.jsxs(Me,{id:"daedalus.damagetype",disabled:D,type:"select",value:o.daedalus.damagetype,onChange:h("damagetype"),children:[T.jsx("option",{value:"",disabled:!0,children:"Выберите тип урона"}),Object.keys(bC).map(k=>T.jsx("option",{value:k,children:bC[Number(k)]},k))]})]})}),T.jsx("div",{className:"col-md-4",children:T.jsxs(fe,{children:[T.jsx(he,{for:"daedalus.range",children:"Радиус урона"}),T.jsx(wt,{id:"daedalus.range",readOnly:D,value:o.daedalus.range,onChange:h("range")})]})})]}),T.jsxs(fe,{children:[T.jsx(he,{for:"daedalus.munition",children:"Боеприпасы"}),T.jsx(wt,{id:"daedalus.munition",readOnly:D,value:o.daedalus.munution,onChange:d("munution")})]}),T.jsxs("div",{className:"row",children:[T.jsx("div",{className:"col-md-6",children:T.jsxs(fe,{children:[T.jsx(he,{children:"Необходимый атрибут"}),new Array(yC).fill(null).map((k,E)=>T.jsxs(Me,{className:"mb-2",disabled:D,type:"select",value:o.daedalus.cond_atr[E],onChange:w=>{const C=[...o.daedalus.cond_atr];C[E]=Number(w.target.value),a({...o,daedalus:{...o.daedalus,cond_atr:C}})},children:[T.jsx("option",{value:"",disabled:!0,children:"Выберите необходимый атрибут"}),Object.keys(wC).map(w=>T.jsx("option",{value:w,children:wC[Number(w)]},w))]},E))]})}),T.jsx("div",{className:"col-md-6",children:T.jsxs(fe,{children:[T.jsx(he,{children:"Значение атрибута"}),new Array(yC).fill(null).map((k,E)=>T.jsx(wt,{className:"mb-2",readOnly:D,value:o.daedalus.cond_value[E],onChange:w=>{const C=[...o.daedalus.cond_atr];C[E]=Number(w.target.value),a({...o,daedalus:{...o.daedalus,cond_value:C}})}},E))]})})]}),T.jsxs("div",{className:"row",children:[T.jsx("div",{className:"col-md-4",children:T.jsxs(fe,{children:[T.jsx(he,{for:"daedalus.visual",children:"Модель предмета"}),T.jsx(wt,{id:"daedalus.visual",readOnly:D,value:o.daedalus.visual,onChange:d("visual")}),T.jsx(Ct,{children:"Модель предмета в инвентаре и мире"})]})}),T.jsx("div",{className:"col-md-4",children:T.jsxs(fe,{children:[T.jsx(he,{for:"daedalus.visual_change",children:"Одеваемая модель"}),T.jsx(wt,{id:"daedalus.visual_change",readOnly:D,value:o.daedalus.visual_change,onChange:d("visual_change")}),T.jsx(Ct,{children:"Модель, одеваемая на персонажа"})]})}),T.jsx("div",{className:"col-md-4",children:T.jsxs(fe,{children:[T.jsx(he,{for:"daedalus.visual_skin",children:"Номер скина"}),T.jsx(wt,{id:"daedalus.visual_skin",readOnly:D,value:o.daedalus.visual_skin,onChange:h("visual_skin")}),T.jsx(Ct,{children:"Исп. для ретекустура. (Не все одеваемые модели поддерживают ретекстур)"})]})})]}),T.jsx("div",{className:"row",children:[gt.EDGE,gt.BLUNT,gt.POINT,gt.FIRE,gt.MAGIC].map(k=>{const E=`daedalus.protection.${k}`;return T.jsx("div",{className:"col-md-4",children:T.jsxs(fe,{children:[T.jsx(he,{for:E,children:li[k]}),T.jsx(wt,{id:E,readOnly:D,value:o.daedalus.protection[k],onChange:w=>{const C=[...o.daedalus.protection];C[k]=Number(w.target.value),a({...o,daedalus:{...o.daedalus,protection:C}})}})]})},k)})}),T.jsxs(fe,{children:[T.jsx(he,{for:"daedalus.scemename",children:"Анимационная схема"}),T.jsx(wt,{id:"daedalus.scemename",disabled:D,value:o.daedalus.scemename,onChange:d("scemename")})]}),T.jsxs("div",{className:"row",children:[T.jsx("div",{className:"col-md-6",children:T.jsxs(fe,{children:[T.jsx(he,{for:"daedalus.on_equip",children:"Название Daedalus функции, вызываемой при экипировке предмета"}),T.jsx(wt,{id:"daedalus.on_equip",readOnly:D,value:o.daedalus.on_equip,onChange:d("on_equip")})]})}),T.jsx("div",{className:"col-md-6",children:T.jsxs(fe,{children:[T.jsx(he,{for:"daedalus.on_unequip",children:"Название Daedalus функции, вызываемой при снятии предмета"}),T.jsx(wt,{id:"daedalus.on_unequip",readOnly:D,value:o.daedalus.on_unequip,onChange:d("on_unequip")})]})})]}),T.jsx("div",{className:"row",children:o.daedalus.on_state.map((k,E)=>{const w=`daedalus.on_state.${E}`;return T.jsx("div",{className:"col-md-4",children:T.jsxs(fe,{children:[T.jsxs(he,{for:w,children:["Название Daedalus функции, вызываемой при изменении состояния (",E,")"]}),T.jsx(wt,{id:w,type:"textarea",disabled:D,value:o.daedalus.on_state[E],onChange:C=>{const S=[...o.daedalus.on_state];S[E]=C.target.value,a({...o,daedalus:{...o.daedalus,on_state:S}})}})]})},E)})}),T.jsxs(fe,{children:[T.jsx(he,{for:"daedalus.wear",children:"wear"}),T.jsxs(Me,{id:"daedalus.wear",disabled:D,type:"select",value:o.daedalus.wear,onChange:h("wear"),children:[T.jsx("option",{value:"",disabled:!0,children:"Выберите необходимый пункт"}),Object.keys(xC).map(k=>T.jsx("option",{value:k,children:xC[Number(k)]},k))]})]}),T.jsxs(fe,{children:[T.jsx(he,{for:"daedalus.effect",children:"Визуальный эффект"}),T.jsx(wt,{id:"daedalus.effect",readOnly:D,value:o.daedalus.effect,onChange:d("effect")}),T.jsx(Ct,{children:"Эффект, видимый на предмете в мире"})]}),T.jsxs("div",{className:"row",children:[T.jsx("div",{className:"col-md-6",children:T.jsx(he,{children:"Текст"})}),T.jsx("div",{className:"col-md-6",children:T.jsx(he,{children:"Значение"})})]}),o.daedalus.text.map((k,E)=>T.jsxs("div",{className:"row mb-3",children:[T.jsxs("div",{className:"col-md-6",children:[T.jsx(wt,{readOnly:D,value:k,onChange:w=>{const C={...o};C.daedalus.text[E]=w.target.value,a(C)}}),k.length>42&&T.jsx(Ct,{color:"danger",children:"Превышен лимит строки в 42 символа"})]}),T.jsx("div",{className:"col-md-6",children:T.jsx(wt,{readOnly:D,value:o.daedalus.count[E],onChange:w=>{const C={...o};C.daedalus.count[E]=Number(w.target.value),a(C)}})})]},E)),T.jsxs("div",{className:"row",children:[T.jsx("div",{className:"col-md-4",children:T.jsxs(fe,{children:[T.jsx(he,{for:"daedalus.mag_circle",children:"Необходимый круг магии"}),T.jsxs(Me,{id:"daedalus.mag_circle",disabled:D,type:"select",value:o.daedalus.mag_circle,onChange:h("mag_circle"),children:[T.jsx("option",{value:"0",children:"Нет"}),T.jsx("option",{value:"1",children:"I круг"}),T.jsx("option",{value:"2",children:"II круг"}),T.jsx("option",{value:"3",children:"III круг"}),T.jsx("option",{value:"4",children:"IV круг"}),T.jsx("option",{value:"5",children:"V круг"}),T.jsx("option",{value:"6",children:"VI круг"})]})]})}),T.jsx("div",{className:"col-md-4",children:T.jsxs(fe,{children:[T.jsx(he,{for:"daedalus.spell",children:"Заклинание"}),T.jsx(Gs,{id:"daedalus.spell",disabled:D,placeholder:"Найти заклинание",value:o.daedalus.spell+"",onChange:k=>{a({...o,daedalus:{...o.daedalus,spell:Number(k)}})},options:W})]})}),T.jsx("div",{className:"col-md-4",children:T.jsxs(fe,{children:[T.jsx(he,{for:"daedalus.spellHand",children:"Заклинание (ручной ввод)"}),T.jsx(wt,{id:"daedalus.spellHand",readOnly:D,value:o.daedalus.spell,onChange:h("spell")})]})})]}),T.jsxs(fe,{children:[T.jsx(he,{for:"daedalus.value",children:"Цена"}),T.jsx(wt,{id:"daedalus.value",readOnly:D,value:o.daedalus.value,onChange:h("value")})]}),T.jsxs(fe,{children:[T.jsx(he,{for:"daedalus.weight",children:"Вес"}),T.jsx(wt,{id:"daedalus.weight",readOnly:D,value:o.daedalus.weight,onChange:h("weight")})]}),T.jsxs("div",{className:"row",children:[T.jsx("div",{className:"col-md-4",children:T.jsxs(fe,{children:[T.jsx(he,{for:"daedalus.inv_rotx",children:"inv_rotx"}),T.jsx(wt,{id:"daedalus.inv_rotx",readOnly:D,value:o.daedalus.inv_rotx,onChange:h("inv_rotx")})]})}),T.jsx("div",{className:"col-md-4",children:T.jsxs(fe,{children:[T.jsx(he,{for:"daedalus.inv_roty",children:"inv_roty"}),T.jsx(wt,{id:"daedalus.inv_roty",readOnly:D,value:o.daedalus.inv_roty,onChange:h("inv_roty")})]})}),T.jsx("div",{className:"col-md-4",children:T.jsxs(fe,{children:[T.jsx(he,{for:"daedalus.inv_rotz",children:"inv_rotz"}),T.jsx(wt,{id:"daedalus.inv_rotz",readOnly:D,value:o.daedalus.inv_rotz,onChange:h("inv_rotz")})]})}),T.jsx("div",{className:"col-md-4",children:T.jsxs(fe,{children:[T.jsx(he,{for:"daedalus.inv_zbias",children:"inv_zbias"}),T.jsx(wt,{id:"daedalus.inv_zbias",readOnly:D,value:o.daedalus.inv_zbias,onChange:h("inv_zbias")})]})}),T.jsx("div",{className:"col-md-4",children:T.jsxs(fe,{children:[T.jsx(he,{for:"daedalus.inv_animate",children:"inv_animate"}),T.jsx(wt,{id:"daedalus.inv_animate",readOnly:D,value:o.daedalus.inv_animate,onChange:h("inv_animate")}),T.jsx(Ct,{children:"Анимация предмета при наведении фокуса в инвентаре"})]})})]}),T.jsxs(fe,{children:[T.jsx(he,{for:"daedalusCode",children:"Дополнительный Daedalus код, необходимый для работы предмета"}),T.jsx(wt,{id:"daedalusCode",type:"textarea",disabled:D,value:o.daedalusCode,onChange:k=>{a({...o,daedalusCode:k.target.value})}})]})]})]}),T.jsxs(Pr,{className:"mb-3",children:[T.jsx(Mr,{children:"Мета-информация"}),T.jsxs(_r,{children:[T.jsxs(Pr,{className:"mb-3",children:[T.jsx(Mr,{children:"Восстановление атрибутов при использовании"}),T.jsx(_r,{children:T.jsx("div",{className:"row",children:Object.keys(fd).filter(k=>{const E=Number(k);return E!=So.STRENGTH&&E!=So.DEXTERITY}).map(k=>{const E=`meta.restoreOnUse.${k}`;return T.jsx("div",{className:"col-md-4",children:T.jsxs(fe,{children:[T.jsx(he,{for:E,children:fd[Number(k)]}),T.jsx(wt,{id:E,readOnly:D,value:o.meta.restoreOnUse[Number(k)]||0,onChange:w=>{const C={...o};C.meta.restoreOnUse[Number(k)]=Number(w.target.value),a(C)}})]})},k)})})})]}),T.jsxs(Pr,{className:"mb-3",children:[T.jsx(Mr,{children:"Бонус к атрибутам при использовании"}),T.jsx(_r,{children:T.jsx("div",{className:"row",children:Object.keys(fd).map(k=>{const E=`meta.attributeBonus.${k}`;return T.jsx("div",{className:"col-md-4",children:T.jsxs(fe,{children:[T.jsx(he,{for:E,children:fd[Number(k)]}),T.jsx(wt,{id:E,readOnly:D,value:o.meta.attributeBonus[Number(k)]||0,onChange:w=>{const C={...o};C.meta.attributeBonus[Number(k)]=Number(w.target.value),a(C)}})]})},k)})})})]}),T.jsxs(Pr,{className:"mb-3",children:[T.jsx(Mr,{children:"Бонус к владению"}),T.jsx(_r,{children:T.jsx("div",{className:"row",children:Object.keys(E1).map(k=>{const E=`meta.skillBonus.${k}`;return T.jsx("div",{className:"col-md-4",children:T.jsxs(fe,{children:[T.jsx(he,{for:E,children:E1[Number(k)]}),T.jsx(wt,{id:E,readOnly:D,value:o.meta.skillBonus[Number(k)]||0,onChange:w=>{const C={...o};C.meta.skillBonus[Number(k)]=Number(w.target.value),a(C)}})]})},k)})})})]}),T.jsxs(fe,{children:[T.jsx(he,{for:"meta.description",children:"Описание"}),T.jsx(wt,{id:"meta.description",type:"textarea",readOnly:D,value:o.meta.description,onChange:g("description")}),T.jsx(Ct,{children:"Лорное описание предмета"})]}),T.jsxs(fe,{children:[T.jsx(he,{for:"meta.maskedName",children:"Маскировка"}),T.jsx(wt,{id:"meta.maskedName",readOnly:D,value:o.meta.maskedName,onChange:g("maskedName")}),T.jsx(Ct,{children:"* имя игрока, после того как он экипирует предмет"})]}),T.jsxs("div",{className:"row",children:[T.jsx("div",{className:"col-md-6",children:T.jsxs(fe,{children:[T.jsx(he,{for:"meta.drunkLevel",children:"Очки опьянения"}),T.jsx(wt,{id:"meta.drunkLevel",readOnly:D,value:o.meta.drunkLevel,onChange:v("drunkLevel")})]})}),T.jsx("div",{className:"col-md-6",children:T.jsxs(fe,{children:[T.jsx(he,{for:"meta.weight",children:"Вес"}),T.jsx(wt,{id:"meta.weight",readOnly:D,value:o.meta.weight,onChange:v("weight")})]})})]}),T.jsxs("div",{className:"row",children:[T.jsx("div",{className:"col-md-6",children:T.jsxs(fe,{children:[T.jsx(he,{for:"meta.effectOnUse",children:"Накладываемый эффект статуса при использовании"}),T.jsx(wt,{id:"meta.effectOnUse",readOnly:D,value:o.meta.effectOnUse,onChange:g("effectOnUse")}),T.jsx(Ct,{children:"* должен совпадать с shortName эффекта"})]})}),T.jsx("div",{className:"col-md-6",children:T.jsxs(fe,{children:[T.jsx(he,{for:"meta.effectDuration",children:"Длительность эффекта"}),T.jsx(wt,{id:"meta.effectDuration",readOnly:D,value:o.meta.effectDuration,onChange:v("effectDuration")})]})})]}),T.jsxs("div",{className:"row",children:[T.jsx("div",{className:"col-md-4",children:T.jsxs(fe,{children:[T.jsx(he,{for:"meta.onUse",children:"Функция, вызываемая при использовании (onUse)"}),T.jsx(wt,{id:"meta.onUse",readOnly:D,value:o.meta.onUse,onChange:g("onUse")})]})}),T.jsx("div",{className:"col-md-4",children:T.jsxs(fe,{children:[T.jsx(he,{for:"meta.onEquip",children:"Функция, вызываемая при надевании (onEquip)"}),T.jsx(wt,{id:"meta.onEquip",readOnly:D,value:o.meta.onEquip,onChange:g("onEquip")})]})}),T.jsx("div",{className:"col-md-4",children:T.jsxs(fe,{children:[T.jsx(he,{for:"meta.onUnequip",children:"Функция, вызываемая при снятии (onUnequip)"}),T.jsx(wt,{id:"meta.onUnequip",readOnly:D,value:o.meta.onUnequip,onChange:g("onUnequip")})]})})]}),T.jsxs(Pr,{className:"mb-3",children:[T.jsx(Mr,{children:"Рецепт"}),T.jsxs(_r,{children:[T.jsxs(fe,{children:[T.jsx(he,{for:"meta.receipt.category",children:"Категория рецепта"}),T.jsxs(Me,{id:"meta.receipt.category",disabled:D,type:"select",value:o.meta.receipt.category,onChange:k=>{const E={...o};E.meta.receipt.category=k.target.value,a(E)},children:[T.jsx("option",{value:"",disabled:!0,children:"Выберите категорию"}),T.jsx("option",{value:"runes",children:"Создание рун"}),T.jsx("option",{value:"alchemy",children:"Алхимия"}),T.jsx("option",{value:"smith",children:"Кузнечное дело"}),T.jsx("option",{value:"jewelry",children:"Ювелирное дело"}),T.jsx("option",{value:"cooking",children:"Готовка"}),T.jsx("option",{value:"carpentry",children:"Плотничное дело"}),T.jsx("option",{value:"leatherworking",children:"Кожевенное дело"}),T.jsx("option",{value:"other",children:"Другое"})]})]}),T.jsxs("div",{className:"row",children:[T.jsx("div",{className:"col-md-4",children:T.jsxs(fe,{children:[T.jsx(he,{for:"meta.receipt.resultItem",children:"Результат крафта"}),T.jsx(Gs,{id:"meta.receipt.resultItem",disabled:D,placeholder:"Найти предмет",value:o.meta.receipt.resultItem,onChange:k=>{const E={...o};E.meta.receipt.resultItem=k,a(E)},options:G})]})}),T.jsx("div",{className:"col-md-4",children:T.jsxs(fe,{children:[T.jsx(he,{for:"meta.receipt.resultItem.hand",children:"Результат крафта (ручной ввод)"}),T.jsx(wt,{id:"meta.receipt.resultItem.hand",readOnly:D,disabled:D,value:o.meta.receipt.resultItem,onChange:k=>{const E={...o};E.meta.receipt.resultItem=k.target.value,a(E)}})]})}),T.jsx("div",{className:"col-md-4",children:T.jsxs(fe,{children:[T.jsx(he,{for:"meta.receipt.resultCount",children:"Кол-во предметов"}),T.jsx(wt,{id:"resultCount",readOnly:D,value:o.meta.receipt.resultCount,onChange:k=>{const E={...o};E.meta.receipt.resultCount=Number(k.target.value),a(E)}})]})})]}),T.jsxs(fe,{children:[T.jsxs(he,{children:["Ингредиенты, необходимые для крафта (",o.meta.receipt.ingredients.length,")"]}),!D&&T.jsx("div",{className:"d-flex gap-2",children:T.jsx(zt,{color:"success",size:"sm",style:{width:"1.9375rem"},onClick:y,children:T.jsx(Zt,{icon:ms})})}),o.meta.receipt.ingredients.length>0&&T.jsxs("div",{className:"row",children:[T.jsx("div",{className:"col-lg-4",children:T.jsx(he,{children:"Предмет"})}),T.jsx("div",{className:"col-lg-4",children:T.jsx(he,{children:"Предмет (Ручной ввод)"})}),T.jsx("div",{className:"col-lg-2",children:T.jsx(he,{children:"Кол-во"})}),T.jsx("div",{className:"col-lg-2",children:T.jsx(he,{children:"Действия"})})]}),o.meta.receipt.ingredients.map((k,E)=>T.jsxs("div",{className:"row mb-3",children:[T.jsx("div",{className:"col-lg-4",children:T.jsx(Gs,{disabled:D,placeholder:"Выберите предмет",value:k.id,onChange:m(E),options:G})}),T.jsx("div",{className:"col-lg-4",children:T.jsx(wt,{readOnly:D,value:k.id,onChange:w=>{const C={...o};C.meta.receipt.ingredients[E].id=w.target.value,a(C)}})}),T.jsx("div",{className:"col-lg-2",children:T.jsx(wt,{readOnly:D,value:k.count,onChange:w=>b(E,Number(w.target.value))})}),T.jsxs("div",{className:"col-lg-2 d-flex align-items-center gap-2",children:[T.jsx(Zt,{title:"Удалить",icon:Wi,className:D?"text-secondary cursor-pointer user-select-none":"text-danger cursor-pointer user-select-none",onClick:D?void 0:x(E)}),T.jsx(Zt,{title:"Переместить вверх",icon:b0,className:D||E===0?"text-secondary cursor-pointer user-select-none":"text-dark cursor-pointer user-select-none",onClick:D?void 0:P(E)}),T.jsx(Zt,{title:"Переместить вниз",icon:y0,className:D||E===o.meta.receipt.ingredients.length-1?"text-secondary cursor-pointer user-select-none":"text-dark cursor-pointer user-select-none",onClick:D?void 0:F(E)})]})]},E))]}),T.jsxs(fe,{check:!0,children:[T.jsx(Me,{id:"meta.receipt.isSystem",type:"checkbox",disabled:D,checked:o.meta.receipt.isSystem,onChange:k=>{const E={...o};E.meta.receipt.isSystem=k.target.checked,a(E)}}),T.jsx(he,{check:!0,for:"meta.receipt.isSystem",className:"user-select-none",children:"Это системный рецепт"}),T.jsx("br",{}),T.jsx(Ct,{children:"* системные рецепты крафта не должны иметь игрового предмета для изучения. Данные рецепты используются в механике взаимодействия с MOBSI"})]})]})]}),T.jsxs(Pr,{className:"mb-3",children:[T.jsx(Mr,{children:"Прочность"}),T.jsx(_r,{children:T.jsx("div",{className:"row",children:T.jsx("div",{className:"col-md-6",children:T.jsxs(fe,{check:!0,children:[T.jsx(Me,{id:"meta.durability.useDurability",type:"checkbox",disabled:D,checked:o.meta.durability.useDurability,onChange:k=>{const E={...o};E.meta.durability.useDurability=k.target.checked,a(E)}}),T.jsx(he,{check:!0,for:"meta.durability.useDurability",className:"user-select-none",children:"Предмет имеет прочность"})]})})})})]}),T.jsxs(fe,{children:[T.jsx(he,{for:"meta.tier",children:"Тир"}),T.jsxs(Me,{id:"meta.tier",disabled:D,type:"select",value:o.meta.tier,onChange:v("tier"),children:[T.jsx("option",{value:"",disabled:!0,children:"Выберите тир"}),T.jsx("option",{value:"0",children:"T0"}),T.jsx("option",{value:"1",children:"T1"}),T.jsx("option",{value:"2",children:"T2"}),T.jsx("option",{value:"3",children:"T3"}),T.jsx("option",{value:"4",children:"T4"})]})]}),T.jsxs(fe,{check:!0,children:[T.jsx(Me,{id:"meta.isFactional",type:"checkbox",disabled:D,checked:o.meta.isFactional,onChange:p("isFactional")}),T.jsx(he,{check:!0,for:"meta.isFactional",className:"user-select-none",children:"Предмет является фракционным"}),T.jsx("br",{}),T.jsx(Ct,{children:"* к фракционным предметам могут применятся особые маханические правила. К примеру подобные предметы нельзя забрать с тела убитого/оглушенного игрока"})]}),T.jsxs(fe,{check:!0,children:[T.jsx(Me,{id:"meta.isDisabled",type:"checkbox",disabled:D,checked:o.meta.isDisabled,onChange:p("isDisabled")}),T.jsx(he,{check:!0,for:"meta.isDisabled",className:"user-select-none",children:"Предмет временно не используется"}),T.jsx("br",{}),T.jsx(Ct,{children:"* не будет виден в списке всех предметов при выдаче и тд"})]})]})]})]}),T.jsxs(Gr,{children:[!D&&T.jsx(zt,{color:"primary",onClick:j,children:(i==null?void 0:i.type)==="edit"?"Изменить":"Добавить"}),T.jsx(zt,{color:"secondary",onClick:n,children:"Отмена"})]})]})},TC=e=>typeof e=="string"?`"${e}"`:e,LW=e=>{const t=[];return Object.keys((e==null?void 0:e.daedalus)||{}).forEach(r=>{const n=e.daedalus[r];if(!nx(n,F4[r])){if(r.startsWith("on_")){Array.isArray(n)?n.forEach((i,s)=>{i&&t.push(`	${r}[${s}] = ${i};`)}):t.push(`	${r} = ${n};`);return}Array.isArray(n)?n.forEach((i,s)=>{i&&t.push(`	${r}[${s}] = ${TC(i)};`)}):t.push(`	${r} = ${TC(n)};`)}}),{fields:t}},jW=e=>{const t=LW(e);return`${e.symbolType} ${e.id} (${e.inheritFrom})
{
${t.fields.join(`
`)}
};
${e.daedalusCode}`},A4=e=>e.map(t=>jW(t)).join(`
`),BW=e=>e.reduce((t,r)=>{if(!r.meta.durability.useDurability)return[...t,r];r.meta.durability.next=`${r.id}_D90`;const i=10,s=new Array(100/i).fill(null);return s.forEach((o,a)=>{const l=100-i*(a+1),c={...r,id:`${r.id}_D${l}`,meta:{...r.meta,durability:{...r.meta.durability,useDurability:!1,value:l,next:a==s.length-1?"":`${r.id}_D${100-i*(a+2)}`}}};s[a]=c}),[...t,r,...s]},[]),HW=e=>{const t=e.filter(i=>i.symbolType==="instance"),r=ri(Xt("id"),e.filter(i=>i.symbolType==="prototype")),n=t.reduce((i,s)=>({...i,[s.id]:s.inheritFrom!=="C_ITEM"?{...s,daedalus:JP(r[s.inheritFrom].daedalus,s.daedalus)}:s}),{});return"ITEM <- "+JSON.stringify(n,null,2).replace(/"(.+?)": /g,"$1 = ")+`

ITEM_VALUES <- ITEM.values()
`},GW=({rowData:e})=>{const{isOpen:t,toggle:r}=$r(`${$n}:code`),n=U.useMemo(()=>BW(e),[e]),i=U.useMemo(()=>A4(n),[n]),s=U.useMemo(()=>HW(n),[n]),o=U.useCallback(()=>{navigator.clipboard.writeText(i),kt("Скопировано!")},[i]),a=U.useCallback(()=>{navigator.clipboard.writeText(s),kt("Скопировано!")},[s]);return T.jsxs(Ur,{isOpen:t,toggle:r,size:"lg",children:[T.jsx(Br,{toggle:r,children:"Код"}),T.jsxs(Hr,{children:[T.jsxs(fe,{children:[T.jsx(he,{for:"daedalus",children:"Daedalus код"}),T.jsx(Sr,{id:"daedalus",className:"mb-2",value:i,readOnly:!0,style:{minHeight:300}}),T.jsx(mt,{color:"primary",icon:mr,onClick:o,children:"Скопировать"})]}),T.jsxs(fe,{children:[T.jsx(he,{for:"squirrel",children:"Squirrel"}),T.jsx(Sr,{id:"daedalus",className:"mb-2",value:s,readOnly:!0,style:{minHeight:300}}),T.jsx(mt,{color:"primary",icon:mr,onClick:a,children:"Скопировать"})]})]}),T.jsx(Gr,{children:T.jsx(zt,{color:"secondary",onClick:r,children:"Закрыть"})})]})},VW=()=>{const{isOpen:e,toggle:t,params:r}=$r(`${$n}:code-single`),n=r!=null&&r.data?A4([r.data]):"",i=U.useCallback(()=>{navigator.clipboard.writeText(n),kt("Скопировано!")},[n]);return T.jsxs(Ur,{isOpen:e,toggle:t,size:"lg",children:[T.jsx(Br,{toggle:t,children:"Код"}),T.jsx(Hr,{children:T.jsxs(fe,{children:[T.jsx(he,{for:"daedalus",children:"Daedalus код"}),T.jsx(Sr,{id:"daedalus",className:"mb-2",value:n,readOnly:!0,style:{minHeight:300}}),T.jsx(mt,{color:"primary",icon:mr,onClick:i,children:"Скопировать"})]})}),T.jsx(Gr,{children:T.jsx(zt,{color:"secondary",onClick:t,children:"Закрыть"})})]})},$n="items-next",zW=Ol($n),WW=Dl($n),$W=Il($n),UW=e=>e.data.id,KW=e=>{if(e.data.meta.isDisabled)return"text-danger"},qW=e=>e.value===0?"Нет":Object.keys(dl).filter(t=>(e.value&Number(t))!=0).map(t=>dl[Number(t)]).join(" | "),YW=()=>{const[e]=ex(),t=!e.get("edit"),r=U.useMemo(()=>[{headerName:"",field:"drag",rowDrag:!0,width:50,cellClass:"px-3",suppressMovable:!0},{headerName:"",field:"icon",cellRenderer:O3,width:40,cellClass:"px-2"},{headerName:"Код",field:"id",sortable:!0,width:300,filter:!0,resizable:!0},{headerName:"Название",field:"daedalus.name",sortable:!0,resizable:!0},{headerName:"Тип",field:"daedalus.mainflag",sortable:!0,valueFormatter:p=>Ah[p.value],resizable:!0},{headerName:"Под-тип",field:"daedalus.flags",sortable:!0,valueFormatter:qW,resizable:!0},{headerName:"Тир",field:"meta.tier",sortable:!0,valueFormatter:({value:p})=>"T"+p,width:80,filter:!0,resizable:!0},{headerName:"Модель",field:"daedalus.visual",sortable:!0,width:300,resizable:!0},{headerName:"Описание",field:"text",sortable:!0,resizable:!0},{headerName:"",field:"dummy",flex:1,suppressMovable:!0},{headerName:"Действия",field:"actions",cellRenderer:zW,cellRendererParams:{isEditorMode:t},equals:(p,y)=>p!=y,width:140,suppressMovable:!0}],[t]),[n,i]=U.useState(""),[s,o]=U.useState(JSON.parse(localStorage.getItem($n)||"[]")),{openModal:a}=lo(),l=U.useCallback(p=>{i(p.target.value)},[]),c=U.useCallback(p=>{o(p.api.rowModel.rowsToDisplay.map(y=>y.data))},[]),u=U.useCallback(()=>{a(`${$n}:edit`,{type:"add"})},[a]),f=U.useCallback(()=>{a(`${$n}:remove-all`)},[a]),d=U.useCallback(()=>{kl($g("предметы 0.3.0"),JSON.stringify(s))},[s]),h=U.useCallback(()=>{a(`${$n}:code`)},[a]),g=U.useCallback(p=>{const y=ri(Xt("id")),m=JSON.parse(p),b=y(s),x=y(m),P=_l({...b,...x});localStorage.setItem($n,JSON.stringify(P)),o(P)},[s]),v=U.useCallback(()=>{s.length>0&&localStorage.setItem($n,JSON.stringify(s))},[s]);return Fl(v),DW(),T.jsxs(sa,{children:[T.jsx("div",{className:"h-100 d-flex flex-column",children:T.jsxs("div",{className:"flex-grow-1 d-flex flex-column",children:[T.jsxs("div",{className:"d-flex flex-wrap align-items-center mb-3 gap-2",children:[T.jsx(wt,{onChange:l,placeholder:"Найти",className:"w-auto"}),T.jsx(mt,{className:"flex-shrink-0",color:"success",onClick:u,icon:ms,children:"Добавить"}),T.jsx(mt,{disabled:!s.length,className:"flex-shrink-0",color:"danger",onClick:f,icon:Wi,children:"Удалить все"}),T.jsx(ia,{accept:"application/json",className:"flex-shrink-0",color:"primary",onFileUpload:g,icon:ta,children:"Импортировать"}),T.jsx(mt,{disabled:!s.length,className:"flex-shrink-0",color:"primary",onClick:d,icon:Pl,children:"Экспортировать"}),T.jsx(mt,{disabled:!s.length,className:"flex-shrink-0",color:"primary",onClick:h,icon:ra,children:"Код для вставки"})]}),T.jsx("div",{className:"flex-grow-1",children:T.jsx(Gl,{columnDefs:r,rowData:s,quickFilterText:n,onRowDragMove:c,overlayNoRowsTemplate:"Список элементов пуст",getRowId:UW,getRowClass:KW,localeText:Ml,rowDragManaged:!0,animateRows:!0})})]})}),T.jsx(NW,{rowData:s,setRowData:o}),T.jsx($W,{rowData:s,setRowData:o}),T.jsx(WW,{setRowData:o}),T.jsx(GW,{rowData:s}),T.jsx(VW,{})]})},XW=({rowData:e,setRowData:t})=>{const{isOpen:r,toggle:n,params:i,scrollTop:s}=$r(`${gi}:edit`),[o,a]=U.useState(""),[l,c]=U.useState(""),[u,f]=U.useState(""),[d,h]=U.useState(""),[g,v]=U.useState(0),[p,y]=U.useState(0),[m,b]=U.useState(0),[x,P]=U.useState(0),[F,D]=U.useState(0),[O,j]=U.useState({[ct.INVALID]:0,[ct.BARRIER]:0,[ct.BLUNT]:0,[ct.EDGE]:0,[ct.FIRE]:0,[ct.FLY]:0,[ct.MAGIC]:0,[ct.POINT]:0,[ct.FALL]:0}),[H,W]=U.useState({[ct.INVALID]:0,[ct.BARRIER]:0,[ct.BLUNT]:0,[ct.EDGE]:0,[ct.FIRE]:0,[ct.FLY]:0,[ct.MAGIC]:0,[ct.POINT]:0,[ct.FALL]:0}),[G,M]=U.useState([0,0,0,0]),[k,E]=U.useState([]),[w,C]=U.useState(!1);U.useEffect(()=>{var V,$,Y,L,K,I,A,z,q,J,X,Z,ie,se;c(((V=i==null?void 0:i.data)==null?void 0:V.id)??""),f((($=i==null?void 0:i.data)==null?void 0:$.name)??""),h(((Y=i==null?void 0:i.data)==null?void 0:Y.description)??""),v(((L=i==null?void 0:i.data)==null?void 0:L.stats.maxHp)??0),y(((K=i==null?void 0:i.data)==null?void 0:K.stats.maxMana)??0),b(((I=i==null?void 0:i.data)==null?void 0:I.stats.maxStamina)??0),D(((A=i==null?void 0:i.data)==null?void 0:A.stats.str)??0),P(((z=i==null?void 0:i.data)==null?void 0:z.stats.dex)??0),j(((q=i==null?void 0:i.data)==null?void 0:q.stats.dmg)??{[ct.INVALID]:0,[ct.BARRIER]:0,[ct.BLUNT]:0,[ct.EDGE]:0,[ct.FIRE]:0,[ct.FLY]:0,[ct.MAGIC]:0,[ct.POINT]:0,[ct.FALL]:0}),W(((J=i==null?void 0:i.data)==null?void 0:J.stats.def)??{[ct.INVALID]:0,[ct.BARRIER]:0,[ct.BLUNT]:0,[ct.EDGE]:0,[ct.FIRE]:0,[ct.FLY]:0,[ct.MAGIC]:0,[ct.POINT]:0,[ct.FALL]:0}),M(((X=i==null?void 0:i.data)==null?void 0:X.stats.skill)??[0,0,0,0]),E(((Z=i==null?void 0:i.data)==null?void 0:Z.shouldOverride)??[]),C(((ie=i==null?void 0:i.data)==null?void 0:ie.canBeExtended)??!1),a(((se=i==null?void 0:i.data)==null?void 0:se.id)??"")},[i]);const[S,R]=U.useState(""),_=()=>{const V={id:l.toUpperCase(),name:u,description:d,stats:{maxHp:g,maxMana:p,maxStamina:m,str:F,dex:x,dmg:O,def:H,skill:G},shouldOverride:k,canBeExtended:w};if(!u.length){R("Название эффекта не может быть пустым"),s();return}if(!l.length){R("Код эффекта не может быть пустым"),s();return}if((i==null?void 0:i.type)==="edit")t(e.map($=>$.id===o?V:$));else{if(e.find($=>$.id===V.id)){R("Эффект с данным кодом уже существует"),s();return}t([...e,V])}R(""),n()},N=(i==null?void 0:i.type)==="view",B=(i==null?void 0:i.type)==="view"?"Просмотреть эффект":(i==null?void 0:i.type)==="edit"?"Редактировать эффект":"Новый эффект";return T.jsxs(Ur,{isOpen:r,toggle:n,size:"xl",children:[T.jsx(Br,{toggle:n,children:B}),T.jsxs(Hr,{children:[S&&T.jsxs(na,{color:"danger",children:[T.jsx("strong",{children:"Ошибка:"})," ",S]}),T.jsxs("div",{className:"row",children:[T.jsx("div",{className:"col-md-6",children:T.jsxs(fe,{children:[T.jsx(he,{for:"id",children:"Код"}),T.jsx(Me,{id:"id",readOnly:N,value:l,onChange:V=>c(V.target.value)}),T.jsx(Ct,{children:"Уникальный код эффекта"})]})}),T.jsx("div",{className:"col-md-6",children:T.jsxs(fe,{children:[T.jsx(he,{for:"name",children:"Название"}),T.jsx(Me,{id:"name",readOnly:N,value:u,onChange:V=>f(V.target.value)}),T.jsx(Ct,{children:"Текст, выводимый в статистике игрока"})]})})]}),T.jsxs(fe,{children:[T.jsx(he,{for:"description",children:"Описание"}),T.jsx(Me,{id:"description",readOnly:N,value:d,onChange:V=>h(V.target.value)}),T.jsx(Ct,{children:"Текст, выводимый в статистике игрока"})]}),T.jsxs(fe,{children:[T.jsx(Me,{id:"canBeExtended",className:"me-2",type:"checkbox",disabled:N,checked:w,onChange:V=>C(V.target.checked)}),T.jsx(he,{for:"canBeExtended",check:!0,children:"Может ли эффект быть обновлем повторным наложением"})]}),T.jsxs(Pr,{className:"mb-3",children:[T.jsx(Mr,{children:"Атрибуты"}),T.jsx(_r,{children:T.jsxs("div",{className:"row",children:[T.jsx("div",{className:"col-md-4",children:T.jsxs(fe,{children:[T.jsx(he,{for:"maxHp",children:"Максимальное здоровье"}),T.jsx(Me,{type:"number",id:"maxHp",readOnly:N,value:g,onChange:V=>v(Number(V.target.value)),onWheel:Rt})]})}),T.jsx("div",{className:"col-md-4",children:T.jsxs(fe,{children:[T.jsx(he,{for:"maxMana",children:"Максимальная мана"}),T.jsx(Me,{type:"number",id:"maxMana",readOnly:N,value:p,onChange:V=>y(Number(V.target.value)),onWheel:Rt})]})}),T.jsx("div",{className:"col-md-4",children:T.jsxs(fe,{children:[T.jsx(he,{for:"maxStamina",children:"Максимальная стамина"}),T.jsx(Me,{type:"number",id:"maxStamina",readOnly:N,value:m,onChange:V=>b(Number(V.target.value)),onWheel:Rt})]})}),T.jsx("div",{className:"col-md-4",children:T.jsxs(fe,{children:[T.jsx(he,{for:"str",children:"Сила"}),T.jsx(Me,{type:"number",id:"str",readOnly:N,value:F,onChange:V=>D(Number(V.target.value)),onWheel:Rt})]})}),T.jsx("div",{className:"col-md-4",children:T.jsxs(fe,{children:[T.jsx(he,{for:"dex",children:"Ловкость"}),T.jsx(Me,{type:"number",id:"dex",readOnly:N,value:x,onChange:V=>P(Number(V.target.value)),onWheel:Rt})]})})]})})]}),T.jsxs(Pr,{className:"mb-3",children:[T.jsx(Mr,{children:"Урон"}),T.jsx(_r,{children:T.jsx("div",{className:"row",children:Object.keys(ct).map(V=>T.jsx("div",{className:"col-md-4",children:T.jsxs(fe,{children:[T.jsxs(he,{for:"dmg"+V,children:[Js[ct[V]]," (",V,")"]}),T.jsx(Me,{type:"number",id:"dmg"+V,readOnly:N,value:O[ct[V]],onChange:$=>{j({...O,[ct[V]]:Number($.target.value)})},onWheel:Rt})]})},V))})})]}),T.jsxs(Pr,{className:"mb-3",children:[T.jsx(Mr,{children:"Защита"}),T.jsx(_r,{children:T.jsx("div",{className:"row",children:Object.keys(ct).map(V=>T.jsx("div",{className:"col-md-4",children:T.jsxs(fe,{children:[T.jsxs(he,{for:"def"+V,children:[Js[ct[V]]," (",V,")"]}),T.jsx(Me,{type:"number",id:"def"+V,readOnly:N,value:H[ct[V]],onChange:$=>{W({...H,[ct[V]]:Number($.target.value)})},onWheel:Rt})]})},V))})})]}),T.jsxs(Pr,{className:"mb-3",children:[T.jsx(Mr,{children:"Владение оружием"}),T.jsx(_r,{children:T.jsx("div",{className:"row",children:Object.keys(js).map(V=>T.jsx("div",{className:"col-md-6",children:T.jsxs(fe,{children:[T.jsx(he,{for:"skill"+V,children:y_[js[V]]}),T.jsxs("div",{className:"d-flex align-items-center gap-2",children:[T.jsx(Me,{type:"number",id:"skill"+V,readOnly:N,value:G[js[V]],onChange:$=>{const Y=[...G];Y[js[V]]=Number($.target.value),M(Y)},onWheel:Rt,min:-100,max:100}),"%"]})]})},V))})})]}),T.jsxs(Pr,{className:"mb-3",children:[T.jsx(Mr,{children:"Перекрытие эффектов"}),T.jsx(_r,{children:T.jsxs(fe,{children:[T.jsx(he,{for:"shouldOverride",children:"Должен ли данный эффект заменять собой эффекты ниже"}),e.filter(V=>V.id!=l).map(V=>T.jsxs("div",{children:[T.jsx(Me,{className:"me-2",type:"checkbox",disabled:N,checked:k.includes(V.id),onChange:()=>{k.includes(V.id)?E(k.filter($=>$!=V.id)):E([...k,V.id])}}),V.name]},V.id))]})})]})]}),T.jsxs(Gr,{children:[!N&&T.jsx(zt,{color:"primary",onClick:_,children:(i==null?void 0:i.type)==="edit"?"Изменить":"Добавить"}),T.jsx(zt,{color:"secondary",onClick:n,children:"Отмена"})]})]})},QW=e=>{const t=e.reduce((r,n)=>({...r,[n.id]:n}),{});return`enum ActiveEffect {
${e.map(r=>`	${r.id.split("_").map(n=>x_(n.toLowerCase())).join("")} = "${r.id}",
`).join("")}}

ACTIVE_EFFECTS <- `+JSON.stringify(t,null,2).replace(/"(\d+?)": /g,"[$1] = ").replace(/"(.+?)": /g,"$1 = ")+`

ACTIVE_EFFECTS_VALUES <- ACTIVE_EFFECTS.values()
`},ZW=({rowData:e})=>{const{isOpen:t,toggle:r}=$r(`${gi}:code`),n=QW(e),i=U.useCallback(()=>{navigator.clipboard.writeText(n),kt("Скопировано!")},[n]);return T.jsxs(Ur,{isOpen:t,toggle:r,size:"lg",children:[T.jsx(Br,{toggle:r,children:"Код"}),T.jsx(Hr,{children:T.jsxs(fe,{children:[T.jsx(he,{for:"squirrel",children:"Squirrel"}),T.jsx(Sr,{id:"squirrel",className:"mb-2",value:n,readOnly:!0,style:{minHeight:300}}),T.jsx(mt,{color:"primary",icon:mr,onClick:i,children:"Скопировать"})]})}),T.jsx(Gr,{children:T.jsx(zt,{color:"secondary",onClick:r,children:"Закрыть"})})]})},gi="effects",JW=Ol(gi),e$=Dl(gi),t$=Il(gi),r$=e=>e.data.id,n$=[{headerName:"",field:"drag",rowDrag:!0,width:50,cellClass:"px-3",suppressMovable:!0},{headerName:"Код",field:"id",sortable:!0,filter:!0,resizable:!0},{headerName:"Название",field:"name",sortable:!0,resizable:!0},{headerName:"Описание",field:"description",sortable:!0,resizable:!0},{headerName:"Макс. здоровье",field:"stats.maxHp",sortable:!0,resizable:!0},{headerName:"Макс. мана",field:"stats.maxMana",sortable:!0,resizable:!0},{headerName:"Макс. выносливость",field:"stats.maxStamina",sortable:!0,resizable:!0},{headerName:"Сила",field:"stats.str",sortable:!0,resizable:!0},{headerName:"Ловкость",field:"stats.dex",sortable:!0,resizable:!0},{headerName:"",field:"dummy",flex:1,suppressMovable:!0},{headerName:"Действия",field:"actions",equals:(e,t)=>e!=t,width:140,suppressMovable:!0,cellRenderer:JW,cellRendererParams:{isEditorMode:!0}}],i$=()=>{const[e,t]=U.useState(""),[r,n]=U.useState(JSON.parse(localStorage.getItem(gi)||"[]")),{openModal:i}=lo(),s=U.useCallback(()=>{r.length>0&&localStorage.setItem(gi,JSON.stringify(r))},[r]);Fl(s);const o=h=>{t(h.target.value)},a=()=>{i(`${gi}:edit`,{type:"add"})},l=()=>{i(`${gi}:remove-all`)},c=h=>{n(h.api.rowModel.rowsToDisplay.map(g=>g.data))},u=()=>{const h="эффекты "+new Date().toISOString().replace("T"," ").replace("Z","").replace(/:/g,"-").replace(/\.\d\d\d/,"")+".json";kl(h,JSON.stringify(r))},f=h=>{const g=ri(Xt("id"),r),v=ri(Xt("id"),JSON.parse(h)),p=_l({...g,...v});localStorage.setItem(gi,JSON.stringify(p)),n(p)},d=()=>{i(`${gi}:code`)};return ju(),T.jsxs(sa,{children:[T.jsx("div",{className:"h-100 d-flex flex-column",children:T.jsxs("div",{className:"flex-grow-1 d-flex flex-column",children:[T.jsxs("div",{className:"d-flex flex-wrap align-items-center mb-3 gap-2",children:[T.jsx(wt,{onChange:o,placeholder:"Найти",className:"w-auto"}),T.jsx(mt,{className:"flex-shrink-0",color:"success",onClick:a,icon:ms,children:"Новый эффект"}),T.jsx(mt,{disabled:!r.length,className:"flex-shrink-0",color:"danger",onClick:l,icon:Wi,children:"Удалить все"}),T.jsx(ia,{accept:"application/json",className:"flex-shrink-0",color:"primary",onFileUpload:f,icon:ta,children:"Импортировать эффекты"}),T.jsx(mt,{disabled:!r.length,className:"flex-shrink-0",color:"primary",onClick:u,icon:Pl,children:"Экспортировать эффекты"}),T.jsx(mt,{disabled:!r.length,className:"flex-shrink-0",color:"primary",onClick:d,icon:ra,children:"Код для вставки"})]}),T.jsx("div",{className:"flex-grow-1",children:T.jsx(Gl,{columnDefs:n$,rowData:r,quickFilterText:e,onRowDragMove:c,overlayNoRowsTemplate:"Список элементов пуст",getRowId:r$,localeText:Ml,rowDragManaged:!0,animateRows:!0})})]})}),T.jsx(XW,{rowData:r,setRowData:n}),T.jsx(e$,{setRowData:n}),T.jsx(t$,{rowData:r,setRowData:n}),T.jsx(ZW,{rowData:r})]})},s$=({rowData:e,setRowData:t})=>{const{isOpen:r,toggle:n,params:i,scrollTop:s}=$r(`${mi}:edit`),[o,a]=U.useState(""),[l,c]=U.useState(""),[u,f]=U.useState(""),[d,h]=U.useState(""),[g,v]=U.useState(""),[p,y]=U.useState(0),[m,b]=U.useState(0),[x,P]=U.useState(0),[F,D]=U.useState(500),[O,j]=U.useState(1),[H,W]=U.useState(ct.MAGIC),[G,M]=U.useState(ud.BAD),[k,E]=U.useState(!0),[w,C]=U.useState(!0),[S,R]=U.useState(!1),[_,N]=U.useState(dd.FOCUS_FALLBACK_NONE),[B,V]=U.useState(hd.NPCS),[$,Y]=U.useState(1e4),[L,K]=U.useState(60),[I,A]=U.useState(60),[z,q]=U.useState(!1),[J,X]=U.useState(""),[Z,ie]=U.useState(""),[se,Q]=U.useState(""),[re,ne]=U.useState(""),[ue,de]=U.useState(0),[ge,we]=U.useState(0),[xe,Fe]=U.useState(0),[De,Le]=U.useState(0),[He,it]=U.useState(""),[Qe,rt]=U.useState(1),[Pe,Ie]=U.useState(500);U.useEffect(()=>{var Ce,Ne,Ue,Ge,Ee,yt,oe,_e,Ve,ft,ot,St,Pt,lt,le,me,Te,ze,at,Oe,Ze,Xe,Je,Ye,ut,bt,Wt,Lt,er,tr,Rr,te;c(((Ce=i==null?void 0:i.data)==null?void 0:Ce.id)??""),f(((Ne=i==null?void 0:i.data)==null?void 0:Ne.name)??""),h(((Ue=i==null?void 0:i.data)==null?void 0:Ue.fxInstanceName)??""),v(((Ge=i==null?void 0:i.data)==null?void 0:Ge.fxAniLetters)??""),y(((Ee=i==null?void 0:i.data)==null?void 0:Ee.manaCost)??0),b(((yt=i==null?void 0:i.data)==null?void 0:yt.duration)??0),P(((oe=i==null?void 0:i.data)==null?void 0:oe.hpPerCast)??0),D(((_e=i==null?void 0:i.data)==null?void 0:_e.timePerMana)??500),j(((Ve=i==null?void 0:i.data)==null?void 0:Ve.damagePerLevel)??1),W(((ft=i==null?void 0:i.data)==null?void 0:ft.damageType)??ct.MAGIC),M(((ot=i==null?void 0:i.data)==null?void 0:ot.spellType)??ud.BAD),E(((St=i==null?void 0:i.data)==null?void 0:St.canTurnDuringInvest)??!0),C(((Pt=i==null?void 0:i.data)==null?void 0:Pt.canChangeTargetDuringInvest)??!0),R(((lt=i==null?void 0:i.data)==null?void 0:lt.isMultiEffect)??!1),N(((le=i==null?void 0:i.data)==null?void 0:le.targetCollectAlgo)??dd.FOCUS_FALLBACK_NONE),V(((me=i==null?void 0:i.data)==null?void 0:me.targetCollectType)??hd.NPCS),Y(((Te=i==null?void 0:i.data)==null?void 0:Te.targetCollectRange)??1e4),K(((ze=i==null?void 0:i.data)==null?void 0:ze.targetCollectAzi)??60),A(((at=i==null?void 0:i.data)==null?void 0:at.targetCollectElev)??60),q(((Oe=i==null?void 0:i.data)==null?void 0:Oe.metaIsChargeable)??!1),X(((Ze=i==null?void 0:i.data)==null?void 0:Ze.metaZsMagic)??""),ie(((Xe=i==null?void 0:i.data)==null?void 0:Xe.metaVisualFx)??""),Q(((Je=i==null?void 0:i.data)==null?void 0:Je.metaCanCollideWith)??""),ne(((Ye=i==null?void 0:i.data)==null?void 0:Ye.metaTeleportWorld)??""),de(((ut=i==null?void 0:i.data)==null?void 0:ut.metaTeleportPointX)??0),we(((bt=i==null?void 0:i.data)==null?void 0:bt.metaTeleportPointY)??0),Fe(((Wt=i==null?void 0:i.data)==null?void 0:Wt.metaTeleportPointZ)??0),Le(((Lt=i==null?void 0:i.data)==null?void 0:Lt.metaTeleportPointA)??0),it(((er=i==null?void 0:i.data)==null?void 0:er.metaSummonInstance)??""),rt(((tr=i==null?void 0:i.data)==null?void 0:tr.metaSummonCount)??1),Ie(((Rr=i==null?void 0:i.data)==null?void 0:Rr.setMetaSummonRange)??500),a(((te=i==null?void 0:i.data)==null?void 0:te.id)??"")},[i]);const[ae,ce]=U.useState(""),be=()=>{const Ce={id:l.toUpperCase(),name:u,fxInstanceName:d,fxAniLetters:g,manaCost:p,duration:m,hpPerCast:x,timePerMana:F,damagePerLevel:O,damageType:H,spellType:G,canTurnDuringInvest:k,canChangeTargetDuringInvest:w,isMultiEffect:S,targetCollectAlgo:_,targetCollectType:B,targetCollectRange:$,targetCollectAzi:L,targetCollectElev:I,metaIsChargeable:z,metaZsMagic:J,metaVisualFx:Z,metaCanCollideWith:se,metaTeleportWorld:re,metaTeleportPointX:ue,metaTeleportPointY:ge,metaTeleportPointZ:xe,metaTeleportPointA:De,metaSummonInstance:He,metaSummonCount:Qe,metaSummonRange:Pe};if(!l.length){ce("Код эффекта не может быть пустым"),s();return}if((i==null?void 0:i.type)==="edit")t(e.map(Ne=>Ne.id===o?Ce:Ne));else{if(e.find(Ne=>Ne.id===Ce.id)){ce("Элемент с данным кодом уже существует"),s();return}t([...e,Ce])}ce(""),n()},ve=(i==null?void 0:i.type)==="view",qe=(i==null?void 0:i.type)==="view"?"Просмотреть заклинание":(i==null?void 0:i.type)==="edit"?"Редактировать заклинание":"Новое заклинание";return T.jsxs(Ur,{isOpen:r,toggle:n,size:"xl",children:[T.jsx(Br,{toggle:n,children:qe}),T.jsxs(Hr,{children:[ae&&T.jsxs(na,{color:"danger",children:[T.jsx("strong",{children:"Ошибка:"})," ",ae]}),T.jsxs("div",{className:"row",children:[T.jsx("div",{className:"col-md-6",children:T.jsxs(fe,{children:[T.jsx(he,{for:"id",children:"Код"}),T.jsx(Me,{id:"id",readOnly:ve,value:l,onChange:Ce=>c(Ce.target.value)}),T.jsx(Ct,{children:"Уникальный код эффекта"})]})}),T.jsx("div",{className:"col-md-6",children:T.jsxs(fe,{children:[T.jsx(he,{for:"name",children:"Название"}),T.jsx(Me,{id:"name",readOnly:ve,value:u,onChange:Ce=>f(Ce.target.value)}),T.jsx(Ct,{children:"Текст, выводимый при экипировке руны/свитка"})]})})]}),T.jsx("div",{className:"row",children:T.jsx("div",{className:"col-md-6",children:T.jsxs(fe,{children:[T.jsx(he,{for:"fxAniLetters",children:"FX Anim letters"}),T.jsx(Me,{id:"fxAniLetters",readOnly:ve,value:g,onChange:Ce=>v(Ce.target.value)}),T.jsx(Ct,{children:"(Необходимо уточнение)"})]})})}),T.jsxs("div",{className:"row",children:[T.jsx("div",{className:"col-md-4",children:T.jsxs(fe,{children:[T.jsx(he,{for:"manaCost",children:"Необходимо маны"}),T.jsx(Me,{type:"number",id:"manaCost",readOnly:ve,value:p,onChange:Ce=>y(Number(Ce.target.value)),onWheel:Rt})]})}),T.jsx("div",{className:"col-md-4",children:T.jsxs(fe,{children:[T.jsx(he,{for:"duration",children:"Длительность в секундах (в минутах для рун света)"}),T.jsx(Me,{type:"number",id:"duration",readOnly:ve,value:m,onChange:Ce=>b(Number(Ce.target.value)),onWheel:Rt})]})}),T.jsx("div",{className:"col-md-4",children:T.jsxs(fe,{children:[T.jsx(he,{for:"hpPerCast",children:"Восп. здоровья за каст"}),T.jsx(Me,{type:"number",id:"hpPerCast",readOnly:ve,value:x,onChange:Ce=>P(Number(Ce.target.value)),onWheel:Rt})]})}),T.jsx("div",{className:"col-md-4",children:T.jsxs(fe,{children:[T.jsx(he,{for:"metaIsChargeable",children:"Заряжаемое заклинание"}),T.jsxs(fe,{check:!0,children:[T.jsx(Me,{id:"metaIsChargeable",type:"checkbox",disabled:ve,checked:z,onChange:Ce=>q(Ce.target.checked)}),T.jsx(he,{check:!0,for:"metaIsChargeable",className:"user-select-none",children:"Заряжаемое заклинание"})]})]})})]}),T.jsxs(Pr,{className:"mb-3",children:[T.jsx(Mr,{children:"Призыв"}),T.jsx(_r,{children:T.jsxs("div",{className:"row",children:[T.jsx("div",{className:"col-md-4",children:T.jsxs(fe,{children:[T.jsx(he,{for:"metaSummonInstance",children:"Инстанс моба для призыва"}),T.jsx(Me,{id:"metaSummonInstance",readOnly:ve,value:He,onChange:Ce=>it(Ce.target.value)})]})}),T.jsx("div",{className:"col-md-4",children:T.jsxs(fe,{children:[T.jsx(he,{for:"metaSummonCount",children:"Кол-во мобов для призыва"}),T.jsx(Me,{id:"metaSummonCount",type:"number",readOnly:ve,value:Qe,onChange:Ce=>rt(Number(Ce.target.value)),onWheel:Rt})]})}),T.jsx("div",{className:"col-md-4",children:T.jsxs(fe,{children:[T.jsx(he,{for:"metaSummonRange",children:"Радиус призыва"}),T.jsx(Me,{id:"metaSummonRange",type:"number",readOnly:ve,value:Pe,onChange:Ce=>Ie(Number(Ce.target.value)),onWheel:Rt})]})})]})})]}),T.jsxs(Pr,{className:"mb-3",children:[T.jsx(Mr,{children:"Телепорт"}),T.jsx(_r,{children:T.jsxs("div",{className:"row",children:[T.jsx("div",{className:"col-md-12",children:T.jsxs(fe,{children:[T.jsx(he,{for:"metaTeleportWorld",children:"Мир, в который телепортирует руна"}),T.jsx(Me,{id:"metaTeleportWorld",readOnly:ve,value:re,onChange:Ce=>ne(Ce.target.value)})]})}),T.jsx("div",{className:"col-md-3",children:T.jsxs(fe,{children:[T.jsx(he,{for:"metaTeleportPointX",children:"X"}),T.jsx(Me,{type:"number",id:"metaTeleportPointX",readOnly:ve,value:ue,onChange:Ce=>de(Number(Ce.target.value)),onWheel:Rt})]})}),T.jsx("div",{className:"col-md-3",children:T.jsxs(fe,{children:[T.jsx(he,{for:"metaTeleportPointY",children:"Y"}),T.jsx(Me,{type:"number",id:"metaTeleportPointY",readOnly:ve,value:ge,onChange:Ce=>we(Number(Ce.target.value)),onWheel:Rt})]})}),T.jsx("div",{className:"col-md-3",children:T.jsxs(fe,{children:[T.jsx(he,{for:"setMetaTeleportPointZ",children:"Z"}),T.jsx(Me,{type:"number",id:"setMetaTeleportPointZ",readOnly:ve,value:xe,onChange:Ce=>Fe(Number(Ce.target.value)),onWheel:Rt})]})}),T.jsx("div",{className:"col-md-3",children:T.jsxs(fe,{children:[T.jsx(he,{for:"metaTeleportPointA",children:"A"}),T.jsx(Me,{type:"number",id:"metaTeleportPointA",readOnly:ve,value:De,onChange:Ce=>Le(Number(Ce.target.value)),onWheel:Rt})]})})]})})]}),T.jsxs(fe,{children:[T.jsx(he,{for:"metaZsMagic",children:"ZS Magic Code"}),T.jsx(Me,{id:"metaZsMagic",type:"textarea",readOnly:ve,value:J,onChange:Ce=>X(Ce.target.value)}),T.jsx(Ct,{children:"Код уникальной логики для заклинаний (сон, надувание и тд.)"})]}),T.jsxs(fe,{children:[T.jsx(he,{for:"metaCanCollideWith",children:"Can NPC Collide With Spell"}),T.jsx(Me,{id:"metaCanCollideWith",type:"textarea",readOnly:ve,value:se,onChange:Ce=>Q(Ce.target.value)}),T.jsx(Ct,{children:"Код описывающий то, как заклинание взаимодействует с NPC"})]}),T.jsxs(fe,{children:[T.jsx(he,{for:"metaVisualFx",children:"Visual FX Code"}),T.jsx(Me,{id:"metaVisualFx",type:"textarea",readOnly:ve,value:Z,onChange:Ce=>ie(Ce.target.value)})]}),T.jsxs(Pr,{children:[T.jsx(Mr,{children:"Spell instance"}),T.jsxs(_r,{children:[T.jsxs(fe,{children:[T.jsx(he,{for:"timePerMana",children:"time_per_mana"}),T.jsx(Me,{type:"number",id:"timePerMana",readOnly:ve,value:F,onChange:Ce=>D(Number(Ce.target.value)),onWheel:Rt})]}),T.jsxs(fe,{children:[T.jsx(he,{for:"damagePerLevel",children:"Урон (за уровень)"}),T.jsx(Me,{type:"number",id:"damagePerLevel",readOnly:ve,value:O,onChange:Ce=>j(Number(Ce.target.value)),onWheel:Rt})]}),T.jsxs(fe,{children:[T.jsx(he,{for:"damageType",children:"Тип урона"}),T.jsxs(Me,{id:"damageType",disabled:ve,type:"select",value:H,onChange:Ce=>W(Number(Ce.target.value)),children:[T.jsx("option",{value:"",disabled:!0,children:"Выберите тип урона"}),Object.keys(Js).map(Ce=>T.jsx("option",{value:Ce,children:Js[Number(Ce)]},Ce))]})]}),T.jsxs(fe,{children:[T.jsx(he,{for:"spellType",children:"Тип заклинания"}),T.jsxs(Me,{id:"spellType",disabled:ve,type:"select",value:G,onChange:Ce=>M(Number(Ce.target.value)),children:[T.jsx("option",{value:"",disabled:!0,children:"Выберите тип заклинания"}),Object.keys(ud).map(Ce=>T.jsx("option",{value:ud[Ce],children:Ce},Ce))]}),T.jsx(Ct,{children:"То, как NPC реагируют на каст заклинания"})]}),T.jsxs(fe,{check:!0,children:[T.jsx(Me,{id:"canTurnDuringInvest",readOnly:ve,disabled:ve,type:"checkbox",checked:k,onChange:Ce=>E(Ce.target.checked)}),T.jsx(he,{check:!0,for:"canTurnDuringInvest",className:"user-select-none",children:"canTurnDuringInvest"})]}),T.jsxs(fe,{check:!0,children:[T.jsx(Me,{id:"canChangeTargetDuringInvest",readOnly:ve,disabled:ve,type:"checkbox",checked:w,onChange:Ce=>C(Ce.target.checked)}),T.jsx(he,{check:!0,for:"canChangeTargetDuringInvest",className:"user-select-none",children:"canChangeTargetDuringInvest"})]}),T.jsxs(fe,{children:[T.jsx(he,{for:"targetcollectalgo",children:"targetcollectalgo"}),T.jsxs(Me,{id:"targetcollectalgo",disabled:ve,type:"select",value:_,onChange:Ce=>N(Number(Ce.target.value)),children:[T.jsx("option",{value:"",disabled:!0,children:"Выберите targetcollectalgo"}),Object.keys(dd).map(Ce=>T.jsx("option",{value:dd[Ce],children:Ce},Ce))]})]}),T.jsxs(fe,{children:[T.jsx(he,{for:"targetcollecttype",children:"targetcollecttype"}),T.jsxs(Me,{id:"targetcollecttype",disabled:ve,type:"select",value:B,onChange:Ce=>V(Number(Ce.target.value)),children:[T.jsx("option",{value:"",disabled:!0,children:"Выберите targetcollecttype"}),Object.keys(hd).map(Ce=>T.jsx("option",{value:hd[Ce],children:Ce},Ce))]})]}),T.jsxs("div",{className:"row",children:[T.jsx("div",{className:"col-md-4",children:T.jsxs(fe,{children:[T.jsx(he,{for:"targetCollectRange",children:"targetCollectRange"}),T.jsx(Me,{type:"number",id:"targetCollectRange",readOnly:ve,value:$,onChange:Ce=>Y(Number(Ce.target.value)),onWheel:Rt}),T.jsxs(Ct,{children:["Макс. расстояние в миллиметрах до цели фокуса (",$/1e3," метров)"]})]})}),T.jsx("div",{className:"col-md-4",children:T.jsxs(fe,{children:[T.jsx(he,{for:"targetCollectAzi",children:"targetCollectAzi"}),T.jsx(Me,{type:"number",id:"targetCollectAzi",readOnly:ve,value:L,onChange:Ce=>K(Number(Ce.target.value)),onWheel:Rt})]})}),T.jsx("div",{className:"col-md-4",children:T.jsxs(fe,{children:[T.jsx(he,{for:"targetCollectElev",children:"targetCollectElev"}),T.jsx(Me,{type:"number",id:"targetCollectElev",readOnly:ve,value:I,onChange:Ce=>A(Number(Ce.target.value)),onWheel:Rt})]})})]})]})]})]}),T.jsxs(Gr,{children:[!ve&&T.jsx(zt,{color:"primary",onClick:be,children:(i==null?void 0:i.type)==="edit"?"Изменить":"Добавить"}),T.jsx(zt,{color:"secondary",onClick:n,children:"Отмена"})]})]})},o$=e=>{const t=[...e.matchAll(/func void zs_(.+)_end/g)];return t.length>0?t[0][1]:"error"},a$=e=>{const t=`const int MAX_SPELL = ${e.length};

`+e.map(({id:u},f)=>`const int SPL_${u} = ${f};`).join(`
`)+`

`+e.map(({id:u,hpPerCast:f})=>`const int SPL_HEAL_${u} = ${f};`).join(`
`)+`

`+e.map(({id:u,damagePerLevel:f})=>`const int SPL_DAMAGE_${u} = ${f};`).join(`
`)+`

`+e.map(({id:u,manaCost:f})=>`const int SPL_COST_${u} = ${f};`).join(`
`)+`

`+e.map(({id:u,duration:f})=>`const int SPL_DURATION_${u} = ${f};`).join(`
`)+`

const string SPELLFXINSTANCENAMES[${e.length}] = 
{
`+e.map(({id:u})=>`	"${u.replace(/_/g,"")}"`).join(`,
`)+`
};

const string SPELLFXANILETTERS[${e.length}] = 
{
`+e.map(({fxAniLetters:u})=>`	"${u}"`).join(`,
`)+`
};

`,r=""+e.map(({id:u,name:f})=>`const string NAME_SPL_${u} = "${f}";`).join(`
`)+`

const string TXT_SPELLS[${e.length}] = 
{
`+e.map(({name:u})=>`	"${u}"`).join(`,
`)+`
};

`,n=`func int spell_processmana(var int manainvested)
{
	var int activespell;
	activespell = Npc_GetActiveSpell(self);
${e.map(({id:u})=>u.includes("RESERVED")?`/*	if(activespell == SPL_${u})
	{
		return spell_logic_${u.toLowerCase()}(manainvested);
	};*/`:`	if(activespell == SPL_${u})
	{
		return spell_logic_${u.toLowerCase()}(manainvested);
	};`).join(`
`)}

	return FALSE;
};

`,i=`func int spell_processmana_release(var int manainvested)
{
	var int activespell;
	activespell = Npc_GetActiveSpell(self);
${e.filter(u=>u.metaIsChargeable).map(({id:u})=>`	if(activespell == SPL_${u})
	{
		return SPL_SENDCAST;
	};`).join(`
`)}

	return SPL_SENDSTOP;
};

`,s=`func void b_assessmagic()
{
	if(Npc_GetLastHitSpellCat(self) == SPELL_BAD)
	{
		Npc_SendPassivePerc(self,PERC_ASSESSFIGHTSOUND,self,other);
	};
${e.filter(({metaZsMagic:u})=>!!u).map(({id:u,metaZsMagic:f})=>`	if(Npc_GetLastHitSpellID(self) == SPL_${u})
	{
		Npc_ClearAIQueue(self);
		b_clearperceptions(self);
		AI_StartState(self,zs_${o$(f)},0,"");
		return;
	};`).join(`
`)}
};

const func PLAYER_PERC_ASSESSMAGIC = B_ASSESSMAGIC;

`,o=""+e.filter(({metaZsMagic:u})=>!!u).map(({id:u,metaZsMagic:f})=>`// ${u}
${f}`).join(`
`)+`

`,a=""+e.map(u=>`// ${u.id}
instance SPELL_${u.id.replace(/_/g,"")}(C_SPELL_PROTO)
{
	time_per_mana = ${u.timePerMana};
	damage_per_level = SPL_DAMAGE_${u.id};
	damagetype = ${u.damageType};
	spelltype = ${u.spellType};
	canturnduringinvest = ${u.canTurnDuringInvest===!0?1:0};
	canchangetargetduringinvest = ${u.canChangeTargetDuringInvest===!0?1:0};
	ismultieffect = ${u.isMultiEffect===!0?1:0};
	targetcollectalgo = ${u.targetCollectAlgo};
	targetcollecttype = ${u.targetCollectType};
	targetcollectrange = ${u.targetCollectRange};
	targetcollectazi = ${u.targetCollectAzi};
	targetcollectelev = ${u.targetCollectElev};
};

${u.metaIsChargeable?`func int spell_logic_${u.id.toLowerCase()}(var int manainvested)
{
	if(self.attribute[ATR_MANA] < SPL_COST_${u.id})
	{
		return SPL_DONTINVEST;
	};
	if(manainvested <= (SPL_COST_${u.id} * 1))
	{
		self.aivar[AIV_SPELLLEVEL] = 1;
		return SPL_STATUS_CANINVEST_NO_MANADEC;
	}
	else if((manainvested > (SPL_COST_${u.id} * 1)) && (self.aivar[AIV_SPELLLEVEL] <= 1))
	{
		self.attribute[ATR_MANA] -= SPL_COST_${u.id};
		if(self.attribute[ATR_MANA] < 0)
		{
			self.attribute[ATR_MANA] = 0;
		};
		self.aivar[AIV_SPELLLEVEL] = 2;
		return SPL_NEXTLEVEL;
	}
	else if((manainvested > (SPL_COST_${u.id} * 2)) && (self.aivar[AIV_SPELLLEVEL] <= 2))
	{
		self.attribute[ATR_MANA] -= SPL_COST_${u.id};
		if(self.attribute[ATR_MANA] < 0)
		{
			self.attribute[ATR_MANA] = 0;
		};
		self.aivar[AIV_SPELLLEVEL] = 3;
		return SPL_NEXTLEVEL;
	}
	else if((manainvested > (SPL_COST_${u.id} * 3)) && (self.aivar[AIV_SPELLLEVEL] <= 3))
	{
		self.attribute[ATR_MANA] -= SPL_COST_${u.id};
		if(self.attribute[ATR_MANA] < 0)
		{
			self.attribute[ATR_MANA] = 0;
		};
		self.aivar[AIV_SPELLLEVEL] = 4;
		return SPL_NEXTLEVEL;
	}
	else if((manainvested > (SPL_COST_${u.id} * 3)) && (self.aivar[AIV_SPELLLEVEL] == 4))
	{
		return SPL_DONTINVEST;
	};
	return SPL_STATUS_CANINVEST_NO_MANADEC;
};`:`func int spell_logic_${u.id.toLowerCase()}(var int manainvested)
{
	if(Npc_GetActiveSpellIsScroll(self) && (self.attribute[ATR_MANA] >= SPL_COST_SCROLL))
	{
		return SPL_SENDCAST;
	}
	else if(self.attribute[ATR_MANA] >= SPL_COST_${u.id})
	{
		return SPL_SENDCAST;
	}
	else
	{
		return SPL_SENDSTOP;
	};
};`}

${u.metaIsChargeable?`func void spell_cast_${u.id.toLowerCase()}(var int spelllevel)
{
	self.attribute[ATR_MANA] -= SPL_COST_${u.id};
	if(self.attribute[ATR_MANA] < 0)
	{
		self.attribute[ATR_MANA] = 0;
	};
	self.aivar[AIV_SELECTSPELL] += 1;
};`:`func void spell_cast_${u.id.toLowerCase()}(var int spelllevel)
{
};`}

`).join(`

`),l=""+e.filter(({metaVisualFx:u})=>!!u).map(u=>`// ${u.id}
`+u.metaVisualFx.replace(/#ID/g,u.id.replace(/_/g,""))).join(`
`)+`

`,c=`const int COLL_DONOTHING = 0;
const int COLL_DOEVERYTHING = 1;
const int COLL_APPLYDAMAGE = 2;
const int COLL_APPLYHALVEDAMAGE = 4;
const int COLL_APPLYDOUBLEDAMAGE = 8;
const int COLL_APPLYVICTIMSTATE = 16;
const int COLL_DONTKILL = 32;

func int c_cannpccollidewithspell(var int spelltype)
{
${e.filter(({metaCanCollideWith:u})=>!!u).map(u=>`	if(spelltype == SPL_${u.id})
	{
${u.metaCanCollideWith}
	};`).join(`
`)}

return COLL_DOEVERYTHING;
};`;return[t,r,s,n,i,o,c,a,l]},l$=e=>{const t=`function isValidSpell(spellId) {
  return spellId >= 0 && spellId < SPELLS.len()
}

function getSpell(spellId) {
  return isValidSpell(spellId) ? SPELLS[spellId] : null
}

function getSpellDamageType(spellId) {
  return isValidSpell(spellId) ? SPELLS[spellId].damageType : 0
}

function getSpellManaCost(spellId) {
	return isValidSpell(spellId) ? SPELLS[spellId].manaCost : 0
}

function getSpellDuration(spellId) {
	return isValidSpell(spellId) ? SPELLS[spellId].duration : 0
}

function getSpellDamagePerLevel(spellId) {
	return isValidSpell(spellId) ? SPELLS[spellId].damagePerLevel : 0
}

function getSpellMetaHealPerCast(spellId) {
  return isValidSpell(spellId) ? SPELLS[spellId].hpPerCast : 0
}

function getSpellMetaTeleportPosition(spellId) {
  if (!isValidSpell(spellId)) return {
    x = 0,
    y = 0,
    z = 0,
  }

  local spell = SPELLS[spellId]

  return {
    x = spell.metaTeleportPointX,
    y = spell.metaTeleportPointY,
    z = spell.metaTeleportPointZ
  }
}

function getSpellMetaTeleportAngle(spellId) {
  return isValidSpell(spellId) ? SPELLS[spellId].metaTeleportPointA : 0
}

function getSpellMetaTeleportWorld(spellId) {
  return isValidSpell(spellId) ? SPELLS[spellId].metaTeleportWorld : ""
}

function getSpellMetaSummonInstance(spellId) {
  return isValidSpell(spellId) ? SPELLS[spellId].metaSummonInstance : ""
}

function getSpellMetaSummonCount(spell) {
	return isValidSpell(spellId) ? SPELLS[spellId].metaSummonCount : 0
}

function getSpellMetaSummonRange(spell) {
	return isValidSpell(spellId) ? SPELLS[spellId].metaSummonRange : 0
}
`,r=t_(["metaZsMagic","metaVisualFx","metaCanCollideWith"]);return["local SPELLS = "+JSON.stringify(e.map(s=>r(s)),null,2).replace(/"(.+?)": /g,"$1 = ")+`

`+t,""]},c$=({rowData:e})=>{const{isOpen:t,toggle:r}=$r(`${mi}:code`),n=a$(e),i=l$(e),s=U.useCallback(a=>()=>{navigator.clipboard.writeText(n[a]),kt("Скопировано!")},[n]),o=U.useCallback(a=>()=>{navigator.clipboard.writeText(i[a]),kt("Скопировано!")},[i]);return T.jsxs(Ur,{isOpen:t,toggle:r,size:"lg",children:[T.jsx(Br,{toggle:r,children:"Код"}),T.jsxs(Hr,{children:[T.jsxs(fe,{children:[T.jsx(he,{for:"daedalus0",children:"Daedalus (Constants.d)"}),T.jsx(Sr,{id:"daedalus0",className:"mb-2",value:n[0],readOnly:!0,style:{minHeight:300}}),T.jsx(mt,{color:"primary",icon:mr,onClick:s(0),children:"Скопировать"})]}),T.jsxs(fe,{children:[T.jsx(he,{for:"daedalus1",children:"Daedalus (Text.d)"}),T.jsx(Sr,{id:"daedalus1",className:"mb-2",value:n[1],readOnly:!0,style:{minHeight:300}}),T.jsx(mt,{color:"primary",icon:mr,onClick:s(1),children:"Скопировать"})]}),T.jsxs(fe,{children:[T.jsx(he,{for:"daedalus2",children:"Daedalus (b_AssessMagic.d)"}),T.jsx(Sr,{id:"daedalus2",className:"mb-2",value:n[2],readOnly:!0,style:{minHeight:300}}),T.jsx(mt,{color:"primary",icon:mr,onClick:s(2),children:"Скопировать"})]}),T.jsxs(fe,{children:[T.jsx(he,{for:"daedalus3",children:"Daedalus (spell_processmana.d)"}),T.jsx(Sr,{id:"daedalus3",className:"mb-2",value:n[3],readOnly:!0,style:{minHeight:300}}),T.jsx(mt,{color:"primary",icon:mr,onClick:s(3),children:"Скопировать"})]}),T.jsxs(fe,{children:[T.jsx(he,{for:"daedalus4",children:"Daedalus (spell_processmana_release.d)"}),T.jsx(Sr,{id:"daedalus4",className:"mb-2",value:n[4],readOnly:!0,style:{minHeight:300}}),T.jsx(mt,{color:"primary",icon:mr,onClick:s(4),children:"Скопировать"})]}),T.jsxs(fe,{children:[T.jsx(he,{for:"daedalus5",children:"Daedalus (ZS_Magic.d)"}),T.jsx(Sr,{id:"daedalus5",className:"mb-2",value:n[5],readOnly:!0,style:{minHeight:300}}),T.jsx(mt,{color:"primary",icon:mr,onClick:s(5),children:"Скопировать"})]}),T.jsxs(fe,{children:[T.jsx(he,{for:"daedalus6",children:"Daedalus (C_CanNpcCollideWithSpell.d)"}),T.jsx(Sr,{id:"daedalus6",className:"mb-2",value:n[6],readOnly:!0,style:{minHeight:300}}),T.jsx(mt,{color:"primary",icon:mr,onClick:s(6),children:"Скопировать"})]}),T.jsxs(fe,{children:[T.jsx(he,{for:"daedalus7",children:"Daedalus (Spell_Logic.d)"}),T.jsx(Sr,{id:"daedalus7",className:"mb-2",value:n[7],readOnly:!0,style:{minHeight:300}}),T.jsx(mt,{color:"primary",icon:mr,onClick:s(7),children:"Скопировать"})]}),T.jsxs(fe,{children:[T.jsx(he,{for:"daedalus8",children:"Daedalus (Visual FX)"}),T.jsx(Sr,{id:"daedalus8",className:"mb-2",value:n[8],readOnly:!0,style:{minHeight:300}}),T.jsx(mt,{color:"primary",icon:mr,onClick:s(8),children:"Скопировать"})]}),T.jsxs(fe,{children:[T.jsx(he,{for:"squirrel0",children:"Squirrel (Spells)"}),T.jsx(Sr,{id:"squirrel0",className:"mb-2",value:i[0],readOnly:!0,style:{minHeight:300}}),T.jsx(mt,{color:"primary",icon:mr,onClick:o(0),children:"Скопировать"})]})]}),T.jsx(Gr,{children:T.jsx(zt,{color:"secondary",onClick:r,children:"Закрыть"})})]})},mi="spells",u$=Ol(mi),d$=Dl(mi),h$=Il(mi),f$=e=>e.data.id,p$=[{headerName:"",field:"drag",rowDrag:e=>e.node.rowIndex?e.node.rowIndex>100:!1,width:50,cellClass:"px-3",suppressMovable:!0},{headerName:"ИД",field:"idx",width:80,sortable:!0,filter:!0,resizable:!0,valueFormatter:e=>{var t;return((t=e.node)==null?void 0:t.rowIndex)+""||""}},{headerName:"Код",field:"id",sortable:!0,filter:!0,resizable:!0},{headerName:"Название",field:"name",sortable:!0,resizable:!0},{headerName:"FX Instance name",field:"fxInstanceName",sortable:!0,resizable:!0},{headerName:"FX Ani Letters",field:"fxAniLetters",sortable:!0,resizable:!0},{headerName:"",field:"dummy",flex:1,suppressMovable:!0},{headerName:"Действия",field:"actions",equals:(e,t)=>e!=t,width:140,suppressMovable:!0,cellRenderer:u$,cellRendererParams:{isEditorMode:!0}}],g$=()=>{const[e,t]=U.useState(""),[r,n]=U.useState(JSON.parse(localStorage.getItem(mi)||"[]")),{openModal:i}=lo(),s=U.useCallback(()=>{r.length>0&&localStorage.setItem(mi,JSON.stringify(r))},[r]);Fl(s);const o=h=>{t(h.target.value)},a=()=>{i(`${mi}:edit`,{type:"add"})},l=()=>{i(`${mi}:remove-all`)},c=h=>{n(h.api.rowModel.rowsToDisplay.map(g=>g.data))},u=()=>{const h="Заклинания "+new Date().toISOString().replace("T"," ").replace("Z","").replace(/:/g,"-").replace(/\.\d\d\d/,"")+".json";kl(h,JSON.stringify(r))},f=h=>{const g=ri(Xt("id"),r),v=ri(Xt("id"),JSON.parse(h)),p=_l({...g,...v});localStorage.setItem(mi,JSON.stringify(p)),n(p)},d=()=>{i(`${mi}:code`)};return ju(),T.jsxs(sa,{children:[T.jsx("div",{className:"h-100 d-flex flex-column",children:T.jsxs("div",{className:"flex-grow-1 d-flex flex-column",children:[T.jsxs("div",{className:"d-flex flex-wrap align-items-center mb-3 gap-2",children:[T.jsx(wt,{onChange:o,placeholder:"Найти",className:"w-auto"}),T.jsx(mt,{className:"flex-shrink-0",color:"success",onClick:a,icon:ms,children:"Добавить"}),T.jsx(mt,{disabled:!r.length,className:"flex-shrink-0",color:"danger",onClick:l,icon:Wi,children:"Удалить все"}),T.jsx(ia,{accept:"application/json",className:"flex-shrink-0",color:"primary",onFileUpload:f,icon:ta,children:"Импортировать"}),T.jsx(mt,{disabled:!r.length,className:"flex-shrink-0",color:"primary",onClick:u,icon:Pl,children:"Экспортировать"}),T.jsx(mt,{disabled:!r.length,className:"flex-shrink-0",color:"primary",onClick:d,icon:ra,children:"Код для вставки"})]}),T.jsx("div",{className:"flex-grow-1",children:T.jsx(Gl,{columnDefs:p$,rowData:r,quickFilterText:e,onRowDragMove:c,overlayNoRowsTemplate:"Список элементов пуст",getRowId:f$,localeText:Ml,rowDragManaged:!0,animateRows:!0})})]})}),T.jsx(s$,{rowData:r,setRowData:n}),T.jsx(h$,{rowData:r,setRowData:n}),T.jsx(d$,{setRowData:n}),T.jsx(c$,{rowData:r})]})},m$=({rowData:e,setRowData:t})=>{const{isOpen:r,toggle:n,params:i,scrollTop:s}=$r(`${vi}:edit`),[o,a]=U.useState(""),[l,c]=U.useState(""),[u,f]=U.useState(""),[d,h]=U.useState(40),[g,v]=U.useState(10),[p,y]=U.useState(10),[m,b]=U.useState(10),[x,P]=U.useState(ct.EDGE),[F,D]=U.useState([0,0,0,0,0,0,0,0]),[O,j]=U.useState(""),[H,W]=U.useState(""),[G,M]=U.useState(0),[k,E]=U.useState(""),[w,C]=U.useState(0),[S,R]=U.useState(0),[_,N]=U.useState(0),[B]=U.useState(0),[V]=U.useState(0);U.useEffect(()=>{var A,z,q,J,X,Z,ie,se,Q,re,ne,ue,de,ge,we,xe;c(((A=i==null?void 0:i.data)==null?void 0:A.id)??""),f(((z=i==null?void 0:i.data)==null?void 0:z.name)??""),h(((q=i==null?void 0:i.data)==null?void 0:q.maxHp)||40),v(((J=i==null?void 0:i.data)==null?void 0:J.maxMana)||10),y(((X=i==null?void 0:i.data)==null?void 0:X.str)||10),b(((Z=i==null?void 0:i.data)==null?void 0:Z.dex)||10),P(((ie=i==null?void 0:i.data)==null?void 0:ie.damageType)||ct.EDGE),D(((se=i==null?void 0:i.data)==null?void 0:se.protection)||[0,0,0,0,0,0,0,0]),j(((Q=i==null?void 0:i.data)==null?void 0:Q.mds)||""),W(((re=i==null?void 0:i.data)==null?void 0:re.bodyModel)||""),M(((ne=i==null?void 0:i.data)==null?void 0:ne.bodyTex)||0),E(((ue=i==null?void 0:i.data)==null?void 0:ue.headModel)||""),C(((de=i==null?void 0:i.data)==null?void 0:de.headTex)||0),R(((ge=i==null?void 0:i.data)==null?void 0:ge.toothTex)||0),N(((we=i==null?void 0:i.data)==null?void 0:we.flags)||0),a(((xe=i==null?void 0:i.data)==null?void 0:xe.id)??"")},[i]);const[$,Y]=U.useState(""),L=()=>{const A={id:l.toUpperCase(),name:u,maxHp:d,maxMana:g,str:p,dex:m,damageType:x,protection:F,mds:O.toUpperCase(),bodyModel:H.toUpperCase(),bodyTex:G,headTex:w,headModel:k.toUpperCase(),toothTex:S,flags:_,level:B,guild:V};if(!l.length){Y("Код эффекта не может быть пустым"),s();return}if(O&&!/.+\.(?:MDS)$/g.test(O.toUpperCase())){Y("Данный параметр должен иметь расширение .MDS"),s();return}if((i==null?void 0:i.type)==="edit")t(e.map(z=>z.id===o?A:z));else{if(e.find(z=>z.id===A.id)){Y("Элемент с данным кодом уже существует"),s();return}t([...e,A])}Y(""),n()},K=(i==null?void 0:i.type)==="view",I=(i==null?void 0:i.type)==="view"?"Просмотреть":(i==null?void 0:i.type)==="edit"?"Редактировать":"Создать";return T.jsxs(Ur,{isOpen:r,toggle:n,size:"xl",children:[T.jsx(Br,{toggle:n,children:I}),T.jsxs(Hr,{children:[$&&T.jsxs(na,{color:"danger",children:[T.jsx("strong",{children:"Ошибка:"})," ",$]}),T.jsxs("div",{className:"row",children:[T.jsx("div",{className:"col-md-6",children:T.jsxs(fe,{children:[T.jsx(he,{for:"id",children:"Код"}),T.jsx(Me,{id:"id",readOnly:K,value:l,onChange:A=>c(A.target.value)}),T.jsx(Ct,{children:"Уникальный код инстанса"})]})}),T.jsx("div",{className:"col-md-6",children:T.jsxs(fe,{children:[T.jsx(he,{for:"name",children:"Название"}),T.jsx(Me,{id:"name",readOnly:K,value:u,onChange:A=>f(A.target.value)}),T.jsx(Ct,{children:"Название, выводимое в игре при фокусе"})]})})]}),T.jsxs("div",{className:"row",children:[T.jsx("div",{className:"col-md-3",children:T.jsxs(fe,{children:[T.jsx(he,{for:"maxHp",children:"Жизнь"}),T.jsx(Me,{id:"maxHp",readOnly:K,value:d,onChange:A=>h(Ki(A.target.value))})]})}),T.jsx("div",{className:"col-md-3",children:T.jsxs(fe,{children:[T.jsx(he,{for:"maxMana",children:"Мана"}),T.jsx(Me,{id:"maxMana",readOnly:K,value:g,onChange:A=>v(Ki(A.target.value))})]})}),T.jsx("div",{className:"col-md-3",children:T.jsxs(fe,{children:[T.jsx(he,{for:"str",children:"Сила"}),T.jsx(Me,{id:"str",readOnly:K,value:p,onChange:A=>y(Ki(A.target.value))})]})}),T.jsx("div",{className:"col-md-3",children:T.jsxs(fe,{children:[T.jsx(he,{for:"dex",children:"Ловкость"}),T.jsx(Me,{id:"dex",readOnly:K,value:m,onChange:A=>b(Ki(A.target.value))})]})})]}),T.jsx("div",{className:"row",children:[jt.EDGE,jt.BLUNT,jt.POINT,jt.FIRE,jt.FLY,jt.MAGIC].map(A=>T.jsx("div",{className:"col-md-4",children:T.jsxs(fe,{children:[T.jsx(he,{for:`prot${A}`,children:px[A]}),T.jsx(Me,{id:`prot${A}`,readOnly:K,value:F[A],onChange:z=>{const q=[...F];q[A]=Ki(z.target.value),D(q)}})]})},A))}),T.jsxs("div",{className:"row",children:[T.jsx("div",{className:"col-md-12",children:T.jsxs(fe,{children:[T.jsx(he,{for:"mds",children:"MDS"}),T.jsx(Me,{id:"mds",readOnly:K,value:O,onChange:A=>j(A.target.value)})]})}),T.jsx("div",{className:"col-md-3",children:T.jsxs(fe,{children:[T.jsx(he,{for:"bodyModel",children:"Модель тела"}),T.jsx(Me,{id:"bodyModel",readOnly:K,value:H,onChange:A=>W(A.target.value)})]})}),T.jsx("div",{className:"col-md-3",children:T.jsxs(fe,{children:[T.jsx(he,{for:"bodyTex",children:"Текстура тела"}),T.jsx(Me,{id:"bodyTex",readOnly:K,value:G,onChange:A=>M(Ki(A.target.value))})]})}),T.jsx("div",{className:"col-md-3",children:T.jsxs(fe,{children:[T.jsx(he,{for:"headModel",children:"Модель головы"}),T.jsx(Me,{id:"headModel",readOnly:K,value:k,onChange:A=>E(A.target.value)})]})}),T.jsx("div",{className:"col-md-3",children:T.jsxs(fe,{children:[T.jsx(he,{for:"headTex",children:"Текстура головы"}),T.jsx(Me,{id:"headTex",readOnly:K,value:w,onChange:A=>C(Ki(A.target.value))})]})}),T.jsx("div",{className:"col-md-3",children:T.jsxs(fe,{children:[T.jsx(he,{for:"toothTex",children:"Текстура зубов"}),T.jsx(Me,{id:"toothTex",readOnly:K,value:S,onChange:A=>R(Ki(A.target.value))})]})})]}),T.jsxs(fe,{children:[T.jsx(he,{for:"flags",children:"Флаги"}),T.jsx(X0,{id:"flags",value:_,placeholder:"Нет",onChange:N,options:Object.keys(R1).map(A=>({value:Number(A),displayValue:R1[Number(A)]})),disabled:K})]})]}),T.jsxs(Gr,{children:[!K&&T.jsx(zt,{color:"primary",onClick:L,children:(i==null?void 0:i.type)==="edit"?"Изменить":"Добавить"}),T.jsx(zt,{color:"secondary",onClick:n,children:"Отмена"})]})]})},v$=e=>""+e.map(r=>`instance ${r.id.toUpperCase()}(C_NPC)
{
	name[0] = "${r.name}";
	attribute[ATR_STRENGTH] = ${r.str};
	attribute[ATR_DEXTERITY] = ${r.dex};
	attribute[ATR_HITPOINTS_MAX] = ${r.maxHp};
	attribute[ATR_HITPOINTS] = ${r.maxHp};
	attribute[ATR_MANA_MAX] = ${r.maxMana};
	attribute[ATR_MANA] = ${r.maxMana};
	protection[PROT_BLUNT] = ${r.protection[jt.BLUNT]};
	protection[PROT_EDGE] = ${r.protection[jt.EDGE]};
	protection[PROT_POINT] = ${r.protection[jt.POINT]};
	protection[PROT_FIRE] = ${r.protection[jt.FIRE]};
	protection[PROT_FLY] = ${r.protection[jt.FLY]};
	protection[PROT_MAGIC] = ${r.protection[jt.MAGIC]};
	damagetype = ${r.damageType};

	Mdl_SetVisual(self,"${r.mds.toUpperCase()}");
	Mdl_SetVisualBody(self,"${r.bodyModel.toUpperCase()}",${r.bodyTex},0,"${r.headModel.toUpperCase()}",${r.headTex},${r.toothTex},NO_ARMOR);
};
`).join(`
`),y$=e=>"MOB_INSTANCES <- "+JSON.stringify(e,null,2).replace(/"(.+?)": /g,"$1 = ")+`

`,b$=({rowData:e})=>{const{isOpen:t,toggle:r}=$r(`${vi}:code`),n=v$(e),i=y$(e),s=U.useCallback(()=>{navigator.clipboard.writeText(n),kt("Скопировано!")},[n]),o=U.useCallback(()=>{navigator.clipboard.writeText(i),kt("Скопировано!")},[i]);return T.jsxs(Ur,{isOpen:t,toggle:r,size:"lg",children:[T.jsx(Br,{toggle:r,children:"Код"}),T.jsxs(Hr,{children:[T.jsxs(fe,{children:[T.jsx(he,{for:"daedalus",children:"Daedalus"}),T.jsx(Sr,{id:"daedalus",className:"mb-2",value:n,readOnly:!0,style:{minHeight:300}}),T.jsx(mt,{color:"primary",icon:mr,onClick:s,children:"Скопировать"})]}),T.jsxs(fe,{children:[T.jsx(he,{for:"squirrel",children:"Squirrel"}),T.jsx(Sr,{id:"squirrel",className:"mb-2",value:i,readOnly:!0,style:{minHeight:300}}),T.jsx(mt,{color:"primary",icon:mr,onClick:o,children:"Скопировать"})]})]}),T.jsx(Gr,{children:T.jsx(zt,{color:"secondary",onClick:r,children:"Закрыть"})})]})},vi="mobs",w$=Ol(vi),C$=Dl(vi),S$=Il(vi),x$=e=>e.data.id,R$=[{headerName:"",field:"drag",rowDrag:!0,width:50,cellClass:"px-3",suppressMovable:!0},{headerName:"Код",field:"id",sortable:!0,filter:!0,resizable:!0},{headerName:"Название",field:"name",sortable:!0,resizable:!0},{headerName:"",field:"dummy",flex:1,suppressMovable:!0},{headerName:"Действия",field:"actions",equals:(e,t)=>e!=t,width:140,suppressMovable:!0,cellRenderer:w$,cellRendererParams:{isEditorMode:!0}}],E$=()=>{const[e,t]=U.useState(""),[r,n]=U.useState(JSON.parse(localStorage.getItem(vi)||"[]")),{openModal:i}=lo(),s=U.useCallback(()=>{r.length>0&&localStorage.setItem(vi,JSON.stringify(r))},[r]);Fl(s);const o=h=>{t(h.target.value)},a=()=>{i(`${vi}:edit`,{type:"add"})},l=()=>{i(`${vi}:remove-all`)},c=h=>{n(h.api.rowModel.rowsToDisplay.map(g=>g.data))},u=()=>{const h="Мобы "+new Date().toISOString().replace("T"," ").replace("Z","").replace(/:/g,"-").replace(/\.\d\d\d/,"")+".json";kl(h,JSON.stringify(r))},f=h=>{const g=ri(Xt("id"),r),v=ri(Xt("id"),JSON.parse(h)),p=_l({...g,...v});localStorage.setItem(vi,JSON.stringify(p)),n(p)},d=()=>{i(`${vi}:code`)};return ju(),T.jsxs(sa,{children:[T.jsx("div",{className:"h-100 d-flex flex-column",children:T.jsxs("div",{className:"flex-grow-1 d-flex flex-column",children:[T.jsxs("div",{className:"d-flex flex-wrap align-items-center mb-3 gap-2",children:[T.jsx(wt,{onChange:o,placeholder:"Найти",className:"w-auto"}),T.jsx(mt,{className:"flex-shrink-0",color:"success",onClick:a,icon:ms,children:"Добавить"}),T.jsx(mt,{disabled:!r.length,className:"flex-shrink-0",color:"danger",onClick:l,icon:Wi,children:"Удалить все"}),T.jsx(ia,{accept:"application/json",className:"flex-shrink-0",color:"primary",onFileUpload:f,icon:ta,children:"Импортировать"}),T.jsx(mt,{disabled:!r.length,className:"flex-shrink-0",color:"primary",onClick:u,icon:Pl,children:"Экспортировать"}),T.jsx(mt,{disabled:!r.length,className:"flex-shrink-0",color:"primary",onClick:d,icon:ra,children:"Код для вставки"})]}),T.jsx("div",{className:"flex-grow-1",children:T.jsx(Gl,{columnDefs:R$,rowData:r,quickFilterText:e,onRowDragMove:c,overlayNoRowsTemplate:"Список элементов пуст",getRowId:x$,localeText:Ml,rowDragManaged:!0,animateRows:!0})})]})}),T.jsx(m$,{rowData:r,setRowData:n}),T.jsx(S$,{rowData:r,setRowData:n}),T.jsx(C$,{setRowData:n}),T.jsx(b$,{rowData:r})]})},T$=({rowData:e,setRowData:t})=>{const{isOpen:r,toggle:n,params:i,scrollTop:s}=$r(`${yi}:edit`),[o,a]=U.useState(""),[l,c]=U.useState(""),[u,f]=U.useState(""),[d,h]=U.useState("single"),[g,v]=U.useState([]);U.useEffect(()=>{var w,C,S,R,_;c(((w=i==null?void 0:i.data)==null?void 0:w.id)??""),f(((C=i==null?void 0:i.data)==null?void 0:C.name)??""),h(((S=i==null?void 0:i.data)==null?void 0:S.type)??"single"),v(((R=i==null?void 0:i.data)==null?void 0:R.entries)??[]),a(((_=i==null?void 0:i.data)==null?void 0:_.id)??"")},[i]);const[p,y]=U.useState(""),m=()=>{const w={id:l.toUpperCase(),name:u,type:d,entries:g};if(!l.length){y("Код эффекта не может быть пустым"),s();return}if(!u.length){y("Название не может быть пустым"),s();return}if(!g.length){y("Таблица должна содержать в себе хотя-бы одну запись"),s();return}for(let S=0;S<g.length;++S){if(g[S][1]===""){y("Один из элементов не задан"),s();return}if(g[S][2]===0){y("Шанс не может быть нулевым"),s();return}if(!w_(g[S][2])){y("Шанс должен являтся числом"),s();return}g[S][2]=Number(g[S][2])}const C=b1(g.map(S=>S[2]));if(Number(C.toFixed(4))!=100){y("Сумма всех шансов должна быть равной 100%"),s();return}if((i==null?void 0:i.type)==="edit")t(e.map(S=>S.id===o?w:S));else{if(e.find(S=>S.id===w.id)){y("Элемент с данным кодом уже существует"),s();return}t([...e,w])}y(""),n()},b=(i==null?void 0:i.type)==="view",x=(i==null?void 0:i.type)==="view"?"Просмотреть":(i==null?void 0:i.type)==="edit"?"Редактировать":"Создать",P=()=>{v([...g,[0,"",0]])},F=()=>{v(s_((w,C)=>C[2]-w[2],g))},D=w=>()=>{v(g.filter((C,S)=>S!=w))},O=w=>()=>{if(w<g.length-1){const C=[...g],S=C[w];C[w]=C[w+1],C[w+1]=S,v(C)}},j=w=>()=>{if(w>0){const C=[...g],S=C[w];C[w]=C[w-1],C[w-1]=S,v(C)}},H=w=>C=>{const S=[...g];S[w][0]=Ki(C.target.value),S[w][1]="",v(S)},W=w=>C=>{const S=[...g];S[w][1]=C,v(S)},G=w=>C=>{const S=[...g];S[w][2]=C.target.value,v(S)},M=Iy("items"),k=U.useMemo(()=>[{value:"NOTHING",displayValue:"Ничего"},...M.filter(w=>!w.id.includes("ITFS_")).map(w=>({value:w.id,displayValue:`${w.name||""} (${w.id})`}))],[M]),E=U.useMemo(()=>e.map(w=>({value:w.id,displayValue:w.name})).filter(w=>w.value!=l),[e,l]);return T.jsxs(Ur,{isOpen:r,toggle:n,size:"xl",children:[T.jsx(Br,{toggle:n,children:x}),T.jsxs(Hr,{children:[p&&T.jsxs(na,{color:"danger",children:[T.jsx("strong",{children:"Ошибка:"})," ",p]}),T.jsxs("div",{className:"row",children:[T.jsx("div",{className:"col-md-4",children:T.jsxs(fe,{children:[T.jsx(he,{for:"id",children:"Код"}),T.jsx(Me,{id:"id",readOnly:b,value:l,onChange:w=>c(w.target.value)}),T.jsx(Ct,{children:"Уникальный код"})]})}),T.jsx("div",{className:"col-md-4",children:T.jsxs(fe,{children:[T.jsx(he,{for:"name",children:"Название"}),T.jsx(Me,{id:"name",readOnly:b,value:u,onChange:w=>f(w.target.value)}),T.jsx(Ct,{children:"Название, выводимое в редакторе"})]})}),T.jsx("div",{className:"col-md-4",children:T.jsxs(fe,{children:[T.jsx(he,{for:"type",children:"Тип"}),T.jsxs(Me,{type:"select",id:"type",readOnly:b,disabled:b,value:d,onChange:w=>h(w.target.value),children:[T.jsx("option",{value:"single",children:"Единичный"}),T.jsx("option",{value:"multiple",children:"Множественный"})]}),T.jsx(Ct,{children:"Даб да я"})]})})]}),T.jsx("div",{className:"row",children:T.jsx("div",{className:"col-md-12",children:T.jsxs(fe,{children:[T.jsx(he,{for:"type",children:"Содержимое"}),!b&&T.jsxs("div",{className:"d-flex gap-2",children:[T.jsx(zt,{color:"success",style:{width:"1.9375rem"},size:"sm",onClick:P,children:T.jsx(Zt,{icon:ms})}),T.jsx(zt,{color:"primary",style:{width:"1.9375rem"},size:"sm",onClick:F,children:T.jsx(Zt,{icon:FT})})]}),g.length>0&&T.jsxs("div",{className:"row",children:[T.jsx("div",{className:"col-lg-2",children:T.jsx(he,{children:"Тип"})}),T.jsx("div",{className:"col-lg-6",children:T.jsx(he,{children:"Элемент"})}),T.jsx("div",{className:"col-lg-2",children:T.jsx(he,{children:"Шанс выпадения"})}),T.jsx("div",{className:"col-lg-2",children:T.jsx(he,{children:"Действия"})})]}),g.map((w,C)=>T.jsxs("div",{className:"row mb-3",children:[T.jsx("div",{className:"col-lg-2",children:T.jsxs(Me,{type:"select",id:"element.type",readOnly:b,disabled:b,value:w[0],onChange:H(C),children:[T.jsx("option",{value:"0",children:"Предмет"}),T.jsx("option",{value:"1",children:"Таблица"})]})}),T.jsx("div",{className:"col-lg-6",children:T.jsx(Gs,{disabled:b,placeholder:"Выберите элемент",value:w[1],onChange:W(C),options:w[0]==0?k:E})}),T.jsxs("div",{className:"col-lg-2 d-flex align-items-center gap-2",children:[T.jsx(Me,{readOnly:b,value:w[2],onChange:G(C)})," %"]}),T.jsxs("div",{className:"col-lg-2 d-flex align-items-center gap-2",children:[T.jsx(Zt,{title:"Удалить",icon:Wi,className:b?"text-secondary cursor-pointer user-select-none":"text-danger cursor-pointer user-select-none",onClick:b?void 0:D(C)}),T.jsx(Zt,{title:"Переместить вверх",icon:b0,className:b||C===0?"text-secondary cursor-pointer user-select-none":"text-dark cursor-pointer user-select-none",onClick:b?void 0:j(C)}),T.jsx(Zt,{title:"Переместить вниз",icon:y0,className:b||C===g.length-1?"text-secondary cursor-pointer user-select-none":"text-dark cursor-pointer user-select-none",onClick:b?void 0:O(C)})]})]},C)),!!g.length&&T.jsxs("div",{children:[T.jsx("hr",{}),T.jsxs("div",{className:"row",children:[T.jsx("div",{className:"col-lg-2"}),T.jsx("div",{className:"col-lg-6"}),T.jsxs("div",{className:"col-lg-2",children:[Number(b1(g.map(w=>w[2])).toFixed(4))," %"]}),T.jsx("div",{className:"col-lg-2"})]})]})]})})})]}),T.jsxs(Gr,{children:[!b&&T.jsx(zt,{color:"primary",onClick:m,children:(i==null?void 0:i.type)==="edit"?"Изменить":"Добавить"}),T.jsx(zt,{color:"secondary",onClick:n,children:"Отмена"})]})]})},P$=e=>e.map(t=>`${t.id}_DROPTABLE <- registerDropTable("${t.id}", DropTableSingle([
  ${t.entries.map(r=>`[${r[0]==0?`"${r[1]=="NOTHING"?"":r[1]}"`:`${r[1]}_DROPTABLE`}, ${r[2]*10}]`).join(`,
  `)}
]))`).join(`

`),_$=({rowData:e})=>{const{isOpen:t,toggle:r}=$r(`${yi}:code`),n=P$(e),i=U.useCallback(()=>{navigator.clipboard.writeText(n),kt("Скопировано!")},[n]);return T.jsxs(Ur,{isOpen:t,toggle:r,size:"lg",children:[T.jsx(Br,{toggle:r,children:"Код"}),T.jsx(Hr,{children:T.jsxs(fe,{children:[T.jsx(he,{for:"squirrel",children:"Squirrel"}),T.jsx(Sr,{id:"squirrel",className:"mb-2",value:n,readOnly:!0,style:{minHeight:300}}),T.jsx(mt,{color:"primary",icon:mr,onClick:i,children:"Скопировать"})]})}),T.jsx(Gr,{children:T.jsx(zt,{color:"secondary",onClick:r,children:"Закрыть"})})]})},yi="droptables",M$=Ol(yi),k$=Dl(yi),F$=Il(yi),A$=e=>e.data.id,O$=[{headerName:"",field:"drag",rowDrag:!0,width:50,cellClass:"px-3",suppressMovable:!0},{headerName:"Код",field:"id",sortable:!0,filter:!0,resizable:!0},{headerName:"Название",field:"name",width:300,sortable:!0,resizable:!0},{headerName:"",field:"dummy",flex:1,suppressMovable:!0},{headerName:"Действия",field:"actions",equals:(e,t)=>e!=t,width:140,suppressMovable:!0,cellRenderer:M$,cellRendererParams:{isEditorMode:!0}}],D$=()=>{const[e,t]=U.useState(""),[r,n]=U.useState(JSON.parse(localStorage.getItem(yi)||"[]")),{openModal:i}=lo(),s=U.useCallback(()=>{r.length>0&&localStorage.setItem(yi,JSON.stringify(r))},[r]);Fl(s);const o=h=>{t(h.target.value)},a=()=>{i(`${yi}:edit`,{type:"add"})},l=()=>{i(`${yi}:remove-all`)},c=h=>{n(h.api.rowModel.rowsToDisplay.map(g=>g.data))},u=()=>{const h="Таблицы дропа "+new Date().toISOString().replace("T"," ").replace("Z","").replace(/:/g,"-").replace(/\.\d\d\d/,"")+".json";kl(h,JSON.stringify(r))},f=h=>{const g=ri(Xt("id"),r),v=ri(Xt("id"),JSON.parse(h)),p=_l({...g,...v});localStorage.setItem(yi,JSON.stringify(p)),n(p)},d=()=>{i(`${yi}:code`)};return ju(),T.jsxs(sa,{children:[T.jsx("div",{className:"h-100 d-flex flex-column",children:T.jsxs("div",{className:"flex-grow-1 d-flex flex-column",children:[T.jsxs("div",{className:"d-flex flex-wrap align-items-center mb-3 gap-2",children:[T.jsx(wt,{onChange:o,placeholder:"Найти",className:"w-auto"}),T.jsx(mt,{className:"flex-shrink-0",color:"success",onClick:a,icon:ms,children:"Добавить"}),T.jsx(mt,{disabled:!r.length,className:"flex-shrink-0",color:"danger",onClick:l,icon:Wi,children:"Удалить все"}),T.jsx(ia,{accept:"application/json",className:"flex-shrink-0",color:"primary",onFileUpload:f,icon:ta,children:"Импортировать"}),T.jsx(mt,{disabled:!r.length,className:"flex-shrink-0",color:"primary",onClick:u,icon:Pl,children:"Экспортировать"}),T.jsx(mt,{disabled:!r.length,className:"flex-shrink-0",color:"primary",onClick:d,icon:ra,children:"Код для вставки"})]}),T.jsx("div",{className:"flex-grow-1",children:T.jsx(Gl,{columnDefs:O$,rowData:r,quickFilterText:e,onRowDragMove:c,overlayNoRowsTemplate:"Список элементов пуст",getRowId:A$,localeText:Ml,rowDragManaged:!0,animateRows:!0})})]})}),T.jsx(T$,{rowData:r,setRowData:n}),T.jsx(k$,{setRowData:n}),T.jsx(F$,{rowData:r,setRowData:n}),T.jsx(_$,{rowData:r})]})},I$=/(?:pB)?([A-z0-9-]+.TGA)/gi,N$=()=>{const[e,t]=U.useState([]),r=n=>{const i=[...n.matchAll(I$)];console.log(i),t(i.map(s=>s[1]))};return T.jsx(sa,{children:T.jsx("div",{className:"h-100 d-flex flex-column",children:T.jsxs("div",{className:"flex-grow-1 d-flex flex-column",children:[T.jsx("div",{className:"d-flex flex-wrap align-items-center mb-3 gap-2",children:T.jsx(ia,{accept:".3ds,.asc,.mrm",className:"flex-shrink-0",color:"primary",onFileUpload:r,icon:ta,children:"Импортировать модель"})}),T.jsx("div",{className:"flex-grow-1",children:e.map(n=>T.jsx("p",{children:n},n))})]})})})},L$=e=>{const{theme:t}=Q0();return T.jsx(fD,{...e,theme:t})},j$=vT([{path:"/",element:T.jsx(OW,{})},{path:"/items-next",element:T.jsx(YW,{})},{path:"/effects",element:T.jsx(i$,{})},{path:"/spells",element:T.jsx(g$,{})},{path:"/mobs",element:T.jsx(E$,{})},{path:"/droptables",element:T.jsx(D$,{})},{path:"/model-textures",element:T.jsx(N$,{})}]);Wp.createRoot(document.getElementById("root")).render(T.jsx(OD,{children:T.jsxs(RT,{children:[T.jsx(L$,{}),T.jsx(lT,{router:j$})]})}));
